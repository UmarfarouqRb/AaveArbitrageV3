import{j as e,r as o}from"./index.DdH5x3BZ.js";const g=({status:r})=>{const s=r==="Online"?"green":r==="Connecting..."||r==="Error"?"gray":"red";return e.jsx("div",{className:"arbitrage-bot-controller-centered",children:e.jsxs("div",{className:"bot-container",style:{textAlign:"center"},children:[e.jsx("div",{className:"controller-header",children:e.jsx("h3",{children:"Automated Arbitrage Bot"})}),e.jsxs("div",{className:"status-section",children:[e.jsx("p",{children:"The automated arbitrage bot runs 24/7 on our secure backend server."}),e.jsx("p",{children:"You do not need to start, stop, or configure anything here."})]}),e.jsx("div",{className:"status-indicator",children:e.jsxs("h4",{children:["Backend Server Status:",e.jsx("span",{style:{color:s,marginLeft:"10px"},children:r})]})}),e.jsx("div",{className:"log-info",children:e.jsx("p",{children:"All trading activity and profit reports are logged in real-time below."})})]})})},j=({logs:r})=>{const s=o.useRef(null);return o.useEffect(()=>{s.current?.scrollIntoView({behavior:"smooth"})},[r]),e.jsxs("div",{className:"bot-logs-container",children:[e.jsx("h4",{className:"logs-header",children:"Live Bot Logs"}),e.jsxs("div",{className:"logs-content",children:[r.map((i,n)=>e.jsxs("div",{className:"log-entry",children:[e.jsxs("span",{className:"log-timestamp",children:[new Date().toLocaleTimeString(),":"]}),e.jsx("span",{className:"log-message",children:i})]},n)),e.jsx("div",{ref:s})]})]})},m=({trades:r})=>e.jsxs("div",{className:"trade-history-container",children:[e.jsx("h2",{children:"Trade History"}),r.length>0?e.jsx("ul",{className:"trade-list",children:r.map((s,i)=>e.jsxs("li",{className:"trade-item",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Profit:"})," ",s.profit]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Route:"})," ",s.route]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Transaction:"})," ",e.jsx("a",{href:s.transactionUrl,target:"_blank",rel:"noopener noreferrer",children:"View on Basescan"})]}),s.input&&e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Input Data:"}),e.jsx("pre",{className:"input-data",children:s.input})]})]},i))}):e.jsx("p",{children:"No trades recorded yet."})]}),p=()=>{const[r,s]=o.useState("Connecting..."),[i,n]=o.useState([]),[d,h]=o.useState([]);return o.useEffect(()=>{const x=`ws://${window.location.host}`,c=new WebSocket(x);return c.onopen=()=>{s("Online"),n(t=>[...t,"Connected to bot server."])},c.onmessage=t=>{const a=JSON.parse(t.data);switch(a.type){case"status":s(a.data.isOnline?"Online":"Offline");break;case"log":n(l=>[...l,a.data]);break;case"trade":h(l=>[a.data,...l]);break}},c.onclose=()=>{s("Offline"),n(t=>[...t,"Disconnected from bot server."])},c.onerror=t=>{s("Error"),n(a=>[...a,`WebSocket Error: ${t.message}`])},()=>{c.close()}},[]),e.jsxs("div",{className:"arbitrage-bot-container",children:[e.jsxs("div",{className:"controller-header",children:[e.jsx("h3",{children:"Arbitrage Bot"}),e.jsx("p",{className:"page-description",children:"Live status and activity of the automated arbitrage bot."})]}),e.jsx(g,{status:r}),e.jsx(j,{logs:i}),e.jsx(m,{trades:d})]})};export{p as default};
