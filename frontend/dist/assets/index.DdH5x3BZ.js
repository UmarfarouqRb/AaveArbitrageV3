function vfe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ja(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZK(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var RE={exports:{}},Wy={};var jD;function xfe(){if(jD)return Wy;jD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Wy.Fragment=e,Wy.jsx=n,Wy.jsxs=n,Wy}var DD;function Efe(){return DD||(DD=1,RE.exports=xfe()),RE.exports}var p=Efe(),ME={exports:{}};function _fe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JK={exports:{}},oi=JK.exports={},Wc,Hc;function LS(){throw new Error("setTimeout has not been defined")}function FS(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Wc=setTimeout:Wc=LS}catch{Wc=LS}try{typeof clearTimeout=="function"?Hc=clearTimeout:Hc=FS}catch{Hc=FS}})();function XK(t){if(Wc===setTimeout)return setTimeout(t,0);if((Wc===LS||!Wc)&&setTimeout)return Wc=setTimeout,setTimeout(t,0);try{return Wc(t,0)}catch{try{return Wc.call(null,t,0)}catch{return Wc.call(this,t,0)}}}function Afe(t){if(Hc===clearTimeout)return clearTimeout(t);if((Hc===FS||!Hc)&&clearTimeout)return Hc=clearTimeout,clearTimeout(t);try{return Hc(t)}catch{try{return Hc.call(null,t)}catch{return Hc.call(this,t)}}}var ad=[],pg=!1,p0,e5=-1;function Cfe(){!pg||!p0||(pg=!1,p0.length?ad=p0.concat(ad):e5=-1,ad.length&&QK())}function QK(){if(!pg){var t=XK(Cfe);pg=!0;for(var e=ad.length;e;){for(p0=ad,ad=[];++e5<e;)p0&&p0[e5].run();e5=-1,e=ad.length}p0=null,pg=!1,Afe(t)}}oi.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ad.push(new eY(t,e)),ad.length===1&&!pg&&XK(QK)};function eY(t,e){this.fun=t,this.array=e}eY.prototype.run=function(){this.fun.apply(null,this.array)};oi.title="browser";oi.browser=!0;oi.env={};oi.argv=[];oi.version="";oi.versions={};function Nd(){}oi.on=Nd;oi.addListener=Nd;oi.once=Nd;oi.off=Nd;oi.removeListener=Nd;oi.removeAllListeners=Nd;oi.emit=Nd;oi.prependListener=Nd;oi.prependOnceListener=Nd;oi.listeners=function(t){return[]};oi.binding=function(t){throw new Error("process.binding is not supported")};oi.cwd=function(){return"/"};oi.chdir=function(t){throw new Error("process.chdir is not supported")};oi.umask=function(){return 0};var Sfe=JK.exports;const Er=_fe(Sfe);var rn={},BD;function kfe(){if(BD)return rn;BD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function m(V){return V===null||typeof V!="object"?null:(V=g&&V[g]||V["@@iterator"],typeof V=="function"?V:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function E(V,M,Q){this.props=V,this.context=M,this.refs=x,this.updater=Q||b}E.prototype.isReactComponent={},E.prototype.setState=function(V,M){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,M,"setState")},E.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function I(){}I.prototype=E.prototype;function C(V,M,Q){this.props=V,this.context=M,this.refs=x,this.updater=Q||b}var N=C.prototype=new I;N.constructor=C,w(N,E.prototype),N.isPureReactComponent=!0;var A=Array.isArray;function T(){}var O={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function U(V,M,Q){var ne=Q.ref;return{$$typeof:t,type:V,key:M,ref:ne!==void 0?ne:null,props:Q}}function L(V,M){return U(V.type,M,V.props)}function G(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function R(V){var M={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Q){return M[Q]})}var F=/\/+/g;function _(V,M){return typeof V=="object"&&V!==null&&V.key!=null?R(""+V.key):M.toString(36)}function S(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(T,T):(V.status="pending",V.then(function(M){V.status==="pending"&&(V.status="fulfilled",V.value=M)},function(M){V.status==="pending"&&(V.status="rejected",V.reason=M)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,M,Q,ne,K){var se=typeof V;(se==="undefined"||se==="boolean")&&(V=null);var le=!1;if(V===null)le=!0;else switch(se){case"bigint":case"string":case"number":le=!0;break;case"object":switch(V.$$typeof){case t:case e:le=!0;break;case d:return le=V._init,$(le(V._payload),M,Q,ne,K)}}if(le)return K=K(V),le=ne===""?"."+_(V,0):ne,A(K)?(Q="",le!=null&&(Q=le.replace(F,"$&/")+"/"),$(K,M,Q,"",function(Ce){return Ce})):K!=null&&(G(K)&&(K=L(K,Q+(K.key==null||V&&V.key===K.key?"":(""+K.key).replace(F,"$&/")+"/")+le)),M.push(K)),1;le=0;var de=ne===""?".":ne+":";if(A(V))for(var he=0;he<V.length;he++)ne=V[he],se=de+_(ne,he),le+=$(ne,M,Q,se,K);else if(he=m(V),typeof he=="function")for(V=he.call(V),he=0;!(ne=V.next()).done;)ne=ne.value,se=de+_(ne,he++),le+=$(ne,M,Q,se,K);else if(se==="object"){if(typeof V.then=="function")return $(S(V),M,Q,ne,K);throw M=String(V),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return le}function D(V,M,Q){if(V==null)return V;var ne=[],K=0;return $(V,ne,"","",function(se){return M.call(Q,se,K++)}),ne}function z(V){if(V._status===-1){var M=V._result;M=M(),M.then(function(Q){(V._status===0||V._status===-1)&&(V._status=1,V._result=Q)},function(Q){(V._status===0||V._status===-1)&&(V._status=2,V._result=Q)}),V._status===-1&&(V._status=0,V._result=M)}if(V._status===1)return V._result.default;throw V._result}var Y=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(M))return}else if(typeof Er=="object"&&typeof Er.emit=="function"){Er.emit("uncaughtException",V);return}console.error(V)},J={map:D,forEach:function(V,M,Q){D(V,function(){M.apply(this,arguments)},Q)},count:function(V){var M=0;return D(V,function(){M++}),M},toArray:function(V){return D(V,function(M){return M})||[]},only:function(V){if(!G(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return rn.Activity=h,rn.Children=J,rn.Component=E,rn.Fragment=n,rn.Profiler=i,rn.PureComponent=C,rn.StrictMode=r,rn.Suspense=l,rn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,rn.__COMPILER_RUNTIME={__proto__:null,c:function(V){return O.H.useMemoCache(V)}},rn.cache=function(V){return function(){return V.apply(null,arguments)}},rn.cacheSignal=function(){return null},rn.cloneElement=function(V,M,Q){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ne=w({},V.props),K=V.key;if(M!=null)for(se in M.key!==void 0&&(K=""+M.key),M)!H.call(M,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&M.ref===void 0||(ne[se]=M[se]);var se=arguments.length-2;if(se===1)ne.children=Q;else if(1<se){for(var le=Array(se),de=0;de<se;de++)le[de]=arguments[de+2];ne.children=le}return U(V.type,K,ne)},rn.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},rn.createElement=function(V,M,Q){var ne,K={},se=null;if(M!=null)for(ne in M.key!==void 0&&(se=""+M.key),M)H.call(M,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(K[ne]=M[ne]);var le=arguments.length-2;if(le===1)K.children=Q;else if(1<le){for(var de=Array(le),he=0;he<le;he++)de[he]=arguments[he+2];K.children=de}if(V&&V.defaultProps)for(ne in le=V.defaultProps,le)K[ne]===void 0&&(K[ne]=le[ne]);return U(V,se,K)},rn.createRef=function(){return{current:null}},rn.forwardRef=function(V){return{$$typeof:o,render:V}},rn.isValidElement=G,rn.lazy=function(V){return{$$typeof:d,_payload:{_status:-1,_result:V},_init:z}},rn.memo=function(V,M){return{$$typeof:u,type:V,compare:M===void 0?null:M}},rn.startTransition=function(V){var M=O.T,Q={};O.T=Q;try{var ne=V(),K=O.S;K!==null&&K(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(T,Y)}catch(se){Y(se)}finally{M!==null&&Q.types!==null&&(M.types=Q.types),O.T=M}},rn.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},rn.use=function(V){return O.H.use(V)},rn.useActionState=function(V,M,Q){return O.H.useActionState(V,M,Q)},rn.useCallback=function(V,M){return O.H.useCallback(V,M)},rn.useContext=function(V){return O.H.useContext(V)},rn.useDebugValue=function(){},rn.useDeferredValue=function(V,M){return O.H.useDeferredValue(V,M)},rn.useEffect=function(V,M){return O.H.useEffect(V,M)},rn.useEffectEvent=function(V){return O.H.useEffectEvent(V)},rn.useId=function(){return O.H.useId()},rn.useImperativeHandle=function(V,M,Q){return O.H.useImperativeHandle(V,M,Q)},rn.useInsertionEffect=function(V,M){return O.H.useInsertionEffect(V,M)},rn.useLayoutEffect=function(V,M){return O.H.useLayoutEffect(V,M)},rn.useMemo=function(V,M){return O.H.useMemo(V,M)},rn.useOptimistic=function(V,M){return O.H.useOptimistic(V,M)},rn.useReducer=function(V,M,Q){return O.H.useReducer(V,M,Q)},rn.useRef=function(V){return O.H.useRef(V)},rn.useState=function(V){return O.H.useState(V)},rn.useSyncExternalStore=function(V,M,Q){return O.H.useSyncExternalStore(V,M,Q)},rn.useTransition=function(){return O.H.useTransition()},rn.version="19.2.0",rn}var UD;function Ow(){return UD||(UD=1,ME.exports=kfe()),ME.exports}var k=Ow();const at=ja(k),zS=vfe({__proto__:null,default:at},[k]);var jE={exports:{}},Hy={},DE={exports:{}},BE={};var LD;function Ife(){return LD||(LD=1,(function(t){function e($,D){var z=$.length;$.push(D);e:for(;0<z;){var Y=z-1>>>1,J=$[Y];if(0<i(J,D))$[Y]=D,$[z]=J,z=Y;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var D=$[0],z=$.pop();if(z!==D){$[0]=z;e:for(var Y=0,J=$.length,V=J>>>1;Y<V;){var M=2*(Y+1)-1,Q=$[M],ne=M+1,K=$[ne];if(0>i(Q,z))ne<J&&0>i(K,Q)?($[Y]=K,$[ne]=z,Y=ne):($[Y]=Q,$[M]=z,Y=M);else if(ne<J&&0>i(K,z))$[Y]=K,$[ne]=z,Y=ne;else break e}}return D}function i($,D){var z=$.sortIndex-D.sortIndex;return z!==0?z:$.id-D.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,h=null,g=3,m=!1,b=!1,w=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function N($){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=$)r(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function A($){if(w=!1,N($),!b)if(n(l)!==null)b=!0,T||(T=!0,R());else{var D=n(u);D!==null&&S(A,D.startTime-$)}}var T=!1,O=-1,H=5,U=-1;function L(){return x?!0:!(t.unstable_now()-U<H)}function G(){if(x=!1,T){var $=t.unstable_now();U=$;var D=!0;try{e:{b=!1,w&&(w=!1,I(O),O=-1),m=!0;var z=g;try{t:{for(N($),h=n(l);h!==null&&!(h.expirationTime>$&&L());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,g=h.priorityLevel;var J=Y(h.expirationTime<=$);if($=t.unstable_now(),typeof J=="function"){h.callback=J,N($),D=!0;break t}h===n(l)&&r(l),N($)}else r(l);h=n(l)}if(h!==null)D=!0;else{var V=n(u);V!==null&&S(A,V.startTime-$),D=!1}}break e}finally{h=null,g=z,m=!1}D=void 0}}finally{D?R():T=!1}}}var R;if(typeof C=="function")R=function(){C(G)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,_=F.port2;F.port1.onmessage=G,R=function(){_.postMessage(null)}}else R=function(){E(G,0)};function S($,D){O=E(function(){$(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var z=g;g=D;try{return $()}finally{g=z}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function($,D){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var z=g;g=$;try{return D()}finally{g=z}},t.unstable_scheduleCallback=function($,D,z){var Y=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=z+J,$={id:d++,callback:D,priorityLevel:$,startTime:z,expirationTime:J,sortIndex:-1},z>Y?($.sortIndex=z,e(u,$),n(l)===null&&$===n(u)&&(w?(I(O),O=-1):w=!0,S(A,z-Y))):($.sortIndex=J,e(l,$),b||m||(b=!0,T||(T=!0,R()))),$},t.unstable_shouldYield=L,t.unstable_wrapCallback=function($){var D=g;return function(){var z=g;g=D;try{return $.apply(this,arguments)}finally{g=z}}}})(BE)),BE}var FD;function Tfe(){return FD||(FD=1,DE.exports=Ife()),DE.exports}var UE={exports:{}},va={};var zD;function $fe(){if(zD)return va;zD=1;var t=Ow();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return va.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,va.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,d)},va.flushSync=function(l){var u=s.T,d=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=u,r.p=d,r.d.f()}},va.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},va.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},va.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:m}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},va.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},va.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},va.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},va.requestFormReset=function(l){r.d.r(l)},va.unstable_batchedUpdates=function(l,u){return l(u)},va.useFormState=function(l,u,d){return s.H.useFormState(l,u,d)},va.useFormStatus=function(){return s.H.useHostTransitionStatus()},va.version="19.2.0",va}var WD;function tY(){if(WD)return UE.exports;WD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),UE.exports=$fe(),UE.exports}var HD;function Nfe(){if(HD)return Hy;HD=1;var t=Tfe(),e=Ow(),n=tY();function r(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var f=c,y=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(y=f.return),c=f.return;while(c)}return f.tag===3?y:null}function s(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function o(c){if(c.tag===31){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function l(c){if(a(c)!==c)throw Error(r(188))}function u(c){var f=c.alternate;if(!f){if(f=a(c),f===null)throw Error(r(188));return f!==c?null:c}for(var y=c,v=f;;){var P=y.return;if(P===null)break;var B=P.alternate;if(B===null){if(v=P.return,v!==null){y=v;continue}break}if(P.child===B.child){for(B=P.child;B;){if(B===y)return l(P),c;if(B===v)return l(P),f;B=B.sibling}throw Error(r(188))}if(y.return!==v.return)y=P,v=B;else{for(var te=!1,oe=P.child;oe;){if(oe===y){te=!0,y=P,v=B;break}if(oe===v){te=!0,v=P,y=B;break}oe=oe.sibling}if(!te){for(oe=B.child;oe;){if(oe===y){te=!0,y=B,v=P;break}if(oe===v){te=!0,v=B,y=P;break}oe=oe.sibling}if(!te)throw Error(r(189))}}if(y.alternate!==v)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?c:f}function d(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=d(c),f!==null)return f;c=c.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function R(c){return c===null||typeof c!="object"?null:(c=G&&c[G]||c["@@iterator"],typeof c=="function"?c:null)}var F=Symbol.for("react.client.reference");function _(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===F?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case w:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList";case U:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case C:return c.displayName||"Context";case I:return(c._context.displayName||"Context")+".Consumer";case N:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case O:return f=c.displayName||null,f!==null?f:_(c.type)||"Memo";case H:f=c._payload,c=c._init;try{return _(c(f))}catch{}}return null}var S=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},Y=[],J=-1;function V(c){return{current:c}}function M(c){0>J||(c.current=Y[J],Y[J]=null,J--)}function Q(c,f){J++,Y[J]=c.current,c.current=f}var ne=V(null),K=V(null),se=V(null),le=V(null);function de(c,f){switch(Q(se,f),Q(K,c),Q(ne,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?aD(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=aD(f),c=sD(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}M(ne),Q(ne,c)}function he(){M(ne),M(K),M(se)}function Ce(c){c.memoizedState!==null&&Q(le,c);var f=ne.current,y=sD(f,c.type);f!==y&&(Q(K,c),Q(ne,y))}function ke(c){K.current===c&&(M(ne),M(K)),le.current===c&&(M(le),Uy._currentValue=z)}var Ie,De;function Ne(c){if(Ie===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);Ie=f&&f[1]||"",De=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ie+c+De}var We=!1;function tt(c,f){if(!c||We)return"";We=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(f){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Re){var Pe=Re}Reflect.construct(c,[],He)}else{try{He.call()}catch(Re){Pe=Re}c.call(He.prototype)}}else{try{throw Error()}catch(Re){Pe=Re}(He=c())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Re){if(Re&&Pe&&typeof Re.stack=="string")return[Re.stack,Pe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=v.DetermineComponentFrameRoot(),te=B[0],oe=B[1];if(te&&oe){var be=te.split(`
`),$e=oe.split(`
`);for(P=v=0;v<be.length&&!be[v].includes("DetermineComponentFrameRoot");)v++;for(;P<$e.length&&!$e[P].includes("DetermineComponentFrameRoot");)P++;if(v===be.length||P===$e.length)for(v=be.length-1,P=$e.length-1;1<=v&&0<=P&&be[v]!==$e[P];)P--;for(;1<=v&&0<=P;v--,P--)if(be[v]!==$e[P]){if(v!==1||P!==1)do if(v--,P--,0>P||be[v]!==$e[P]){var Fe=`
`+be[v].replace(" at new "," at ");return c.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",c.displayName)),Fe}while(1<=v&&0<=P);break}}}finally{We=!1,Error.prepareStackTrace=y}return(y=c?c.displayName||c.name:"")?Ne(y):""}function Ee(c,f){switch(c.tag){case 26:case 27:case 5:return Ne(c.type);case 16:return Ne("Lazy");case 13:return c.child!==f&&f!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return tt(c.type,!1);case 11:return tt(c.type.render,!1);case 1:return tt(c.type,!0);case 31:return Ne("Activity");default:return""}}function Ze(c){try{var f="",y=null;do f+=Ee(c,y),y=c,c=c.return;while(c);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var xt=Object.prototype.hasOwnProperty,Ue=t.unstable_scheduleCallback,Ge=t.unstable_cancelCallback,rt=t.unstable_shouldYield,pt=t.unstable_requestPaint,qe=t.unstable_now,ht=t.unstable_getCurrentPriorityLevel,Ot=t.unstable_ImmediatePriority,Ct=t.unstable_UserBlockingPriority,gt=t.unstable_NormalPriority,yt=t.unstable_LowPriority,re=t.unstable_IdlePriority,Z=t.log,X=t.unstable_setDisableYieldValue,ae=null,ge=null;function xe(c){if(typeof Z=="function"&&X(c),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(ae,c)}catch{}}var ve=Math.clz32?Math.clz32:mt,nt=Math.log,Ke=Math.LN2;function mt(c){return c>>>=0,c===0?32:31-(nt(c)/Ke|0)|0}var Mt=256,Ye=262144,jt=4194304;function Xt(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function it(c,f,y){var v=c.pendingLanes;if(v===0)return 0;var P=0,B=c.suspendedLanes,te=c.pingedLanes;c=c.warmLanes;var oe=v&134217727;return oe!==0?(v=oe&~B,v!==0?P=Xt(v):(te&=oe,te!==0?P=Xt(te):y||(y=oe&~c,y!==0&&(P=Xt(y))))):(oe=v&~B,oe!==0?P=Xt(oe):te!==0?P=Xt(te):y||(y=v&~c,y!==0&&(P=Xt(y)))),P===0?0:f!==0&&f!==P&&(f&B)===0&&(B=P&-P,y=f&-f,B>=y||B===32&&(y&4194048)!==0)?f:P}function Zt(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function ir(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tn(){var c=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),c}function W(c){for(var f=[],y=0;31>y;y++)f.push(c);return f}function j(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function q(c,f,y,v,P,B){var te=c.pendingLanes;c.pendingLanes=y,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=y,c.entangledLanes&=y,c.errorRecoveryDisabledLanes&=y,c.shellSuspendCounter=0;var oe=c.entanglements,be=c.expirationTimes,$e=c.hiddenUpdates;for(y=te&~y;0<y;){var Fe=31-ve(y),He=1<<Fe;oe[Fe]=0,be[Fe]=-1;var Pe=$e[Fe];if(Pe!==null)for($e[Fe]=null,Fe=0;Fe<Pe.length;Fe++){var Re=Pe[Fe];Re!==null&&(Re.lane&=-536870913)}y&=~He}v!==0&&ee(c,v,0),B!==0&&P===0&&c.tag!==0&&(c.suspendedLanes|=B&~(te&~f))}function ee(c,f,y){c.pendingLanes|=f,c.suspendedLanes&=~f;var v=31-ve(f);c.entangledLanes|=f,c.entanglements[v]=c.entanglements[v]|1073741824|y&261930}function ie(c,f){var y=c.entangledLanes|=f;for(c=c.entanglements;y;){var v=31-ve(y),P=1<<v;P&f|c[v]&f&&(c[v]|=f),y&=~P}}function ce(c,f){var y=f&-f;return y=(y&42)!==0?1:pe(y),(y&(c.suspendedLanes|f))!==0?0:y}function pe(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function je(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function ot(){var c=D.p;return c!==0?c:(c=window.event,c===void 0?32:TD(c.type))}function st(c,f){var y=D.p;try{return D.p=c,f()}finally{D.p=y}}var At=Math.random().toString(36).slice(2),Je="__reactFiber$"+At,It="__reactProps$"+At,St="__reactContainer$"+At,Wt="__reactEvents$"+At,Ht="__reactListeners$"+At,Xn="__reactHandles$"+At,ar="__reactResources$"+At,qn="__reactMarker$"+At;function mn(c){delete c[Je],delete c[It],delete c[Wt],delete c[Ht],delete c[Xn]}function Vn(c){var f=c[Je];if(f)return f;for(var y=c.parentNode;y;){if(f=y[St]||y[Je]){if(y=f.alternate,f.child!==null||y!==null&&y.child!==null)for(c=hD(c);c!==null;){if(y=c[Je])return y;c=hD(c)}return f}c=y,y=c.parentNode}return null}function wr(c){if(c=c[Je]||c[St]){var f=c.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return c}return null}function wa(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(r(33))}function Ba(c){var f=c[ar];return f||(f=c[ar]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function zt(c){c[qn]=!0}var Gn=new Set,nn={};function Mn(c,f){Lr(c,f),Lr(c+"Capture",f)}function Lr(c,f){for(nn[c]=f,c=0;c<f.length;c++)Gn.add(f[c])}var Bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ua={},gc={};function yu(c){return xt.call(gc,c)?!0:xt.call(Ua,c)?!1:Bs.test(c)?gc[c]=!0:(Ua[c]=!0,!1)}function mc(c,f,y){if(yu(f))if(y===null)c.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var v=f.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+y)}}function yc(c,f,y){if(y===null)c.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+y)}}function _l(c,f,y,v){if(v===null)c.removeAttribute(y);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(y);return}c.setAttributeNS(f,y,""+v)}}function ts(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function jv(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function O9(c,f,y){var v=Object.getOwnPropertyDescriptor(c.constructor.prototype,f);if(!c.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var P=v.get,B=v.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return P.call(this)},set:function(te){y=""+te,B.call(this,te)}}),Object.defineProperty(c,f,{enumerable:v.enumerable}),{getValue:function(){return y},setValue:function(te){y=""+te},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function Jm(c){if(!c._valueTracker){var f=jv(c)?"checked":"value";c._valueTracker=O9(c,f,""+c[f])}}function Dv(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var y=f.getValue(),v="";return c&&(v=jv(c)?c.checked?"true":"false":c.value),c=v,c!==y?(f.setValue(c),!0):!1}function Tp(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var R9=/[\n"\\]/g;function ns(c){return c.replace(R9,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Xm(c,f,y,v,P,B,te,oe){c.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?c.type=te:c.removeAttribute("type"),f!=null?te==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+ts(f)):c.value!==""+ts(f)&&(c.value=""+ts(f)):te!=="submit"&&te!=="reset"||c.removeAttribute("value"),f!=null?Qm(c,te,ts(f)):y!=null?Qm(c,te,ts(y)):v!=null&&c.removeAttribute("value"),P==null&&B!=null&&(c.defaultChecked=!!B),P!=null&&(c.checked=P&&typeof P!="function"&&typeof P!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?c.name=""+ts(oe):c.removeAttribute("name")}function Bv(c,f,y,v,P,B,te,oe){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(c.type=B),f!=null||y!=null){if(!(B!=="submit"&&B!=="reset"||f!=null)){Jm(c);return}y=y!=null?""+ts(y):"",f=f!=null?""+ts(f):y,oe||f===c.value||(c.value=f),c.defaultValue=f}v=v??P,v=typeof v!="function"&&typeof v!="symbol"&&!!v,c.checked=oe?c.checked:!!v,c.defaultChecked=!!v,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(c.name=te),Jm(c)}function Qm(c,f,y){f==="number"&&Tp(c.ownerDocument)===c||c.defaultValue===""+y||(c.defaultValue=""+y)}function Bd(c,f,y,v){if(c=c.options,f){f={};for(var P=0;P<y.length;P++)f["$"+y[P]]=!0;for(y=0;y<c.length;y++)P=f.hasOwnProperty("$"+c[y].value),c[y].selected!==P&&(c[y].selected=P),P&&v&&(c[y].defaultSelected=!0)}else{for(y=""+ts(y),f=null,P=0;P<c.length;P++){if(c[P].value===y){c[P].selected=!0,v&&(c[P].defaultSelected=!0);return}f!==null||c[P].disabled||(f=c[P])}f!==null&&(f.selected=!0)}}function Uv(c,f,y){if(f!=null&&(f=""+ts(f),f!==c.value&&(c.value=f),y==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=y!=null?""+ts(y):""}function Lv(c,f,y,v){if(f==null){if(v!=null){if(y!=null)throw Error(r(92));if(S(v)){if(1<v.length)throw Error(r(93));v=v[0]}y=v}y==null&&(y=""),f=y}y=ts(f),c.defaultValue=y,v=c.textContent,v===y&&v!==""&&v!==null&&(c.value=v),Jm(c)}function Ud(c,f){if(f){var y=c.firstChild;if(y&&y===c.lastChild&&y.nodeType===3){y.nodeValue=f;return}}c.textContent=f}var M9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fv(c,f,y){var v=f.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?v?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":v?c.setProperty(f,y):typeof y!="number"||y===0||M9.has(f)?f==="float"?c.cssFloat=y:c[f]=(""+y).trim():c[f]=y+"px"}function zv(c,f,y){if(f!=null&&typeof f!="object")throw Error(r(62));if(c=c.style,y!=null){for(var v in y)!y.hasOwnProperty(v)||f!=null&&f.hasOwnProperty(v)||(v.indexOf("--")===0?c.setProperty(v,""):v==="float"?c.cssFloat="":c[v]="");for(var P in f)v=f[P],f.hasOwnProperty(P)&&y[P]!==v&&Fv(c,P,v)}else for(var B in f)f.hasOwnProperty(B)&&Fv(c,B,f[B])}function ey(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),D9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $p(c){return D9.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Al(){}var ty=null;function ny(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ld=null,Fd=null;function Wv(c){var f=wr(c);if(f&&(c=f.stateNode)){var y=c[It]||null;e:switch(c=f.stateNode,f.type){case"input":if(Xm(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),f=y.name,y.type==="radio"&&f!=null){for(y=c;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+ns(""+f)+'"][type="radio"]'),f=0;f<y.length;f++){var v=y[f];if(v!==c&&v.form===c.form){var P=v[It]||null;if(!P)throw Error(r(90));Xm(v,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(f=0;f<y.length;f++)v=y[f],v.form===c.form&&Dv(v)}break e;case"textarea":Uv(c,y.value,y.defaultValue);break e;case"select":f=y.value,f!=null&&Bd(c,!!y.multiple,f,!1)}}}var ry=!1;function Hv(c,f,y){if(ry)return c(f,y);ry=!0;try{var v=c(f);return v}finally{if(ry=!1,(Ld!==null||Fd!==null)&&(I3(),Ld&&(f=Ld,c=Fd,Fd=Ld=null,Wv(f),c)))for(f=0;f<c.length;f++)Wv(c[f])}}function Th(c,f){var y=c.stateNode;if(y===null)return null;var v=y[It]||null;if(v===null)return null;y=v[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(y&&typeof y!="function")throw Error(r(231,f,typeof y));return y}var Eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iy=!1;if(Eo)try{var Se={};Object.defineProperty(Se,"passive",{get:function(){iy=!0}}),window.addEventListener("test",Se,Se),window.removeEventListener("test",Se,Se)}catch{iy=!1}var fe=null,we=null,Be=null;function et(){if(Be)return Be;var c,f=we,y=f.length,v,P="value"in fe?fe.value:fe.textContent,B=P.length;for(c=0;c<y&&f[c]===P[c];c++);var te=y-c;for(v=1;v<=te&&f[y-v]===P[B-v];v++);return Be=P.slice(c,1<v?1-v:void 0)}function sn(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function _r(){return!0}function Yi(){return!1}function _i(c){function f(y,v,P,B,te){this._reactName=y,this._targetInst=P,this.type=v,this.nativeEvent=B,this.target=te,this.currentTarget=null;for(var oe in c)c.hasOwnProperty(oe)&&(y=c[oe],this[oe]=y?y(B):B[oe]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?_r:Yi,this.isPropagationStopped=Yi,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),f}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Np=_i(bu),zd=h({},bu,{view:0,detail:0}),qv=_i(zd),Pp,Op,ay,Vv=h({},zd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U9,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==ay&&(ay&&c.type==="mousemove"?(Pp=c.screenX-ay.screenX,Op=c.screenY-ay.screenY):Op=Pp=0,ay=c),Pp)},movementY:function(c){return"movementY"in c?c.movementY:Op}}),lR=_i(Vv),wue=h({},Vv,{dataTransfer:0}),vue=_i(wue),xue=h({},zd,{relatedTarget:0}),B9=_i(xue),Eue=h({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),_ue=_i(Eue),Aue=h({},bu,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Cue=_i(Aue),Sue=h({},bu,{data:0}),cR=_i(Sue),kue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $ue(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=Tue[c])?!!f[c]:!1}function U9(){return $ue}var Nue=h({},zd,{key:function(c){if(c.key){var f=kue[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=sn(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Iue[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U9,charCode:function(c){return c.type==="keypress"?sn(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?sn(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Pue=_i(Nue),Oue=h({},Vv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uR=_i(Oue),Rue=h({},zd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U9}),Mue=_i(Rue),jue=h({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Due=_i(jue),Bue=h({},Vv,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Uue=_i(Bue),Lue=h({},bu,{newState:0,oldState:0}),Fue=_i(Lue),zue=[9,13,27,32],L9=Eo&&"CompositionEvent"in window,sy=null;Eo&&"documentMode"in document&&(sy=document.documentMode);var Wue=Eo&&"TextEvent"in window&&!sy,dR=Eo&&(!L9||sy&&8<sy&&11>=sy),fR=" ",hR=!1;function pR(c,f){switch(c){case"keyup":return zue.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gR(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Rp=!1;function Hue(c,f){switch(c){case"compositionend":return gR(f);case"keypress":return f.which!==32?null:(hR=!0,fR);case"textInput":return c=f.data,c===fR&&hR?null:c;default:return null}}function que(c,f){if(Rp)return c==="compositionend"||!L9&&pR(c,f)?(c=et(),Be=we=fe=null,Rp=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return dR&&f.locale!=="ko"?null:f.data;default:return null}}var Vue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mR(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!Vue[c.type]:f==="textarea"}function yR(c,f,y,v){Ld?Fd?Fd.push(v):Fd=[v]:Ld=v,f=M3(f,"onChange"),0<f.length&&(y=new Np("onChange","change",null,y,v),c.push({event:y,listeners:f}))}var oy=null,ly=null;function Gue(c){Qj(c,0)}function Gv(c){var f=wa(c);if(Dv(f))return c}function bR(c,f){if(c==="change")return f}var wR=!1;if(Eo){var F9;if(Eo){var z9="oninput"in document;if(!z9){var vR=document.createElement("div");vR.setAttribute("oninput","return;"),z9=typeof vR.oninput=="function"}F9=z9}else F9=!1;wR=F9&&(!document.documentMode||9<document.documentMode)}function xR(){oy&&(oy.detachEvent("onpropertychange",ER),ly=oy=null)}function ER(c){if(c.propertyName==="value"&&Gv(ly)){var f=[];yR(f,ly,c,ny(c)),Hv(Gue,f)}}function Kue(c,f,y){c==="focusin"?(xR(),oy=f,ly=y,oy.attachEvent("onpropertychange",ER)):c==="focusout"&&xR()}function Yue(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Gv(ly)}function Zue(c,f){if(c==="click")return Gv(f)}function Jue(c,f){if(c==="input"||c==="change")return Gv(f)}function Xue(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Us=typeof Object.is=="function"?Object.is:Xue;function cy(c,f){if(Us(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var y=Object.keys(c),v=Object.keys(f);if(y.length!==v.length)return!1;for(v=0;v<y.length;v++){var P=y[v];if(!xt.call(f,P)||!Us(c[P],f[P]))return!1}return!0}function _R(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function AR(c,f){var y=_R(c);c=0;for(var v;y;){if(y.nodeType===3){if(v=c+y.textContent.length,c<=f&&v>=f)return{node:y,offset:f-c};c=v}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=_R(y)}}function CR(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?CR(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function SR(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=Tp(c.document);f instanceof c.HTMLIFrameElement;){try{var y=typeof f.contentWindow.location.href=="string"}catch{y=!1}if(y)c=f.contentWindow;else break;f=Tp(c.document)}return f}function W9(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var Que=Eo&&"documentMode"in document&&11>=document.documentMode,Mp=null,H9=null,uy=null,q9=!1;function kR(c,f,y){var v=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;q9||Mp==null||Mp!==Tp(v)||(v=Mp,"selectionStart"in v&&W9(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),uy&&cy(uy,v)||(uy=v,v=M3(H9,"onSelect"),0<v.length&&(f=new Np("onSelect","select",null,f,y),c.push({event:f,listeners:v}),f.target=Mp)))}function $h(c,f){var y={};return y[c.toLowerCase()]=f.toLowerCase(),y["Webkit"+c]="webkit"+f,y["Moz"+c]="moz"+f,y}var jp={animationend:$h("Animation","AnimationEnd"),animationiteration:$h("Animation","AnimationIteration"),animationstart:$h("Animation","AnimationStart"),transitionrun:$h("Transition","TransitionRun"),transitionstart:$h("Transition","TransitionStart"),transitioncancel:$h("Transition","TransitionCancel"),transitionend:$h("Transition","TransitionEnd")},V9={},IR={};Eo&&(IR=document.createElement("div").style,"AnimationEvent"in window||(delete jp.animationend.animation,delete jp.animationiteration.animation,delete jp.animationstart.animation),"TransitionEvent"in window||delete jp.transitionend.transition);function Nh(c){if(V9[c])return V9[c];if(!jp[c])return c;var f=jp[c],y;for(y in f)if(f.hasOwnProperty(y)&&y in IR)return V9[c]=f[y];return c}var TR=Nh("animationend"),$R=Nh("animationiteration"),NR=Nh("animationstart"),ede=Nh("transitionrun"),tde=Nh("transitionstart"),nde=Nh("transitioncancel"),PR=Nh("transitionend"),OR=new Map,G9="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");G9.push("scrollEnd");function Cl(c,f){OR.set(c,f),Mn(f,[c])}var Kv=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof Er=="object"&&typeof Er.emit=="function"){Er.emit("uncaughtException",c);return}console.error(c)},_o=[],Dp=0,K9=0;function Yv(){for(var c=Dp,f=K9=Dp=0;f<c;){var y=_o[f];_o[f++]=null;var v=_o[f];_o[f++]=null;var P=_o[f];_o[f++]=null;var B=_o[f];if(_o[f++]=null,v!==null&&P!==null){var te=v.pending;te===null?P.next=P:(P.next=te.next,te.next=P),v.pending=P}B!==0&&RR(y,P,B)}}function Zv(c,f,y,v){_o[Dp++]=c,_o[Dp++]=f,_o[Dp++]=y,_o[Dp++]=v,K9|=v,c.lanes|=v,c=c.alternate,c!==null&&(c.lanes|=v)}function Y9(c,f,y,v){return Zv(c,f,y,v),Jv(c)}function Ph(c,f){return Zv(c,null,null,f),Jv(c)}function RR(c,f,y){c.lanes|=y;var v=c.alternate;v!==null&&(v.lanes|=y);for(var P=!1,B=c.return;B!==null;)B.childLanes|=y,v=B.alternate,v!==null&&(v.childLanes|=y),B.tag===22&&(c=B.stateNode,c===null||c._visibility&1||(P=!0)),c=B,B=B.return;return c.tag===3?(B=c.stateNode,P&&f!==null&&(P=31-ve(y),c=B.hiddenUpdates,v=c[P],v===null?c[P]=[f]:v.push(f),f.lane=y|536870912),B):null}function Jv(c){if(50<Py)throw Py=0,iE=null,Error(r(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var Bp={};function rde(c,f,y,v){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(c,f,y,v){return new rde(c,f,y,v)}function Z9(c){return c=c.prototype,!(!c||!c.isReactComponent)}function wu(c,f){var y=c.alternate;return y===null?(y=Ls(c.tag,f,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=f,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&65011712,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,f=c.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y.refCleanup=c.refCleanup,y}function MR(c,f){c.flags&=65011714;var y=c.alternate;return y===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=y.childLanes,c.lanes=y.lanes,c.child=y.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=y.memoizedProps,c.memoizedState=y.memoizedState,c.updateQueue=y.updateQueue,c.type=y.type,f=y.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function Xv(c,f,y,v,P,B){var te=0;if(v=c,typeof c=="function")Z9(c)&&(te=1);else if(typeof c=="string")te=lfe(c,y,ne.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case U:return c=Ls(31,y,f,P),c.elementType=U,c.lanes=B,c;case w:return Oh(y.children,P,B,f);case x:te=8,P|=24;break;case E:return c=Ls(12,y,f,P|2),c.elementType=E,c.lanes=B,c;case A:return c=Ls(13,y,f,P),c.elementType=A,c.lanes=B,c;case T:return c=Ls(19,y,f,P),c.elementType=T,c.lanes=B,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case C:te=10;break e;case I:te=9;break e;case N:te=11;break e;case O:te=14;break e;case H:te=16,v=null;break e}te=29,y=Error(r(130,c===null?"null":typeof c,"")),v=null}return f=Ls(te,y,f,P),f.elementType=c,f.type=v,f.lanes=B,f}function Oh(c,f,y,v){return c=Ls(7,c,v,f),c.lanes=y,c}function J9(c,f,y){return c=Ls(6,c,null,f),c.lanes=y,c}function jR(c){var f=Ls(18,null,null,0);return f.stateNode=c,f}function X9(c,f,y){return f=Ls(4,c.children!==null?c.children:[],c.key,f),f.lanes=y,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var DR=new WeakMap;function Ao(c,f){if(typeof c=="object"&&c!==null){var y=DR.get(c);return y!==void 0?y:(f={value:c,source:f,stack:Ze(f)},DR.set(c,f),f)}return{value:c,source:f,stack:Ze(f)}}var Up=[],Lp=0,Qv=null,dy=0,Co=[],So=0,Wd=null,bc=1,wc="";function vu(c,f){Up[Lp++]=dy,Up[Lp++]=Qv,Qv=c,dy=f}function BR(c,f,y){Co[So++]=bc,Co[So++]=wc,Co[So++]=Wd,Wd=c;var v=bc;c=wc;var P=32-ve(v)-1;v&=~(1<<P),y+=1;var B=32-ve(f)+P;if(30<B){var te=P-P%5;B=(v&(1<<te)-1).toString(32),v>>=te,P-=te,bc=1<<32-ve(f)+P|y<<P|v,wc=B+c}else bc=1<<B|y<<P|v,wc=c}function Q9(c){c.return!==null&&(vu(c,1),BR(c,1,0))}function e7(c){for(;c===Qv;)Qv=Up[--Lp],Up[Lp]=null,dy=Up[--Lp],Up[Lp]=null;for(;c===Wd;)Wd=Co[--So],Co[So]=null,wc=Co[--So],Co[So]=null,bc=Co[--So],Co[So]=null}function UR(c,f){Co[So++]=bc,Co[So++]=wc,Co[So++]=Wd,bc=f.id,wc=f.overflow,Wd=c}var Zi=null,Ar=null,In=!1,Hd=null,ko=!1,t7=Error(r(519));function qd(c){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fy(Ao(f,c)),t7}function LR(c){var f=c.stateNode,y=c.type,v=c.memoizedProps;switch(f[Je]=c,f[It]=v,y){case"dialog":vn("cancel",f),vn("close",f);break;case"iframe":case"object":case"embed":vn("load",f);break;case"video":case"audio":for(y=0;y<Ry.length;y++)vn(Ry[y],f);break;case"source":vn("error",f);break;case"img":case"image":case"link":vn("error",f),vn("load",f);break;case"details":vn("toggle",f);break;case"input":vn("invalid",f),Bv(f,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":vn("invalid",f);break;case"textarea":vn("invalid",f),Lv(f,v.value,v.defaultValue,v.children)}y=v.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||f.textContent===""+y||v.suppressHydrationWarning===!0||rD(f.textContent,y)?(v.popover!=null&&(vn("beforetoggle",f),vn("toggle",f)),v.onScroll!=null&&vn("scroll",f),v.onScrollEnd!=null&&vn("scrollend",f),v.onClick!=null&&(f.onclick=Al),f=!0):f=!1,f||qd(c,!0)}function FR(c){for(Zi=c.return;Zi;)switch(Zi.tag){case 5:case 31:case 13:ko=!1;return;case 27:case 3:ko=!0;return;default:Zi=Zi.return}}function Fp(c){if(c!==Zi)return!1;if(!In)return FR(c),In=!0,!1;var f=c.tag,y;if((y=f!==3&&f!==27)&&((y=f===5)&&(y=c.type,y=!(y!=="form"&&y!=="button")||wE(c.type,c.memoizedProps)),y=!y),y&&Ar&&qd(c),FR(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));Ar=fD(c)}else if(f===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));Ar=fD(c)}else f===27?(f=Ar,sf(c.type)?(c=AE,AE=null,Ar=c):Ar=f):Ar=Zi?To(c.stateNode.nextSibling):null;return!0}function Rh(){Ar=Zi=null,In=!1}function n7(){var c=Hd;return c!==null&&(ss===null?ss=c:ss.push.apply(ss,c),Hd=null),c}function fy(c){Hd===null?Hd=[c]:Hd.push(c)}var r7=V(null),Mh=null,xu=null;function Vd(c,f,y){Q(r7,f._currentValue),f._currentValue=y}function Eu(c){c._currentValue=r7.current,M(r7)}function i7(c,f,y){for(;c!==null;){var v=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,v!==null&&(v.childLanes|=f)):v!==null&&(v.childLanes&f)!==f&&(v.childLanes|=f),c===y)break;c=c.return}}function a7(c,f,y,v){var P=c.child;for(P!==null&&(P.return=c);P!==null;){var B=P.dependencies;if(B!==null){var te=P.child;B=B.firstContext;e:for(;B!==null;){var oe=B;B=P;for(var be=0;be<f.length;be++)if(oe.context===f[be]){B.lanes|=y,oe=B.alternate,oe!==null&&(oe.lanes|=y),i7(B.return,y,c),v||(te=null);break e}B=oe.next}}else if(P.tag===18){if(te=P.return,te===null)throw Error(r(341));te.lanes|=y,B=te.alternate,B!==null&&(B.lanes|=y),i7(te,y,c),te=null}else te=P.child;if(te!==null)te.return=P;else for(te=P;te!==null;){if(te===c){te=null;break}if(P=te.sibling,P!==null){P.return=te.return,te=P;break}te=te.return}P=te}}function zp(c,f,y,v){c=null;for(var P=f,B=!1;P!==null;){if(!B){if((P.flags&524288)!==0)B=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var te=P.alternate;if(te===null)throw Error(r(387));if(te=te.memoizedProps,te!==null){var oe=P.type;Us(P.pendingProps.value,te.value)||(c!==null?c.push(oe):c=[oe])}}else if(P===le.current){if(te=P.alternate,te===null)throw Error(r(387));te.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(c!==null?c.push(Uy):c=[Uy])}P=P.return}c!==null&&a7(f,c,y,v),f.flags|=262144}function e3(c){for(c=c.firstContext;c!==null;){if(!Us(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function jh(c){Mh=c,xu=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ji(c){return zR(Mh,c)}function t3(c,f){return Mh===null&&jh(c),zR(c,f)}function zR(c,f){var y=f._currentValue;if(f={context:f,memoizedValue:y,next:null},xu===null){if(c===null)throw Error(r(308));xu=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else xu=xu.next=f;return y}var ide=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(y,v){c.push(v)}};this.abort=function(){f.aborted=!0,c.forEach(function(y){return y()})}},ade=t.unstable_scheduleCallback,sde=t.unstable_NormalPriority,li={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function s7(){return{controller:new ide,data:new Map,refCount:0}}function hy(c){c.refCount--,c.refCount===0&&ade(sde,function(){c.controller.abort()})}var py=null,o7=0,Wp=0,Hp=null;function ode(c,f){if(py===null){var y=py=[];o7=0,Wp=uE(),Hp={status:"pending",value:void 0,then:function(v){y.push(v)}}}return o7++,f.then(WR,WR),f}function WR(){if(--o7===0&&py!==null){Hp!==null&&(Hp.status="fulfilled");var c=py;py=null,Wp=0,Hp=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function lde(c,f){var y=[],v={status:"pending",value:null,reason:null,then:function(P){y.push(P)}};return c.then(function(){v.status="fulfilled",v.value=f;for(var P=0;P<y.length;P++)(0,y[P])(f)},function(P){for(v.status="rejected",v.reason=P,P=0;P<y.length;P++)(0,y[P])(void 0)}),v}var HR=$.S;$.S=function(c,f){kj=qe(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&ode(c,f),HR!==null&&HR(c,f)};var Dh=V(null);function l7(){var c=Dh.current;return c!==null?c:fr.pooledCache}function n3(c,f){f===null?Q(Dh,Dh.current):Q(Dh,f.pool)}function qR(){var c=l7();return c===null?null:{parent:li._currentValue,pool:c}}var qp=Error(r(460)),c7=Error(r(474)),r3=Error(r(542)),i3={then:function(){}};function VR(c){return c=c.status,c==="fulfilled"||c==="rejected"}function GR(c,f,y){switch(y=c[y],y===void 0?c.push(f):y!==f&&(f.then(Al,Al),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,YR(c),c;default:if(typeof f.status=="string")f.then(Al,Al);else{if(c=fr,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=f,c.status="pending",c.then(function(v){if(f.status==="pending"){var P=f;P.status="fulfilled",P.value=v}},function(v){if(f.status==="pending"){var P=f;P.status="rejected",P.reason=v}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,YR(c),c}throw Uh=f,qp}}function Bh(c){try{var f=c._init;return f(c._payload)}catch(y){throw y!==null&&typeof y=="object"&&typeof y.then=="function"?(Uh=y,qp):y}}var Uh=null;function KR(){if(Uh===null)throw Error(r(459));var c=Uh;return Uh=null,c}function YR(c){if(c===qp||c===r3)throw Error(r(483))}var Vp=null,gy=0;function a3(c){var f=gy;return gy+=1,Vp===null&&(Vp=[]),GR(Vp,c,f)}function my(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function s3(c,f){throw f.$$typeof===g?Error(r(525)):(c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function ZR(c){function f(Ae,_e){if(c){var Te=Ae.deletions;Te===null?(Ae.deletions=[_e],Ae.flags|=16):Te.push(_e)}}function y(Ae,_e){if(!c)return null;for(;_e!==null;)f(Ae,_e),_e=_e.sibling;return null}function v(Ae){for(var _e=new Map;Ae!==null;)Ae.key!==null?_e.set(Ae.key,Ae):_e.set(Ae.index,Ae),Ae=Ae.sibling;return _e}function P(Ae,_e){return Ae=wu(Ae,_e),Ae.index=0,Ae.sibling=null,Ae}function B(Ae,_e,Te){return Ae.index=Te,c?(Te=Ae.alternate,Te!==null?(Te=Te.index,Te<_e?(Ae.flags|=67108866,_e):Te):(Ae.flags|=67108866,_e)):(Ae.flags|=1048576,_e)}function te(Ae){return c&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function oe(Ae,_e,Te,ze){return _e===null||_e.tag!==6?(_e=J9(Te,Ae.mode,ze),_e.return=Ae,_e):(_e=P(_e,Te),_e.return=Ae,_e)}function be(Ae,_e,Te,ze){var qt=Te.type;return qt===w?Fe(Ae,_e,Te.props.children,ze,Te.key):_e!==null&&(_e.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===H&&Bh(qt)===_e.type)?(_e=P(_e,Te.props),my(_e,Te),_e.return=Ae,_e):(_e=Xv(Te.type,Te.key,Te.props,null,Ae.mode,ze),my(_e,Te),_e.return=Ae,_e)}function $e(Ae,_e,Te,ze){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Te.containerInfo||_e.stateNode.implementation!==Te.implementation?(_e=X9(Te,Ae.mode,ze),_e.return=Ae,_e):(_e=P(_e,Te.children||[]),_e.return=Ae,_e)}function Fe(Ae,_e,Te,ze,qt){return _e===null||_e.tag!==7?(_e=Oh(Te,Ae.mode,ze,qt),_e.return=Ae,_e):(_e=P(_e,Te),_e.return=Ae,_e)}function He(Ae,_e,Te){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=J9(""+_e,Ae.mode,Te),_e.return=Ae,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case m:return Te=Xv(_e.type,_e.key,_e.props,null,Ae.mode,Te),my(Te,_e),Te.return=Ae,Te;case b:return _e=X9(_e,Ae.mode,Te),_e.return=Ae,_e;case H:return _e=Bh(_e),He(Ae,_e,Te)}if(S(_e)||R(_e))return _e=Oh(_e,Ae.mode,Te,null),_e.return=Ae,_e;if(typeof _e.then=="function")return He(Ae,a3(_e),Te);if(_e.$$typeof===C)return He(Ae,t3(Ae,_e),Te);s3(Ae,_e)}return null}function Pe(Ae,_e,Te,ze){var qt=_e!==null?_e.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return qt!==null?null:oe(Ae,_e,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case m:return Te.key===qt?be(Ae,_e,Te,ze):null;case b:return Te.key===qt?$e(Ae,_e,Te,ze):null;case H:return Te=Bh(Te),Pe(Ae,_e,Te,ze)}if(S(Te)||R(Te))return qt!==null?null:Fe(Ae,_e,Te,ze,null);if(typeof Te.then=="function")return Pe(Ae,_e,a3(Te),ze);if(Te.$$typeof===C)return Pe(Ae,_e,t3(Ae,Te),ze);s3(Ae,Te)}return null}function Re(Ae,_e,Te,ze,qt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Ae=Ae.get(Te)||null,oe(_e,Ae,""+ze,qt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case m:return Ae=Ae.get(ze.key===null?Te:ze.key)||null,be(_e,Ae,ze,qt);case b:return Ae=Ae.get(ze.key===null?Te:ze.key)||null,$e(_e,Ae,ze,qt);case H:return ze=Bh(ze),Re(Ae,_e,Te,ze,qt)}if(S(ze)||R(ze))return Ae=Ae.get(Te)||null,Fe(_e,Ae,ze,qt,null);if(typeof ze.then=="function")return Re(Ae,_e,Te,a3(ze),qt);if(ze.$$typeof===C)return Re(Ae,_e,Te,t3(_e,ze),qt);s3(_e,ze)}return null}function $t(Ae,_e,Te,ze){for(var qt=null,Bn=null,Dt=_e,ln=_e=0,En=null;Dt!==null&&ln<Te.length;ln++){Dt.index>ln?(En=Dt,Dt=null):En=Dt.sibling;var Un=Pe(Ae,Dt,Te[ln],ze);if(Un===null){Dt===null&&(Dt=En);break}c&&Dt&&Un.alternate===null&&f(Ae,Dt),_e=B(Un,_e,ln),Bn===null?qt=Un:Bn.sibling=Un,Bn=Un,Dt=En}if(ln===Te.length)return y(Ae,Dt),In&&vu(Ae,ln),qt;if(Dt===null){for(;ln<Te.length;ln++)Dt=He(Ae,Te[ln],ze),Dt!==null&&(_e=B(Dt,_e,ln),Bn===null?qt=Dt:Bn.sibling=Dt,Bn=Dt);return In&&vu(Ae,ln),qt}for(Dt=v(Dt);ln<Te.length;ln++)En=Re(Dt,Ae,ln,Te[ln],ze),En!==null&&(c&&En.alternate!==null&&Dt.delete(En.key===null?ln:En.key),_e=B(En,_e,ln),Bn===null?qt=En:Bn.sibling=En,Bn=En);return c&&Dt.forEach(function(df){return f(Ae,df)}),In&&vu(Ae,ln),qt}function Yt(Ae,_e,Te,ze){if(Te==null)throw Error(r(151));for(var qt=null,Bn=null,Dt=_e,ln=_e=0,En=null,Un=Te.next();Dt!==null&&!Un.done;ln++,Un=Te.next()){Dt.index>ln?(En=Dt,Dt=null):En=Dt.sibling;var df=Pe(Ae,Dt,Un.value,ze);if(df===null){Dt===null&&(Dt=En);break}c&&Dt&&df.alternate===null&&f(Ae,Dt),_e=B(df,_e,ln),Bn===null?qt=df:Bn.sibling=df,Bn=df,Dt=En}if(Un.done)return y(Ae,Dt),In&&vu(Ae,ln),qt;if(Dt===null){for(;!Un.done;ln++,Un=Te.next())Un=He(Ae,Un.value,ze),Un!==null&&(_e=B(Un,_e,ln),Bn===null?qt=Un:Bn.sibling=Un,Bn=Un);return In&&vu(Ae,ln),qt}for(Dt=v(Dt);!Un.done;ln++,Un=Te.next())Un=Re(Dt,Ae,ln,Un.value,ze),Un!==null&&(c&&Un.alternate!==null&&Dt.delete(Un.key===null?ln:Un.key),_e=B(Un,_e,ln),Bn===null?qt=Un:Bn.sibling=Un,Bn=Un);return c&&Dt.forEach(function(wfe){return f(Ae,wfe)}),In&&vu(Ae,ln),qt}function lr(Ae,_e,Te,ze){if(typeof Te=="object"&&Te!==null&&Te.type===w&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case m:e:{for(var qt=Te.key;_e!==null;){if(_e.key===qt){if(qt=Te.type,qt===w){if(_e.tag===7){y(Ae,_e.sibling),ze=P(_e,Te.props.children),ze.return=Ae,Ae=ze;break e}}else if(_e.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===H&&Bh(qt)===_e.type){y(Ae,_e.sibling),ze=P(_e,Te.props),my(ze,Te),ze.return=Ae,Ae=ze;break e}y(Ae,_e);break}else f(Ae,_e);_e=_e.sibling}Te.type===w?(ze=Oh(Te.props.children,Ae.mode,ze,Te.key),ze.return=Ae,Ae=ze):(ze=Xv(Te.type,Te.key,Te.props,null,Ae.mode,ze),my(ze,Te),ze.return=Ae,Ae=ze)}return te(Ae);case b:e:{for(qt=Te.key;_e!==null;){if(_e.key===qt)if(_e.tag===4&&_e.stateNode.containerInfo===Te.containerInfo&&_e.stateNode.implementation===Te.implementation){y(Ae,_e.sibling),ze=P(_e,Te.children||[]),ze.return=Ae,Ae=ze;break e}else{y(Ae,_e);break}else f(Ae,_e);_e=_e.sibling}ze=X9(Te,Ae.mode,ze),ze.return=Ae,Ae=ze}return te(Ae);case H:return Te=Bh(Te),lr(Ae,_e,Te,ze)}if(S(Te))return $t(Ae,_e,Te,ze);if(R(Te)){if(qt=R(Te),typeof qt!="function")throw Error(r(150));return Te=qt.call(Te),Yt(Ae,_e,Te,ze)}if(typeof Te.then=="function")return lr(Ae,_e,a3(Te),ze);if(Te.$$typeof===C)return lr(Ae,_e,t3(Ae,Te),ze);s3(Ae,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,_e!==null&&_e.tag===6?(y(Ae,_e.sibling),ze=P(_e,Te),ze.return=Ae,Ae=ze):(y(Ae,_e),ze=J9(Te,Ae.mode,ze),ze.return=Ae,Ae=ze),te(Ae)):y(Ae,_e)}return function(Ae,_e,Te,ze){try{gy=0;var qt=lr(Ae,_e,Te,ze);return Vp=null,qt}catch(Dt){if(Dt===qp||Dt===r3)throw Dt;var Bn=Ls(29,Dt,null,Ae.mode);return Bn.lanes=ze,Bn.return=Ae,Bn}finally{}}}var Lh=ZR(!0),JR=ZR(!1),Gd=!1;function u7(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function d7(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Kd(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Yd(c,f,y){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,(Kn&2)!==0){var P=v.pending;return P===null?f.next=f:(f.next=P.next,P.next=f),v.pending=f,f=Jv(c),RR(c,null,y),f}return Zv(c,v,f,y),Jv(c)}function yy(c,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194048)!==0)){var v=f.lanes;v&=c.pendingLanes,y|=v,f.lanes=y,ie(c,y)}}function f7(c,f){var y=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,y===v)){var P=null,B=null;if(y=y.firstBaseUpdate,y!==null){do{var te={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};B===null?P=B=te:B=B.next=te,y=y.next}while(y!==null);B===null?P=B=f:B=B.next=f}else P=B=f;y={baseState:v.baseState,firstBaseUpdate:P,lastBaseUpdate:B,shared:v.shared,callbacks:v.callbacks},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=f:c.next=f,y.lastBaseUpdate=f}var h7=!1;function by(){if(h7){var c=Hp;if(c!==null)throw c}}function wy(c,f,y,v){h7=!1;var P=c.updateQueue;Gd=!1;var B=P.firstBaseUpdate,te=P.lastBaseUpdate,oe=P.shared.pending;if(oe!==null){P.shared.pending=null;var be=oe,$e=be.next;be.next=null,te===null?B=$e:te.next=$e,te=be;var Fe=c.alternate;Fe!==null&&(Fe=Fe.updateQueue,oe=Fe.lastBaseUpdate,oe!==te&&(oe===null?Fe.firstBaseUpdate=$e:oe.next=$e,Fe.lastBaseUpdate=be))}if(B!==null){var He=P.baseState;te=0,Fe=$e=be=null,oe=B;do{var Pe=oe.lane&-536870913,Re=Pe!==oe.lane;if(Re?(xn&Pe)===Pe:(v&Pe)===Pe){Pe!==0&&Pe===Wp&&(h7=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var $t=c,Yt=oe;Pe=f;var lr=y;switch(Yt.tag){case 1:if($t=Yt.payload,typeof $t=="function"){He=$t.call(lr,He,Pe);break e}He=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=Yt.payload,Pe=typeof $t=="function"?$t.call(lr,He,Pe):$t,Pe==null)break e;He=h({},He,Pe);break e;case 2:Gd=!0}}Pe=oe.callback,Pe!==null&&(c.flags|=64,Re&&(c.flags|=8192),Re=P.callbacks,Re===null?P.callbacks=[Pe]:Re.push(Pe))}else Re={lane:Pe,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Fe===null?($e=Fe=Re,be=He):Fe=Fe.next=Re,te|=Pe;if(oe=oe.next,oe===null){if(oe=P.shared.pending,oe===null)break;Re=oe,oe=Re.next,Re.next=null,P.lastBaseUpdate=Re,P.shared.pending=null}}while(!0);Fe===null&&(be=He),P.baseState=be,P.firstBaseUpdate=$e,P.lastBaseUpdate=Fe,B===null&&(P.shared.lanes=0),ef|=te,c.lanes=te,c.memoizedState=He}}function XR(c,f){if(typeof c!="function")throw Error(r(191,c));c.call(f)}function QR(c,f){var y=c.callbacks;if(y!==null)for(c.callbacks=null,c=0;c<y.length;c++)XR(y[c],f)}var Gp=V(null),o3=V(0);function eM(c,f){c=Nu,Q(o3,c),Q(Gp,f),Nu=c|f.baseLanes}function p7(){Q(o3,Nu),Q(Gp,Gp.current)}function g7(){Nu=o3.current,M(Gp),M(o3)}var Fs=V(null),Io=null;function Zd(c){var f=c.alternate;Q(Yr,Yr.current&1),Q(Fs,c),Io===null&&(f===null||Gp.current!==null||f.memoizedState!==null)&&(Io=c)}function m7(c){Q(Yr,Yr.current),Q(Fs,c),Io===null&&(Io=c)}function tM(c){c.tag===22?(Q(Yr,Yr.current),Q(Fs,c),Io===null&&(Io=c)):Jd()}function Jd(){Q(Yr,Yr.current),Q(Fs,Fs.current)}function zs(c){M(Fs),Io===c&&(Io=null),M(Yr)}var Yr=V(0);function l3(c){for(var f=c;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||EE(y)||_E(y)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var _u=0,on=null,sr=null,ci=null,c3=!1,Kp=!1,Fh=!1,u3=0,vy=0,Yp=null,cde=0;function Fr(){throw Error(r(321))}function y7(c,f){if(f===null)return!1;for(var y=0;y<f.length&&y<c.length;y++)if(!Us(c[y],f[y]))return!1;return!0}function b7(c,f,y,v,P,B){return _u=B,on=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,$.H=c===null||c.memoizedState===null?BM:O7,Fh=!1,B=y(v,P),Fh=!1,Kp&&(B=rM(f,y,v,P)),nM(c),B}function nM(c){$.H=_y;var f=sr!==null&&sr.next!==null;if(_u=0,ci=sr=on=null,c3=!1,vy=0,Yp=null,f)throw Error(r(300));c===null||ui||(c=c.dependencies,c!==null&&e3(c)&&(ui=!0))}function rM(c,f,y,v){on=c;var P=0;do{if(Kp&&(Yp=null),vy=0,Kp=!1,25<=P)throw Error(r(301));if(P+=1,ci=sr=null,c.updateQueue!=null){var B=c.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}$.H=UM,B=f(y,v)}while(Kp);return B}function ude(){var c=$.H,f=c.useState()[0];return f=typeof f.then=="function"?xy(f):f,c=c.useState()[0],(sr!==null?sr.memoizedState:null)!==c&&(on.flags|=1024),f}function w7(){var c=u3!==0;return u3=0,c}function v7(c,f,y){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~y}function x7(c){if(c3){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}c3=!1}_u=0,ci=sr=on=null,Kp=!1,vy=u3=0,Yp=null}function La(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?on.memoizedState=ci=c:ci=ci.next=c,ci}function Zr(){if(sr===null){var c=on.alternate;c=c!==null?c.memoizedState:null}else c=sr.next;var f=ci===null?on.memoizedState:ci.next;if(f!==null)ci=f,sr=c;else{if(c===null)throw on.alternate===null?Error(r(467)):Error(r(310));sr=c,c={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},ci===null?on.memoizedState=ci=c:ci=ci.next=c}return ci}function d3(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xy(c){var f=vy;return vy+=1,Yp===null&&(Yp=[]),c=GR(Yp,c,f),f=on,(ci===null?f.memoizedState:ci.next)===null&&(f=f.alternate,$.H=f===null||f.memoizedState===null?BM:O7),c}function f3(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return xy(c);if(c.$$typeof===C)return Ji(c)}throw Error(r(438,String(c)))}function E7(c){var f=null,y=on.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var v=on.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(f={data:v.data.map(function(P){return P.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=d3(),on.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(c),v=0;v<c;v++)y[v]=L;return f.index++,y}function Au(c,f){return typeof f=="function"?f(c):f}function h3(c){var f=Zr();return _7(f,sr,c)}function _7(c,f,y){var v=c.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=y;var P=c.baseQueue,B=v.pending;if(B!==null){if(P!==null){var te=P.next;P.next=B.next,B.next=te}f.baseQueue=P=B,v.pending=null}if(B=c.baseState,P===null)c.memoizedState=B;else{f=P.next;var oe=te=null,be=null,$e=f,Fe=!1;do{var He=$e.lane&-536870913;if(He!==$e.lane?(xn&He)===He:(_u&He)===He){var Pe=$e.revertLane;if(Pe===0)be!==null&&(be=be.next={lane:0,revertLane:0,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),He===Wp&&(Fe=!0);else if((_u&Pe)===Pe){$e=$e.next,Pe===Wp&&(Fe=!0);continue}else He={lane:0,revertLane:$e.revertLane,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},be===null?(oe=be=He,te=B):be=be.next=He,on.lanes|=Pe,ef|=Pe;He=$e.action,Fh&&y(B,He),B=$e.hasEagerState?$e.eagerState:y(B,He)}else Pe={lane:He,revertLane:$e.revertLane,gesture:$e.gesture,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},be===null?(oe=be=Pe,te=B):be=be.next=Pe,on.lanes|=He,ef|=He;$e=$e.next}while($e!==null&&$e!==f);if(be===null?te=B:be.next=oe,!Us(B,c.memoizedState)&&(ui=!0,Fe&&(y=Hp,y!==null)))throw y;c.memoizedState=B,c.baseState=te,c.baseQueue=be,v.lastRenderedState=B}return P===null&&(v.lanes=0),[c.memoizedState,v.dispatch]}function A7(c){var f=Zr(),y=f.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=c;var v=y.dispatch,P=y.pending,B=f.memoizedState;if(P!==null){y.pending=null;var te=P=P.next;do B=c(B,te.action),te=te.next;while(te!==P);Us(B,f.memoizedState)||(ui=!0),f.memoizedState=B,f.baseQueue===null&&(f.baseState=B),y.lastRenderedState=B}return[B,v]}function iM(c,f,y){var v=on,P=Zr(),B=In;if(B){if(y===void 0)throw Error(r(407));y=y()}else y=f();var te=!Us((sr||P).memoizedState,y);if(te&&(P.memoizedState=y,ui=!0),P=P.queue,k7(oM.bind(null,v,P,c),[c]),P.getSnapshot!==f||te||ci!==null&&ci.memoizedState.tag&1){if(v.flags|=2048,Zp(9,{destroy:void 0},sM.bind(null,v,P,y,f),null),fr===null)throw Error(r(349));B||(_u&127)!==0||aM(v,f,y)}return y}function aM(c,f,y){c.flags|=16384,c={getSnapshot:f,value:y},f=on.updateQueue,f===null?(f=d3(),on.updateQueue=f,f.stores=[c]):(y=f.stores,y===null?f.stores=[c]:y.push(c))}function sM(c,f,y,v){f.value=y,f.getSnapshot=v,lM(f)&&cM(c)}function oM(c,f,y){return y(function(){lM(f)&&cM(c)})}function lM(c){var f=c.getSnapshot;c=c.value;try{var y=f();return!Us(c,y)}catch{return!0}}function cM(c){var f=Ph(c,2);f!==null&&os(f,c,2)}function C7(c){var f=La();if(typeof c=="function"){var y=c;if(c=y(),Fh){xe(!0);try{y()}finally{xe(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Au,lastRenderedState:c},f}function uM(c,f,y,v){return c.baseState=y,_7(c,sr,typeof v=="function"?v:Au)}function dde(c,f,y,v,P){if(m3(c))throw Error(r(485));if(c=f.action,c!==null){var B={payload:P,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){B.listeners.push(te)}};$.T!==null?y(!0):B.isTransition=!1,v(B),y=f.pending,y===null?(B.next=f.pending=B,dM(f,B)):(B.next=y.next,f.pending=y.next=B)}}function dM(c,f){var y=f.action,v=f.payload,P=c.state;if(f.isTransition){var B=$.T,te={};$.T=te;try{var oe=y(P,v),be=$.S;be!==null&&be(te,oe),fM(c,f,oe)}catch($e){S7(c,f,$e)}finally{B!==null&&te.types!==null&&(B.types=te.types),$.T=B}}else try{B=y(P,v),fM(c,f,B)}catch($e){S7(c,f,$e)}}function fM(c,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(v){hM(c,f,v)},function(v){return S7(c,f,v)}):hM(c,f,y)}function hM(c,f,y){f.status="fulfilled",f.value=y,pM(f),c.state=y,f=c.pending,f!==null&&(y=f.next,y===f?c.pending=null:(y=y.next,f.next=y,dM(c,y)))}function S7(c,f,y){var v=c.pending;if(c.pending=null,v!==null){v=v.next;do f.status="rejected",f.reason=y,pM(f),f=f.next;while(f!==v)}c.action=null}function pM(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function gM(c,f){return f}function mM(c,f){if(In){var y=fr.formState;if(y!==null){e:{var v=on;if(In){if(Ar){t:{for(var P=Ar,B=ko;P.nodeType!==8;){if(!B){P=null;break t}if(P=To(P.nextSibling),P===null){P=null;break t}}B=P.data,P=B==="F!"||B==="F"?P:null}if(P){Ar=To(P.nextSibling),v=P.data==="F!";break e}}qd(v)}v=!1}v&&(f=y[0])}}return y=La(),y.memoizedState=y.baseState=f,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gM,lastRenderedState:f},y.queue=v,y=MM.bind(null,on,v),v.dispatch=y,v=C7(!1),B=P7.bind(null,on,!1,v.queue),v=La(),P={state:f,dispatch:null,action:c,pending:null},v.queue=P,y=dde.bind(null,on,P,B,y),P.dispatch=y,v.memoizedState=c,[f,y,!1]}function yM(c){var f=Zr();return bM(f,sr,c)}function bM(c,f,y){if(f=_7(c,f,gM)[0],c=h3(Au)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var v=xy(f)}catch(te){throw te===qp?r3:te}else v=f;f=Zr();var P=f.queue,B=P.dispatch;return y!==f.memoizedState&&(on.flags|=2048,Zp(9,{destroy:void 0},fde.bind(null,P,y),null)),[v,B,c]}function fde(c,f){c.action=f}function wM(c){var f=Zr(),y=sr;if(y!==null)return bM(f,y,c);Zr(),f=f.memoizedState,y=Zr();var v=y.queue.dispatch;return y.memoizedState=c,[f,v,!1]}function Zp(c,f,y,v){return c={tag:c,create:y,deps:v,inst:f,next:null},f=on.updateQueue,f===null&&(f=d3(),on.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=c.next=c:(v=y.next,y.next=c,c.next=v,f.lastEffect=c),c}function vM(){return Zr().memoizedState}function p3(c,f,y,v){var P=La();on.flags|=c,P.memoizedState=Zp(1|f,{destroy:void 0},y,v===void 0?null:v)}function g3(c,f,y,v){var P=Zr();v=v===void 0?null:v;var B=P.memoizedState.inst;sr!==null&&v!==null&&y7(v,sr.memoizedState.deps)?P.memoizedState=Zp(f,B,y,v):(on.flags|=c,P.memoizedState=Zp(1|f,B,y,v))}function xM(c,f){p3(8390656,8,c,f)}function k7(c,f){g3(2048,8,c,f)}function hde(c){on.flags|=4;var f=on.updateQueue;if(f===null)f=d3(),on.updateQueue=f,f.events=[c];else{var y=f.events;y===null?f.events=[c]:y.push(c)}}function EM(c){var f=Zr().memoizedState;return hde({ref:f,nextImpl:c}),function(){if((Kn&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function _M(c,f){return g3(4,2,c,f)}function AM(c,f){return g3(4,4,c,f)}function CM(c,f){if(typeof f=="function"){c=c();var y=f(c);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function SM(c,f,y){y=y!=null?y.concat([c]):null,g3(4,4,CM.bind(null,f,c),y)}function I7(){}function kM(c,f){var y=Zr();f=f===void 0?null:f;var v=y.memoizedState;return f!==null&&y7(f,v[1])?v[0]:(y.memoizedState=[c,f],c)}function IM(c,f){var y=Zr();f=f===void 0?null:f;var v=y.memoizedState;if(f!==null&&y7(f,v[1]))return v[0];if(v=c(),Fh){xe(!0);try{c()}finally{xe(!1)}}return y.memoizedState=[v,f],v}function T7(c,f,y){return y===void 0||(_u&1073741824)!==0&&(xn&261930)===0?c.memoizedState=f:(c.memoizedState=y,c=Tj(),on.lanes|=c,ef|=c,y)}function TM(c,f,y,v){return Us(y,f)?y:Gp.current!==null?(c=T7(c,y,v),Us(c,f)||(ui=!0),c):(_u&42)===0||(_u&1073741824)!==0&&(xn&261930)===0?(ui=!0,c.memoizedState=y):(c=Tj(),on.lanes|=c,ef|=c,f)}function $M(c,f,y,v,P){var B=D.p;D.p=B!==0&&8>B?B:8;var te=$.T,oe={};$.T=oe,P7(c,!1,f,y);try{var be=P(),$e=$.S;if($e!==null&&$e(oe,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var Fe=lde(be,v);Ey(c,f,Fe,qs(c))}else Ey(c,f,v,qs(c))}catch(He){Ey(c,f,{then:function(){},status:"rejected",reason:He},qs())}finally{D.p=B,te!==null&&oe.types!==null&&(te.types=oe.types),$.T=te}}function pde(){}function $7(c,f,y,v){if(c.tag!==5)throw Error(r(476));var P=NM(c).queue;$M(c,P,f,z,y===null?pde:function(){return PM(c),y(v)})}function NM(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Au,lastRenderedState:z},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Au,lastRenderedState:y},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function PM(c){var f=NM(c);f.next===null&&(f=c.alternate.memoizedState),Ey(c,f.next.queue,{},qs())}function N7(){return Ji(Uy)}function OM(){return Zr().memoizedState}function RM(){return Zr().memoizedState}function gde(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var y=qs();c=Kd(y);var v=Yd(f,c,y);v!==null&&(os(v,f,y),yy(v,f,y)),f={cache:s7()},c.payload=f;return}f=f.return}}function mde(c,f,y){var v=qs();y={lane:v,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},m3(c)?jM(f,y):(y=Y9(c,f,y,v),y!==null&&(os(y,c,v),DM(y,f,v)))}function MM(c,f,y){var v=qs();Ey(c,f,y,v)}function Ey(c,f,y,v){var P={lane:v,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null};if(m3(c))jM(f,P);else{var B=c.alternate;if(c.lanes===0&&(B===null||B.lanes===0)&&(B=f.lastRenderedReducer,B!==null))try{var te=f.lastRenderedState,oe=B(te,y);if(P.hasEagerState=!0,P.eagerState=oe,Us(oe,te))return Zv(c,f,P,0),fr===null&&Yv(),!1}catch{}finally{}if(y=Y9(c,f,P,v),y!==null)return os(y,c,v),DM(y,f,v),!0}return!1}function P7(c,f,y,v){if(v={lane:2,revertLane:uE(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},m3(c)){if(f)throw Error(r(479))}else f=Y9(c,y,v,2),f!==null&&os(f,c,2)}function m3(c){var f=c.alternate;return c===on||f!==null&&f===on}function jM(c,f){Kp=c3=!0;var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}function DM(c,f,y){if((y&4194048)!==0){var v=f.lanes;v&=c.pendingLanes,y|=v,f.lanes=y,ie(c,y)}}var _y={readContext:Ji,use:f3,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useLayoutEffect:Fr,useInsertionEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useSyncExternalStore:Fr,useId:Fr,useHostTransitionStatus:Fr,useFormState:Fr,useActionState:Fr,useOptimistic:Fr,useMemoCache:Fr,useCacheRefresh:Fr};_y.useEffectEvent=Fr;var BM={readContext:Ji,use:f3,useCallback:function(c,f){return La().memoizedState=[c,f===void 0?null:f],c},useContext:Ji,useEffect:xM,useImperativeHandle:function(c,f,y){y=y!=null?y.concat([c]):null,p3(4194308,4,CM.bind(null,f,c),y)},useLayoutEffect:function(c,f){return p3(4194308,4,c,f)},useInsertionEffect:function(c,f){p3(4,2,c,f)},useMemo:function(c,f){var y=La();f=f===void 0?null:f;var v=c();if(Fh){xe(!0);try{c()}finally{xe(!1)}}return y.memoizedState=[v,f],v},useReducer:function(c,f,y){var v=La();if(y!==void 0){var P=y(f);if(Fh){xe(!0);try{y(f)}finally{xe(!1)}}}else P=f;return v.memoizedState=v.baseState=P,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:P},v.queue=c,c=c.dispatch=mde.bind(null,on,c),[v.memoizedState,c]},useRef:function(c){var f=La();return c={current:c},f.memoizedState=c},useState:function(c){c=C7(c);var f=c.queue,y=MM.bind(null,on,f);return f.dispatch=y,[c.memoizedState,y]},useDebugValue:I7,useDeferredValue:function(c,f){var y=La();return T7(y,c,f)},useTransition:function(){var c=C7(!1);return c=$M.bind(null,on,c.queue,!0,!1),La().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,y){var v=on,P=La();if(In){if(y===void 0)throw Error(r(407));y=y()}else{if(y=f(),fr===null)throw Error(r(349));(xn&127)!==0||aM(v,f,y)}P.memoizedState=y;var B={value:y,getSnapshot:f};return P.queue=B,xM(oM.bind(null,v,B,c),[c]),v.flags|=2048,Zp(9,{destroy:void 0},sM.bind(null,v,B,y,f),null),y},useId:function(){var c=La(),f=fr.identifierPrefix;if(In){var y=wc,v=bc;y=(v&~(1<<32-ve(v)-1)).toString(32)+y,f="_"+f+"R_"+y,y=u3++,0<y&&(f+="H"+y.toString(32)),f+="_"}else y=cde++,f="_"+f+"r_"+y.toString(32)+"_";return c.memoizedState=f},useHostTransitionStatus:N7,useFormState:mM,useActionState:mM,useOptimistic:function(c){var f=La();f.memoizedState=f.baseState=c;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=P7.bind(null,on,!0,y),y.dispatch=f,[c,f]},useMemoCache:E7,useCacheRefresh:function(){return La().memoizedState=gde.bind(null,on)},useEffectEvent:function(c){var f=La(),y={impl:c};return f.memoizedState=y,function(){if((Kn&2)!==0)throw Error(r(440));return y.impl.apply(void 0,arguments)}}},O7={readContext:Ji,use:f3,useCallback:kM,useContext:Ji,useEffect:k7,useImperativeHandle:SM,useInsertionEffect:_M,useLayoutEffect:AM,useMemo:IM,useReducer:h3,useRef:vM,useState:function(){return h3(Au)},useDebugValue:I7,useDeferredValue:function(c,f){var y=Zr();return TM(y,sr.memoizedState,c,f)},useTransition:function(){var c=h3(Au)[0],f=Zr().memoizedState;return[typeof c=="boolean"?c:xy(c),f]},useSyncExternalStore:iM,useId:OM,useHostTransitionStatus:N7,useFormState:yM,useActionState:yM,useOptimistic:function(c,f){var y=Zr();return uM(y,sr,c,f)},useMemoCache:E7,useCacheRefresh:RM};O7.useEffectEvent=EM;var UM={readContext:Ji,use:f3,useCallback:kM,useContext:Ji,useEffect:k7,useImperativeHandle:SM,useInsertionEffect:_M,useLayoutEffect:AM,useMemo:IM,useReducer:A7,useRef:vM,useState:function(){return A7(Au)},useDebugValue:I7,useDeferredValue:function(c,f){var y=Zr();return sr===null?T7(y,c,f):TM(y,sr.memoizedState,c,f)},useTransition:function(){var c=A7(Au)[0],f=Zr().memoizedState;return[typeof c=="boolean"?c:xy(c),f]},useSyncExternalStore:iM,useId:OM,useHostTransitionStatus:N7,useFormState:wM,useActionState:wM,useOptimistic:function(c,f){var y=Zr();return sr!==null?uM(y,sr,c,f):(y.baseState=c,[c,y.queue.dispatch])},useMemoCache:E7,useCacheRefresh:RM};UM.useEffectEvent=EM;function R7(c,f,y,v){f=c.memoizedState,y=y(v,f),y=y==null?f:h({},f,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}var M7={enqueueSetState:function(c,f,y){c=c._reactInternals;var v=qs(),P=Kd(v);P.payload=f,y!=null&&(P.callback=y),f=Yd(c,P,v),f!==null&&(os(f,c,v),yy(f,c,v))},enqueueReplaceState:function(c,f,y){c=c._reactInternals;var v=qs(),P=Kd(v);P.tag=1,P.payload=f,y!=null&&(P.callback=y),f=Yd(c,P,v),f!==null&&(os(f,c,v),yy(f,c,v))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var y=qs(),v=Kd(y);v.tag=2,f!=null&&(v.callback=f),f=Yd(c,v,y),f!==null&&(os(f,c,y),yy(f,c,y))}};function LM(c,f,y,v,P,B,te){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,B,te):f.prototype&&f.prototype.isPureReactComponent?!cy(y,v)||!cy(P,B):!0}function FM(c,f,y,v){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,v),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,v),f.state!==c&&M7.enqueueReplaceState(f,f.state,null)}function zh(c,f){var y=f;if("ref"in f){y={};for(var v in f)v!=="ref"&&(y[v]=f[v])}if(c=c.defaultProps){y===f&&(y=h({},y));for(var P in c)y[P]===void 0&&(y[P]=c[P])}return y}function zM(c){Kv(c)}function WM(c){console.error(c)}function HM(c){Kv(c)}function y3(c,f){try{var y=c.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(v){setTimeout(function(){throw v})}}function qM(c,f,y){try{var v=c.onCaughtError;v(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function j7(c,f,y){return y=Kd(y),y.tag=3,y.payload={element:null},y.callback=function(){y3(c,f)},y}function VM(c){return c=Kd(c),c.tag=3,c}function GM(c,f,y,v){var P=y.type.getDerivedStateFromError;if(typeof P=="function"){var B=v.value;c.payload=function(){return P(B)},c.callback=function(){qM(f,y,v)}}var te=y.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(c.callback=function(){qM(f,y,v),typeof P!="function"&&(tf===null?tf=new Set([this]):tf.add(this));var oe=v.stack;this.componentDidCatch(v.value,{componentStack:oe!==null?oe:""})})}function yde(c,f,y,v,P){if(y.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(f=y.alternate,f!==null&&zp(f,y,P,!0),y=Fs.current,y!==null){switch(y.tag){case 31:case 13:return Io===null?T3():y.alternate===null&&zr===0&&(zr=3),y.flags&=-257,y.flags|=65536,y.lanes=P,v===i3?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([v]):f.add(v),oE(c,v,P)),!1;case 22:return y.flags|=65536,v===i3?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([v])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([v]):y.add(v)),oE(c,v,P)),!1}throw Error(r(435,y.tag))}return oE(c,v,P),T3(),!1}if(In)return f=Fs.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=P,v!==t7&&(c=Error(r(422),{cause:v}),fy(Ao(c,y)))):(v!==t7&&(f=Error(r(423),{cause:v}),fy(Ao(f,y))),c=c.current.alternate,c.flags|=65536,P&=-P,c.lanes|=P,v=Ao(v,y),P=j7(c.stateNode,v,P),f7(c,P),zr!==4&&(zr=2)),!1;var B=Error(r(520),{cause:v});if(B=Ao(B,y),Ny===null?Ny=[B]:Ny.push(B),zr!==4&&(zr=2),f===null)return!0;v=Ao(v,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,c=P&-P,y.lanes|=c,c=j7(y.stateNode,v,c),f7(y,c),!1;case 1:if(f=y.type,B=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(tf===null||!tf.has(B))))return y.flags|=65536,P&=-P,y.lanes|=P,P=VM(P),GM(P,c,y,v),f7(y,P),!1}y=y.return}while(y!==null);return!1}var D7=Error(r(461)),ui=!1;function Xi(c,f,y,v){f.child=c===null?JR(f,null,y,v):Lh(f,c.child,y,v)}function KM(c,f,y,v,P){y=y.render;var B=f.ref;if("ref"in v){var te={};for(var oe in v)oe!=="ref"&&(te[oe]=v[oe])}else te=v;return jh(f),v=b7(c,f,y,te,B,P),oe=w7(),c!==null&&!ui?(v7(c,f,P),Cu(c,f,P)):(In&&oe&&Q9(f),f.flags|=1,Xi(c,f,v,P),f.child)}function YM(c,f,y,v,P){if(c===null){var B=y.type;return typeof B=="function"&&!Z9(B)&&B.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=B,ZM(c,f,B,v,P)):(c=Xv(y.type,null,v,f,f.mode,P),c.ref=f.ref,c.return=f,f.child=c)}if(B=c.child,!q7(c,P)){var te=B.memoizedProps;if(y=y.compare,y=y!==null?y:cy,y(te,v)&&c.ref===f.ref)return Cu(c,f,P)}return f.flags|=1,c=wu(B,v),c.ref=f.ref,c.return=f,f.child=c}function ZM(c,f,y,v,P){if(c!==null){var B=c.memoizedProps;if(cy(B,v)&&c.ref===f.ref)if(ui=!1,f.pendingProps=v=B,q7(c,P))(c.flags&131072)!==0&&(ui=!0);else return f.lanes=c.lanes,Cu(c,f,P)}return B7(c,f,y,v,P)}function JM(c,f,y,v){var P=v.children,B=c!==null?c.memoizedState:null;if(c===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((f.flags&128)!==0){if(B=B!==null?B.baseLanes|y:y,c!==null){for(v=f.child=c.child,P=0;v!==null;)P=P|v.lanes|v.childLanes,v=v.sibling;v=P&~B}else v=0,f.child=null;return XM(c,f,B,y,v)}if((y&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&n3(f,B!==null?B.cachePool:null),B!==null?eM(f,B):p7(),tM(f);else return v=f.lanes=536870912,XM(c,f,B!==null?B.baseLanes|y:y,y,v)}else B!==null?(n3(f,B.cachePool),eM(f,B),Jd(),f.memoizedState=null):(c!==null&&n3(f,null),p7(),Jd());return Xi(c,f,P,y),f.child}function Ay(c,f){return c!==null&&c.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function XM(c,f,y,v,P){var B=l7();return B=B===null?null:{parent:li._currentValue,pool:B},f.memoizedState={baseLanes:y,cachePool:B},c!==null&&n3(f,null),p7(),tM(f),c!==null&&zp(c,f,v,!0),f.childLanes=P,null}function b3(c,f){return f=v3({mode:f.mode,children:f.children},c.mode),f.ref=c.ref,c.child=f,f.return=c,f}function QM(c,f,y){return Lh(f,c.child,null,y),c=b3(f,f.pendingProps),c.flags|=2,zs(f),f.memoizedState=null,c}function bde(c,f,y){var v=f.pendingProps,P=(f.flags&128)!==0;if(f.flags&=-129,c===null){if(In){if(v.mode==="hidden")return c=b3(f,v),f.lanes=536870912,Ay(null,c);if(m7(f),(c=Ar)?(c=dD(c,ko),c=c!==null&&c.data==="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:Wd!==null?{id:bc,overflow:wc}:null,retryLane:536870912,hydrationErrors:null},y=jR(c),y.return=f,f.child=y,Zi=f,Ar=null)):c=null,c===null)throw qd(f);return f.lanes=536870912,null}return b3(f,v)}var B=c.memoizedState;if(B!==null){var te=B.dehydrated;if(m7(f),P)if(f.flags&256)f.flags&=-257,f=QM(c,f,y);else if(f.memoizedState!==null)f.child=c.child,f.flags|=128,f=null;else throw Error(r(558));else if(ui||zp(c,f,y,!1),P=(y&c.childLanes)!==0,ui||P){if(v=fr,v!==null&&(te=ce(v,y),te!==0&&te!==B.retryLane))throw B.retryLane=te,Ph(c,te),os(v,c,te),D7;T3(),f=QM(c,f,y)}else c=B.treeContext,Ar=To(te.nextSibling),Zi=f,In=!0,Hd=null,ko=!1,c!==null&&UR(f,c),f=b3(f,v),f.flags|=4096;return f}return c=wu(c.child,{mode:v.mode,children:v.children}),c.ref=f.ref,f.child=c,c.return=f,c}function w3(c,f){var y=f.ref;if(y===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(c===null||c.ref!==y)&&(f.flags|=4194816)}}function B7(c,f,y,v,P){return jh(f),y=b7(c,f,y,v,void 0,P),v=w7(),c!==null&&!ui?(v7(c,f,P),Cu(c,f,P)):(In&&v&&Q9(f),f.flags|=1,Xi(c,f,y,P),f.child)}function ej(c,f,y,v,P,B){return jh(f),f.updateQueue=null,y=rM(f,v,y,P),nM(c),v=w7(),c!==null&&!ui?(v7(c,f,B),Cu(c,f,B)):(In&&v&&Q9(f),f.flags|=1,Xi(c,f,y,B),f.child)}function tj(c,f,y,v,P){if(jh(f),f.stateNode===null){var B=Bp,te=y.contextType;typeof te=="object"&&te!==null&&(B=Ji(te)),B=new y(v,B),f.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=M7,f.stateNode=B,B._reactInternals=f,B=f.stateNode,B.props=v,B.state=f.memoizedState,B.refs={},u7(f),te=y.contextType,B.context=typeof te=="object"&&te!==null?Ji(te):Bp,B.state=f.memoizedState,te=y.getDerivedStateFromProps,typeof te=="function"&&(R7(f,y,te,v),B.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(te=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),te!==B.state&&M7.enqueueReplaceState(B,B.state,null),wy(f,v,B,P),by(),B.state=f.memoizedState),typeof B.componentDidMount=="function"&&(f.flags|=4194308),v=!0}else if(c===null){B=f.stateNode;var oe=f.memoizedProps,be=zh(y,oe);B.props=be;var $e=B.context,Fe=y.contextType;te=Bp,typeof Fe=="object"&&Fe!==null&&(te=Ji(Fe));var He=y.getDerivedStateFromProps;Fe=typeof He=="function"||typeof B.getSnapshotBeforeUpdate=="function",oe=f.pendingProps!==oe,Fe||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(oe||$e!==te)&&FM(f,B,v,te),Gd=!1;var Pe=f.memoizedState;B.state=Pe,wy(f,v,B,P),by(),$e=f.memoizedState,oe||Pe!==$e||Gd?(typeof He=="function"&&(R7(f,y,He,v),$e=f.memoizedState),(be=Gd||LM(f,y,be,v,Pe,$e,te))?(Fe||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(f.flags|=4194308)):(typeof B.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=v,f.memoizedState=$e),B.props=v,B.state=$e,B.context=te,v=be):(typeof B.componentDidMount=="function"&&(f.flags|=4194308),v=!1)}else{B=f.stateNode,d7(c,f),te=f.memoizedProps,Fe=zh(y,te),B.props=Fe,He=f.pendingProps,Pe=B.context,$e=y.contextType,be=Bp,typeof $e=="object"&&$e!==null&&(be=Ji($e)),oe=y.getDerivedStateFromProps,($e=typeof oe=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(te!==He||Pe!==be)&&FM(f,B,v,be),Gd=!1,Pe=f.memoizedState,B.state=Pe,wy(f,v,B,P),by();var Re=f.memoizedState;te!==He||Pe!==Re||Gd||c!==null&&c.dependencies!==null&&e3(c.dependencies)?(typeof oe=="function"&&(R7(f,y,oe,v),Re=f.memoizedState),(Fe=Gd||LM(f,y,Fe,v,Pe,Re,be)||c!==null&&c.dependencies!==null&&e3(c.dependencies))?($e||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(v,Re,be),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(v,Re,be)),typeof B.componentDidUpdate=="function"&&(f.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof B.componentDidUpdate!="function"||te===c.memoizedProps&&Pe===c.memoizedState||(f.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&Pe===c.memoizedState||(f.flags|=1024),f.memoizedProps=v,f.memoizedState=Re),B.props=v,B.state=Re,B.context=be,v=Fe):(typeof B.componentDidUpdate!="function"||te===c.memoizedProps&&Pe===c.memoizedState||(f.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&Pe===c.memoizedState||(f.flags|=1024),v=!1)}return B=v,w3(c,f),v=(f.flags&128)!==0,B||v?(B=f.stateNode,y=v&&typeof y.getDerivedStateFromError!="function"?null:B.render(),f.flags|=1,c!==null&&v?(f.child=Lh(f,c.child,null,P),f.child=Lh(f,null,y,P)):Xi(c,f,y,P),f.memoizedState=B.state,c=f.child):c=Cu(c,f,P),c}function nj(c,f,y,v){return Rh(),f.flags|=256,Xi(c,f,y,v),f.child}var U7={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function L7(c){return{baseLanes:c,cachePool:qR()}}function F7(c,f,y){return c=c!==null?c.childLanes&~y:0,f&&(c|=Hs),c}function rj(c,f,y){var v=f.pendingProps,P=!1,B=(f.flags&128)!==0,te;if((te=B)||(te=c!==null&&c.memoizedState===null?!1:(Yr.current&2)!==0),te&&(P=!0,f.flags&=-129),te=(f.flags&32)!==0,f.flags&=-33,c===null){if(In){if(P?Zd(f):Jd(),(c=Ar)?(c=dD(c,ko),c=c!==null&&c.data!=="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:Wd!==null?{id:bc,overflow:wc}:null,retryLane:536870912,hydrationErrors:null},y=jR(c),y.return=f,f.child=y,Zi=f,Ar=null)):c=null,c===null)throw qd(f);return _E(c)?f.lanes=32:f.lanes=536870912,null}var oe=v.children;return v=v.fallback,P?(Jd(),P=f.mode,oe=v3({mode:"hidden",children:oe},P),v=Oh(v,P,y,null),oe.return=f,v.return=f,oe.sibling=v,f.child=oe,v=f.child,v.memoizedState=L7(y),v.childLanes=F7(c,te,y),f.memoizedState=U7,Ay(null,v)):(Zd(f),z7(f,oe))}var be=c.memoizedState;if(be!==null&&(oe=be.dehydrated,oe!==null)){if(B)f.flags&256?(Zd(f),f.flags&=-257,f=W7(c,f,y)):f.memoizedState!==null?(Jd(),f.child=c.child,f.flags|=128,f=null):(Jd(),oe=v.fallback,P=f.mode,v=v3({mode:"visible",children:v.children},P),oe=Oh(oe,P,y,null),oe.flags|=2,v.return=f,oe.return=f,v.sibling=oe,f.child=v,Lh(f,c.child,null,y),v=f.child,v.memoizedState=L7(y),v.childLanes=F7(c,te,y),f.memoizedState=U7,f=Ay(null,v));else if(Zd(f),_E(oe)){if(te=oe.nextSibling&&oe.nextSibling.dataset,te)var $e=te.dgst;te=$e,v=Error(r(419)),v.stack="",v.digest=te,fy({value:v,source:null,stack:null}),f=W7(c,f,y)}else if(ui||zp(c,f,y,!1),te=(y&c.childLanes)!==0,ui||te){if(te=fr,te!==null&&(v=ce(te,y),v!==0&&v!==be.retryLane))throw be.retryLane=v,Ph(c,v),os(te,c,v),D7;EE(oe)||T3(),f=W7(c,f,y)}else EE(oe)?(f.flags|=192,f.child=c.child,f=null):(c=be.treeContext,Ar=To(oe.nextSibling),Zi=f,In=!0,Hd=null,ko=!1,c!==null&&UR(f,c),f=z7(f,v.children),f.flags|=4096);return f}return P?(Jd(),oe=v.fallback,P=f.mode,be=c.child,$e=be.sibling,v=wu(be,{mode:"hidden",children:v.children}),v.subtreeFlags=be.subtreeFlags&65011712,$e!==null?oe=wu($e,oe):(oe=Oh(oe,P,y,null),oe.flags|=2),oe.return=f,v.return=f,v.sibling=oe,f.child=v,Ay(null,v),v=f.child,oe=c.child.memoizedState,oe===null?oe=L7(y):(P=oe.cachePool,P!==null?(be=li._currentValue,P=P.parent!==be?{parent:be,pool:be}:P):P=qR(),oe={baseLanes:oe.baseLanes|y,cachePool:P}),v.memoizedState=oe,v.childLanes=F7(c,te,y),f.memoizedState=U7,Ay(c.child,v)):(Zd(f),y=c.child,c=y.sibling,y=wu(y,{mode:"visible",children:v.children}),y.return=f,y.sibling=null,c!==null&&(te=f.deletions,te===null?(f.deletions=[c],f.flags|=16):te.push(c)),f.child=y,f.memoizedState=null,y)}function z7(c,f){return f=v3({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function v3(c,f){return c=Ls(22,c,null,f),c.lanes=0,c}function W7(c,f,y){return Lh(f,c.child,null,y),c=z7(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function ij(c,f,y){c.lanes|=f;var v=c.alternate;v!==null&&(v.lanes|=f),i7(c.return,f,y)}function H7(c,f,y,v,P,B){var te=c.memoizedState;te===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:v,tail:y,tailMode:P,treeForkCount:B}:(te.isBackwards=f,te.rendering=null,te.renderingStartTime=0,te.last=v,te.tail=y,te.tailMode=P,te.treeForkCount=B)}function aj(c,f,y){var v=f.pendingProps,P=v.revealOrder,B=v.tail;v=v.children;var te=Yr.current,oe=(te&2)!==0;if(oe?(te=te&1|2,f.flags|=128):te&=1,Q(Yr,te),Xi(c,f,v,y),v=In?dy:0,!oe&&c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&ij(c,y,f);else if(c.tag===19)ij(c,y,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(P){case"forwards":for(y=f.child,P=null;y!==null;)c=y.alternate,c!==null&&l3(c)===null&&(P=y),y=y.sibling;y=P,y===null?(P=f.child,f.child=null):(P=y.sibling,y.sibling=null),H7(f,!1,P,y,B,v);break;case"backwards":case"unstable_legacy-backwards":for(y=null,P=f.child,f.child=null;P!==null;){if(c=P.alternate,c!==null&&l3(c)===null){f.child=P;break}c=P.sibling,P.sibling=y,y=P,P=c}H7(f,!0,y,null,B,v);break;case"together":H7(f,!1,null,null,void 0,v);break;default:f.memoizedState=null}return f.child}function Cu(c,f,y){if(c!==null&&(f.dependencies=c.dependencies),ef|=f.lanes,(y&f.childLanes)===0)if(c!==null){if(zp(c,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,y=wu(c,c.pendingProps),f.child=y,y.return=f;c.sibling!==null;)c=c.sibling,y=y.sibling=wu(c,c.pendingProps),y.return=f;y.sibling=null}return f.child}function q7(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&e3(c)))}function wde(c,f,y){switch(f.tag){case 3:de(f,f.stateNode.containerInfo),Vd(f,li,c.memoizedState.cache),Rh();break;case 27:case 5:Ce(f);break;case 4:de(f,f.stateNode.containerInfo);break;case 10:Vd(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,m7(f),null;break;case 13:var v=f.memoizedState;if(v!==null)return v.dehydrated!==null?(Zd(f),f.flags|=128,null):(y&f.child.childLanes)!==0?rj(c,f,y):(Zd(f),c=Cu(c,f,y),c!==null?c.sibling:null);Zd(f);break;case 19:var P=(c.flags&128)!==0;if(v=(y&f.childLanes)!==0,v||(zp(c,f,y,!1),v=(y&f.childLanes)!==0),P){if(v)return aj(c,f,y);f.flags|=128}if(P=f.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Q(Yr,Yr.current),v)break;return null;case 22:return f.lanes=0,JM(c,f,y,f.pendingProps);case 24:Vd(f,li,c.memoizedState.cache)}return Cu(c,f,y)}function sj(c,f,y){if(c!==null)if(c.memoizedProps!==f.pendingProps)ui=!0;else{if(!q7(c,y)&&(f.flags&128)===0)return ui=!1,wde(c,f,y);ui=(c.flags&131072)!==0}else ui=!1,In&&(f.flags&1048576)!==0&&BR(f,dy,f.index);switch(f.lanes=0,f.tag){case 16:e:{var v=f.pendingProps;if(c=Bh(f.elementType),f.type=c,typeof c=="function")Z9(c)?(v=zh(c,v),f.tag=1,f=tj(null,f,c,v,y)):(f.tag=0,f=B7(null,f,c,v,y));else{if(c!=null){var P=c.$$typeof;if(P===N){f.tag=11,f=KM(null,f,c,v,y);break e}else if(P===O){f.tag=14,f=YM(null,f,c,v,y);break e}}throw f=_(c)||c,Error(r(306,f,""))}}return f;case 0:return B7(c,f,f.type,f.pendingProps,y);case 1:return v=f.type,P=zh(v,f.pendingProps),tj(c,f,v,P,y);case 3:e:{if(de(f,f.stateNode.containerInfo),c===null)throw Error(r(387));v=f.pendingProps;var B=f.memoizedState;P=B.element,d7(c,f),wy(f,v,null,y);var te=f.memoizedState;if(v=te.cache,Vd(f,li,v),v!==B.cache&&a7(f,[li],y,!0),by(),v=te.element,B.isDehydrated)if(B={element:v,isDehydrated:!1,cache:te.cache},f.updateQueue.baseState=B,f.memoizedState=B,f.flags&256){f=nj(c,f,v,y);break e}else if(v!==P){P=Ao(Error(r(424)),f),fy(P),f=nj(c,f,v,y);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Ar=To(c.firstChild),Zi=f,In=!0,Hd=null,ko=!0,y=JR(f,null,v,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Rh(),v===P){f=Cu(c,f,y);break e}Xi(c,f,v,y)}f=f.child}return f;case 26:return w3(c,f),c===null?(y=yD(f.type,null,f.pendingProps,null))?f.memoizedState=y:In||(y=f.type,c=f.pendingProps,v=j3(se.current).createElement(y),v[Je]=f,v[It]=c,Qi(v,y,c),zt(v),f.stateNode=v):f.memoizedState=yD(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return Ce(f),c===null&&In&&(v=f.stateNode=pD(f.type,f.pendingProps,se.current),Zi=f,ko=!0,P=Ar,sf(f.type)?(AE=P,Ar=To(v.firstChild)):Ar=P),Xi(c,f,f.pendingProps.children,y),w3(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&In&&((P=v=Ar)&&(v=Yde(v,f.type,f.pendingProps,ko),v!==null?(f.stateNode=v,Zi=f,Ar=To(v.firstChild),ko=!1,P=!0):P=!1),P||qd(f)),Ce(f),P=f.type,B=f.pendingProps,te=c!==null?c.memoizedProps:null,v=B.children,wE(P,B)?v=null:te!==null&&wE(P,te)&&(f.flags|=32),f.memoizedState!==null&&(P=b7(c,f,ude,null,null,y),Uy._currentValue=P),w3(c,f),Xi(c,f,v,y),f.child;case 6:return c===null&&In&&((c=y=Ar)&&(y=Zde(y,f.pendingProps,ko),y!==null?(f.stateNode=y,Zi=f,Ar=null,c=!0):c=!1),c||qd(f)),null;case 13:return rj(c,f,y);case 4:return de(f,f.stateNode.containerInfo),v=f.pendingProps,c===null?f.child=Lh(f,null,v,y):Xi(c,f,v,y),f.child;case 11:return KM(c,f,f.type,f.pendingProps,y);case 7:return Xi(c,f,f.pendingProps,y),f.child;case 8:return Xi(c,f,f.pendingProps.children,y),f.child;case 12:return Xi(c,f,f.pendingProps.children,y),f.child;case 10:return v=f.pendingProps,Vd(f,f.type,v.value),Xi(c,f,v.children,y),f.child;case 9:return P=f.type._context,v=f.pendingProps.children,jh(f),P=Ji(P),v=v(P),f.flags|=1,Xi(c,f,v,y),f.child;case 14:return YM(c,f,f.type,f.pendingProps,y);case 15:return ZM(c,f,f.type,f.pendingProps,y);case 19:return aj(c,f,y);case 31:return bde(c,f,y);case 22:return JM(c,f,y,f.pendingProps);case 24:return jh(f),v=Ji(li),c===null?(P=l7(),P===null&&(P=fr,B=s7(),P.pooledCache=B,B.refCount++,B!==null&&(P.pooledCacheLanes|=y),P=B),f.memoizedState={parent:v,cache:P},u7(f),Vd(f,li,P)):((c.lanes&y)!==0&&(d7(c,f),wy(f,null,null,y),by()),P=c.memoizedState,B=f.memoizedState,P.parent!==v?(P={parent:v,cache:v},f.memoizedState=P,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=P),Vd(f,li,v)):(v=B.cache,Vd(f,li,v),v!==P.cache&&a7(f,[li],y,!0))),Xi(c,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function Su(c){c.flags|=4}function V7(c,f,y,v,P){if((f=(c.mode&32)!==0)&&(f=!1),f){if(c.flags|=16777216,(P&335544128)===P)if(c.stateNode.complete)c.flags|=8192;else if(Oj())c.flags|=8192;else throw Uh=i3,c7}else c.flags&=-16777217}function oj(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!ED(f))if(Oj())c.flags|=8192;else throw Uh=i3,c7}function x3(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?tn():536870912,c.lanes|=f,e1|=f)}function Cy(c,f){if(!In)switch(c.tailMode){case"hidden":f=c.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var v=null;y!==null;)y.alternate!==null&&(v=y),y=y.sibling;v===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function Cr(c){var f=c.alternate!==null&&c.alternate.child===c.child,y=0,v=0;if(f)for(var P=c.child;P!==null;)y|=P.lanes|P.childLanes,v|=P.subtreeFlags&65011712,v|=P.flags&65011712,P.return=c,P=P.sibling;else for(P=c.child;P!==null;)y|=P.lanes|P.childLanes,v|=P.subtreeFlags,v|=P.flags,P.return=c,P=P.sibling;return c.subtreeFlags|=v,c.childLanes=y,f}function vde(c,f,y){var v=f.pendingProps;switch(e7(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(f),null;case 1:return Cr(f),null;case 3:return y=f.stateNode,v=null,c!==null&&(v=c.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),Eu(li),he(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(c===null||c.child===null)&&(Fp(f)?Su(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,n7())),Cr(f),null;case 26:var P=f.type,B=f.memoizedState;return c===null?(Su(f),B!==null?(Cr(f),oj(f,B)):(Cr(f),V7(f,P,null,v,y))):B?B!==c.memoizedState?(Su(f),Cr(f),oj(f,B)):(Cr(f),f.flags&=-16777217):(c=c.memoizedProps,c!==v&&Su(f),Cr(f),V7(f,P,c,v,y)),null;case 27:if(ke(f),y=se.current,P=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==v&&Su(f);else{if(!v){if(f.stateNode===null)throw Error(r(166));return Cr(f),null}c=ne.current,Fp(f)?LR(f):(c=pD(P,v,y),f.stateNode=c,Su(f))}return Cr(f),null;case 5:if(ke(f),P=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==v&&Su(f);else{if(!v){if(f.stateNode===null)throw Error(r(166));return Cr(f),null}if(B=ne.current,Fp(f))LR(f);else{var te=j3(se.current);switch(B){case 1:B=te.createElementNS("http://www.w3.org/2000/svg",P);break;case 2:B=te.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;default:switch(P){case"svg":B=te.createElementNS("http://www.w3.org/2000/svg",P);break;case"math":B=te.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;case"script":B=te.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild);break;case"select":B=typeof v.is=="string"?te.createElement("select",{is:v.is}):te.createElement("select"),v.multiple?B.multiple=!0:v.size&&(B.size=v.size);break;default:B=typeof v.is=="string"?te.createElement(P,{is:v.is}):te.createElement(P)}}B[Je]=f,B[It]=v;e:for(te=f.child;te!==null;){if(te.tag===5||te.tag===6)B.appendChild(te.stateNode);else if(te.tag!==4&&te.tag!==27&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===f)break e;for(;te.sibling===null;){if(te.return===null||te.return===f)break e;te=te.return}te.sibling.return=te.return,te=te.sibling}f.stateNode=B;e:switch(Qi(B,P,v),P){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Su(f)}}return Cr(f),V7(f,f.type,c===null?null:c.memoizedProps,f.pendingProps,y),null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==v&&Su(f);else{if(typeof v!="string"&&f.stateNode===null)throw Error(r(166));if(c=se.current,Fp(f)){if(c=f.stateNode,y=f.memoizedProps,v=null,P=Zi,P!==null)switch(P.tag){case 27:case 5:v=P.memoizedProps}c[Je]=f,c=!!(c.nodeValue===y||v!==null&&v.suppressHydrationWarning===!0||rD(c.nodeValue,y)),c||qd(f,!0)}else c=j3(c).createTextNode(v),c[Je]=f,f.stateNode=c}return Cr(f),null;case 31:if(y=f.memoizedState,c===null||c.memoizedState!==null){if(v=Fp(f),y!==null){if(c===null){if(!v)throw Error(r(318));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(557));c[Je]=f}else Rh(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Cr(f),c=!1}else y=n7(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=y),c=!0;if(!c)return f.flags&256?(zs(f),f):(zs(f),null);if((f.flags&128)!==0)throw Error(r(558))}return Cr(f),null;case 13:if(v=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(P=Fp(f),v!==null&&v.dehydrated!==null){if(c===null){if(!P)throw Error(r(318));if(P=f.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[Je]=f}else Rh(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Cr(f),P=!1}else P=n7(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=P),P=!0;if(!P)return f.flags&256?(zs(f),f):(zs(f),null)}return zs(f),(f.flags&128)!==0?(f.lanes=y,f):(y=v!==null,c=c!==null&&c.memoizedState!==null,y&&(v=f.child,P=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(P=v.alternate.memoizedState.cachePool.pool),B=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(B=v.memoizedState.cachePool.pool),B!==P&&(v.flags|=2048)),y!==c&&y&&(f.child.flags|=8192),x3(f,f.updateQueue),Cr(f),null);case 4:return he(),c===null&&pE(f.stateNode.containerInfo),Cr(f),null;case 10:return Eu(f.type),Cr(f),null;case 19:if(M(Yr),v=f.memoizedState,v===null)return Cr(f),null;if(P=(f.flags&128)!==0,B=v.rendering,B===null)if(P)Cy(v,!1);else{if(zr!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(B=l3(c),B!==null){for(f.flags|=128,Cy(v,!1),c=B.updateQueue,f.updateQueue=c,x3(f,c),f.subtreeFlags=0,c=y,y=f.child;y!==null;)MR(y,c),y=y.sibling;return Q(Yr,Yr.current&1|2),In&&vu(f,v.treeForkCount),f.child}c=c.sibling}v.tail!==null&&qe()>S3&&(f.flags|=128,P=!0,Cy(v,!1),f.lanes=4194304)}else{if(!P)if(c=l3(B),c!==null){if(f.flags|=128,P=!0,c=c.updateQueue,f.updateQueue=c,x3(f,c),Cy(v,!0),v.tail===null&&v.tailMode==="hidden"&&!B.alternate&&!In)return Cr(f),null}else 2*qe()-v.renderingStartTime>S3&&y!==536870912&&(f.flags|=128,P=!0,Cy(v,!1),f.lanes=4194304);v.isBackwards?(B.sibling=f.child,f.child=B):(c=v.last,c!==null?c.sibling=B:f.child=B,v.last=B)}return v.tail!==null?(c=v.tail,v.rendering=c,v.tail=c.sibling,v.renderingStartTime=qe(),c.sibling=null,y=Yr.current,Q(Yr,P?y&1|2:y&1),In&&vu(f,v.treeForkCount),c):(Cr(f),null);case 22:case 23:return zs(f),g7(),v=f.memoizedState!==null,c!==null?c.memoizedState!==null!==v&&(f.flags|=8192):v&&(f.flags|=8192),v?(y&536870912)!==0&&(f.flags&128)===0&&(Cr(f),f.subtreeFlags&6&&(f.flags|=8192)):Cr(f),y=f.updateQueue,y!==null&&x3(f,y.retryQueue),y=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==y&&(f.flags|=2048),c!==null&&M(Dh),null;case 24:return y=null,c!==null&&(y=c.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),Eu(li),Cr(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function xde(c,f){switch(e7(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Eu(li),he(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return ke(f),null;case 31:if(f.memoizedState!==null){if(zs(f),f.alternate===null)throw Error(r(340));Rh()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 13:if(zs(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Rh()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return M(Yr),null;case 4:return he(),null;case 10:return Eu(f.type),null;case 22:case 23:return zs(f),g7(),c!==null&&M(Dh),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Eu(li),null;case 25:return null;default:return null}}function lj(c,f){switch(e7(f),f.tag){case 3:Eu(li),he();break;case 26:case 27:case 5:ke(f);break;case 4:he();break;case 31:f.memoizedState!==null&&zs(f);break;case 13:zs(f);break;case 19:M(Yr);break;case 10:Eu(f.type);break;case 22:case 23:zs(f),g7(),c!==null&&M(Dh);break;case 24:Eu(li)}}function Sy(c,f){try{var y=f.updateQueue,v=y!==null?y.lastEffect:null;if(v!==null){var P=v.next;y=P;do{if((y.tag&c)===c){v=void 0;var B=y.create,te=y.inst;v=B(),te.destroy=v}y=y.next}while(y!==P)}}catch(oe){er(f,f.return,oe)}}function Xd(c,f,y){try{var v=f.updateQueue,P=v!==null?v.lastEffect:null;if(P!==null){var B=P.next;v=B;do{if((v.tag&c)===c){var te=v.inst,oe=te.destroy;if(oe!==void 0){te.destroy=void 0,P=f;var be=y,$e=oe;try{$e()}catch(Fe){er(P,be,Fe)}}}v=v.next}while(v!==B)}}catch(Fe){er(f,f.return,Fe)}}function cj(c){var f=c.updateQueue;if(f!==null){var y=c.stateNode;try{QR(f,y)}catch(v){er(c,c.return,v)}}}function uj(c,f,y){y.props=zh(c.type,c.memoizedProps),y.state=c.memoizedState;try{y.componentWillUnmount()}catch(v){er(c,f,v)}}function ky(c,f){try{var y=c.ref;if(y!==null){switch(c.tag){case 26:case 27:case 5:var v=c.stateNode;break;case 30:v=c.stateNode;break;default:v=c.stateNode}typeof y=="function"?c.refCleanup=y(v):y.current=v}}catch(P){er(c,f,P)}}function vc(c,f){var y=c.ref,v=c.refCleanup;if(y!==null)if(typeof v=="function")try{v()}catch(P){er(c,f,P)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(P){er(c,f,P)}else y.current=null}function dj(c){var f=c.type,y=c.memoizedProps,v=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":y.autoFocus&&v.focus();break e;case"img":y.src?v.src=y.src:y.srcSet&&(v.srcset=y.srcSet)}}catch(P){er(c,c.return,P)}}function G7(c,f,y){try{var v=c.stateNode;Wde(v,c.type,y,f),v[It]=f}catch(P){er(c,c.return,P)}}function fj(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&sf(c.type)||c.tag===4}function K7(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||fj(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&sf(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Y7(c,f,y){var v=c.tag;if(v===5||v===6)c=c.stateNode,f?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(c,f):(f=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,f.appendChild(c),y=y._reactRootContainer,y!=null||f.onclick!==null||(f.onclick=Al));else if(v!==4&&(v===27&&sf(c.type)&&(y=c.stateNode,f=null),c=c.child,c!==null))for(Y7(c,f,y),c=c.sibling;c!==null;)Y7(c,f,y),c=c.sibling}function E3(c,f,y){var v=c.tag;if(v===5||v===6)c=c.stateNode,f?y.insertBefore(c,f):y.appendChild(c);else if(v!==4&&(v===27&&sf(c.type)&&(y=c.stateNode),c=c.child,c!==null))for(E3(c,f,y),c=c.sibling;c!==null;)E3(c,f,y),c=c.sibling}function hj(c){var f=c.stateNode,y=c.memoizedProps;try{for(var v=c.type,P=f.attributes;P.length;)f.removeAttributeNode(P[0]);Qi(f,v,y),f[Je]=c,f[It]=y}catch(B){er(c,c.return,B)}}var ku=!1,di=!1,Z7=!1,pj=typeof WeakSet=="function"?WeakSet:Set,Di=null;function Ede(c,f){if(c=c.containerInfo,yE=W3,c=SR(c),W9(c)){if("selectionStart"in c)var y={start:c.selectionStart,end:c.selectionEnd};else e:{y=(y=c.ownerDocument)&&y.defaultView||window;var v=y.getSelection&&y.getSelection();if(v&&v.rangeCount!==0){y=v.anchorNode;var P=v.anchorOffset,B=v.focusNode;v=v.focusOffset;try{y.nodeType,B.nodeType}catch{y=null;break e}var te=0,oe=-1,be=-1,$e=0,Fe=0,He=c,Pe=null;t:for(;;){for(var Re;He!==y||P!==0&&He.nodeType!==3||(oe=te+P),He!==B||v!==0&&He.nodeType!==3||(be=te+v),He.nodeType===3&&(te+=He.nodeValue.length),(Re=He.firstChild)!==null;)Pe=He,He=Re;for(;;){if(He===c)break t;if(Pe===y&&++$e===P&&(oe=te),Pe===B&&++Fe===v&&(be=te),(Re=He.nextSibling)!==null)break;He=Pe,Pe=He.parentNode}He=Re}y=oe===-1||be===-1?null:{start:oe,end:be}}else y=null}y=y||{start:0,end:0}}else y=null;for(bE={focusedElem:c,selectionRange:y},W3=!1,Di=f;Di!==null;)if(f=Di,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,Di=c;else for(;Di!==null;){switch(f=Di,B=f.alternate,c=f.flags,f.tag){case 0:if((c&4)!==0&&(c=f.updateQueue,c=c!==null?c.events:null,c!==null))for(y=0;y<c.length;y++)P=c[y],P.ref.impl=P.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&B!==null){c=void 0,y=f,P=B.memoizedProps,B=B.memoizedState,v=y.stateNode;try{var $t=zh(y.type,P);c=v.getSnapshotBeforeUpdate($t,B),v.__reactInternalSnapshotBeforeUpdate=c}catch(Yt){er(y,y.return,Yt)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,y=c.nodeType,y===9)xE(c);else if(y===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":xE(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=f.sibling,c!==null){c.return=f.return,Di=c;break}Di=f.return}}function gj(c,f,y){var v=y.flags;switch(y.tag){case 0:case 11:case 15:Tu(c,y),v&4&&Sy(5,y);break;case 1:if(Tu(c,y),v&4)if(c=y.stateNode,f===null)try{c.componentDidMount()}catch(te){er(y,y.return,te)}else{var P=zh(y.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(P,f,c.__reactInternalSnapshotBeforeUpdate)}catch(te){er(y,y.return,te)}}v&64&&cj(y),v&512&&ky(y,y.return);break;case 3:if(Tu(c,y),v&64&&(c=y.updateQueue,c!==null)){if(f=null,y.child!==null)switch(y.child.tag){case 27:case 5:f=y.child.stateNode;break;case 1:f=y.child.stateNode}try{QR(c,f)}catch(te){er(y,y.return,te)}}break;case 27:f===null&&v&4&&hj(y);case 26:case 5:Tu(c,y),f===null&&v&4&&dj(y),v&512&&ky(y,y.return);break;case 12:Tu(c,y);break;case 31:Tu(c,y),v&4&&bj(c,y);break;case 13:Tu(c,y),v&4&&wj(c,y),v&64&&(c=y.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(y=Nde.bind(null,y),Jde(c,y))));break;case 22:if(v=y.memoizedState!==null||ku,!v){f=f!==null&&f.memoizedState!==null||di,P=ku;var B=di;ku=v,(di=f)&&!B?$u(c,y,(y.subtreeFlags&8772)!==0):Tu(c,y),ku=P,di=B}break;case 30:break;default:Tu(c,y)}}function mj(c){var f=c.alternate;f!==null&&(c.alternate=null,mj(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&mn(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Rr=null,rs=!1;function Iu(c,f,y){for(y=y.child;y!==null;)yj(c,f,y),y=y.sibling}function yj(c,f,y){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(ae,y)}catch{}switch(y.tag){case 26:di||vc(y,f),Iu(c,f,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:di||vc(y,f);var v=Rr,P=rs;sf(y.type)&&(Rr=y.stateNode,rs=!1),Iu(c,f,y),jy(y.stateNode),Rr=v,rs=P;break;case 5:di||vc(y,f);case 6:if(v=Rr,P=rs,Rr=null,Iu(c,f,y),Rr=v,rs=P,Rr!==null)if(rs)try{(Rr.nodeType===9?Rr.body:Rr.nodeName==="HTML"?Rr.ownerDocument.body:Rr).removeChild(y.stateNode)}catch(B){er(y,f,B)}else try{Rr.removeChild(y.stateNode)}catch(B){er(y,f,B)}break;case 18:Rr!==null&&(rs?(c=Rr,cD(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,y.stateNode),l1(c)):cD(Rr,y.stateNode));break;case 4:v=Rr,P=rs,Rr=y.stateNode.containerInfo,rs=!0,Iu(c,f,y),Rr=v,rs=P;break;case 0:case 11:case 14:case 15:Xd(2,y,f),di||Xd(4,y,f),Iu(c,f,y);break;case 1:di||(vc(y,f),v=y.stateNode,typeof v.componentWillUnmount=="function"&&uj(y,f,v)),Iu(c,f,y);break;case 21:Iu(c,f,y);break;case 22:di=(v=di)||y.memoizedState!==null,Iu(c,f,y),di=v;break;default:Iu(c,f,y)}}function bj(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{l1(c)}catch(y){er(f,f.return,y)}}}function wj(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{l1(c)}catch(y){er(f,f.return,y)}}function _de(c){switch(c.tag){case 31:case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new pj),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new pj),f;default:throw Error(r(435,c.tag))}}function _3(c,f){var y=_de(c);f.forEach(function(v){if(!y.has(v)){y.add(v);var P=Pde.bind(null,c,v);v.then(P,P)}})}function is(c,f){var y=f.deletions;if(y!==null)for(var v=0;v<y.length;v++){var P=y[v],B=c,te=f,oe=te;e:for(;oe!==null;){switch(oe.tag){case 27:if(sf(oe.type)){Rr=oe.stateNode,rs=!1;break e}break;case 5:Rr=oe.stateNode,rs=!1;break e;case 3:case 4:Rr=oe.stateNode.containerInfo,rs=!0;break e}oe=oe.return}if(Rr===null)throw Error(r(160));yj(B,te,P),Rr=null,rs=!1,B=P.alternate,B!==null&&(B.return=null),P.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)vj(f,c),f=f.sibling}var Sl=null;function vj(c,f){var y=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:is(f,c),as(c),v&4&&(Xd(3,c,c.return),Sy(3,c),Xd(5,c,c.return));break;case 1:is(f,c),as(c),v&512&&(di||y===null||vc(y,y.return)),v&64&&ku&&(c=c.updateQueue,c!==null&&(v=c.callbacks,v!==null&&(y=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=y===null?v:y.concat(v))));break;case 26:var P=Sl;if(is(f,c),as(c),v&512&&(di||y===null||vc(y,y.return)),v&4){var B=y!==null?y.memoizedState:null;if(v=c.memoizedState,y===null)if(v===null)if(c.stateNode===null){e:{v=c.type,y=c.memoizedProps,P=P.ownerDocument||P;t:switch(v){case"title":B=P.getElementsByTagName("title")[0],(!B||B[qn]||B[Je]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=P.createElement(v),P.head.insertBefore(B,P.querySelector("head > title"))),Qi(B,v,y),B[Je]=c,zt(B),v=B;break e;case"link":var te=vD("link","href",P).get(v+(y.href||""));if(te){for(var oe=0;oe<te.length;oe++)if(B=te[oe],B.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&B.getAttribute("rel")===(y.rel==null?null:y.rel)&&B.getAttribute("title")===(y.title==null?null:y.title)&&B.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){te.splice(oe,1);break t}}B=P.createElement(v),Qi(B,v,y),P.head.appendChild(B);break;case"meta":if(te=vD("meta","content",P).get(v+(y.content||""))){for(oe=0;oe<te.length;oe++)if(B=te[oe],B.getAttribute("content")===(y.content==null?null:""+y.content)&&B.getAttribute("name")===(y.name==null?null:y.name)&&B.getAttribute("property")===(y.property==null?null:y.property)&&B.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&B.getAttribute("charset")===(y.charSet==null?null:y.charSet)){te.splice(oe,1);break t}}B=P.createElement(v),Qi(B,v,y),P.head.appendChild(B);break;default:throw Error(r(468,v))}B[Je]=c,zt(B),v=B}c.stateNode=v}else xD(P,c.type,c.stateNode);else c.stateNode=wD(P,v,c.memoizedProps);else B!==v?(B===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):B.count--,v===null?xD(P,c.type,c.stateNode):wD(P,v,c.memoizedProps)):v===null&&c.stateNode!==null&&G7(c,c.memoizedProps,y.memoizedProps)}break;case 27:is(f,c),as(c),v&512&&(di||y===null||vc(y,y.return)),y!==null&&v&4&&G7(c,c.memoizedProps,y.memoizedProps);break;case 5:if(is(f,c),as(c),v&512&&(di||y===null||vc(y,y.return)),c.flags&32){P=c.stateNode;try{Ud(P,"")}catch($t){er(c,c.return,$t)}}v&4&&c.stateNode!=null&&(P=c.memoizedProps,G7(c,P,y!==null?y.memoizedProps:P)),v&1024&&(Z7=!0);break;case 6:if(is(f,c),as(c),v&4){if(c.stateNode===null)throw Error(r(162));v=c.memoizedProps,y=c.stateNode;try{y.nodeValue=v}catch($t){er(c,c.return,$t)}}break;case 3:if(U3=null,P=Sl,Sl=D3(f.containerInfo),is(f,c),Sl=P,as(c),v&4&&y!==null&&y.memoizedState.isDehydrated)try{l1(f.containerInfo)}catch($t){er(c,c.return,$t)}Z7&&(Z7=!1,xj(c));break;case 4:v=Sl,Sl=D3(c.stateNode.containerInfo),is(f,c),as(c),Sl=v;break;case 12:is(f,c),as(c);break;case 31:is(f,c),as(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,_3(c,v)));break;case 13:is(f,c),as(c),c.child.flags&8192&&c.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(C3=qe()),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,_3(c,v)));break;case 22:P=c.memoizedState!==null;var be=y!==null&&y.memoizedState!==null,$e=ku,Fe=di;if(ku=$e||P,di=Fe||be,is(f,c),di=Fe,ku=$e,as(c),v&8192)e:for(f=c.stateNode,f._visibility=P?f._visibility&-2:f._visibility|1,P&&(y===null||be||ku||di||Wh(c)),y=null,f=c;;){if(f.tag===5||f.tag===26){if(y===null){be=y=f;try{if(B=be.stateNode,P)te=B.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{oe=be.stateNode;var He=be.memoizedProps.style,Pe=He!=null&&He.hasOwnProperty("display")?He.display:null;oe.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch($t){er(be,be.return,$t)}}}else if(f.tag===6){if(y===null){be=f;try{be.stateNode.nodeValue=P?"":be.memoizedProps}catch($t){er(be,be.return,$t)}}}else if(f.tag===18){if(y===null){be=f;try{var Re=be.stateNode;P?uD(Re,!0):uD(be.stateNode,!1)}catch($t){er(be,be.return,$t)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}v&4&&(v=c.updateQueue,v!==null&&(y=v.retryQueue,y!==null&&(v.retryQueue=null,_3(c,y))));break;case 19:is(f,c),as(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,_3(c,v)));break;case 30:break;case 21:break;default:is(f,c),as(c)}}function as(c){var f=c.flags;if(f&2){try{for(var y,v=c.return;v!==null;){if(fj(v)){y=v;break}v=v.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var P=y.stateNode,B=K7(c);E3(c,B,P);break;case 5:var te=y.stateNode;y.flags&32&&(Ud(te,""),y.flags&=-33);var oe=K7(c);E3(c,oe,te);break;case 3:case 4:var be=y.stateNode.containerInfo,$e=K7(c);Y7(c,$e,be);break;default:throw Error(r(161))}}catch(Fe){er(c,c.return,Fe)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function xj(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;xj(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function Tu(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)gj(c,f.alternate,f),f=f.sibling}function Wh(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Xd(4,f,f.return),Wh(f);break;case 1:vc(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&uj(f,f.return,y),Wh(f);break;case 27:jy(f.stateNode);case 26:case 5:vc(f,f.return),Wh(f);break;case 22:f.memoizedState===null&&Wh(f);break;case 30:Wh(f);break;default:Wh(f)}c=c.sibling}}function $u(c,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var v=f.alternate,P=c,B=f,te=B.flags;switch(B.tag){case 0:case 11:case 15:$u(P,B,y),Sy(4,B);break;case 1:if($u(P,B,y),v=B,P=v.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch($e){er(v,v.return,$e)}if(v=B,P=v.updateQueue,P!==null){var oe=v.stateNode;try{var be=P.shared.hiddenCallbacks;if(be!==null)for(P.shared.hiddenCallbacks=null,P=0;P<be.length;P++)XR(be[P],oe)}catch($e){er(v,v.return,$e)}}y&&te&64&&cj(B),ky(B,B.return);break;case 27:hj(B);case 26:case 5:$u(P,B,y),y&&v===null&&te&4&&dj(B),ky(B,B.return);break;case 12:$u(P,B,y);break;case 31:$u(P,B,y),y&&te&4&&bj(P,B);break;case 13:$u(P,B,y),y&&te&4&&wj(P,B);break;case 22:B.memoizedState===null&&$u(P,B,y),ky(B,B.return);break;case 30:break;default:$u(P,B,y)}f=f.sibling}}function J7(c,f){var y=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==y&&(c!=null&&c.refCount++,y!=null&&hy(y))}function X7(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&hy(c))}function kl(c,f,y,v){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Ej(c,f,y,v),f=f.sibling}function Ej(c,f,y,v){var P=f.flags;switch(f.tag){case 0:case 11:case 15:kl(c,f,y,v),P&2048&&Sy(9,f);break;case 1:kl(c,f,y,v);break;case 3:kl(c,f,y,v),P&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&hy(c)));break;case 12:if(P&2048){kl(c,f,y,v),c=f.stateNode;try{var B=f.memoizedProps,te=B.id,oe=B.onPostCommit;typeof oe=="function"&&oe(te,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(be){er(f,f.return,be)}}else kl(c,f,y,v);break;case 31:kl(c,f,y,v);break;case 13:kl(c,f,y,v);break;case 23:break;case 22:B=f.stateNode,te=f.alternate,f.memoizedState!==null?B._visibility&2?kl(c,f,y,v):Iy(c,f):B._visibility&2?kl(c,f,y,v):(B._visibility|=2,Jp(c,f,y,v,(f.subtreeFlags&10256)!==0||!1)),P&2048&&J7(te,f);break;case 24:kl(c,f,y,v),P&2048&&X7(f.alternate,f);break;default:kl(c,f,y,v)}}function Jp(c,f,y,v,P){for(P=P&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var B=c,te=f,oe=y,be=v,$e=te.flags;switch(te.tag){case 0:case 11:case 15:Jp(B,te,oe,be,P),Sy(8,te);break;case 23:break;case 22:var Fe=te.stateNode;te.memoizedState!==null?Fe._visibility&2?Jp(B,te,oe,be,P):Iy(B,te):(Fe._visibility|=2,Jp(B,te,oe,be,P)),P&&$e&2048&&J7(te.alternate,te);break;case 24:Jp(B,te,oe,be,P),P&&$e&2048&&X7(te.alternate,te);break;default:Jp(B,te,oe,be,P)}f=f.sibling}}function Iy(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=c,v=f,P=v.flags;switch(v.tag){case 22:Iy(y,v),P&2048&&J7(v.alternate,v);break;case 24:Iy(y,v),P&2048&&X7(v.alternate,v);break;default:Iy(y,v)}f=f.sibling}}var Ty=8192;function Xp(c,f,y){if(c.subtreeFlags&Ty)for(c=c.child;c!==null;)_j(c,f,y),c=c.sibling}function _j(c,f,y){switch(c.tag){case 26:Xp(c,f,y),c.flags&Ty&&c.memoizedState!==null&&cfe(y,Sl,c.memoizedState,c.memoizedProps);break;case 5:Xp(c,f,y);break;case 3:case 4:var v=Sl;Sl=D3(c.stateNode.containerInfo),Xp(c,f,y),Sl=v;break;case 22:c.memoizedState===null&&(v=c.alternate,v!==null&&v.memoizedState!==null?(v=Ty,Ty=16777216,Xp(c,f,y),Ty=v):Xp(c,f,y));break;default:Xp(c,f,y)}}function Aj(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function $y(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var v=f[y];Di=v,Sj(v,c)}Aj(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Cj(c),c=c.sibling}function Cj(c){switch(c.tag){case 0:case 11:case 15:$y(c),c.flags&2048&&Xd(9,c,c.return);break;case 3:$y(c);break;case 12:$y(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,A3(c)):$y(c);break;default:$y(c)}}function A3(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var v=f[y];Di=v,Sj(v,c)}Aj(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Xd(8,f,f.return),A3(f);break;case 22:y=f.stateNode,y._visibility&2&&(y._visibility&=-3,A3(f));break;default:A3(f)}c=c.sibling}}function Sj(c,f){for(;Di!==null;){var y=Di;switch(y.tag){case 0:case 11:case 15:Xd(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var v=y.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:hy(y.memoizedState.cache)}if(v=y.child,v!==null)v.return=y,Di=v;else e:for(y=c;Di!==null;){v=Di;var P=v.sibling,B=v.return;if(mj(v),v===y){Di=null;break e}if(P!==null){P.return=B,Di=P;break e}Di=B}}}var Ade={getCacheForType:function(c){var f=Ji(li),y=f.data.get(c);return y===void 0&&(y=c(),f.data.set(c,y)),y},cacheSignal:function(){return Ji(li).controller.signal}},Cde=typeof WeakMap=="function"?WeakMap:Map,Kn=0,fr=null,wn=null,xn=0,Qn=0,Ws=null,Qd=!1,Qp=!1,Q7=!1,Nu=0,zr=0,ef=0,Hh=0,eE=0,Hs=0,e1=0,Ny=null,ss=null,tE=!1,C3=0,kj=0,S3=1/0,k3=null,tf=null,Ai=0,nf=null,t1=null,Pu=0,nE=0,rE=null,Ij=null,Py=0,iE=null;function qs(){return(Kn&2)!==0&&xn!==0?xn&-xn:$.T!==null?uE():ot()}function Tj(){if(Hs===0)if((xn&536870912)===0||In){var c=Ye;Ye<<=1,(Ye&3932160)===0&&(Ye=262144),Hs=c}else Hs=536870912;return c=Fs.current,c!==null&&(c.flags|=32),Hs}function os(c,f,y){(c===fr&&(Qn===2||Qn===9)||c.cancelPendingCommit!==null)&&(n1(c,0),rf(c,xn,Hs,!1)),j(c,y),((Kn&2)===0||c!==fr)&&(c===fr&&((Kn&2)===0&&(Hh|=y),zr===4&&rf(c,xn,Hs,!1)),xc(c))}function $j(c,f,y){if((Kn&6)!==0)throw Error(r(327));var v=!y&&(f&127)===0&&(f&c.expiredLanes)===0||Zt(c,f),P=v?Ide(c,f):sE(c,f,!0),B=v;do{if(P===0){Qp&&!v&&rf(c,f,0,!1);break}else{if(y=c.current.alternate,B&&!Sde(y)){P=sE(c,f,!1),B=!1;continue}if(P===2){if(B=f,c.errorRecoveryDisabledLanes&B)var te=0;else te=c.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){f=te;e:{var oe=c;P=Ny;var be=oe.current.memoizedState.isDehydrated;if(be&&(n1(oe,te).flags|=256),te=sE(oe,te,!1),te!==2){if(Q7&&!be){oe.errorRecoveryDisabledLanes|=B,Hh|=B,P=4;break e}B=ss,ss=P,B!==null&&(ss===null?ss=B:ss.push.apply(ss,B))}P=te}if(B=!1,P!==2)continue}}if(P===1){n1(c,0),rf(c,f,0,!0);break}e:{switch(v=c,B=P,B){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:rf(v,f,Hs,!Qd);break e;case 2:ss=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(P=C3+300-qe(),10<P)){if(rf(v,f,Hs,!Qd),it(v,0,!0)!==0)break e;Pu=f,v.timeoutHandle=oD(Nj.bind(null,v,y,ss,k3,tE,f,Hs,Hh,e1,Qd,B,"Throttled",-0,0),P);break e}Nj(v,y,ss,k3,tE,f,Hs,Hh,e1,Qd,B,null,-0,0)}}break}while(!0);xc(c)}function Nj(c,f,y,v,P,B,te,oe,be,$e,Fe,He,Pe,Re){if(c.timeoutHandle=-1,He=f.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Al},_j(f,B,He);var $t=(B&62914560)===B?C3-qe():(B&4194048)===B?kj-qe():0;if($t=ufe(He,$t),$t!==null){Pu=B,c.cancelPendingCommit=$t(Uj.bind(null,c,f,B,y,v,P,te,oe,be,Fe,He,null,Pe,Re)),rf(c,B,te,!$e);return}}Uj(c,f,B,y,v,P,te,oe,be)}function Sde(c){for(var f=c;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var v=0;v<y.length;v++){var P=y[v],B=P.getSnapshot;P=P.value;try{if(!Us(B(),P))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function rf(c,f,y,v){f&=~eE,f&=~Hh,c.suspendedLanes|=f,c.pingedLanes&=~f,v&&(c.warmLanes|=f),v=c.expirationTimes;for(var P=f;0<P;){var B=31-ve(P),te=1<<B;v[B]=-1,P&=~te}y!==0&&ee(c,y,f)}function I3(){return(Kn&6)===0?(Oy(0),!1):!0}function aE(){if(wn!==null){if(Qn===0)var c=wn.return;else c=wn,xu=Mh=null,x7(c),Vp=null,gy=0,c=wn;for(;c!==null;)lj(c.alternate,c),c=c.return;wn=null}}function n1(c,f){var y=c.timeoutHandle;y!==-1&&(c.timeoutHandle=-1,Vde(y)),y=c.cancelPendingCommit,y!==null&&(c.cancelPendingCommit=null,y()),Pu=0,aE(),fr=c,wn=y=wu(c.current,null),xn=f,Qn=0,Ws=null,Qd=!1,Qp=Zt(c,f),Q7=!1,e1=Hs=eE=Hh=ef=zr=0,ss=Ny=null,tE=!1,(f&8)!==0&&(f|=f&32);var v=c.entangledLanes;if(v!==0)for(c=c.entanglements,v&=f;0<v;){var P=31-ve(v),B=1<<P;f|=c[P],v&=~B}return Nu=f,Yv(),y}function Pj(c,f){on=null,$.H=_y,f===qp||f===r3?(f=KR(),Qn=3):f===c7?(f=KR(),Qn=4):Qn=f===D7?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Ws=f,wn===null&&(zr=1,y3(c,Ao(f,c.current)))}function Oj(){var c=Fs.current;return c===null?!0:(xn&4194048)===xn?Io===null:(xn&62914560)===xn||(xn&536870912)!==0?c===Io:!1}function Rj(){var c=$.H;return $.H=_y,c===null?_y:c}function Mj(){var c=$.A;return $.A=Ade,c}function T3(){zr=4,Qd||(xn&4194048)!==xn&&Fs.current!==null||(Qp=!0),(ef&134217727)===0&&(Hh&134217727)===0||fr===null||rf(fr,xn,Hs,!1)}function sE(c,f,y){var v=Kn;Kn|=2;var P=Rj(),B=Mj();(fr!==c||xn!==f)&&(k3=null,n1(c,f)),f=!1;var te=zr;e:do try{if(Qn!==0&&wn!==null){var oe=wn,be=Ws;switch(Qn){case 8:aE(),te=6;break e;case 3:case 2:case 9:case 6:Fs.current===null&&(f=!0);var $e=Qn;if(Qn=0,Ws=null,r1(c,oe,be,$e),y&&Qp){te=0;break e}break;default:$e=Qn,Qn=0,Ws=null,r1(c,oe,be,$e)}}kde(),te=zr;break}catch(Fe){Pj(c,Fe)}while(!0);return f&&c.shellSuspendCounter++,xu=Mh=null,Kn=v,$.H=P,$.A=B,wn===null&&(fr=null,xn=0,Yv()),te}function kde(){for(;wn!==null;)jj(wn)}function Ide(c,f){var y=Kn;Kn|=2;var v=Rj(),P=Mj();fr!==c||xn!==f?(k3=null,S3=qe()+500,n1(c,f)):Qp=Zt(c,f);e:do try{if(Qn!==0&&wn!==null){f=wn;var B=Ws;t:switch(Qn){case 1:Qn=0,Ws=null,r1(c,f,B,1);break;case 2:case 9:if(VR(B)){Qn=0,Ws=null,Dj(f);break}f=function(){Qn!==2&&Qn!==9||fr!==c||(Qn=7),xc(c)},B.then(f,f);break e;case 3:Qn=7;break e;case 4:Qn=5;break e;case 7:VR(B)?(Qn=0,Ws=null,Dj(f)):(Qn=0,Ws=null,r1(c,f,B,7));break;case 5:var te=null;switch(wn.tag){case 26:te=wn.memoizedState;case 5:case 27:var oe=wn;if(te?ED(te):oe.stateNode.complete){Qn=0,Ws=null;var be=oe.sibling;if(be!==null)wn=be;else{var $e=oe.return;$e!==null?(wn=$e,$3($e)):wn=null}break t}}Qn=0,Ws=null,r1(c,f,B,5);break;case 6:Qn=0,Ws=null,r1(c,f,B,6);break;case 8:aE(),zr=6;break e;default:throw Error(r(462))}}Tde();break}catch(Fe){Pj(c,Fe)}while(!0);return xu=Mh=null,$.H=v,$.A=P,Kn=y,wn!==null?0:(fr=null,xn=0,Yv(),zr)}function Tde(){for(;wn!==null&&!rt();)jj(wn)}function jj(c){var f=sj(c.alternate,c,Nu);c.memoizedProps=c.pendingProps,f===null?$3(c):wn=f}function Dj(c){var f=c,y=f.alternate;switch(f.tag){case 15:case 0:f=ej(y,f,f.pendingProps,f.type,void 0,xn);break;case 11:f=ej(y,f,f.pendingProps,f.type.render,f.ref,xn);break;case 5:x7(f);default:lj(y,f),f=wn=MR(f,Nu),f=sj(y,f,Nu)}c.memoizedProps=c.pendingProps,f===null?$3(c):wn=f}function r1(c,f,y,v){xu=Mh=null,x7(f),Vp=null,gy=0;var P=f.return;try{if(yde(c,P,f,y,xn)){zr=1,y3(c,Ao(y,c.current)),wn=null;return}}catch(B){if(P!==null)throw wn=P,B;zr=1,y3(c,Ao(y,c.current)),wn=null;return}f.flags&32768?(In||v===1?c=!0:Qp||(xn&536870912)!==0?c=!1:(Qd=c=!0,(v===2||v===9||v===3||v===6)&&(v=Fs.current,v!==null&&v.tag===13&&(v.flags|=16384))),Bj(f,c)):$3(f)}function $3(c){var f=c;do{if((f.flags&32768)!==0){Bj(f,Qd);return}c=f.return;var y=vde(f.alternate,f,Nu);if(y!==null){wn=y;return}if(f=f.sibling,f!==null){wn=f;return}wn=f=c}while(f!==null);zr===0&&(zr=5)}function Bj(c,f){do{var y=xde(c.alternate,c);if(y!==null){y.flags&=32767,wn=y;return}if(y=c.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(c=c.sibling,c!==null)){wn=c;return}wn=c=y}while(c!==null);zr=6,wn=null}function Uj(c,f,y,v,P,B,te,oe,be){c.cancelPendingCommit=null;do N3();while(Ai!==0);if((Kn&6)!==0)throw Error(r(327));if(f!==null){if(f===c.current)throw Error(r(177));if(B=f.lanes|f.childLanes,B|=K9,q(c,y,B,te,oe,be),c===fr&&(wn=fr=null,xn=0),t1=f,nf=c,Pu=y,nE=B,rE=P,Ij=v,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,Ode(gt,function(){return Hj(),null})):(c.callbackNode=null,c.callbackPriority=0),v=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||v){v=$.T,$.T=null,P=D.p,D.p=2,te=Kn,Kn|=4;try{Ede(c,f,y)}finally{Kn=te,D.p=P,$.T=v}}Ai=1,Lj(),Fj(),zj()}}function Lj(){if(Ai===1){Ai=0;var c=nf,f=t1,y=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||y){y=$.T,$.T=null;var v=D.p;D.p=2;var P=Kn;Kn|=4;try{vj(f,c);var B=bE,te=SR(c.containerInfo),oe=B.focusedElem,be=B.selectionRange;if(te!==oe&&oe&&oe.ownerDocument&&CR(oe.ownerDocument.documentElement,oe)){if(be!==null&&W9(oe)){var $e=be.start,Fe=be.end;if(Fe===void 0&&(Fe=$e),"selectionStart"in oe)oe.selectionStart=$e,oe.selectionEnd=Math.min(Fe,oe.value.length);else{var He=oe.ownerDocument||document,Pe=He&&He.defaultView||window;if(Pe.getSelection){var Re=Pe.getSelection(),$t=oe.textContent.length,Yt=Math.min(be.start,$t),lr=be.end===void 0?Yt:Math.min(be.end,$t);!Re.extend&&Yt>lr&&(te=lr,lr=Yt,Yt=te);var Ae=AR(oe,Yt),_e=AR(oe,lr);if(Ae&&_e&&(Re.rangeCount!==1||Re.anchorNode!==Ae.node||Re.anchorOffset!==Ae.offset||Re.focusNode!==_e.node||Re.focusOffset!==_e.offset)){var Te=He.createRange();Te.setStart(Ae.node,Ae.offset),Re.removeAllRanges(),Yt>lr?(Re.addRange(Te),Re.extend(_e.node,_e.offset)):(Te.setEnd(_e.node,_e.offset),Re.addRange(Te))}}}}for(He=[],Re=oe;Re=Re.parentNode;)Re.nodeType===1&&He.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<He.length;oe++){var ze=He[oe];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}W3=!!yE,bE=yE=null}finally{Kn=P,D.p=v,$.T=y}}c.current=f,Ai=2}}function Fj(){if(Ai===2){Ai=0;var c=nf,f=t1,y=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||y){y=$.T,$.T=null;var v=D.p;D.p=2;var P=Kn;Kn|=4;try{gj(c,f.alternate,f)}finally{Kn=P,D.p=v,$.T=y}}Ai=3}}function zj(){if(Ai===4||Ai===3){Ai=0,pt();var c=nf,f=t1,y=Pu,v=Ij;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Ai=5:(Ai=0,t1=nf=null,Wj(c,c.pendingLanes));var P=c.pendingLanes;if(P===0&&(tf=null),je(y),f=f.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(ae,f,void 0,(f.current.flags&128)===128)}catch{}if(v!==null){f=$.T,P=D.p,D.p=2,$.T=null;try{for(var B=c.onRecoverableError,te=0;te<v.length;te++){var oe=v[te];B(oe.value,{componentStack:oe.stack})}}finally{$.T=f,D.p=P}}(Pu&3)!==0&&N3(),xc(c),P=c.pendingLanes,(y&261930)!==0&&(P&42)!==0?c===iE?Py++:(Py=0,iE=c):Py=0,Oy(0)}}function Wj(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,hy(f)))}function N3(){return Lj(),Fj(),zj(),Hj()}function Hj(){if(Ai!==5)return!1;var c=nf,f=nE;nE=0;var y=je(Pu),v=$.T,P=D.p;try{D.p=32>y?32:y,$.T=null,y=rE,rE=null;var B=nf,te=Pu;if(Ai=0,t1=nf=null,Pu=0,(Kn&6)!==0)throw Error(r(331));var oe=Kn;if(Kn|=4,Cj(B.current),Ej(B,B.current,te,y),Kn=oe,Oy(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(ae,B)}catch{}return!0}finally{D.p=P,$.T=v,Wj(c,f)}}function qj(c,f,y){f=Ao(y,f),f=j7(c.stateNode,f,2),c=Yd(c,f,2),c!==null&&(j(c,2),xc(c))}function er(c,f,y){if(c.tag===3)qj(c,c,y);else for(;f!==null;){if(f.tag===3){qj(f,c,y);break}else if(f.tag===1){var v=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(tf===null||!tf.has(v))){c=Ao(y,c),y=VM(2),v=Yd(f,y,2),v!==null&&(GM(y,v,f,c),j(v,2),xc(v));break}}f=f.return}}function oE(c,f,y){var v=c.pingCache;if(v===null){v=c.pingCache=new Cde;var P=new Set;v.set(f,P)}else P=v.get(f),P===void 0&&(P=new Set,v.set(f,P));P.has(y)||(Q7=!0,P.add(y),c=$de.bind(null,c,f,y),f.then(c,c))}function $de(c,f,y){var v=c.pingCache;v!==null&&v.delete(f),c.pingedLanes|=c.suspendedLanes&y,c.warmLanes&=~y,fr===c&&(xn&y)===y&&(zr===4||zr===3&&(xn&62914560)===xn&&300>qe()-C3?(Kn&2)===0&&n1(c,0):eE|=y,e1===xn&&(e1=0)),xc(c)}function Vj(c,f){f===0&&(f=tn()),c=Ph(c,f),c!==null&&(j(c,f),xc(c))}function Nde(c){var f=c.memoizedState,y=0;f!==null&&(y=f.retryLane),Vj(c,y)}function Pde(c,f){var y=0;switch(c.tag){case 31:case 13:var v=c.stateNode,P=c.memoizedState;P!==null&&(y=P.retryLane);break;case 19:v=c.stateNode;break;case 22:v=c.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(f),Vj(c,y)}function Ode(c,f){return Ue(c,f)}var P3=null,i1=null,lE=!1,O3=!1,cE=!1,af=0;function xc(c){c!==i1&&c.next===null&&(i1===null?P3=i1=c:i1=i1.next=c),O3=!0,lE||(lE=!0,Mde())}function Oy(c,f){if(!cE&&O3){cE=!0;do for(var y=!1,v=P3;v!==null;){if(c!==0){var P=v.pendingLanes;if(P===0)var B=0;else{var te=v.suspendedLanes,oe=v.pingedLanes;B=(1<<31-ve(42|c)+1)-1,B&=P&~(te&~oe),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(y=!0,Zj(v,B))}else B=xn,B=it(v,v===fr?B:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(B&3)===0||Zt(v,B)||(y=!0,Zj(v,B));v=v.next}while(y);cE=!1}}function Rde(){Gj()}function Gj(){O3=lE=!1;var c=0;af!==0&&qde()&&(c=af);for(var f=qe(),y=null,v=P3;v!==null;){var P=v.next,B=Kj(v,f);B===0?(v.next=null,y===null?P3=P:y.next=P,P===null&&(i1=y)):(y=v,(c!==0||(B&3)!==0)&&(O3=!0)),v=P}Ai!==0&&Ai!==5||Oy(c),af!==0&&(af=0)}function Kj(c,f){for(var y=c.suspendedLanes,v=c.pingedLanes,P=c.expirationTimes,B=c.pendingLanes&-62914561;0<B;){var te=31-ve(B),oe=1<<te,be=P[te];be===-1?((oe&y)===0||(oe&v)!==0)&&(P[te]=ir(oe,f)):be<=f&&(c.expiredLanes|=oe),B&=~oe}if(f=fr,y=xn,y=it(c,c===f?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v=c.callbackNode,y===0||c===f&&(Qn===2||Qn===9)||c.cancelPendingCommit!==null)return v!==null&&v!==null&&Ge(v),c.callbackNode=null,c.callbackPriority=0;if((y&3)===0||Zt(c,y)){if(f=y&-y,f===c.callbackPriority)return f;switch(v!==null&&Ge(v),je(y)){case 2:case 8:y=Ct;break;case 32:y=gt;break;case 268435456:y=re;break;default:y=gt}return v=Yj.bind(null,c),y=Ue(y,v),c.callbackPriority=f,c.callbackNode=y,f}return v!==null&&v!==null&&Ge(v),c.callbackPriority=2,c.callbackNode=null,2}function Yj(c,f){if(Ai!==0&&Ai!==5)return c.callbackNode=null,c.callbackPriority=0,null;var y=c.callbackNode;if(N3()&&c.callbackNode!==y)return null;var v=xn;return v=it(c,c===fr?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v===0?null:($j(c,v,f),Kj(c,qe()),c.callbackNode!=null&&c.callbackNode===y?Yj.bind(null,c):null)}function Zj(c,f){if(N3())return null;$j(c,f,!0)}function Mde(){Gde(function(){(Kn&6)!==0?Ue(Ot,Rde):Gj()})}function uE(){if(af===0){var c=Wp;c===0&&(c=Mt,Mt<<=1,(Mt&261888)===0&&(Mt=256)),af=c}return af}function Jj(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:$p(""+c)}function Xj(c,f){var y=f.ownerDocument.createElement("input");return y.name=f.name,y.value=f.value,c.id&&y.setAttribute("form",c.id),f.parentNode.insertBefore(y,f),c=new FormData(c),y.parentNode.removeChild(y),c}function jde(c,f,y,v,P){if(f==="submit"&&y&&y.stateNode===P){var B=Jj((P[It]||null).action),te=v.submitter;te&&(f=(f=te[It]||null)?Jj(f.formAction):te.getAttribute("formAction"),f!==null&&(B=f,te=null));var oe=new Np("action","action",null,v,P);c.push({event:oe,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(af!==0){var be=te?Xj(P,te):new FormData(P);$7(y,{pending:!0,data:be,method:P.method,action:B},null,be)}}else typeof B=="function"&&(oe.preventDefault(),be=te?Xj(P,te):new FormData(P),$7(y,{pending:!0,data:be,method:P.method,action:B},B,be))},currentTarget:P}]})}}for(var dE=0;dE<G9.length;dE++){var fE=G9[dE],Dde=fE.toLowerCase(),Bde=fE[0].toUpperCase()+fE.slice(1);Cl(Dde,"on"+Bde)}Cl(TR,"onAnimationEnd"),Cl($R,"onAnimationIteration"),Cl(NR,"onAnimationStart"),Cl("dblclick","onDoubleClick"),Cl("focusin","onFocus"),Cl("focusout","onBlur"),Cl(ede,"onTransitionRun"),Cl(tde,"onTransitionStart"),Cl(nde,"onTransitionCancel"),Cl(PR,"onTransitionEnd"),Lr("onMouseEnter",["mouseout","mouseover"]),Lr("onMouseLeave",["mouseout","mouseover"]),Lr("onPointerEnter",["pointerout","pointerover"]),Lr("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ry="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ude=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ry));function Qj(c,f){f=(f&4)!==0;for(var y=0;y<c.length;y++){var v=c[y],P=v.event;v=v.listeners;e:{var B=void 0;if(f)for(var te=v.length-1;0<=te;te--){var oe=v[te],be=oe.instance,$e=oe.currentTarget;if(oe=oe.listener,be!==B&&P.isPropagationStopped())break e;B=oe,P.currentTarget=$e;try{B(P)}catch(Fe){Kv(Fe)}P.currentTarget=null,B=be}else for(te=0;te<v.length;te++){if(oe=v[te],be=oe.instance,$e=oe.currentTarget,oe=oe.listener,be!==B&&P.isPropagationStopped())break e;B=oe,P.currentTarget=$e;try{B(P)}catch(Fe){Kv(Fe)}P.currentTarget=null,B=be}}}}function vn(c,f){var y=f[Wt];y===void 0&&(y=f[Wt]=new Set);var v=c+"__bubble";y.has(v)||(eD(f,c,2,!1),y.add(v))}function hE(c,f,y){var v=0;f&&(v|=4),eD(y,c,v,f)}var R3="_reactListening"+Math.random().toString(36).slice(2);function pE(c){if(!c[R3]){c[R3]=!0,Gn.forEach(function(y){y!=="selectionchange"&&(Ude.has(y)||hE(y,!1,c),hE(y,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[R3]||(f[R3]=!0,hE("selectionchange",!1,f))}}function eD(c,f,y,v){switch(TD(f)){case 2:var P=hfe;break;case 8:P=pfe;break;default:P=TE}y=P.bind(null,f,y,c),P=void 0,!iy||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(P=!0),v?P!==void 0?c.addEventListener(f,y,{capture:!0,passive:P}):c.addEventListener(f,y,!0):P!==void 0?c.addEventListener(f,y,{passive:P}):c.addEventListener(f,y,!1)}function gE(c,f,y,v,P){var B=v;if((f&1)===0&&(f&2)===0&&v!==null)e:for(;;){if(v===null)return;var te=v.tag;if(te===3||te===4){var oe=v.stateNode.containerInfo;if(oe===P)break;if(te===4)for(te=v.return;te!==null;){var be=te.tag;if((be===3||be===4)&&te.stateNode.containerInfo===P)return;te=te.return}for(;oe!==null;){if(te=Vn(oe),te===null)return;if(be=te.tag,be===5||be===6||be===26||be===27){v=B=te;continue e}oe=oe.parentNode}}v=v.return}Hv(function(){var $e=B,Fe=ny(y),He=[];e:{var Pe=OR.get(c);if(Pe!==void 0){var Re=Np,$t=c;switch(c){case"keypress":if(sn(y)===0)break e;case"keydown":case"keyup":Re=Pue;break;case"focusin":$t="focus",Re=B9;break;case"focusout":$t="blur",Re=B9;break;case"beforeblur":case"afterblur":Re=B9;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=lR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=vue;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Mue;break;case TR:case $R:case NR:Re=_ue;break;case PR:Re=Due;break;case"scroll":case"scrollend":Re=qv;break;case"wheel":Re=Uue;break;case"copy":case"cut":case"paste":Re=Cue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=uR;break;case"toggle":case"beforetoggle":Re=Fue}var Yt=(f&4)!==0,lr=!Yt&&(c==="scroll"||c==="scrollend"),Ae=Yt?Pe!==null?Pe+"Capture":null:Pe;Yt=[];for(var _e=$e,Te;_e!==null;){var ze=_e;if(Te=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Te===null||Ae===null||(ze=Th(_e,Ae),ze!=null&&Yt.push(My(_e,ze,Te))),lr)break;_e=_e.return}0<Yt.length&&(Pe=new Re(Pe,$t,null,y,Fe),He.push({event:Pe,listeners:Yt}))}}if((f&7)===0){e:{if(Pe=c==="mouseover"||c==="pointerover",Re=c==="mouseout"||c==="pointerout",Pe&&y!==ty&&($t=y.relatedTarget||y.fromElement)&&(Vn($t)||$t[St]))break e;if((Re||Pe)&&(Pe=Fe.window===Fe?Fe:(Pe=Fe.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Re?($t=y.relatedTarget||y.toElement,Re=$e,$t=$t?Vn($t):null,$t!==null&&(lr=a($t),Yt=$t.tag,$t!==lr||Yt!==5&&Yt!==27&&Yt!==6)&&($t=null)):(Re=null,$t=$e),Re!==$t)){if(Yt=lR,ze="onMouseLeave",Ae="onMouseEnter",_e="mouse",(c==="pointerout"||c==="pointerover")&&(Yt=uR,ze="onPointerLeave",Ae="onPointerEnter",_e="pointer"),lr=Re==null?Pe:wa(Re),Te=$t==null?Pe:wa($t),Pe=new Yt(ze,_e+"leave",Re,y,Fe),Pe.target=lr,Pe.relatedTarget=Te,ze=null,Vn(Fe)===$e&&(Yt=new Yt(Ae,_e+"enter",$t,y,Fe),Yt.target=Te,Yt.relatedTarget=lr,ze=Yt),lr=ze,Re&&$t)t:{for(Yt=Lde,Ae=Re,_e=$t,Te=0,ze=Ae;ze;ze=Yt(ze))Te++;ze=0;for(var qt=_e;qt;qt=Yt(qt))ze++;for(;0<Te-ze;)Ae=Yt(Ae),Te--;for(;0<ze-Te;)_e=Yt(_e),ze--;for(;Te--;){if(Ae===_e||_e!==null&&Ae===_e.alternate){Yt=Ae;break t}Ae=Yt(Ae),_e=Yt(_e)}Yt=null}else Yt=null;Re!==null&&tD(He,Pe,Re,Yt,!1),$t!==null&&lr!==null&&tD(He,lr,$t,Yt,!0)}}e:{if(Pe=$e?wa($e):window,Re=Pe.nodeName&&Pe.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Pe.type==="file")var Bn=bR;else if(mR(Pe))if(wR)Bn=Jue;else{Bn=Yue;var Dt=Kue}else Re=Pe.nodeName,!Re||Re.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?$e&&ey($e.elementType)&&(Bn=bR):Bn=Zue;if(Bn&&(Bn=Bn(c,$e))){yR(He,Bn,y,Fe);break e}Dt&&Dt(c,Pe,$e),c==="focusout"&&$e&&Pe.type==="number"&&$e.memoizedProps.value!=null&&Qm(Pe,"number",Pe.value)}switch(Dt=$e?wa($e):window,c){case"focusin":(mR(Dt)||Dt.contentEditable==="true")&&(Mp=Dt,H9=$e,uy=null);break;case"focusout":uy=H9=Mp=null;break;case"mousedown":q9=!0;break;case"contextmenu":case"mouseup":case"dragend":q9=!1,kR(He,y,Fe);break;case"selectionchange":if(Que)break;case"keydown":case"keyup":kR(He,y,Fe)}var ln;if(L9)e:{switch(c){case"compositionstart":var En="onCompositionStart";break e;case"compositionend":En="onCompositionEnd";break e;case"compositionupdate":En="onCompositionUpdate";break e}En=void 0}else Rp?pR(c,y)&&(En="onCompositionEnd"):c==="keydown"&&y.keyCode===229&&(En="onCompositionStart");En&&(dR&&y.locale!=="ko"&&(Rp||En!=="onCompositionStart"?En==="onCompositionEnd"&&Rp&&(ln=et()):(fe=Fe,we="value"in fe?fe.value:fe.textContent,Rp=!0)),Dt=M3($e,En),0<Dt.length&&(En=new cR(En,c,null,y,Fe),He.push({event:En,listeners:Dt}),ln?En.data=ln:(ln=gR(y),ln!==null&&(En.data=ln)))),(ln=Wue?Hue(c,y):que(c,y))&&(En=M3($e,"onBeforeInput"),0<En.length&&(Dt=new cR("onBeforeInput","beforeinput",null,y,Fe),He.push({event:Dt,listeners:En}),Dt.data=ln)),jde(He,c,$e,y,Fe)}Qj(He,f)})}function My(c,f,y){return{instance:c,listener:f,currentTarget:y}}function M3(c,f){for(var y=f+"Capture",v=[];c!==null;){var P=c,B=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||B===null||(P=Th(c,y),P!=null&&v.unshift(My(c,P,B)),P=Th(c,f),P!=null&&v.push(My(c,P,B))),c.tag===3)return v;c=c.return}return[]}function Lde(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function tD(c,f,y,v,P){for(var B=f._reactName,te=[];y!==null&&y!==v;){var oe=y,be=oe.alternate,$e=oe.stateNode;if(oe=oe.tag,be!==null&&be===v)break;oe!==5&&oe!==26&&oe!==27||$e===null||(be=$e,P?($e=Th(y,B),$e!=null&&te.unshift(My(y,$e,be))):P||($e=Th(y,B),$e!=null&&te.push(My(y,$e,be)))),y=y.return}te.length!==0&&c.push({event:f,listeners:te})}var Fde=/\r\n?/g,zde=/\u0000|\uFFFD/g;function nD(c){return(typeof c=="string"?c:""+c).replace(Fde,`
`).replace(zde,"")}function rD(c,f){return f=nD(f),nD(c)===f}function or(c,f,y,v,P,B){switch(y){case"children":typeof v=="string"?f==="body"||f==="textarea"&&v===""||Ud(c,v):(typeof v=="number"||typeof v=="bigint")&&f!=="body"&&Ud(c,""+v);break;case"className":yc(c,"class",v);break;case"tabIndex":yc(c,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":yc(c,y,v);break;case"style":zv(c,v,B);break;case"data":if(f!=="object"){yc(c,"data",v);break}case"src":case"href":if(v===""&&(f!=="a"||y!=="href")){c.removeAttribute(y);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(y);break}v=$p(""+v),c.setAttribute(y,v);break;case"action":case"formAction":if(typeof v=="function"){c.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(y==="formAction"?(f!=="input"&&or(c,f,"name",P.name,P,null),or(c,f,"formEncType",P.formEncType,P,null),or(c,f,"formMethod",P.formMethod,P,null),or(c,f,"formTarget",P.formTarget,P,null)):(or(c,f,"encType",P.encType,P,null),or(c,f,"method",P.method,P,null),or(c,f,"target",P.target,P,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(y);break}v=$p(""+v),c.setAttribute(y,v);break;case"onClick":v!=null&&(c.onclick=Al);break;case"onScroll":v!=null&&vn("scroll",c);break;case"onScrollEnd":v!=null&&vn("scrollend",c);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(y=v.__html,y!=null){if(P.children!=null)throw Error(r(60));c.innerHTML=y}}break;case"multiple":c.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":c.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){c.removeAttribute("xlink:href");break}y=$p(""+v),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(y,""+v):c.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(y,""):c.removeAttribute(y);break;case"capture":case"download":v===!0?c.setAttribute(y,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(y,v):c.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?c.setAttribute(y,v):c.removeAttribute(y);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?c.removeAttribute(y):c.setAttribute(y,v);break;case"popover":vn("beforetoggle",c),vn("toggle",c),mc(c,"popover",v);break;case"xlinkActuate":_l(c,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":_l(c,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":_l(c,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":_l(c,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":_l(c,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":_l(c,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":_l(c,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":_l(c,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":_l(c,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":mc(c,"is",v);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=j9.get(y)||y,mc(c,y,v))}}function mE(c,f,y,v,P,B){switch(y){case"style":zv(c,v,B);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(y=v.__html,y!=null){if(P.children!=null)throw Error(r(60));c.innerHTML=y}}break;case"children":typeof v=="string"?Ud(c,v):(typeof v=="number"||typeof v=="bigint")&&Ud(c,""+v);break;case"onScroll":v!=null&&vn("scroll",c);break;case"onScrollEnd":v!=null&&vn("scrollend",c);break;case"onClick":v!=null&&(c.onclick=Al);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nn.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(P=y.endsWith("Capture"),f=y.slice(2,P?y.length-7:void 0),B=c[It]||null,B=B!=null?B[y]:null,typeof B=="function"&&c.removeEventListener(f,B,P),typeof v=="function")){typeof B!="function"&&B!==null&&(y in c?c[y]=null:c.hasAttribute(y)&&c.removeAttribute(y)),c.addEventListener(f,v,P);break e}y in c?c[y]=v:v===!0?c.setAttribute(y,""):mc(c,y,v)}}}function Qi(c,f,y){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",c),vn("load",c);var v=!1,P=!1,B;for(B in y)if(y.hasOwnProperty(B)){var te=y[B];if(te!=null)switch(B){case"src":v=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:or(c,f,B,te,y,null)}}P&&or(c,f,"srcSet",y.srcSet,y,null),v&&or(c,f,"src",y.src,y,null);return;case"input":vn("invalid",c);var oe=B=te=P=null,be=null,$e=null;for(v in y)if(y.hasOwnProperty(v)){var Fe=y[v];if(Fe!=null)switch(v){case"name":P=Fe;break;case"type":te=Fe;break;case"checked":be=Fe;break;case"defaultChecked":$e=Fe;break;case"value":B=Fe;break;case"defaultValue":oe=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,f));break;default:or(c,f,v,Fe,y,null)}}Bv(c,B,oe,be,$e,te,P,!1);return;case"select":vn("invalid",c),v=te=B=null;for(P in y)if(y.hasOwnProperty(P)&&(oe=y[P],oe!=null))switch(P){case"value":B=oe;break;case"defaultValue":te=oe;break;case"multiple":v=oe;default:or(c,f,P,oe,y,null)}f=B,y=te,c.multiple=!!v,f!=null?Bd(c,!!v,f,!1):y!=null&&Bd(c,!!v,y,!0);return;case"textarea":vn("invalid",c),B=P=v=null;for(te in y)if(y.hasOwnProperty(te)&&(oe=y[te],oe!=null))switch(te){case"value":v=oe;break;case"defaultValue":P=oe;break;case"children":B=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(91));break;default:or(c,f,te,oe,y,null)}Lv(c,v,P,B);return;case"option":for(be in y)if(y.hasOwnProperty(be)&&(v=y[be],v!=null))switch(be){case"selected":c.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:or(c,f,be,v,y,null)}return;case"dialog":vn("beforetoggle",c),vn("toggle",c),vn("cancel",c),vn("close",c);break;case"iframe":case"object":vn("load",c);break;case"video":case"audio":for(v=0;v<Ry.length;v++)vn(Ry[v],c);break;case"image":vn("error",c),vn("load",c);break;case"details":vn("toggle",c);break;case"embed":case"source":case"link":vn("error",c),vn("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in y)if(y.hasOwnProperty($e)&&(v=y[$e],v!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:or(c,f,$e,v,y,null)}return;default:if(ey(f)){for(Fe in y)y.hasOwnProperty(Fe)&&(v=y[Fe],v!==void 0&&mE(c,f,Fe,v,y,void 0));return}}for(oe in y)y.hasOwnProperty(oe)&&(v=y[oe],v!=null&&or(c,f,oe,v,y,null))}function Wde(c,f,y,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,B=null,te=null,oe=null,be=null,$e=null,Fe=null;for(Re in y){var He=y[Re];if(y.hasOwnProperty(Re)&&He!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":be=He;default:v.hasOwnProperty(Re)||or(c,f,Re,null,v,He)}}for(var Pe in v){var Re=v[Pe];if(He=y[Pe],v.hasOwnProperty(Pe)&&(Re!=null||He!=null))switch(Pe){case"type":B=Re;break;case"name":P=Re;break;case"checked":$e=Re;break;case"defaultChecked":Fe=Re;break;case"value":te=Re;break;case"defaultValue":oe=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,f));break;default:Re!==He&&or(c,f,Pe,Re,v,He)}}Xm(c,te,oe,be,$e,Fe,B,P);return;case"select":Re=te=oe=Pe=null;for(B in y)if(be=y[B],y.hasOwnProperty(B)&&be!=null)switch(B){case"value":break;case"multiple":Re=be;default:v.hasOwnProperty(B)||or(c,f,B,null,v,be)}for(P in v)if(B=v[P],be=y[P],v.hasOwnProperty(P)&&(B!=null||be!=null))switch(P){case"value":Pe=B;break;case"defaultValue":oe=B;break;case"multiple":te=B;default:B!==be&&or(c,f,P,B,v,be)}f=oe,y=te,v=Re,Pe!=null?Bd(c,!!y,Pe,!1):!!v!=!!y&&(f!=null?Bd(c,!!y,f,!0):Bd(c,!!y,y?[]:"",!1));return;case"textarea":Re=Pe=null;for(oe in y)if(P=y[oe],y.hasOwnProperty(oe)&&P!=null&&!v.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:or(c,f,oe,null,v,P)}for(te in v)if(P=v[te],B=y[te],v.hasOwnProperty(te)&&(P!=null||B!=null))switch(te){case"value":Pe=P;break;case"defaultValue":Re=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:P!==B&&or(c,f,te,P,v,B)}Uv(c,Pe,Re);return;case"option":for(var $t in y)if(Pe=y[$t],y.hasOwnProperty($t)&&Pe!=null&&!v.hasOwnProperty($t))switch($t){case"selected":c.selected=!1;break;default:or(c,f,$t,null,v,Pe)}for(be in v)if(Pe=v[be],Re=y[be],v.hasOwnProperty(be)&&Pe!==Re&&(Pe!=null||Re!=null))switch(be){case"selected":c.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:or(c,f,be,Pe,v,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in y)Pe=y[Yt],y.hasOwnProperty(Yt)&&Pe!=null&&!v.hasOwnProperty(Yt)&&or(c,f,Yt,null,v,Pe);for($e in v)if(Pe=v[$e],Re=y[$e],v.hasOwnProperty($e)&&Pe!==Re&&(Pe!=null||Re!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,f));break;default:or(c,f,$e,Pe,v,Re)}return;default:if(ey(f)){for(var lr in y)Pe=y[lr],y.hasOwnProperty(lr)&&Pe!==void 0&&!v.hasOwnProperty(lr)&&mE(c,f,lr,void 0,v,Pe);for(Fe in v)Pe=v[Fe],Re=y[Fe],!v.hasOwnProperty(Fe)||Pe===Re||Pe===void 0&&Re===void 0||mE(c,f,Fe,Pe,v,Re);return}}for(var Ae in y)Pe=y[Ae],y.hasOwnProperty(Ae)&&Pe!=null&&!v.hasOwnProperty(Ae)&&or(c,f,Ae,null,v,Pe);for(He in v)Pe=v[He],Re=y[He],!v.hasOwnProperty(He)||Pe===Re||Pe==null&&Re==null||or(c,f,He,Pe,v,Re)}function iD(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hde(){if(typeof performance.getEntriesByType=="function"){for(var c=0,f=0,y=performance.getEntriesByType("resource"),v=0;v<y.length;v++){var P=y[v],B=P.transferSize,te=P.initiatorType,oe=P.duration;if(B&&oe&&iD(te)){for(te=0,oe=P.responseEnd,v+=1;v<y.length;v++){var be=y[v],$e=be.startTime;if($e>oe)break;var Fe=be.transferSize,He=be.initiatorType;Fe&&iD(He)&&(be=be.responseEnd,te+=Fe*(be<oe?1:(oe-$e)/(be-$e)))}if(--v,f+=8*(B+te)/(P.duration/1e3),c++,10<c)break}}if(0<c)return f/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var yE=null,bE=null;function j3(c){return c.nodeType===9?c:c.ownerDocument}function aD(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sD(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function wE(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var vE=null;function qde(){var c=window.event;return c&&c.type==="popstate"?c===vE?!1:(vE=c,!0):(vE=null,!1)}var oD=typeof setTimeout=="function"?setTimeout:void 0,Vde=typeof clearTimeout=="function"?clearTimeout:void 0,lD=typeof Promise=="function"?Promise:void 0,Gde=typeof queueMicrotask=="function"?queueMicrotask:typeof lD<"u"?function(c){return lD.resolve(null).then(c).catch(Kde)}:oD;function Kde(c){setTimeout(function(){throw c})}function sf(c){return c==="head"}function cD(c,f){var y=f,v=0;do{var P=y.nextSibling;if(c.removeChild(y),P&&P.nodeType===8)if(y=P.data,y==="/$"||y==="/&"){if(v===0){c.removeChild(P),l1(f);return}v--}else if(y==="$"||y==="$?"||y==="$~"||y==="$!"||y==="&")v++;else if(y==="html")jy(c.ownerDocument.documentElement);else if(y==="head"){y=c.ownerDocument.head,jy(y);for(var B=y.firstChild;B;){var te=B.nextSibling,oe=B.nodeName;B[qn]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&B.rel.toLowerCase()==="stylesheet"||y.removeChild(B),B=te}}else y==="body"&&jy(c.ownerDocument.body);y=P}while(y);l1(f)}function uD(c,f){var y=c;c=0;do{var v=y.nextSibling;if(y.nodeType===1?f?(y._stashedDisplay=y.style.display,y.style.display="none"):(y.style.display=y._stashedDisplay||"",y.getAttribute("style")===""&&y.removeAttribute("style")):y.nodeType===3&&(f?(y._stashedText=y.nodeValue,y.nodeValue=""):y.nodeValue=y._stashedText||""),v&&v.nodeType===8)if(y=v.data,y==="/$"){if(c===0)break;c--}else y!=="$"&&y!=="$?"&&y!=="$~"&&y!=="$!"||c++;y=v}while(y)}function xE(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var y=f;switch(f=f.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":xE(y),mn(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}c.removeChild(y)}}function Yde(c,f,y,v){for(;c.nodeType===1;){var P=y;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!v&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(v){if(!c[qn])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(B=c.getAttribute("rel"),B==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(B!==P.rel||c.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||c.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||c.getAttribute("title")!==(P.title==null?null:P.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(B=c.getAttribute("src"),(B!==(P.src==null?null:P.src)||c.getAttribute("type")!==(P.type==null?null:P.type)||c.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&B&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var B=P.name==null?null:""+P.name;if(P.type==="hidden"&&c.getAttribute("name")===B)return c}else return c;if(c=To(c.nextSibling),c===null)break}return null}function Zde(c,f,y){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!y||(c=To(c.nextSibling),c===null))return null;return c}function dD(c,f){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!f||(c=To(c.nextSibling),c===null))return null;return c}function EE(c){return c.data==="$?"||c.data==="$~"}function _E(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function Jde(c,f){var y=c.ownerDocument;if(c.data==="$~")c._reactRetry=f;else if(c.data!=="$?"||y.readyState!=="loading")f();else{var v=function(){f(),y.removeEventListener("DOMContentLoaded",v)};y.addEventListener("DOMContentLoaded",v),c._reactRetry=v}}function To(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return c}var AE=null;function fD(c){c=c.nextSibling;for(var f=0;c;){if(c.nodeType===8){var y=c.data;if(y==="/$"||y==="/&"){if(f===0)return To(c.nextSibling);f--}else y!=="$"&&y!=="$!"&&y!=="$?"&&y!=="$~"&&y!=="&"||f++}c=c.nextSibling}return null}function hD(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var y=c.data;if(y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"){if(f===0)return c;f--}else y!=="/$"&&y!=="/&"||f++}c=c.previousSibling}return null}function pD(c,f,y){switch(f=j3(y),c){case"html":if(c=f.documentElement,!c)throw Error(r(452));return c;case"head":if(c=f.head,!c)throw Error(r(453));return c;case"body":if(c=f.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function jy(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);mn(c)}var $o=new Map,gD=new Set;function D3(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Ou=D.d;D.d={f:Xde,r:Qde,D:efe,C:tfe,L:nfe,m:rfe,X:afe,S:ife,M:sfe};function Xde(){var c=Ou.f(),f=I3();return c||f}function Qde(c){var f=wr(c);f!==null&&f.tag===5&&f.type==="form"?PM(f):Ou.r(c)}var a1=typeof document>"u"?null:document;function mD(c,f,y){var v=a1;if(v&&typeof f=="string"&&f){var P=ns(f);P='link[rel="'+c+'"][href="'+P+'"]',typeof y=="string"&&(P+='[crossorigin="'+y+'"]'),gD.has(P)||(gD.add(P),c={rel:c,crossOrigin:y,href:f},v.querySelector(P)===null&&(f=v.createElement("link"),Qi(f,"link",c),zt(f),v.head.appendChild(f)))}}function efe(c){Ou.D(c),mD("dns-prefetch",c,null)}function tfe(c,f){Ou.C(c,f),mD("preconnect",c,f)}function nfe(c,f,y){Ou.L(c,f,y);var v=a1;if(v&&c&&f){var P='link[rel="preload"][as="'+ns(f)+'"]';f==="image"&&y&&y.imageSrcSet?(P+='[imagesrcset="'+ns(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(P+='[imagesizes="'+ns(y.imageSizes)+'"]')):P+='[href="'+ns(c)+'"]';var B=P;switch(f){case"style":B=s1(c);break;case"script":B=o1(c)}$o.has(B)||(c=h({rel:"preload",href:f==="image"&&y&&y.imageSrcSet?void 0:c,as:f},y),$o.set(B,c),v.querySelector(P)!==null||f==="style"&&v.querySelector(Dy(B))||f==="script"&&v.querySelector(By(B))||(f=v.createElement("link"),Qi(f,"link",c),zt(f),v.head.appendChild(f)))}}function rfe(c,f){Ou.m(c,f);var y=a1;if(y&&c){var v=f&&typeof f.as=="string"?f.as:"script",P='link[rel="modulepreload"][as="'+ns(v)+'"][href="'+ns(c)+'"]',B=P;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=o1(c)}if(!$o.has(B)&&(c=h({rel:"modulepreload",href:c},f),$o.set(B,c),y.querySelector(P)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(By(B)))return}v=y.createElement("link"),Qi(v,"link",c),zt(v),y.head.appendChild(v)}}}function ife(c,f,y){Ou.S(c,f,y);var v=a1;if(v&&c){var P=Ba(v).hoistableStyles,B=s1(c);f=f||"default";var te=P.get(B);if(!te){var oe={loading:0,preload:null};if(te=v.querySelector(Dy(B)))oe.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":f},y),(y=$o.get(B))&&CE(c,y);var be=te=v.createElement("link");zt(be),Qi(be,"link",c),be._p=new Promise(function($e,Fe){be.onload=$e,be.onerror=Fe}),be.addEventListener("load",function(){oe.loading|=1}),be.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,B3(te,f,v)}te={type:"stylesheet",instance:te,count:1,state:oe},P.set(B,te)}}}function afe(c,f){Ou.X(c,f);var y=a1;if(y&&c){var v=Ba(y).hoistableScripts,P=o1(c),B=v.get(P);B||(B=y.querySelector(By(P)),B||(c=h({src:c,async:!0},f),(f=$o.get(P))&&SE(c,f),B=y.createElement("script"),zt(B),Qi(B,"link",c),y.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},v.set(P,B))}}function sfe(c,f){Ou.M(c,f);var y=a1;if(y&&c){var v=Ba(y).hoistableScripts,P=o1(c),B=v.get(P);B||(B=y.querySelector(By(P)),B||(c=h({src:c,async:!0,type:"module"},f),(f=$o.get(P))&&SE(c,f),B=y.createElement("script"),zt(B),Qi(B,"link",c),y.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},v.set(P,B))}}function yD(c,f,y,v){var P=(P=se.current)?D3(P):null;if(!P)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(f=s1(y.href),y=Ba(P).hoistableStyles,v=y.get(f),v||(v={type:"style",instance:null,count:0,state:null},y.set(f,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){c=s1(y.href);var B=Ba(P).hoistableStyles,te=B.get(c);if(te||(P=P.ownerDocument||P,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(c,te),(B=P.querySelector(Dy(c)))&&!B._p&&(te.instance=B,te.state.loading=5),$o.has(c)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},$o.set(c,y),B||ofe(P,c,y,te.state))),f&&v===null)throw Error(r(528,""));return te}if(f&&v!==null)throw Error(r(529,""));return null;case"script":return f=y.async,y=y.src,typeof y=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=o1(y),y=Ba(P).hoistableScripts,v=y.get(f),v||(v={type:"script",instance:null,count:0,state:null},y.set(f,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function s1(c){return'href="'+ns(c)+'"'}function Dy(c){return'link[rel="stylesheet"]['+c+"]"}function bD(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function ofe(c,f,y,v){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?v.loading=1:(f=c.createElement("link"),v.preload=f,f.addEventListener("load",function(){return v.loading|=1}),f.addEventListener("error",function(){return v.loading|=2}),Qi(f,"link",y),zt(f),c.head.appendChild(f))}function o1(c){return'[src="'+ns(c)+'"]'}function By(c){return"script[async]"+c}function wD(c,f,y){if(f.count++,f.instance===null)switch(f.type){case"style":var v=c.querySelector('style[data-href~="'+ns(y.href)+'"]');if(v)return f.instance=v,zt(v),v;var P=h({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return v=(c.ownerDocument||c).createElement("style"),zt(v),Qi(v,"style",P),B3(v,y.precedence,c),f.instance=v;case"stylesheet":P=s1(y.href);var B=c.querySelector(Dy(P));if(B)return f.state.loading|=4,f.instance=B,zt(B),B;v=bD(y),(P=$o.get(P))&&CE(v,P),B=(c.ownerDocument||c).createElement("link"),zt(B);var te=B;return te._p=new Promise(function(oe,be){te.onload=oe,te.onerror=be}),Qi(B,"link",v),f.state.loading|=4,B3(B,y.precedence,c),f.instance=B;case"script":return B=o1(y.src),(P=c.querySelector(By(B)))?(f.instance=P,zt(P),P):(v=y,(P=$o.get(B))&&(v=h({},y),SE(v,P)),c=c.ownerDocument||c,P=c.createElement("script"),zt(P),Qi(P,"link",v),c.head.appendChild(P),f.instance=P);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(v=f.instance,f.state.loading|=4,B3(v,y.precedence,c));return f.instance}function B3(c,f,y){for(var v=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=v.length?v[v.length-1]:null,B=P,te=0;te<v.length;te++){var oe=v[te];if(oe.dataset.precedence===f)B=oe;else if(B!==P)break}B?B.parentNode.insertBefore(c,B.nextSibling):(f=y.nodeType===9?y.head:y,f.insertBefore(c,f.firstChild))}function CE(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function SE(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var U3=null;function vD(c,f,y){if(U3===null){var v=new Map,P=U3=new Map;P.set(y,v)}else P=U3,v=P.get(y),v||(v=new Map,P.set(y,v));if(v.has(c))return v;for(v.set(c,null),y=y.getElementsByTagName(c),P=0;P<y.length;P++){var B=y[P];if(!(B[qn]||B[Je]||c==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var te=B.getAttribute(f)||"";te=c+te;var oe=v.get(te);oe?oe.push(B):v.set(te,[B])}}return v}function xD(c,f,y){c=c.ownerDocument||c,c.head.insertBefore(y,f==="title"?c.querySelector("head > title"):null)}function lfe(c,f,y){if(y===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function ED(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function cfe(c,f,y,v){if(y.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(y.state.loading&4)===0){if(y.instance===null){var P=s1(v.href),B=f.querySelector(Dy(P));if(B){f=B._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(c.count++,c=L3.bind(c),f.then(c,c)),y.state.loading|=4,y.instance=B,zt(B);return}B=f.ownerDocument||f,v=bD(v),(P=$o.get(P))&&CE(v,P),B=B.createElement("link"),zt(B);var te=B;te._p=new Promise(function(oe,be){te.onload=oe,te.onerror=be}),Qi(B,"link",v),y.instance=B}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(y,f),(f=y.state.preload)&&(y.state.loading&3)===0&&(c.count++,y=L3.bind(c),f.addEventListener("load",y),f.addEventListener("error",y))}}var kE=0;function ufe(c,f){return c.stylesheets&&c.count===0&&z3(c,c.stylesheets),0<c.count||0<c.imgCount?function(y){var v=setTimeout(function(){if(c.stylesheets&&z3(c,c.stylesheets),c.unsuspend){var B=c.unsuspend;c.unsuspend=null,B()}},6e4+f);0<c.imgBytes&&kE===0&&(kE=62500*Hde());var P=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&z3(c,c.stylesheets),c.unsuspend)){var B=c.unsuspend;c.unsuspend=null,B()}},(c.imgBytes>kE?50:800)+f);return c.unsuspend=y,function(){c.unsuspend=null,clearTimeout(v),clearTimeout(P)}}:null}function L3(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)z3(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var F3=null;function z3(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,F3=new Map,f.forEach(dfe,c),F3=null,L3.call(c))}function dfe(c,f){if(!(f.state.loading&4)){var y=F3.get(c);if(y)var v=y.get(null);else{y=new Map,F3.set(c,y);for(var P=c.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<P.length;B++){var te=P[B];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(y.set(te.dataset.precedence,te),v=te)}v&&y.set(null,v)}P=f.instance,te=P.getAttribute("data-precedence"),B=y.get(te)||v,B===v&&y.set(null,P),y.set(te,P),this.count++,v=L3.bind(this),P.addEventListener("load",v),P.addEventListener("error",v),B?B.parentNode.insertBefore(P,B.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(P,c.firstChild)),f.state.loading|=4}}var Uy={$$typeof:C,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function ffe(c,f,y,v,P,B,te,oe,be){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=W(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W(0),this.hiddenUpdates=W(null),this.identifierPrefix=v,this.onUncaughtError=P,this.onCaughtError=B,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function _D(c,f,y,v,P,B,te,oe,be,$e,Fe,He){return c=new ffe(c,f,y,te,be,$e,Fe,He,oe),f=1,B===!0&&(f|=24),B=Ls(3,null,null,f),c.current=B,B.stateNode=c,f=s7(),f.refCount++,c.pooledCache=f,f.refCount++,B.memoizedState={element:v,isDehydrated:y,cache:f},u7(B),c}function AD(c){return c?(c=Bp,c):Bp}function CD(c,f,y,v,P,B){P=AD(P),v.context===null?v.context=P:v.pendingContext=P,v=Kd(f),v.payload={element:y},B=B===void 0?null:B,B!==null&&(v.callback=B),y=Yd(c,v,f),y!==null&&(os(y,c,f),yy(y,c,f))}function SD(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<f?y:f}}function IE(c,f){SD(c,f),(c=c.alternate)&&SD(c,f)}function kD(c){if(c.tag===13||c.tag===31){var f=Ph(c,67108864);f!==null&&os(f,c,67108864),IE(c,67108864)}}function ID(c){if(c.tag===13||c.tag===31){var f=qs();f=pe(f);var y=Ph(c,f);y!==null&&os(y,c,f),IE(c,f)}}var W3=!0;function hfe(c,f,y,v){var P=$.T;$.T=null;var B=D.p;try{D.p=2,TE(c,f,y,v)}finally{D.p=B,$.T=P}}function pfe(c,f,y,v){var P=$.T;$.T=null;var B=D.p;try{D.p=8,TE(c,f,y,v)}finally{D.p=B,$.T=P}}function TE(c,f,y,v){if(W3){var P=$E(v);if(P===null)gE(c,f,v,H3,y),$D(c,v);else if(mfe(P,c,f,y,v))v.stopPropagation();else if($D(c,v),f&4&&-1<gfe.indexOf(c)){for(;P!==null;){var B=wr(P);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var te=Xt(B.pendingLanes);if(te!==0){var oe=B;for(oe.pendingLanes|=2,oe.entangledLanes|=2;te;){var be=1<<31-ve(te);oe.entanglements[1]|=be,te&=~be}xc(B),(Kn&6)===0&&(S3=qe()+500,Oy(0))}}break;case 31:case 13:oe=Ph(B,2),oe!==null&&os(oe,B,2),I3(),IE(B,2)}if(B=$E(v),B===null&&gE(c,f,v,H3,y),B===P)break;P=B}P!==null&&v.stopPropagation()}else gE(c,f,v,null,y)}}function $E(c){return c=ny(c),NE(c)}var H3=null;function NE(c){if(H3=null,c=Vn(c),c!==null){var f=a(c);if(f===null)c=null;else{var y=f.tag;if(y===13){if(c=s(f),c!==null)return c;c=null}else if(y===31){if(c=o(f),c!==null)return c;c=null}else if(y===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return H3=c,null}function TD(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ht()){case Ot:return 2;case Ct:return 8;case gt:case yt:return 32;case re:return 268435456;default:return 32}default:return 32}}var PE=!1,of=null,lf=null,cf=null,Ly=new Map,Fy=new Map,uf=[],gfe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $D(c,f){switch(c){case"focusin":case"focusout":of=null;break;case"dragenter":case"dragleave":lf=null;break;case"mouseover":case"mouseout":cf=null;break;case"pointerover":case"pointerout":Ly.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fy.delete(f.pointerId)}}function zy(c,f,y,v,P,B){return c===null||c.nativeEvent!==B?(c={blockedOn:f,domEventName:y,eventSystemFlags:v,nativeEvent:B,targetContainers:[P]},f!==null&&(f=wr(f),f!==null&&kD(f)),c):(c.eventSystemFlags|=v,f=c.targetContainers,P!==null&&f.indexOf(P)===-1&&f.push(P),c)}function mfe(c,f,y,v,P){switch(f){case"focusin":return of=zy(of,c,f,y,v,P),!0;case"dragenter":return lf=zy(lf,c,f,y,v,P),!0;case"mouseover":return cf=zy(cf,c,f,y,v,P),!0;case"pointerover":var B=P.pointerId;return Ly.set(B,zy(Ly.get(B)||null,c,f,y,v,P)),!0;case"gotpointercapture":return B=P.pointerId,Fy.set(B,zy(Fy.get(B)||null,c,f,y,v,P)),!0}return!1}function ND(c){var f=Vn(c.target);if(f!==null){var y=a(f);if(y!==null){if(f=y.tag,f===13){if(f=s(y),f!==null){c.blockedOn=f,st(c.priority,function(){ID(y)});return}}else if(f===31){if(f=o(y),f!==null){c.blockedOn=f,st(c.priority,function(){ID(y)});return}}else if(f===3&&y.stateNode.current.memoizedState.isDehydrated){c.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}c.blockedOn=null}function q3(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var y=$E(c.nativeEvent);if(y===null){y=c.nativeEvent;var v=new y.constructor(y.type,y);ty=v,y.target.dispatchEvent(v),ty=null}else return f=wr(y),f!==null&&kD(f),c.blockedOn=y,!1;f.shift()}return!0}function PD(c,f,y){q3(c)&&y.delete(f)}function yfe(){PE=!1,of!==null&&q3(of)&&(of=null),lf!==null&&q3(lf)&&(lf=null),cf!==null&&q3(cf)&&(cf=null),Ly.forEach(PD),Fy.forEach(PD)}function V3(c,f){c.blockedOn===f&&(c.blockedOn=null,PE||(PE=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yfe)))}var G3=null;function OD(c){G3!==c&&(G3=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){G3===c&&(G3=null);for(var f=0;f<c.length;f+=3){var y=c[f],v=c[f+1],P=c[f+2];if(typeof v!="function"){if(NE(v||y)===null)continue;break}var B=wr(y);B!==null&&(c.splice(f,3),f-=3,$7(B,{pending:!0,data:P,method:y.method,action:v},v,P))}}))}function l1(c){function f(be){return V3(be,c)}of!==null&&V3(of,c),lf!==null&&V3(lf,c),cf!==null&&V3(cf,c),Ly.forEach(f),Fy.forEach(f);for(var y=0;y<uf.length;y++){var v=uf[y];v.blockedOn===c&&(v.blockedOn=null)}for(;0<uf.length&&(y=uf[0],y.blockedOn===null);)ND(y),y.blockedOn===null&&uf.shift();if(y=(c.ownerDocument||c).$$reactFormReplay,y!=null)for(v=0;v<y.length;v+=3){var P=y[v],B=y[v+1],te=P[It]||null;if(typeof B=="function")te||OD(y);else if(te){var oe=null;if(B&&B.hasAttribute("formAction")){if(P=B,te=B[It]||null)oe=te.formAction;else if(NE(P)!==null)continue}else oe=te.action;typeof oe=="function"?y[v+1]=oe:(y.splice(v,3),v-=3),OD(y)}}}function RD(){function c(B){B.canIntercept&&B.info==="react-transition"&&B.intercept({handler:function(){return new Promise(function(te){return P=te})},focusReset:"manual",scroll:"manual"})}function f(){P!==null&&(P(),P=null),v||setTimeout(y,20)}function y(){if(!v&&!navigation.transition){var B=navigation.currentEntry;B&&B.url!=null&&navigation.navigate(B.url,{state:B.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,P=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(y,100),function(){v=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),P!==null&&(P(),P=null)}}}function OE(c){this._internalRoot=c}K3.prototype.render=OE.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));var y=f.current,v=qs();CD(y,v,c,f,null,null)},K3.prototype.unmount=OE.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;CD(c.current,2,null,c,null,null),I3(),f[St]=null}};function K3(c){this._internalRoot=c}K3.prototype.unstable_scheduleHydration=function(c){if(c){var f=ot();c={blockedOn:null,target:c,priority:f};for(var y=0;y<uf.length&&f!==0&&f<uf[y].priority;y++);uf.splice(y,0,c),y===0&&ND(c)}};var MD=e.version;if(MD!=="19.2.0")throw Error(r(527,MD,"19.2.0"));D.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=u(f),c=c!==null?d(c):null,c=c===null?null:c.stateNode,c};var bfe={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Y3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Y3.isDisabled&&Y3.supportsFiber)try{ae=Y3.inject(bfe),ge=Y3}catch{}}return Hy.createRoot=function(c,f){if(!i(c))throw Error(r(299));var y=!1,v="",P=zM,B=WM,te=HM;return f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(P=f.onUncaughtError),f.onCaughtError!==void 0&&(B=f.onCaughtError),f.onRecoverableError!==void 0&&(te=f.onRecoverableError)),f=_D(c,1,!1,null,null,y,v,null,P,B,te,RD),c[St]=f.current,pE(c),new OE(f)},Hy.hydrateRoot=function(c,f,y){if(!i(c))throw Error(r(299));var v=!1,P="",B=zM,te=WM,oe=HM,be=null;return y!=null&&(y.unstable_strictMode===!0&&(v=!0),y.identifierPrefix!==void 0&&(P=y.identifierPrefix),y.onUncaughtError!==void 0&&(B=y.onUncaughtError),y.onCaughtError!==void 0&&(te=y.onCaughtError),y.onRecoverableError!==void 0&&(oe=y.onRecoverableError),y.formState!==void 0&&(be=y.formState)),f=_D(c,1,!0,f,y??null,v,P,be,B,te,oe,RD),f.context=AD(null),y=f.current,v=qs(),v=pe(v),P=Kd(v),P.callback=null,Yd(y,P,v),y=v,f.current.lanes=y,j(f,y),xc(f),c[St]=f.current,pE(c),new K3(f)},Hy.version="19.2.0",Hy}var qD;function Pfe(){if(qD)return jE.exports;qD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jE.exports=Nfe(),jE.exports}var Ofe=Pfe();const Rfe="modulepreload",Mfe=function(t){return"/"+t},VD={},lo=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");i=l(n.map(u=>{if(u=Mfe(u),u in VD)return;VD[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Rfe,d||(g.as="script"),g.crossOrigin="",g.href=u,o&&g.setAttribute("nonce",o),document.head.appendChild(g),d)return new Promise((m,b)=>{g.addEventListener("load",m),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Kt=globalThis||void 0||self;var GD="popstate";function jfe(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return WS("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bb(i)}return Bfe(e,n,null,t)}function Ur(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dfe(){return Math.random().toString(36).substring(2,10)}function KD(t,e){return{usr:t.state,key:t.key,idx:e}}function WS(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?dm(e):e,state:n,key:e&&e.key||r||Dfe()}}function bb({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function dm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Bfe(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let x=d(),E=x==null?null:x-u;u=x,l&&l({action:o,location:w.location,delta:E})}function g(x,E){o="PUSH";let I=WS(w.location,x,E);u=d()+1;let C=KD(I,u),N=w.createHref(I);try{s.pushState(C,"",N)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(N)}a&&l&&l({action:o,location:w.location,delta:1})}function m(x,E){o="REPLACE";let I=WS(w.location,x,E);u=d();let C=KD(I,u),N=w.createHref(I);s.replaceState(C,"",N),a&&l&&l({action:o,location:w.location,delta:0})}function b(x){return Ufe(x)}let w={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(GD,h),l=x,()=>{i.removeEventListener(GD,h),l=null}},createHref(x){return e(i,x)},createURL:b,encodeLocation(x){let E=b(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:m,go(x){return s.go(x)}};return w}function Ufe(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ur(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:bb(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nY(t,e,n="/"){return Lfe(t,e,n,!1)}function Lfe(t,e,n,r){let i=typeof e=="string"?dm(e):e,a=md(i.pathname||"/",n);if(a==null)return null;let s=rY(t);Ffe(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=Xfe(a);o=Zfe(s[l],u,r)}return o}function rY(t,e=[],n=[],r="",i=!1){let a=(s,o,l=i,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Ur(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=ld([r,d.relativePath]),g=n.concat(d);s.children&&s.children.length>0&&(Ur(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),rY(s.children,e,g,h,l)),!(s.path==null&&!s.index)&&e.push({path:h,score:Kfe(h,s.index),routesMeta:g})};return t.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))a(s,o);else for(let l of iY(s.path))a(s,o,!0,l)}),e}function iY(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=iY(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Ffe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yfe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var zfe=/^:[\w-]+$/,Wfe=3,Hfe=2,qfe=1,Vfe=10,Gfe=-2,YD=t=>t==="*";function Kfe(t,e){let n=t.split("/"),r=n.length;return n.some(YD)&&(r+=Gfe),e&&(r+=Hfe),n.filter(i=>!YD(i)).reduce((i,a)=>i+(zfe.test(a)?Wfe:a===""?qfe:Vfe),r)}function Yfe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Zfe(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=H5({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=H5({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:ld([a,h.pathname]),pathnameBase:rhe(ld([a,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(a=ld([a,h.pathnameBase]))}return s}function H5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Jfe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let b=o[g]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const m=o[g];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function Jfe(t,e=!1,n=!0){Xl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Xfe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function md(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Qfe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ehe=t=>Qfe.test(t);function the(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?dm(t):t,a;if(n)if(ehe(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Xl(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=ZD(n.substring(1),"/"):a=ZD(n,e)}else a=e;return{pathname:a,search:ihe(r),hash:ahe(i)}}function ZD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function LE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nhe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aY(t){let e=nhe(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function sY(t,e,n,r=!1){let i;typeof t=="string"?i=dm(t):(i={...t},Ur(!i.pathname||!i.pathname.includes("?"),LE("?","pathname","search",i)),Ur(!i.pathname||!i.pathname.includes("#"),LE("#","pathname","hash",i)),Ur(!i.search||!i.search.includes("#"),LE("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=the(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var ld=t=>t.join("/").replace(/\/\/+/g,"/"),rhe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ihe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ahe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function she(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oY=["POST","PUT","PATCH","DELETE"];new Set(oY);var ohe=["GET",...oY];new Set(ohe);var fm=k.createContext(null);fm.displayName="DataRouter";var m4=k.createContext(null);m4.displayName="DataRouterState";k.createContext(!1);var lY=k.createContext({isTransitioning:!1});lY.displayName="ViewTransition";var lhe=k.createContext(new Map);lhe.displayName="Fetchers";var che=k.createContext(null);che.displayName="Await";var fu=k.createContext(null);fu.displayName="Navigation";var Rw=k.createContext(null);Rw.displayName="Location";var Pd=k.createContext({outlet:null,matches:[],isDataRoute:!1});Pd.displayName="Route";var p$=k.createContext(null);p$.displayName="RouteError";function uhe(t,{relative:e}={}){Ur(Mw(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(fu),{hash:i,pathname:a,search:s}=jw(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:ld([n,a])),r.createHref({pathname:o,search:s,hash:i})}function Mw(){return k.useContext(Rw)!=null}function rp(){return Ur(Mw(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Rw).location}var cY="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uY(t){k.useContext(fu).static||k.useLayoutEffect(t)}function dhe(){let{isDataRoute:t}=k.useContext(Pd);return t?Ahe():fhe()}function fhe(){Ur(Mw(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(fm),{basename:e,navigator:n}=k.useContext(fu),{matches:r}=k.useContext(Pd),{pathname:i}=rp(),a=JSON.stringify(aY(r)),s=k.useRef(!1);return uY(()=>{s.current=!0}),k.useCallback((l,u={})=>{if(Xl(s.current,cY),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=sY(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ld([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}k.createContext(null);function jw(t,{relative:e}={}){let{matches:n}=k.useContext(Pd),{pathname:r}=rp(),i=JSON.stringify(aY(n));return k.useMemo(()=>sY(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function hhe(t,e){return dY(t,e)}function dY(t,e,n,r,i){Ur(Mw(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=k.useContext(fu),{matches:s}=k.useContext(Pd),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let I=h&&h.path||"";fY(u,!h||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let g=rp(),m;if(e){let I=typeof e=="string"?dm(e):e;Ur(d==="/"||I.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${I.pathname}" was given in the \`location\` prop.`),m=I}else m=g;let b=m.pathname||"/",w=b;if(d!=="/"){let I=d.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(I.length).join("/")}let x=nY(t,{pathname:w});Xl(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Xl(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=bhe(x&&x.map(I=>Object.assign({},I,{params:Object.assign({},l,I.params),pathname:ld([d,a.encodeLocation?a.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?d:ld([d,a.encodeLocation?a.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),s,n,r,i);return e&&E?k.createElement(Rw.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},E):E}function phe(){let t=_he(),e=she(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,s)}var ghe=k.createElement(phe,null),mhe=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(Pd.Provider,{value:this.props.routeContext},k.createElement(p$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yhe({routeContext:t,match:e,children:n}){let r=k.useContext(fm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Pd.Provider,{value:t},n)}function bhe(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n?.errors;if(s!=null){let d=a.findIndex(h=>h.route.id&&s?.[h.route.id]!==void 0);Ur(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,l=-1;if(n)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:g,errors:m}=n,b=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||b){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=n&&r?(d,h)=>{r(d,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:h})}:void 0;return a.reduceRight((d,h,g)=>{let m,b=!1,w=null,x=null;n&&(m=s&&h.route.id?s[h.route.id]:void 0,w=h.route.errorElement||ghe,o&&(l<0&&g===0?(fY("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):l===g&&(b=!0,x=h.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,g+1)),I=()=>{let C;return m?C=w:b?C=x:h.route.Component?C=k.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,k.createElement(yhe,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?k.createElement(mhe,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:I(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:u}):I()},null)}function g$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function whe(t){let e=k.useContext(fm);return Ur(e,g$(t)),e}function vhe(t){let e=k.useContext(m4);return Ur(e,g$(t)),e}function xhe(t){let e=k.useContext(Pd);return Ur(e,g$(t)),e}function m$(t){let e=xhe(t),n=e.matches[e.matches.length-1];return Ur(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Ehe(){return m$("useRouteId")}function _he(){let t=k.useContext(p$),e=vhe("useRouteError"),n=m$("useRouteError");return t!==void 0?t:e.errors?.[n]}function Ahe(){let{router:t}=whe("useNavigate"),e=m$("useNavigate"),n=k.useRef(!1);return uY(()=>{n.current=!0}),k.useCallback(async(i,a={})=>{Xl(n.current,cY),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var JD={};function fY(t,e,n){!e&&!JD[t]&&(JD[t]=!0,Xl(!1,n))}k.memo(Che);function Che({routes:t,future:e,state:n,unstable_onError:r}){return dY(t,void 0,n,r,e)}function t5(t){Ur(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function She({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Ur(!Mw(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=k.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=dm(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:g="default"}=n,m=k.useMemo(()=>{let b=md(l,s);return b==null?null:{location:{pathname:b,search:u,hash:d,state:h,key:g},navigationType:r}},[s,l,u,d,h,g,r]);return Xl(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:k.createElement(fu.Provider,{value:o},k.createElement(Rw.Provider,{children:e,value:m}))}function khe({children:t,location:e}){return hhe(HS(t),e)}function HS(t,e=[]){let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let a=[...e,i];if(r.type===k.Fragment){n.push.apply(n,HS(r.props.children,a));return}Ur(r.type===t5,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ur(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=HS(r.props.children,a)),n.push(s)}),n}var n5="get",r5="application/x-www-form-urlencoded";function y4(t){return t!=null&&typeof t.tagName=="string"}function Ihe(t){return y4(t)&&t.tagName.toLowerCase()==="button"}function The(t){return y4(t)&&t.tagName.toLowerCase()==="form"}function $he(t){return y4(t)&&t.tagName.toLowerCase()==="input"}function Nhe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Phe(t,e){return t.button===0&&(!e||e==="_self")&&!Nhe(t)}var Z3=null;function Ohe(){if(Z3===null)try{new FormData(document.createElement("form"),0),Z3=!1}catch{Z3=!0}return Z3}var Rhe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function FE(t){return t!=null&&!Rhe.has(t)?(Xl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${r5}"`),null):t}function Mhe(t,e){let n,r,i,a,s;if(The(t)){let o=t.getAttribute("action");r=o?md(o,e):null,n=t.getAttribute("method")||n5,i=FE(t.getAttribute("enctype"))||r5,a=new FormData(t)}else if(Ihe(t)||$he(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?md(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||n5,i=FE(t.getAttribute("formenctype"))||FE(o.getAttribute("enctype"))||r5,a=new FormData(o,t),!Ohe()){let{name:u,type:d,value:h}=t;if(d==="image"){let g=u?`${u}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else u&&a.append(u,h)}}else{if(y4(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=n5,r=null,i=r5,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function y$(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jhe(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&md(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Dhe(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bhe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Uhe(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await Dhe(a,n);return s.links?s.links():[]}return[]}));return Whe(r.flat(1).filter(Bhe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function XD(t,e,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return a==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?e.filter((l,u)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Lhe(t,e,{includeHydrateFallback:n}={}){return Fhe(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Fhe(t){return[...new Set(t)]}function zhe(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Whe(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(zhe(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function hY(){let t=k.useContext(fm);return y$(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Hhe(){let t=k.useContext(m4);return y$(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var b$=k.createContext(void 0);b$.displayName="FrameworkContext";function pY(){let t=k.useContext(b$);return y$(t,"You must render this element inside a <HydratedRouter> element"),t}function qhe(t,e){let n=k.useContext(b$),[r,i]=k.useState(!1),[a,s]=k.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=k.useRef(null);k.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let w=E=>{E.forEach(I=>{s(I.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[t]),k.useEffect(()=>{if(r){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[r]);let m=()=>{i(!0)},b=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:qy(o,m),onBlur:qy(l,b),onMouseEnter:qy(u,m),onMouseLeave:qy(d,b),onTouchStart:qy(h,m)}]:[!1,g,{}]}function qy(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Vhe({page:t,...e}){let{router:n}=hY(),r=k.useMemo(()=>nY(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(Khe,{page:t,matches:r,...e}):null}function Ghe(t){let{manifest:e,routeModules:n}=pY(),[r,i]=k.useState([]);return k.useEffect(()=>{let a=!1;return Uhe(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function Khe({page:t,matches:e,...n}){let r=rp(),{manifest:i,routeModules:a}=pY(),{basename:s}=hY(),{loaderData:o,matches:l}=Hhe(),u=k.useMemo(()=>XD(t,e,l,i,r,"data"),[t,e,l,i,r]),d=k.useMemo(()=>XD(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,w=!1;if(e.forEach(E=>{let I=i.routes[E.route.id];!I||!I.hasLoader||(!u.some(C=>C.route.id===E.route.id)&&E.route.id in o&&a[E.route.id]?.shouldRevalidate||I.hasClientLoader?w=!0:b.add(E.route.id))}),b.size===0)return[];let x=jhe(t,s,"data");return w&&b.size>0&&x.searchParams.set("_routes",e.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[x.pathname+x.search]},[s,o,r,i,u,e,t,a]),g=k.useMemo(()=>Lhe(d,i),[d,i]),m=Ghe(d);return k.createElement(k.Fragment,null,h.map(b=>k.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>k.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),m.map(({key:b,link:w})=>k.createElement("link",{key:b,nonce:n.nonce,...w})))}function Yhe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var gY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gY&&(window.__reactRouterVersion="7.9.6")}catch{}function Zhe({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=jfe({window:n,v5Compat:!0}));let i=r.current,[a,s]=k.useState({action:i.action,location:i.location}),o=k.useCallback(l=>{k.startTransition(()=>s(l))},[s]);return k.useLayoutEffect(()=>i.listen(o),[i,o]),k.createElement(She,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var mY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w$=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},m){let{basename:b}=k.useContext(fu),w=typeof u=="string"&&mY.test(u),x,E=!1;if(typeof u=="string"&&w&&(x=u,gY))try{let U=new URL(window.location.href),L=u.startsWith("//")?new URL(U.protocol+u):new URL(u),G=md(L.pathname,b);L.origin===U.origin&&G!=null?u=G+L.search+L.hash:E=!0}catch{Xl(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=uhe(u,{relative:i}),[C,N,A]=qhe(r,g),T=Qhe(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function O(U){e&&e(U),U.defaultPrevented||T(U)}let H=k.createElement("a",{...g,...A,href:x||I,onClick:E||a?e:O,ref:Yhe(m,N),target:l,"data-discover":!w&&n==="render"?"true":void 0});return C&&!w?k.createElement(k.Fragment,null,H,k.createElement(Vhe,{page:I})):H});w$.displayName="Link";var i5=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},d){let h=jw(s,{relative:u.relative}),g=rp(),m=k.useContext(m4),{navigator:b,basename:w}=k.useContext(fu),x=m!=null&&i0e(h)&&o===!0,E=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,I=g.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(I=I.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&w&&(C=md(C,w)||C);const N=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let A=I===E||!i&&I.startsWith(E)&&I.charAt(N)==="/",T=C!=null&&(C===E||!i&&C.startsWith(E)&&C.charAt(E.length)==="/"),O={isActive:A,isPending:T,isTransitioning:x},H=A?e:void 0,U;typeof r=="function"?U=r(O):U=[r,A?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(O):a;return k.createElement(w$,{...u,"aria-current":H,className:U,ref:d,style:L,to:s,viewTransition:o},typeof l=="function"?l(O):l)});i5.displayName="NavLink";var Jhe=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=n5,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},m)=>{let b=n0e(),w=r0e(o,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&mY.test(o),I=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let N=C.nativeEvent.submitter,A=N?.getAttribute("formmethod")||s;b(N||C.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:h})};return k.createElement("form",{ref:m,method:x,action:w,onSubmit:r?l:I,...g,"data-discover":!E&&t==="render"?"true":void 0})});Jhe.displayName="Form";function Xhe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yY(t){let e=k.useContext(fm);return Ur(e,Xhe(t)),e}function Qhe(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=dhe(),l=rp(),u=jw(t,{relative:a});return k.useCallback(d=>{if(Phe(d,e)){d.preventDefault();let h=n!==void 0?n:bb(l)===bb(u);o(t,{replace:h,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,u,n,r,e,t,i,a,s])}var e0e=0,t0e=()=>`__${String(++e0e)}__`;function n0e(){let{router:t}=yY("useSubmit"),{basename:e}=k.useContext(fu),n=Ehe();return k.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=Mhe(r,e);if(i.navigate===!1){let d=i.fetcherKey||t0e();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function r0e(t,{relative:e}={}){let{basename:n}=k.useContext(fu),r=k.useContext(Pd);Ur(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...jw(t||".",{relative:e})},s=rp();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ld([n,a.pathname])),bb(a)}function i0e(t,{relative:e}={}){let n=k.useContext(lY);Ur(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yY("useViewTransitionState"),i=jw(t,{relative:e});if(!n.isTransitioning)return!1;let a=md(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=md(n.nextLocation.pathname,r)||n.nextLocation.pathname;return H5(i.pathname,s)!=null||H5(i.pathname,a)!=null}var yd=tY(),bY={},b4={};b4.byteLength=o0e;b4.toByteArray=c0e;b4.fromByteArray=f0e;var Zc=[],Go=[],a0e=typeof Uint8Array<"u"?Uint8Array:Array,zE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var c1=0,s0e=zE.length;c1<s0e;++c1)Zc[c1]=zE[c1],Go[zE.charCodeAt(c1)]=c1;Go[45]=62;Go[95]=63;function wY(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function o0e(t){var e=wY(t),n=e[0],r=e[1];return(n+r)*3/4-r}function l0e(t,e,n){return(e+n)*3/4-n}function c0e(t){var e,n=wY(t),r=n[0],i=n[1],a=new a0e(l0e(t,r,i)),s=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)e=Go[t.charCodeAt(l)]<<18|Go[t.charCodeAt(l+1)]<<12|Go[t.charCodeAt(l+2)]<<6|Go[t.charCodeAt(l+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=Go[t.charCodeAt(l)]<<2|Go[t.charCodeAt(l+1)]>>4,a[s++]=e&255),i===1&&(e=Go[t.charCodeAt(l)]<<10|Go[t.charCodeAt(l+1)]<<4|Go[t.charCodeAt(l+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function u0e(t){return Zc[t>>18&63]+Zc[t>>12&63]+Zc[t>>6&63]+Zc[t&63]}function d0e(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(u0e(r));return i.join("")}function f0e(t){for(var e,n=t.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(d0e(t,s,s+a>o?o:s+a));return r===1?(e=t[n-1],i.push(Zc[e>>2]+Zc[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Zc[e>>10]+Zc[e>>4&63]+Zc[e<<2&63]+"=")),i.join("")}var v$={};v$.read=function(t,e,n,r,i){var a,s,o=i*8-r-1,l=(1<<o)-1,u=l>>1,d=-7,h=n?i-1:0,g=n?-1:1,m=t[e+h];for(h+=g,a=m&(1<<-d)-1,m>>=-d,d+=o;d>0;a=a*256+t[e+h],h+=g,d-=8);for(s=a&(1<<-d)-1,a>>=-d,d+=r;d>0;s=s*256+t[e+h],h+=g,d-=8);if(a===0)a=1-u;else{if(a===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-u}return(m?-1:1)*s*Math.pow(2,a-r)};v$.write=function(t,e,n,r,i,a){var s,o,l,u=a*8-i-1,d=(1<<u)-1,h=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:a-1,b=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?e+=g/l:e+=g*Math.pow(2,1-h),e*l>=2&&(s++,l/=2),s+h>=d?(o=0,s=d):s+h>=1?(o=(e*l-1)*Math.pow(2,i),s=s+h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+m]=o&255,m+=b,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;t[n+m]=s&255,m+=b,s/=256,u-=8);t[n+m-b]|=w*128};(function(t){const e=b4,n=v$,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=d,t.SlowBuffer=A,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:a,ArrayBuffer:s,SharedArrayBuffer:o}=globalThis;d.TYPED_ARRAY_SUPPORT=l(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const re=new a(1),Z={foo:function(){return 42}};return Object.setPrototypeOf(Z,a.prototype),Object.setPrototypeOf(re,Z),re.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function u(re){if(re>i)throw new RangeError('The value "'+re+'" is invalid for option "size"');const Z=new a(re);return Object.setPrototypeOf(Z,d.prototype),Z}function d(re,Z,X){if(typeof re=="number"){if(typeof Z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(re)}return h(re,Z,X)}d.poolSize=8192;function h(re,Z,X){if(typeof re=="string")return w(re,Z);if(s.isView(re))return E(re);if(re==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re);if(ht(re,s)||re&&ht(re.buffer,s)||typeof o<"u"&&(ht(re,o)||re&&ht(re.buffer,o)))return I(re,Z,X);if(typeof re=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ae=re.valueOf&&re.valueOf();if(ae!=null&&ae!==re)return d.from(ae,Z,X);const ge=C(re);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof re[Symbol.toPrimitive]=="function")return d.from(re[Symbol.toPrimitive]("string"),Z,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re)}d.from=function(re,Z,X){return h(re,Z,X)},Object.setPrototypeOf(d.prototype,a.prototype),Object.setPrototypeOf(d,a);function g(re){if(typeof re!="number")throw new TypeError('"size" argument must be of type number');if(re<0)throw new RangeError('The value "'+re+'" is invalid for option "size"')}function m(re,Z,X){return g(re),re<=0?u(re):Z!==void 0?typeof X=="string"?u(re).fill(Z,X):u(re).fill(Z):u(re)}d.alloc=function(re,Z,X){return m(re,Z,X)};function b(re){return g(re),u(re<0?0:N(re)|0)}d.allocUnsafe=function(re){return b(re)},d.allocUnsafeSlow=function(re){return b(re)};function w(re,Z){if((typeof Z!="string"||Z==="")&&(Z="utf8"),!d.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);const X=T(re,Z)|0;let ae=u(X);const ge=ae.write(re,Z);return ge!==X&&(ae=ae.slice(0,ge)),ae}function x(re){const Z=re.length<0?0:N(re.length)|0,X=u(Z);for(let ae=0;ae<Z;ae+=1)X[ae]=re[ae]&255;return X}function E(re){if(ht(re,a)){const Z=new a(re);return I(Z.buffer,Z.byteOffset,Z.byteLength)}return x(re)}function I(re,Z,X){if(Z<0||re.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<Z+(X||0))throw new RangeError('"length" is outside of buffer bounds');let ae;return Z===void 0&&X===void 0?ae=new a(re):X===void 0?ae=new a(re,Z):ae=new a(re,Z,X),Object.setPrototypeOf(ae,d.prototype),ae}function C(re){if(d.isBuffer(re)){const Z=N(re.length)|0,X=u(Z);return X.length===0||re.copy(X,0,0,Z),X}if(re.length!==void 0)return typeof re.length!="number"||Ot(re.length)?u(0):x(re);if(re.type==="Buffer"&&Array.isArray(re.data))return x(re.data)}function N(re){if(re>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return re|0}function A(re){return+re!=re&&(re=0),d.alloc(+re)}d.isBuffer=function(Z){return Z!=null&&Z._isBuffer===!0&&Z!==d.prototype},d.compare=function(Z,X){if(ht(Z,a)&&(Z=d.from(Z,Z.offset,Z.byteLength)),ht(X,a)&&(X=d.from(X,X.offset,X.byteLength)),!d.isBuffer(Z)||!d.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Z===X)return 0;let ae=Z.length,ge=X.length;for(let xe=0,ve=Math.min(ae,ge);xe<ve;++xe)if(Z[xe]!==X[xe]){ae=Z[xe],ge=X[xe];break}return ae<ge?-1:ge<ae?1:0},d.isEncoding=function(Z){switch(String(Z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(Z,X){if(!Array.isArray(Z))throw new TypeError('"list" argument must be an Array of Buffers');if(Z.length===0)return d.alloc(0);let ae;if(X===void 0)for(X=0,ae=0;ae<Z.length;++ae)X+=Z[ae].length;const ge=d.allocUnsafe(X);let xe=0;for(ae=0;ae<Z.length;++ae){let ve=Z[ae];if(ht(ve,a))xe+ve.length>ge.length?(d.isBuffer(ve)||(ve=d.from(ve)),ve.copy(ge,xe)):a.prototype.set.call(ge,ve,xe);else if(d.isBuffer(ve))ve.copy(ge,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=ve.length}return ge};function T(re,Z){if(d.isBuffer(re))return re.length;if(s.isView(re)||ht(re,s))return re.byteLength;if(typeof re!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof re);const X=re.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&X===0)return 0;let ge=!1;for(;;)switch(Z){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return Ue(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X*2;case"hex":return X>>>1;case"base64":return pt(re).length;default:if(ge)return ae?-1:Ue(re).length;Z=(""+Z).toLowerCase(),ge=!0}}d.byteLength=T;function O(re,Z,X){let ae=!1;if((Z===void 0||Z<0)&&(Z=0),Z>this.length||((X===void 0||X>this.length)&&(X=this.length),X<=0)||(X>>>=0,Z>>>=0,X<=Z))return"";for(re||(re="utf8");;)switch(re){case"hex":return M(this,Z,X);case"utf8":case"utf-8":return D(this,Z,X);case"ascii":return J(this,Z,X);case"latin1":case"binary":return V(this,Z,X);case"base64":return $(this,Z,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,Z,X);default:if(ae)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),ae=!0}}d.prototype._isBuffer=!0;function H(re,Z,X){const ae=re[Z];re[Z]=re[X],re[X]=ae}d.prototype.swap16=function(){const Z=this.length;if(Z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let X=0;X<Z;X+=2)H(this,X,X+1);return this},d.prototype.swap32=function(){const Z=this.length;if(Z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let X=0;X<Z;X+=4)H(this,X,X+3),H(this,X+1,X+2);return this},d.prototype.swap64=function(){const Z=this.length;if(Z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let X=0;X<Z;X+=8)H(this,X,X+7),H(this,X+1,X+6),H(this,X+2,X+5),H(this,X+3,X+4);return this},d.prototype.toString=function(){const Z=this.length;return Z===0?"":arguments.length===0?D(this,0,Z):O.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(Z){if(!d.isBuffer(Z))throw new TypeError("Argument must be a Buffer");return this===Z?!0:d.compare(this,Z)===0},d.prototype.inspect=function(){let Z="";const X=t.INSPECT_MAX_BYTES;return Z=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X&&(Z+=" ... "),"<Buffer "+Z+">"},r&&(d.prototype[r]=d.prototype.inspect),d.prototype.compare=function(Z,X,ae,ge,xe){if(ht(Z,a)&&(Z=d.from(Z,Z.offset,Z.byteLength)),!d.isBuffer(Z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Z);if(X===void 0&&(X=0),ae===void 0&&(ae=Z?Z.length:0),ge===void 0&&(ge=0),xe===void 0&&(xe=this.length),X<0||ae>Z.length||ge<0||xe>this.length)throw new RangeError("out of range index");if(ge>=xe&&X>=ae)return 0;if(ge>=xe)return-1;if(X>=ae)return 1;if(X>>>=0,ae>>>=0,ge>>>=0,xe>>>=0,this===Z)return 0;let ve=xe-ge,nt=ae-X;const Ke=Math.min(ve,nt),mt=this.slice(ge,xe),Mt=Z.slice(X,ae);for(let Ye=0;Ye<Ke;++Ye)if(mt[Ye]!==Mt[Ye]){ve=mt[Ye],nt=Mt[Ye];break}return ve<nt?-1:nt<ve?1:0};function U(re,Z,X,ae,ge){if(re.length===0)return-1;if(typeof X=="string"?(ae=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),X=+X,Ot(X)&&(X=ge?0:re.length-1),X<0&&(X=re.length+X),X>=re.length){if(ge)return-1;X=re.length-1}else if(X<0)if(ge)X=0;else return-1;if(typeof Z=="string"&&(Z=d.from(Z,ae)),d.isBuffer(Z))return Z.length===0?-1:L(re,Z,X,ae,ge);if(typeof Z=="number")return Z=Z&255,typeof a.prototype.indexOf=="function"?ge?a.prototype.indexOf.call(re,Z,X):a.prototype.lastIndexOf.call(re,Z,X):L(re,[Z],X,ae,ge);throw new TypeError("val must be string, number or Buffer")}function L(re,Z,X,ae,ge){let xe=1,ve=re.length,nt=Z.length;if(ae!==void 0&&(ae=String(ae).toLowerCase(),ae==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(re.length<2||Z.length<2)return-1;xe=2,ve/=2,nt/=2,X/=2}function Ke(Mt,Ye){return xe===1?Mt[Ye]:Mt.readUInt16BE(Ye*xe)}let mt;if(ge){let Mt=-1;for(mt=X;mt<ve;mt++)if(Ke(re,mt)===Ke(Z,Mt===-1?0:mt-Mt)){if(Mt===-1&&(Mt=mt),mt-Mt+1===nt)return Mt*xe}else Mt!==-1&&(mt-=mt-Mt),Mt=-1}else for(X+nt>ve&&(X=ve-nt),mt=X;mt>=0;mt--){let Mt=!0;for(let Ye=0;Ye<nt;Ye++)if(Ke(re,mt+Ye)!==Ke(Z,Ye)){Mt=!1;break}if(Mt)return mt}return-1}d.prototype.includes=function(Z,X,ae){return this.indexOf(Z,X,ae)!==-1},d.prototype.indexOf=function(Z,X,ae){return U(this,Z,X,ae,!0)},d.prototype.lastIndexOf=function(Z,X,ae){return U(this,Z,X,ae,!1)};function G(re,Z,X,ae){X=Number(X)||0;const ge=re.length-X;ae?(ae=Number(ae),ae>ge&&(ae=ge)):ae=ge;const xe=Z.length;ae>xe/2&&(ae=xe/2);let ve;for(ve=0;ve<ae;++ve){const nt=parseInt(Z.substr(ve*2,2),16);if(Ot(nt))return ve;re[X+ve]=nt}return ve}function R(re,Z,X,ae){return qe(Ue(Z,re.length-X),re,X,ae)}function F(re,Z,X,ae){return qe(Ge(Z),re,X,ae)}function _(re,Z,X,ae){return qe(pt(Z),re,X,ae)}function S(re,Z,X,ae){return qe(rt(Z,re.length-X),re,X,ae)}d.prototype.write=function(Z,X,ae,ge){if(X===void 0)ge="utf8",ae=this.length,X=0;else if(ae===void 0&&typeof X=="string")ge=X,ae=this.length,X=0;else if(isFinite(X))X=X>>>0,isFinite(ae)?(ae=ae>>>0,ge===void 0&&(ge="utf8")):(ge=ae,ae=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const xe=this.length-X;if((ae===void 0||ae>xe)&&(ae=xe),Z.length>0&&(ae<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");let ve=!1;for(;;)switch(ge){case"hex":return G(this,Z,X,ae);case"utf8":case"utf-8":return R(this,Z,X,ae);case"ascii":case"latin1":case"binary":return F(this,Z,X,ae);case"base64":return _(this,Z,X,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,Z,X,ae);default:if(ve)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),ve=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(re,Z,X){return Z===0&&X===re.length?e.fromByteArray(re):e.fromByteArray(re.slice(Z,X))}function D(re,Z,X){X=Math.min(re.length,X);const ae=[];let ge=Z;for(;ge<X;){const xe=re[ge];let ve=null,nt=xe>239?4:xe>223?3:xe>191?2:1;if(ge+nt<=X){let Ke,mt,Mt,Ye;switch(nt){case 1:xe<128&&(ve=xe);break;case 2:Ke=re[ge+1],(Ke&192)===128&&(Ye=(xe&31)<<6|Ke&63,Ye>127&&(ve=Ye));break;case 3:Ke=re[ge+1],mt=re[ge+2],(Ke&192)===128&&(mt&192)===128&&(Ye=(xe&15)<<12|(Ke&63)<<6|mt&63,Ye>2047&&(Ye<55296||Ye>57343)&&(ve=Ye));break;case 4:Ke=re[ge+1],mt=re[ge+2],Mt=re[ge+3],(Ke&192)===128&&(mt&192)===128&&(Mt&192)===128&&(Ye=(xe&15)<<18|(Ke&63)<<12|(mt&63)<<6|Mt&63,Ye>65535&&Ye<1114112&&(ve=Ye))}}ve===null?(ve=65533,nt=1):ve>65535&&(ve-=65536,ae.push(ve>>>10&1023|55296),ve=56320|ve&1023),ae.push(ve),ge+=nt}return Y(ae)}const z=4096;function Y(re){const Z=re.length;if(Z<=z)return String.fromCharCode.apply(String,re);let X="",ae=0;for(;ae<Z;)X+=String.fromCharCode.apply(String,re.slice(ae,ae+=z));return X}function J(re,Z,X){let ae="";X=Math.min(re.length,X);for(let ge=Z;ge<X;++ge)ae+=String.fromCharCode(re[ge]&127);return ae}function V(re,Z,X){let ae="";X=Math.min(re.length,X);for(let ge=Z;ge<X;++ge)ae+=String.fromCharCode(re[ge]);return ae}function M(re,Z,X){const ae=re.length;(!Z||Z<0)&&(Z=0),(!X||X<0||X>ae)&&(X=ae);let ge="";for(let xe=Z;xe<X;++xe)ge+=Ct[re[xe]];return ge}function Q(re,Z,X){const ae=re.slice(Z,X);let ge="";for(let xe=0;xe<ae.length-1;xe+=2)ge+=String.fromCharCode(ae[xe]+ae[xe+1]*256);return ge}d.prototype.slice=function(Z,X){const ae=this.length;Z=~~Z,X=X===void 0?ae:~~X,Z<0?(Z+=ae,Z<0&&(Z=0)):Z>ae&&(Z=ae),X<0?(X+=ae,X<0&&(X=0)):X>ae&&(X=ae),X<Z&&(X=Z);const ge=this.subarray(Z,X);return Object.setPrototypeOf(ge,d.prototype),ge};function ne(re,Z,X){if(re%1!==0||re<0)throw new RangeError("offset is not uint");if(re+Z>X)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(Z,X,ae){Z=Z>>>0,X=X>>>0,ae||ne(Z,X,this.length);let ge=this[Z],xe=1,ve=0;for(;++ve<X&&(xe*=256);)ge+=this[Z+ve]*xe;return ge},d.prototype.readUintBE=d.prototype.readUIntBE=function(Z,X,ae){Z=Z>>>0,X=X>>>0,ae||ne(Z,X,this.length);let ge=this[Z+--X],xe=1;for(;X>0&&(xe*=256);)ge+=this[Z+--X]*xe;return ge},d.prototype.readUint8=d.prototype.readUInt8=function(Z,X){return Z=Z>>>0,X||ne(Z,1,this.length),this[Z]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(Z,X){return Z=Z>>>0,X||ne(Z,2,this.length),this[Z]|this[Z+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(Z,X){return Z=Z>>>0,X||ne(Z,2,this.length),this[Z]<<8|this[Z+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(Z,X){return Z=Z>>>0,X||ne(Z,4,this.length),(this[Z]|this[Z+1]<<8|this[Z+2]<<16)+this[Z+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(Z,X){return Z=Z>>>0,X||ne(Z,4,this.length),this[Z]*16777216+(this[Z+1]<<16|this[Z+2]<<8|this[Z+3])},d.prototype.readBigUInt64LE=gt(function(Z){Z=Z>>>0,tt(Z,"offset");const X=this[Z],ae=this[Z+7];(X===void 0||ae===void 0)&&Ee(Z,this.length-8);const ge=X+this[++Z]*2**8+this[++Z]*2**16+this[++Z]*2**24,xe=this[++Z]+this[++Z]*2**8+this[++Z]*2**16+ae*2**24;return BigInt(ge)+(BigInt(xe)<<BigInt(32))}),d.prototype.readBigUInt64BE=gt(function(Z){Z=Z>>>0,tt(Z,"offset");const X=this[Z],ae=this[Z+7];(X===void 0||ae===void 0)&&Ee(Z,this.length-8);const ge=X*2**24+this[++Z]*2**16+this[++Z]*2**8+this[++Z],xe=this[++Z]*2**24+this[++Z]*2**16+this[++Z]*2**8+ae;return(BigInt(ge)<<BigInt(32))+BigInt(xe)}),d.prototype.readIntLE=function(Z,X,ae){Z=Z>>>0,X=X>>>0,ae||ne(Z,X,this.length);let ge=this[Z],xe=1,ve=0;for(;++ve<X&&(xe*=256);)ge+=this[Z+ve]*xe;return xe*=128,ge>=xe&&(ge-=Math.pow(2,8*X)),ge},d.prototype.readIntBE=function(Z,X,ae){Z=Z>>>0,X=X>>>0,ae||ne(Z,X,this.length);let ge=X,xe=1,ve=this[Z+--ge];for(;ge>0&&(xe*=256);)ve+=this[Z+--ge]*xe;return xe*=128,ve>=xe&&(ve-=Math.pow(2,8*X)),ve},d.prototype.readInt8=function(Z,X){return Z=Z>>>0,X||ne(Z,1,this.length),this[Z]&128?(255-this[Z]+1)*-1:this[Z]},d.prototype.readInt16LE=function(Z,X){Z=Z>>>0,X||ne(Z,2,this.length);const ae=this[Z]|this[Z+1]<<8;return ae&32768?ae|4294901760:ae},d.prototype.readInt16BE=function(Z,X){Z=Z>>>0,X||ne(Z,2,this.length);const ae=this[Z+1]|this[Z]<<8;return ae&32768?ae|4294901760:ae},d.prototype.readInt32LE=function(Z,X){return Z=Z>>>0,X||ne(Z,4,this.length),this[Z]|this[Z+1]<<8|this[Z+2]<<16|this[Z+3]<<24},d.prototype.readInt32BE=function(Z,X){return Z=Z>>>0,X||ne(Z,4,this.length),this[Z]<<24|this[Z+1]<<16|this[Z+2]<<8|this[Z+3]},d.prototype.readBigInt64LE=gt(function(Z){Z=Z>>>0,tt(Z,"offset");const X=this[Z],ae=this[Z+7];(X===void 0||ae===void 0)&&Ee(Z,this.length-8);const ge=this[Z+4]+this[Z+5]*2**8+this[Z+6]*2**16+(ae<<24);return(BigInt(ge)<<BigInt(32))+BigInt(X+this[++Z]*2**8+this[++Z]*2**16+this[++Z]*2**24)}),d.prototype.readBigInt64BE=gt(function(Z){Z=Z>>>0,tt(Z,"offset");const X=this[Z],ae=this[Z+7];(X===void 0||ae===void 0)&&Ee(Z,this.length-8);const ge=(X<<24)+this[++Z]*2**16+this[++Z]*2**8+this[++Z];return(BigInt(ge)<<BigInt(32))+BigInt(this[++Z]*2**24+this[++Z]*2**16+this[++Z]*2**8+ae)}),d.prototype.readFloatLE=function(Z,X){return Z=Z>>>0,X||ne(Z,4,this.length),n.read(this,Z,!0,23,4)},d.prototype.readFloatBE=function(Z,X){return Z=Z>>>0,X||ne(Z,4,this.length),n.read(this,Z,!1,23,4)},d.prototype.readDoubleLE=function(Z,X){return Z=Z>>>0,X||ne(Z,8,this.length),n.read(this,Z,!0,52,8)},d.prototype.readDoubleBE=function(Z,X){return Z=Z>>>0,X||ne(Z,8,this.length),n.read(this,Z,!1,52,8)};function K(re,Z,X,ae,ge,xe){if(!d.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z>ge||Z<xe)throw new RangeError('"value" argument is out of bounds');if(X+ae>re.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(Z,X,ae,ge){if(Z=+Z,X=X>>>0,ae=ae>>>0,!ge){const nt=Math.pow(2,8*ae)-1;K(this,Z,X,ae,nt,0)}let xe=1,ve=0;for(this[X]=Z&255;++ve<ae&&(xe*=256);)this[X+ve]=Z/xe&255;return X+ae},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(Z,X,ae,ge){if(Z=+Z,X=X>>>0,ae=ae>>>0,!ge){const nt=Math.pow(2,8*ae)-1;K(this,Z,X,ae,nt,0)}let xe=ae-1,ve=1;for(this[X+xe]=Z&255;--xe>=0&&(ve*=256);)this[X+xe]=Z/ve&255;return X+ae},d.prototype.writeUint8=d.prototype.writeUInt8=function(Z,X,ae){return Z=+Z,X=X>>>0,ae||K(this,Z,X,1,255,0),this[X]=Z&255,X+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(Z,X,ae){return Z=+Z,X=X>>>0,ae||K(this,Z,X,2,65535,0),this[X]=Z&255,this[X+1]=Z>>>8,X+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(Z,X,ae){return Z=+Z,X=X>>>0,ae||K(this,Z,X,2,65535,0),this[X]=Z>>>8,this[X+1]=Z&255,X+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(Z,X,ae){return Z=+Z,X=X>>>0,ae||K(this,Z,X,4,4294967295,0),this[X+3]=Z>>>24,this[X+2]=Z>>>16,this[X+1]=Z>>>8,this[X]=Z&255,X+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(Z,X,ae){return Z=+Z,X=X>>>0,ae||K(this,Z,X,4,4294967295,0),this[X]=Z>>>24,this[X+1]=Z>>>16,this[X+2]=Z>>>8,this[X+3]=Z&255,X+4};function se(re,Z,X,ae,ge){We(Z,ae,ge,re,X,7);let xe=Number(Z&BigInt(4294967295));re[X++]=xe,xe=xe>>8,re[X++]=xe,xe=xe>>8,re[X++]=xe,xe=xe>>8,re[X++]=xe;let ve=Number(Z>>BigInt(32)&BigInt(4294967295));return re[X++]=ve,ve=ve>>8,re[X++]=ve,ve=ve>>8,re[X++]=ve,ve=ve>>8,re[X++]=ve,X}function le(re,Z,X,ae,ge){We(Z,ae,ge,re,X,7);let xe=Number(Z&BigInt(4294967295));re[X+7]=xe,xe=xe>>8,re[X+6]=xe,xe=xe>>8,re[X+5]=xe,xe=xe>>8,re[X+4]=xe;let ve=Number(Z>>BigInt(32)&BigInt(4294967295));return re[X+3]=ve,ve=ve>>8,re[X+2]=ve,ve=ve>>8,re[X+1]=ve,ve=ve>>8,re[X]=ve,X+8}d.prototype.writeBigUInt64LE=gt(function(Z,X=0){return se(this,Z,X,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=gt(function(Z,X=0){return le(this,Z,X,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(Z,X,ae,ge){if(Z=+Z,X=X>>>0,!ge){const Ke=Math.pow(2,8*ae-1);K(this,Z,X,ae,Ke-1,-Ke)}let xe=0,ve=1,nt=0;for(this[X]=Z&255;++xe<ae&&(ve*=256);)Z<0&&nt===0&&this[X+xe-1]!==0&&(nt=1),this[X+xe]=(Z/ve>>0)-nt&255;return X+ae},d.prototype.writeIntBE=function(Z,X,ae,ge){if(Z=+Z,X=X>>>0,!ge){const Ke=Math.pow(2,8*ae-1);K(this,Z,X,ae,Ke-1,-Ke)}let xe=ae-1,ve=1,nt=0;for(this[X+xe]=Z&255;--xe>=0&&(ve*=256);)Z<0&&nt===0&&this[X+xe+1]!==0&&(nt=1),this[X+xe]=(Z/ve>>0)-nt&255;return X+ae},d.prototype.writeInt8=function(Z,X,ae){return Z=+Z,X=X>>>0,ae||K(this,Z,X,1,127,-128),Z<0&&(Z=255+Z+1),this[X]=Z&255,X+1},d.prototype.writeInt16LE=function(Z,X,ae){return Z=+Z,X=X>>>0,ae||K(this,Z,X,2,32767,-32768),this[X]=Z&255,this[X+1]=Z>>>8,X+2},d.prototype.writeInt16BE=function(Z,X,ae){return Z=+Z,X=X>>>0,ae||K(this,Z,X,2,32767,-32768),this[X]=Z>>>8,this[X+1]=Z&255,X+2},d.prototype.writeInt32LE=function(Z,X,ae){return Z=+Z,X=X>>>0,ae||K(this,Z,X,4,2147483647,-2147483648),this[X]=Z&255,this[X+1]=Z>>>8,this[X+2]=Z>>>16,this[X+3]=Z>>>24,X+4},d.prototype.writeInt32BE=function(Z,X,ae){return Z=+Z,X=X>>>0,ae||K(this,Z,X,4,2147483647,-2147483648),Z<0&&(Z=4294967295+Z+1),this[X]=Z>>>24,this[X+1]=Z>>>16,this[X+2]=Z>>>8,this[X+3]=Z&255,X+4},d.prototype.writeBigInt64LE=gt(function(Z,X=0){return se(this,Z,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=gt(function(Z,X=0){return le(this,Z,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function de(re,Z,X,ae,ge,xe){if(X+ae>re.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function he(re,Z,X,ae,ge){return Z=+Z,X=X>>>0,ge||de(re,Z,X,4),n.write(re,Z,X,ae,23,4),X+4}d.prototype.writeFloatLE=function(Z,X,ae){return he(this,Z,X,!0,ae)},d.prototype.writeFloatBE=function(Z,X,ae){return he(this,Z,X,!1,ae)};function Ce(re,Z,X,ae,ge){return Z=+Z,X=X>>>0,ge||de(re,Z,X,8),n.write(re,Z,X,ae,52,8),X+8}d.prototype.writeDoubleLE=function(Z,X,ae){return Ce(this,Z,X,!0,ae)},d.prototype.writeDoubleBE=function(Z,X,ae){return Ce(this,Z,X,!1,ae)},d.prototype.copy=function(Z,X,ae,ge){if(!d.isBuffer(Z))throw new TypeError("argument should be a Buffer");if(ae||(ae=0),!ge&&ge!==0&&(ge=this.length),X>=Z.length&&(X=Z.length),X||(X=0),ge>0&&ge<ae&&(ge=ae),ge===ae||Z.length===0||this.length===0)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),Z.length-X<ge-ae&&(ge=Z.length-X+ae);const xe=ge-ae;return this===Z&&typeof a.prototype.copyWithin=="function"?this.copyWithin(X,ae,ge):a.prototype.set.call(Z,this.subarray(ae,ge),X),xe},d.prototype.fill=function(Z,X,ae,ge){if(typeof Z=="string"){if(typeof X=="string"?(ge=X,X=0,ae=this.length):typeof ae=="string"&&(ge=ae,ae=this.length),ge!==void 0&&typeof ge!="string")throw new TypeError("encoding must be a string");if(typeof ge=="string"&&!d.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);if(Z.length===1){const ve=Z.charCodeAt(0);(ge==="utf8"&&ve<128||ge==="latin1")&&(Z=ve)}}else typeof Z=="number"?Z=Z&255:typeof Z=="boolean"&&(Z=Number(Z));if(X<0||this.length<X||this.length<ae)throw new RangeError("Out of range index");if(ae<=X)return this;X=X>>>0,ae=ae===void 0?this.length:ae>>>0,Z||(Z=0);let xe;if(typeof Z=="number")for(xe=X;xe<ae;++xe)this[xe]=Z;else{const ve=d.isBuffer(Z)?Z:d.from(Z,ge),nt=ve.length;if(nt===0)throw new TypeError('The value "'+Z+'" is invalid for argument "value"');for(xe=0;xe<ae-X;++xe)this[xe+X]=ve[xe%nt]}return this};const ke={};function Ie(re,Z,X){ke[re]=class extends X{constructor(){super(),Object.defineProperty(this,"message",{value:Z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${re}]`,this.stack,delete this.name}get code(){return re}set code(ge){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ge,writable:!0})}toString(){return`${this.name} [${re}]: ${this.message}`}}}Ie("ERR_BUFFER_OUT_OF_BOUNDS",function(re){return re?`${re} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ie("ERR_INVALID_ARG_TYPE",function(re,Z){return`The "${re}" argument must be of type number. Received type ${typeof Z}`},TypeError),Ie("ERR_OUT_OF_RANGE",function(re,Z,X){let ae=`The value of "${re}" is out of range.`,ge=X;return Number.isInteger(X)&&Math.abs(X)>2**32?ge=De(String(X)):typeof X=="bigint"&&(ge=String(X),(X>BigInt(2)**BigInt(32)||X<-(BigInt(2)**BigInt(32)))&&(ge=De(ge)),ge+="n"),ae+=` It must be ${Z}. Received ${ge}`,ae},RangeError);function De(re){let Z="",X=re.length;const ae=re[0]==="-"?1:0;for(;X>=ae+4;X-=3)Z=`_${re.slice(X-3,X)}${Z}`;return`${re.slice(0,X)}${Z}`}function Ne(re,Z,X){tt(Z,"offset"),(re[Z]===void 0||re[Z+X]===void 0)&&Ee(Z,re.length-(X+1))}function We(re,Z,X,ae,ge,xe){if(re>X||re<Z){const ve=typeof Z=="bigint"?"n":"";let nt;throw Z===0||Z===BigInt(0)?nt=`>= 0${ve} and < 2${ve} ** ${(xe+1)*8}${ve}`:nt=`>= -(2${ve} ** ${(xe+1)*8-1}${ve}) and < 2 ** ${(xe+1)*8-1}${ve}`,new ke.ERR_OUT_OF_RANGE("value",nt,re)}Ne(ae,ge,xe)}function tt(re,Z){if(typeof re!="number")throw new ke.ERR_INVALID_ARG_TYPE(Z,"number",re)}function Ee(re,Z,X){throw Math.floor(re)!==re?(tt(re,X),new ke.ERR_OUT_OF_RANGE("offset","an integer",re)):Z<0?new ke.ERR_BUFFER_OUT_OF_BOUNDS:new ke.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Z}`,re)}const Ze=/[^+/0-9A-Za-z-_]/g;function xt(re){if(re=re.split("=")[0],re=re.trim().replace(Ze,""),re.length<2)return"";for(;re.length%4!==0;)re=re+"=";return re}function Ue(re,Z){Z=Z||1/0;let X;const ae=re.length;let ge=null;const xe=[];for(let ve=0;ve<ae;++ve){if(X=re.charCodeAt(ve),X>55295&&X<57344){if(!ge){if(X>56319){(Z-=3)>-1&&xe.push(239,191,189);continue}else if(ve+1===ae){(Z-=3)>-1&&xe.push(239,191,189);continue}ge=X;continue}if(X<56320){(Z-=3)>-1&&xe.push(239,191,189),ge=X;continue}X=(ge-55296<<10|X-56320)+65536}else ge&&(Z-=3)>-1&&xe.push(239,191,189);if(ge=null,X<128){if((Z-=1)<0)break;xe.push(X)}else if(X<2048){if((Z-=2)<0)break;xe.push(X>>6|192,X&63|128)}else if(X<65536){if((Z-=3)<0)break;xe.push(X>>12|224,X>>6&63|128,X&63|128)}else if(X<1114112){if((Z-=4)<0)break;xe.push(X>>18|240,X>>12&63|128,X>>6&63|128,X&63|128)}else throw new Error("Invalid code point")}return xe}function Ge(re){const Z=[];for(let X=0;X<re.length;++X)Z.push(re.charCodeAt(X)&255);return Z}function rt(re,Z){let X,ae,ge;const xe=[];for(let ve=0;ve<re.length&&!((Z-=2)<0);++ve)X=re.charCodeAt(ve),ae=X>>8,ge=X%256,xe.push(ge),xe.push(ae);return xe}function pt(re){return e.toByteArray(xt(re))}function qe(re,Z,X,ae){let ge;for(ge=0;ge<ae&&!(ge+X>=Z.length||ge>=re.length);++ge)Z[ge+X]=re[ge];return ge}function ht(re,Z){return re instanceof Z||re!=null&&re.constructor!=null&&re.constructor.name!=null&&re.constructor.name===Z.name}function Ot(re){return re!==re}const Ct=(function(){const re="0123456789abcdef",Z=new Array(256);for(let X=0;X<16;++X){const ae=X*16;for(let ge=0;ge<16;++ge)Z[ae+ge]=re[X]+re[ge]}return Z})();function gt(re){return typeof BigInt>"u"?yt:re}function yt(){throw new Error("BigInt not supported")}})(bY);const _t=bY.Buffer;function h0e(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function p0e(){const t=new Set;let e=[];const n=()=>h0e(i=>{e.some(({info:a})=>a.uuid===i.info.uuid)||(e=[...e,i],t.forEach(a=>a(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(a=>a.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:a}={}){return t.add(i),a&&i(e,{added:e}),()=>t.delete(i)}}}var Tt={},k2={exports:{}},g0e=k2.exports,QD;function m0e(){return QD||(QD=1,(function(t,e){(function(n,r){var i="1.0.41",a="",s="?",o="function",l="undefined",u="object",d="string",h="major",g="model",m="name",b="type",w="vendor",x="version",E="architecture",I="console",C="mobile",N="tablet",A="smarttv",T="wearable",O="embedded",H=500,U="Amazon",L="Apple",G="ASUS",R="BlackBerry",F="Browser",_="Chrome",S="Edge",$="Firefox",D="Google",z="Honor",Y="Huawei",J="Lenovo",V="LG",M="Microsoft",Q="Motorola",ne="Nvidia",K="OnePlus",se="Opera",le="OPPO",de="Samsung",he="Sharp",Ce="Sony",ke="Xiaomi",Ie="Zebra",De="Facebook",Ne="Chromium OS",We="Mac OS",tt=" Browser",Ee=function(Z,X){var ae={};for(var ge in Z)X[ge]&&X[ge].length%2===0?ae[ge]=X[ge].concat(Z[ge]):ae[ge]=Z[ge];return ae},Ze=function(Z){for(var X={},ae=0;ae<Z.length;ae++)X[Z[ae].toUpperCase()]=Z[ae];return X},xt=function(Z,X){return typeof Z===d?Ue(X).indexOf(Ue(Z))!==-1:!1},Ue=function(Z){return Z.toLowerCase()},Ge=function(Z){return typeof Z===d?Z.replace(/[^\d\.]/g,a).split(".")[0]:r},rt=function(Z,X){if(typeof Z===d)return Z=Z.replace(/^\s\s*/,a),typeof X===l?Z:Z.substring(0,H)},pt=function(Z,X){for(var ae=0,ge,xe,ve,nt,Ke,mt;ae<X.length&&!Ke;){var Mt=X[ae],Ye=X[ae+1];for(ge=xe=0;ge<Mt.length&&!Ke&&Mt[ge];)if(Ke=Mt[ge++].exec(Z),Ke)for(ve=0;ve<Ye.length;ve++)mt=Ke[++xe],nt=Ye[ve],typeof nt===u&&nt.length>0?nt.length===2?typeof nt[1]==o?this[nt[0]]=nt[1].call(this,mt):this[nt[0]]=nt[1]:nt.length===3?typeof nt[1]===o&&!(nt[1].exec&&nt[1].test)?this[nt[0]]=mt?nt[1].call(this,mt,nt[2]):r:this[nt[0]]=mt?mt.replace(nt[1],nt[2]):r:nt.length===4&&(this[nt[0]]=mt?nt[3].call(this,mt.replace(nt[1],nt[2])):r):this[nt]=mt||r;ae+=2}},qe=function(Z,X){for(var ae in X)if(typeof X[ae]===u&&X[ae].length>0){for(var ge=0;ge<X[ae].length;ge++)if(xt(X[ae][ge],Z))return ae===s?r:ae}else if(xt(X[ae],Z))return ae===s?r:ae;return X.hasOwnProperty("*")?X["*"]:Z},ht={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ot={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ct={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,x],[/opios[\/ ]+([\w\.]+)/i],[x,[m,se+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[x,[m,se+" GX"]],[/\bopr\/([\w\.]+)/i],[x,[m,se]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[x,[m,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[x,[m,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,x],[/quark(?:pc)?\/([-\w\.]+)/i],[x,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[x,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[m,"UC"+F]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[x,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[x,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[x,[m,"Smart Lenovo "+F]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+F],x],[/\bfocus\/([\w\.]+)/i],[x,[m,$+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[m,se+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[m,se+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[m,"MIUI"+tt]],[/fxios\/([\w\.-]+)/i],[x,[m,$]],[/\bqihoobrowser\/?([\w\.]*)/i],[x,[m,"360"]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],x],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+tt],x],[/samsungbrowser\/([\w\.]+)/i],[x,[m,de+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[x,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[m,x],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[x,m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,De],x],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,x],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[x,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[m,_+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,_+" WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[m,"Android "+F]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,x],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[x,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[x,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[x,qe,ht]],[/(webkit|khtml)\/([\w\.]+)/i],[m,x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],x],[/(wolvic|librewolf)\/([\w\.]+)/i],[m,x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[m,$+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[m,[x,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[x,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[E,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[E,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[E,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[E,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[E,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[E,/ower/,a,Ue]],[/ sun4\w[;\)]/i],[[E,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[E,Ue]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[w,de],[b,N]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[g,[w,de],[b,C]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[w,L],[b,C]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[w,L],[b,N]],[/(macintosh);/i],[g,[w,L]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[w,he],[b,C]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[g,[w,z],[b,N]],[/honor([-\w ]+)[;\)]/i],[g,[w,z],[b,C]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[g,[w,Y],[b,N]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[w,Y],[b,C]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[g,/_/g," "],[w,ke],[b,N]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[g,/_/g," "],[w,ke],[b,C]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[w,le],[b,C]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[g,[w,qe,{OnePlus:["304","403","203"],"*":le}],[b,N]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[w,"Vivo"],[b,C]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[w,"Realme"],[b,C]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[w,Q],[b,C]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[w,Q],[b,N]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[w,V],[b,N]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[w,V],[b,C]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[g,[w,J],[b,N]],[/(nokia) (t[12][01])/i],[w,g,[b,N]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[g,/_/g," "],[b,C],[w,"Nokia"]],[/(pixel (c|tablet))\b/i],[g,[w,D],[b,N]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[w,D],[b,C]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[w,Ce],[b,C]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[w,Ce],[b,N]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[w,K],[b,C]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[w,U],[b,N]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[w,U],[b,C]],[/(playbook);[-\w\),; ]+(rim)/i],[g,w,[b,N]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[w,R],[b,C]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[w,G],[b,N]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[w,G],[b,C]],[/(nexus 9)/i],[g,[w,"HTC"],[b,N]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[w,[g,/_/g," "],[b,C]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[g,[w,"TCL"],[b,N]],[/(itel) ((\w+))/i],[[w,Ue],g,[b,qe,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[w,"Acer"],[b,N]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[w,"Meizu"],[b,C]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[w,"Ulefone"],[b,C]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[g,[w,"Energizer"],[b,C]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[g,[w,"Cat"],[b,C]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[g,[w,"Smartfren"],[b,C]],[/droid.+; (a(?:015|06[35]|142p?))/i],[g,[w,"Nothing"],[b,C]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[g,[w,"Archos"],[b,N]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[g,[w,"Archos"],[b,C]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[w,g,[b,N]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[w,g,[b,C]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[w,g,[b,N]],[/(surface duo)/i],[g,[w,M],[b,N]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[w,"Fairphone"],[b,C]],[/(u304aa)/i],[g,[w,"AT&T"],[b,C]],[/\bsie-(\w*)/i],[g,[w,"Siemens"],[b,C]],[/\b(rct\w+) b/i],[g,[w,"RCA"],[b,N]],[/\b(venue[\d ]{2,7}) b/i],[g,[w,"Dell"],[b,N]],[/\b(q(?:mv|ta)\w+) b/i],[g,[w,"Verizon"],[b,N]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[w,"Barnes & Noble"],[b,N]],[/\b(tm\d{3}\w+) b/i],[g,[w,"NuVision"],[b,N]],[/\b(k88) b/i],[g,[w,"ZTE"],[b,N]],[/\b(nx\d{3}j) b/i],[g,[w,"ZTE"],[b,C]],[/\b(gen\d{3}) b.+49h/i],[g,[w,"Swiss"],[b,C]],[/\b(zur\d{3}) b/i],[g,[w,"Swiss"],[b,N]],[/\b((zeki)?tb.*\b) b/i],[g,[w,"Zeki"],[b,N]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[w,"Dragon Touch"],g,[b,N]],[/\b(ns-?\w{0,9}) b/i],[g,[w,"Insignia"],[b,N]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[w,"NextBook"],[b,N]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[w,"Voice"],g,[b,C]],[/\b(lvtel\-)?(v1[12]) b/i],[[w,"LvTel"],g,[b,C]],[/\b(ph-1) /i],[g,[w,"Essential"],[b,C]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[w,"Envizen"],[b,N]],[/\b(trio[-\w\. ]+) b/i],[g,[w,"MachSpeed"],[b,N]],[/\btu_(1491) b/i],[g,[w,"Rotor"],[b,N]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[g,[w,ne],[b,N]],[/(sprint) (\w+)/i],[w,g,[b,C]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[w,M],[b,C]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[w,Ie],[b,N]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[w,Ie],[b,C]],[/smart-tv.+(samsung)/i],[w,[b,A]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[w,de],[b,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,V],[b,A]],[/(apple) ?tv/i],[w,[g,L+" TV"],[b,A]],[/crkey/i],[[g,_+"cast"],[w,D],[b,A]],[/droid.+aft(\w+)( bui|\))/i],[g,[w,U],[b,A]],[/(shield \w+ tv)/i],[g,[w,ne],[b,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[w,he],[b,A]],[/(bravia[\w ]+)( bui|\))/i],[g,[w,Ce],[b,A]],[/(mi(tv|box)-?\w+) bui/i],[g,[w,ke],[b,A]],[/Hbbtv.*(technisat) (.*);/i],[w,g,[b,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[w,rt],[g,rt],[b,A]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[g,[b,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,A]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[w,g,[b,I]],[/droid.+; (shield)( bui|\))/i],[g,[w,ne],[b,I]],[/(playstation \w+)/i],[g,[w,Ce],[b,I]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[w,M],[b,I]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[g,[w,de],[b,T]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[w,g,[b,T]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[g,[w,le],[b,T]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[w,L],[b,T]],[/(opwwe\d{3})/i],[g,[w,K],[b,T]],[/(moto 360)/i],[g,[w,Q],[b,T]],[/(smartwatch 3)/i],[g,[w,Ce],[b,T]],[/(g watch r)/i],[g,[w,V],[b,T]],[/droid.+; (wt63?0{2,3})\)/i],[g,[w,Ie],[b,T]],[/droid.+; (glass) \d/i],[g,[w,D],[b,T]],[/(pico) (4|neo3(?: link|pro)?)/i],[w,g,[b,T]],[/; (quest( \d| pro)?)/i],[g,[w,De],[b,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[b,O]],[/(aeobc)\b/i],[g,[w,U],[b,O]],[/(homepod).+mac os/i],[g,[w,L],[b,O]],[/windows iot/i],[[b,O]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[b,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[b,N]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,N]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,C]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[g,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[m,S+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[m,x],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,x],[/ladybird\//i],[[m,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,x],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[m,[x,qe,Ot]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[x,qe,Ot],[m,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,We],[x,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,m],[/(ubuntu) ([\w\.]+) like android/i],[[m,/(.+)/,"$1 Touch"],x],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[m,x],[/\(bb(10);/i],[x,[m,R]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[x,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[m,$+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[x,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[x,[m,_+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,Ne],x],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,x],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,x]]},gt=function(Z,X){if(typeof Z===u&&(X=Z,Z=r),!(this instanceof gt))return new gt(Z,X).getResult();var ae=typeof n!==l&&n.navigator?n.navigator:r,ge=Z||(ae&&ae.userAgent?ae.userAgent:a),xe=ae&&ae.userAgentData?ae.userAgentData:r,ve=X?Ee(Ct,X):Ct,nt=ae&&ae.userAgent==ge;return this.getBrowser=function(){var Ke={};return Ke[m]=r,Ke[x]=r,pt.call(Ke,ge,ve.browser),Ke[h]=Ge(Ke[x]),nt&&ae&&ae.brave&&typeof ae.brave.isBrave==o&&(Ke[m]="Brave"),Ke},this.getCPU=function(){var Ke={};return Ke[E]=r,pt.call(Ke,ge,ve.cpu),Ke},this.getDevice=function(){var Ke={};return Ke[w]=r,Ke[g]=r,Ke[b]=r,pt.call(Ke,ge,ve.device),nt&&!Ke[b]&&xe&&xe.mobile&&(Ke[b]=C),nt&&Ke[g]=="Macintosh"&&ae&&typeof ae.standalone!==l&&ae.maxTouchPoints&&ae.maxTouchPoints>2&&(Ke[g]="iPad",Ke[b]=N),Ke},this.getEngine=function(){var Ke={};return Ke[m]=r,Ke[x]=r,pt.call(Ke,ge,ve.engine),Ke},this.getOS=function(){var Ke={};return Ke[m]=r,Ke[x]=r,pt.call(Ke,ge,ve.os),nt&&!Ke[m]&&xe&&xe.platform&&xe.platform!="Unknown"&&(Ke[m]=xe.platform.replace(/chrome os/i,Ne).replace(/macos/i,We)),Ke},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ge},this.setUA=function(Ke){return ge=typeof Ke===d&&Ke.length>H?rt(Ke,H):Ke,this},this.setUA(ge),this};gt.VERSION=i,gt.BROWSER=Ze([m,x,h]),gt.CPU=Ze([E]),gt.DEVICE=Ze([g,w,b,I,C,A,N,T,O]),gt.ENGINE=gt.OS=Ze([m,x]),t.exports&&(e=t.exports=gt),e.UAParser=gt;var yt=typeof n!==l&&(n.jQuery||n.Zepto);if(yt&&!yt.ua){var re=new gt;yt.ua=re.getResult(),yt.ua.get=function(){return re.getUA()},yt.ua.set=function(Z){re.setUA(Z);var X=re.getResult();for(var ae in X)yt.ua[ae]=X[ae]}}})(typeof window=="object"?window:g0e)})(k2,k2.exports)),k2.exports}var eB;function y0e(){if(eB)return Tt;eB=1,Object.defineProperty(Tt,"__esModule",{value:!0});function t(Se){return Se&&typeof Se=="object"&&"default"in Se?Se.default:Se}var e=Ow(),n=t(e),r=m0e(),i=new r,a=i.getBrowser(),s=i.getCPU(),o=i.getDevice(),l=i.getEngine(),u=i.getOS(),d=i.getUA(),h=function(fe){return i.setUA(fe)},g=function(fe){if(!fe){console.error("No userAgent string was provided");return}var we=new r(fe);return{UA:we,browser:we.getBrowser(),cpu:we.getCPU(),device:we.getDevice(),engine:we.getEngine(),os:we.getOS(),ua:we.getUA(),setUserAgent:function(et){return we.setUA(et)}}},m=Object.freeze({ClientUAInstance:i,browser:a,cpu:s,device:o,engine:l,os:u,ua:d,setUa:h,parseUserAgent:g});function b(Se,fe){var we=Object.keys(Se);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Se);fe&&(Be=Be.filter(function(et){return Object.getOwnPropertyDescriptor(Se,et).enumerable})),we.push.apply(we,Be)}return we}function w(Se){for(var fe=1;fe<arguments.length;fe++){var we=arguments[fe]!=null?arguments[fe]:{};fe%2?b(Object(we),!0).forEach(function(Be){N(Se,Be,we[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(we)):b(Object(we)).forEach(function(Be){Object.defineProperty(Se,Be,Object.getOwnPropertyDescriptor(we,Be))})}return Se}function x(Se){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(fe){return typeof fe}:x=function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},x(Se)}function E(Se,fe){if(!(Se instanceof fe))throw new TypeError("Cannot call a class as a function")}function I(Se,fe){for(var we=0;we<fe.length;we++){var Be=fe[we];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(Se,Be.key,Be)}}function C(Se,fe,we){return fe&&I(Se.prototype,fe),Se}function N(Se,fe,we){return fe in Se?Object.defineProperty(Se,fe,{value:we,enumerable:!0,configurable:!0,writable:!0}):Se[fe]=we,Se}function A(){return A=Object.assign||function(Se){for(var fe=1;fe<arguments.length;fe++){var we=arguments[fe];for(var Be in we)Object.prototype.hasOwnProperty.call(we,Be)&&(Se[Be]=we[Be])}return Se},A.apply(this,arguments)}function T(Se,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function");Se.prototype=Object.create(fe&&fe.prototype,{constructor:{value:Se,writable:!0,configurable:!0}}),fe&&H(Se,fe)}function O(Se){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(we){return we.__proto__||Object.getPrototypeOf(we)},O(Se)}function H(Se,fe){return H=Object.setPrototypeOf||function(Be,et){return Be.__proto__=et,Be},H(Se,fe)}function U(Se,fe){if(Se==null)return{};var we={},Be=Object.keys(Se),et,sn;for(sn=0;sn<Be.length;sn++)et=Be[sn],!(fe.indexOf(et)>=0)&&(we[et]=Se[et]);return we}function L(Se,fe){if(Se==null)return{};var we=U(Se,fe),Be,et;if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(Se);for(et=0;et<sn.length;et++)Be=sn[et],!(fe.indexOf(Be)>=0)&&Object.prototype.propertyIsEnumerable.call(Se,Be)&&(we[Be]=Se[Be])}return we}function G(Se){if(Se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Se}function R(Se,fe){if(fe&&(typeof fe=="object"||typeof fe=="function"))return fe;if(fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G(Se)}function F(Se,fe){return _(Se)||S(Se,fe)||$(Se,fe)||z()}function _(Se){if(Array.isArray(Se))return Se}function S(Se,fe){var we=Se==null?null:typeof Symbol<"u"&&Se[Symbol.iterator]||Se["@@iterator"];if(we!=null){var Be=[],et=!0,sn=!1,_r,Yi;try{for(we=we.call(Se);!(et=(_r=we.next()).done)&&(Be.push(_r.value),!(fe&&Be.length===fe));et=!0);}catch(_i){sn=!0,Yi=_i}finally{try{!et&&we.return!=null&&we.return()}finally{if(sn)throw Yi}}return Be}}function $(Se,fe){if(Se){if(typeof Se=="string")return D(Se,fe);var we=Object.prototype.toString.call(Se).slice(8,-1);if(we==="Object"&&Se.constructor&&(we=Se.constructor.name),we==="Map"||we==="Set")return Array.from(Se);if(we==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we))return D(Se,fe)}}function D(Se,fe){(fe==null||fe>Se.length)&&(fe=Se.length);for(var we=0,Be=new Array(fe);we<fe;we++)Be[we]=Se[we];return Be}function z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},J={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},V={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},M={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},Q=function(fe){switch(fe){case Y.Mobile:return{isMobile:!0};case Y.Tablet:return{isTablet:!0};case Y.SmartTv:return{isSmartTV:!0};case Y.Console:return{isConsole:!0};case Y.Wearable:return{isWearable:!0};case Y.Browser:return{isBrowser:!0};case Y.Embedded:return{isEmbedded:!0};default:return M}},ne=function(fe){return h(fe)},K=function(fe){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return fe||we},se=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},le=function(fe){var we=se();return we&&we.platform&&(we.platform.indexOf(fe)!==-1||we.platform==="MacIntel"&&we.maxTouchPoints>1&&!window.MSStream)},de=function(fe,we,Be,et,sn){return{isBrowser:fe,browserMajorVersion:K(we.major),browserFullVersion:K(we.version),browserName:K(we.name),engineName:K(Be.name),engineVersion:K(Be.version),osName:K(et.name),osVersion:K(et.version),userAgent:K(sn)}},he=function(fe,we,Be,et){return w({},fe,{vendor:K(we.vendor),model:K(we.model),os:K(Be.name),osVersion:K(Be.version),ua:K(et)})},Ce=function(fe,we,Be,et){return{isSmartTV:fe,engineName:K(we.name),engineVersion:K(we.version),osName:K(Be.name),osVersion:K(Be.version),userAgent:K(et)}},ke=function(fe,we,Be,et){return{isConsole:fe,engineName:K(we.name),engineVersion:K(we.version),osName:K(Be.name),osVersion:K(Be.version),userAgent:K(et)}},Ie=function(fe,we,Be,et){return{isWearable:fe,engineName:K(we.name),engineVersion:K(we.version),osName:K(Be.name),osVersion:K(Be.version),userAgent:K(et)}},De=function(fe,we,Be,et,sn){return{isEmbedded:fe,vendor:K(we.vendor),model:K(we.model),engineName:K(Be.name),engineVersion:K(Be.version),osName:K(et.name),osVersion:K(et.version),userAgent:K(sn)}};function Ne(Se){var fe=Se?g(Se):m,we=fe.device,Be=fe.browser,et=fe.engine,sn=fe.os,_r=fe.ua,Yi=Q(we.type),_i=Yi.isBrowser,bu=Yi.isMobile,Np=Yi.isTablet,zd=Yi.isSmartTV,qv=Yi.isConsole,Pp=Yi.isWearable,Op=Yi.isEmbedded;if(_i)return de(_i,Be,et,sn,_r);if(zd)return Ce(zd,et,sn,_r);if(qv)return ke(qv,et,sn,_r);if(bu||Np)return he(Yi,we,sn,_r);if(Pp)return Ie(Pp,et,sn,_r);if(Op)return De(Op,we,et,sn,_r)}var We=function(fe){var we=fe.type;return we===Y.Mobile},tt=function(fe){var we=fe.type;return we===Y.Tablet},Ee=function(fe){var we=fe.type;return we===Y.Mobile||we===Y.Tablet},Ze=function(fe){var we=fe.type;return we===Y.SmartTv},xt=function(fe){var we=fe.type;return we===Y.Browser},Ue=function(fe){var we=fe.type;return we===Y.Wearable},Ge=function(fe){var we=fe.type;return we===Y.Console},rt=function(fe){var we=fe.type;return we===Y.Embedded},pt=function(fe){var we=fe.vendor;return K(we)},qe=function(fe){var we=fe.model;return K(we)},ht=function(fe){var we=fe.type;return K(we,"browser")},Ot=function(fe){var we=fe.name;return we===V.Android},Ct=function(fe){var we=fe.name;return we===V.Windows},gt=function(fe){var we=fe.name;return we===V.MAC_OS},yt=function(fe){var we=fe.name;return we===V.WindowsPhone},re=function(fe){var we=fe.name;return we===V.IOS},Z=function(fe){var we=fe.version;return K(we)},X=function(fe){var we=fe.name;return K(we)},ae=function(fe){var we=fe.name;return we===J.Chrome},ge=function(fe){var we=fe.name;return we===J.Firefox},xe=function(fe){var we=fe.name;return we===J.Chromium},ve=function(fe){var we=fe.name;return we===J.Edge},nt=function(fe){var we=fe.name;return we===J.Yandex},Ke=function(fe){var we=fe.name;return we===J.Safari||we===J.MobileSafari},mt=function(fe){var we=fe.name;return we===J.MobileSafari},Mt=function(fe){var we=fe.name;return we===J.Opera},Ye=function(fe){var we=fe.name;return we===J.InternetExplorer||we===J.Ie},jt=function(fe){var we=fe.name;return we===J.MIUI},Xt=function(fe){var we=fe.name;return we===J.SamsungBrowser},it=function(fe){var we=fe.version;return K(we)},Zt=function(fe){var we=fe.major;return K(we)},ir=function(fe){var we=fe.name;return K(we)},tn=function(fe){var we=fe.name;return K(we)},W=function(fe){var we=fe.version;return K(we)},j=function(){var fe=se(),we=fe&&fe.userAgent&&fe.userAgent.toLowerCase();return typeof we=="string"?/electron/.test(we):!1},q=function(fe){return typeof fe=="string"&&fe.indexOf("Edg/")!==-1},ee=function(){var fe=se();return fe&&(/iPad|iPhone|iPod/.test(fe.platform)||fe.platform==="MacIntel"&&fe.maxTouchPoints>1)&&!window.MSStream},ie=function(){return le("iPad")},ce=function(){return le("iPhone")},pe=function(){return le("iPod")},je=function(fe){return K(fe)};function ot(Se){var fe=Se||m,we=fe.device,Be=fe.browser,et=fe.os,sn=fe.engine,_r=fe.ua;return{isSmartTV:Ze(we),isConsole:Ge(we),isWearable:Ue(we),isEmbedded:rt(we),isMobileSafari:mt(Be)||ie(),isChromium:xe(Be),isMobile:Ee(we)||ie(),isMobileOnly:We(we),isTablet:tt(we)||ie(),isBrowser:xt(we),isDesktop:xt(we),isAndroid:Ot(et),isWinPhone:yt(et),isIOS:re(et)||ie(),isChrome:ae(Be),isFirefox:ge(Be),isSafari:Ke(Be),isOpera:Mt(Be),isIE:Ye(Be),osVersion:Z(et),osName:X(et),fullBrowserVersion:it(Be),browserVersion:Zt(Be),browserName:ir(Be),mobileVendor:pt(we),mobileModel:qe(we),engineName:tn(sn),engineVersion:W(sn),getUA:je(_r),isEdge:ve(Be)||q(_r),isYandex:nt(Be),deviceType:ht(we),isIOS13:ee(),isIPad13:ie(),isIPhone13:ce(),isIPod13:pe(),isElectron:j(),isEdgeChromium:q(_r),isLegacyEdge:ve(Be)&&!q(_r),isWindows:Ct(et),isMacOs:gt(et),isMIUI:jt(Be),isSamsungBrowser:Xt(Be)}}var st=Ze(o),At=Ge(o),Je=Ue(o),It=rt(o),St=mt(a)||ie(),Wt=xe(a),Ht=Ee(o)||ie(),Xn=We(o),ar=tt(o)||ie(),qn=xt(o),mn=xt(o),Vn=Ot(u),wr=yt(u),wa=re(u)||ie(),Ba=ae(a),zt=ge(a),Gn=Ke(a),nn=Mt(a),Mn=Ye(a),Lr=Z(u),Bs=X(u),Ua=it(a),gc=Zt(a),yu=ir(a),mc=pt(o),yc=qe(o),_l=tn(l),ts=W(l),jv=je(d),O9=ve(a)||q(d),Jm=nt(a),Dv=ht(o),Tp=ee(),R9=ie(),ns=ce(),Xm=pe(),Bv=j(),Qm=q(d),Bd=ve(a)&&!q(d),Uv=Ct(u),Lv=gt(u),Ud=jt(a),M9=Xt(a),Fv=function(fe){if(!fe||typeof fe!="string"){console.error("No valid user agent string was provided");return}var we=g(fe),Be=we.device,et=we.browser,sn=we.os,_r=we.engine,Yi=we.ua;return ot({device:Be,browser:et,os:sn,engine:_r,ua:Yi})},zv=function(fe){var we=fe.renderWithFragment,Be=fe.children,et=L(fe,["renderWithFragment","children"]);return Vn?we?n.createElement(e.Fragment,null,Be):n.createElement("div",et,Be):null},ey=function(fe){var we=fe.renderWithFragment,Be=fe.children,et=L(fe,["renderWithFragment","children"]);return qn?we?n.createElement(e.Fragment,null,Be):n.createElement("div",et,Be):null},j9=function(fe){var we=fe.renderWithFragment,Be=fe.children,et=L(fe,["renderWithFragment","children"]);return Mn?we?n.createElement(e.Fragment,null,Be):n.createElement("div",et,Be):null},D9=function(fe){var we=fe.renderWithFragment,Be=fe.children,et=L(fe,["renderWithFragment","children"]);return wa?we?n.createElement(e.Fragment,null,Be):n.createElement("div",et,Be):null},$p=function(fe){var we=fe.renderWithFragment,Be=fe.children,et=L(fe,["renderWithFragment","children"]);return Ht?we?n.createElement(e.Fragment,null,Be):n.createElement("div",et,Be):null},Al=function(fe){var we=fe.renderWithFragment,Be=fe.children,et=L(fe,["renderWithFragment","children"]);return ar?we?n.createElement(e.Fragment,null,Be):n.createElement("div",et,Be):null},ty=function(fe){var we=fe.renderWithFragment,Be=fe.children,et=L(fe,["renderWithFragment","children"]);return wr?we?n.createElement(e.Fragment,null,Be):n.createElement("div",et,Be):null},ny=function(fe){var we=fe.renderWithFragment,Be=fe.children;fe.viewClassName,fe.style;var et=L(fe,["renderWithFragment","children","viewClassName","style"]);return Xn?we?n.createElement(e.Fragment,null,Be):n.createElement("div",et,Be):null},Ld=function(fe){var we=fe.renderWithFragment,Be=fe.children,et=L(fe,["renderWithFragment","children"]);return st?we?n.createElement(e.Fragment,null,Be):n.createElement("div",et,Be):null},Fd=function(fe){var we=fe.renderWithFragment,Be=fe.children,et=L(fe,["renderWithFragment","children"]);return At?we?n.createElement(e.Fragment,null,Be):n.createElement("div",et,Be):null},Wv=function(fe){var we=fe.renderWithFragment,Be=fe.children,et=L(fe,["renderWithFragment","children"]);return Je?we?n.createElement(e.Fragment,null,Be):n.createElement("div",et,Be):null},ry=function(fe){var we=fe.renderWithFragment,Be=fe.children;fe.viewClassName,fe.style;var et=fe.condition,sn=L(fe,["renderWithFragment","children","viewClassName","style","condition"]);return et?we?n.createElement(e.Fragment,null,Be):n.createElement("div",sn,Be):null};function Hv(Se){return(function(fe){T(we,fe);function we(Be){var et;return E(this,we),et=R(this,O(we).call(this,Be)),et.isEventListenerAdded=!1,et.handleOrientationChange=et.handleOrientationChange.bind(G(et)),et.onOrientationChange=et.onOrientationChange.bind(G(et)),et.onPageLoad=et.onPageLoad.bind(G(et)),et.state={isLandscape:!1,isPortrait:!1},et}return C(we,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var et=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:et===0,isLandscape:et===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":x(window))!==void 0&&Ht&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return n.createElement(Se,A({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),we})(n.Component)}function Th(){var Se=e.useState(function(){var sn=window.innerWidth>window.innerHeight?90:0;return{isPortrait:sn===0,isLandscape:sn===90,orientation:sn===0?"portrait":"landscape"}}),fe=F(Se,2),we=fe[0],Be=fe[1],et=e.useCallback(function(){var sn=window.innerWidth>window.innerHeight?90:0,_r={isPortrait:sn===0,isLandscape:sn===90,orientation:sn===0?"portrait":"landscape"};we.orientation!==_r.orientation&&Be(_r)},[we.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":x(window))!==void 0&&Ht&&(et(),window.addEventListener("load",et,!1),window.addEventListener("resize",et,!1)),function(){window.removeEventListener("resize",et,!1),window.removeEventListener("load",et,!1)}},[et]),we}function Eo(Se){var fe=Se||window.navigator.userAgent;return g(fe)}function iy(Se){var fe=Se||window.navigator.userAgent,we=Eo(fe),Be=ot(we);return[Be,we]}return Tt.AndroidView=zv,Tt.BrowserTypes=J,Tt.BrowserView=ey,Tt.ConsoleView=Fd,Tt.CustomView=ry,Tt.IEView=j9,Tt.IOSView=D9,Tt.MobileOnlyView=ny,Tt.MobileView=$p,Tt.OsTypes=V,Tt.SmartTVView=Ld,Tt.TabletView=Al,Tt.WearableView=Wv,Tt.WinPhoneView=ty,Tt.browserName=yu,Tt.browserVersion=gc,Tt.deviceDetect=Ne,Tt.deviceType=Dv,Tt.engineName=_l,Tt.engineVersion=ts,Tt.fullBrowserVersion=Ua,Tt.getSelectorsByUserAgent=Fv,Tt.getUA=jv,Tt.isAndroid=Vn,Tt.isBrowser=qn,Tt.isChrome=Ba,Tt.isChromium=Wt,Tt.isConsole=At,Tt.isDesktop=mn,Tt.isEdge=O9,Tt.isEdgeChromium=Qm,Tt.isElectron=Bv,Tt.isEmbedded=It,Tt.isFirefox=zt,Tt.isIE=Mn,Tt.isIOS=wa,Tt.isIOS13=Tp,Tt.isIPad13=R9,Tt.isIPhone13=ns,Tt.isIPod13=Xm,Tt.isLegacyEdge=Bd,Tt.isMIUI=Ud,Tt.isMacOs=Lv,Tt.isMobile=Ht,Tt.isMobileOnly=Xn,Tt.isMobileSafari=St,Tt.isOpera=nn,Tt.isSafari=Gn,Tt.isSamsungBrowser=M9,Tt.isSmartTV=st,Tt.isTablet=ar,Tt.isWearable=Je,Tt.isWinPhone=wr,Tt.isWindows=Uv,Tt.isYandex=Jm,Tt.mobileModel=yc,Tt.mobileVendor=mc,Tt.osName=Bs,Tt.osVersion=Lr,Tt.parseUserAgent=g,Tt.setUserAgent=ne,Tt.useDeviceData=Eo,Tt.useDeviceSelectors=iy,Tt.useMobileOrientation=Th,Tt.withOrientationChange=Hv,Tt}var Dn=y0e();const b0e="1.1.0";let Ns=class qS extends Error{constructor(e,n={}){const r=n.cause instanceof qS?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof qS&&n.cause.docsPath||n.docsPath,a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${b0e}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Od(t,e){return t.exec(e)?.groups}const vY=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xY=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,EY=/^\(.+?\).*?$/,tB=/^tuple(?<array>(\[(\d*)\])*)$/;function VS(t){let e=t.type;if(tB.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const a=t.components[i];e+=VS(a),i<n-1&&(e+=", ")}const r=Od(tB,t.type);return e+=`)${r?.array??""}`,VS({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function V1(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=VS(i),r!==n-1&&(e+=", ")}return e}function q5(t){return t.type==="function"?`function ${t.name}(${V1(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${V1(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${V1(t.inputs)})`:t.type==="error"?`error ${t.name}(${V1(t.inputs)})`:t.type==="constructor"?`constructor(${V1(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const _Y=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function w0e(t){return _Y.test(t)}function v0e(t){return Od(_Y,t)}const AY=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function x0e(t){return AY.test(t)}function E0e(t){return Od(AY,t)}const CY=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function _0e(t){return CY.test(t)}function A0e(t){return Od(CY,t)}const SY=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function w4(t){return SY.test(t)}function C0e(t){return Od(SY,t)}const kY=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function S0e(t){return kY.test(t)}function k0e(t){return Od(kY,t)}const IY=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function I0e(t){return IY.test(t)}function T0e(t){return Od(IY,t)}const $0e=/^receive\(\) external payable$/;function N0e(t){return $0e.test(t)}const nB=new Set(["memory","indexed","storage","calldata"]),P0e=new Set(["indexed"]),GS=new Set(["calldata","memory","storage"]);class O0e extends Ns{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class R0e extends Ns{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class M0e extends Ns{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class j0e extends Ns{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class D0e extends Ns{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class B0e extends Ns{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class U0e extends Ns{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class L0e extends Ns{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class F0e extends Ns{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class hm extends Ns{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class z0e extends Ns{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class W0e extends Ns{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class H0e extends Ns{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class q0e extends Ns{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function V0e(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let a="";for(const s of i[1])a+=`[${s.type}${s.name?`:${s.name}`:""}]`;r+=`(${i[0]}{${a}})`}return e?`${e}:${t}${r}`:t}const WE=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function KS(t,e={}){if(_0e(t))return G0e(t,e);if(x0e(t))return K0e(t,e);if(w0e(t))return Y0e(t,e);if(S0e(t))return Z0e(t,e);if(I0e(t))return J0e(t);if(N0e(t))return{type:"receive",stateMutability:"payable"};throw new z0e({signature:t})}function G0e(t,e={}){const n=A0e(t);if(!n)throw new hm({signature:t,type:"function"});const r=ao(n.parameters),i=[],a=r.length;for(let o=0;o<a;o++)i.push(bd(r[o],{modifiers:GS,structs:e,type:"function"}));const s=[];if(n.returns){const o=ao(n.returns),l=o.length;for(let u=0;u<l;u++)s.push(bd(o[u],{modifiers:GS,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:s}}function K0e(t,e={}){const n=E0e(t);if(!n)throw new hm({signature:t,type:"event"});const r=ao(n.parameters),i=[],a=r.length;for(let s=0;s<a;s++)i.push(bd(r[s],{modifiers:P0e,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function Y0e(t,e={}){const n=v0e(t);if(!n)throw new hm({signature:t,type:"error"});const r=ao(n.parameters),i=[],a=r.length;for(let s=0;s<a;s++)i.push(bd(r[s],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function Z0e(t,e={}){const n=k0e(t);if(!n)throw new hm({signature:t,type:"constructor"});const r=ao(n.parameters),i=[],a=r.length;for(let s=0;s<a;s++)i.push(bd(r[s],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function J0e(t){const e=T0e(t);if(!e)throw new hm({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const X0e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Q0e=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,epe=/^u?int$/;function bd(t,e){const n=V0e(t,e?.type,e?.structs);if(WE.has(n))return WE.get(n);const r=EY.test(t),i=Od(r?Q0e:X0e,t);if(!i)throw new D0e({param:t});if(i.name&&npe(i.name))throw new B0e({param:t,name:i.name});const a=i.name?{name:i.name}:{},s=i.modifier==="indexed"?{indexed:!0}:{},o=e?.structs??{};let l,u={};if(r){l="tuple";const h=ao(i.type),g=[],m=h.length;for(let b=0;b<m;b++)g.push(bd(h[b],{structs:o}));u={components:g}}else if(i.type in o)l="tuple",u={components:o[i.type]};else if(epe.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,e?.type!=="struct"&&!TY(l))throw new M0e({type:l});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new U0e({param:t,type:e?.type,modifier:i.modifier});if(GS.has(i.modifier)&&!rpe(l,!!i.array))throw new L0e({param:t,type:e?.type,modifier:i.modifier})}const d={type:`${l}${i.array??""}`,...a,...s,...u};return WE.set(n,d),d}function ao(t,e=[],n="",r=0){const i=t.trim().length;for(let a=0;a<i;a++){const s=t[a],o=t.slice(a+1);switch(s){case",":return r===0?ao(o,[...e,n.trim()]):ao(o,e,`${n}${s}`,r);case"(":return ao(o,e,`${n}${s}`,r+1);case")":return ao(o,e,`${n}${s}`,r-1);default:return ao(o,e,`${n}${s}`,r)}}if(n==="")return e;if(r!==0)throw new q0e({current:n,depth:r});return e.push(n.trim()),e}function TY(t){return t==="address"||t==="bool"||t==="function"||t==="string"||vY.test(t)||xY.test(t)}const tpe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function npe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||vY.test(t)||xY.test(t)||tpe.test(t)}function rpe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function x$(t){const e={},n=t.length;for(let s=0;s<n;s++){const o=t[s];if(!w4(o))continue;const l=C0e(o);if(!l)throw new hm({signature:o,type:"struct"});const u=l.properties.split(";"),d=[],h=u.length;for(let g=0;g<h;g++){const b=u[g].trim();if(!b)continue;const w=bd(b,{type:"struct"});d.push(w)}if(!d.length)throw new W0e({signature:o});e[l.name]=d}const r={},i=Object.entries(e),a=i.length;for(let s=0;s<a;s++){const[o,l]=i[s];r[o]=$Y(l,e)}return r}const ipe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function $Y(t,e,n=new Set){const r=[],i=t.length;for(let a=0;a<i;a++){const s=t[a];if(EY.test(s.type))r.push(s);else{const l=Od(ipe,s.type);if(!l?.type)throw new F0e({abiParameter:s});const{array:u,type:d}=l;if(d in e){if(n.has(d))throw new H0e({type:d});r.push({...s,type:`tuple${u??""}`,components:$Y(e[d]??[],e,new Set([...n,d]))})}else if(TY(d))r.push(s);else throw new R0e({type:d})}}return r}function NY(t){const e=x$(t),n=[],r=t.length;for(let i=0;i<r;i++){const a=t[i];w4(a)||n.push(KS(a,e))}return n}function rB(t){let e;if(typeof t=="string")e=KS(t);else{const n=x$(t),r=t.length;for(let i=0;i<r;i++){const a=t[i];if(!w4(a)){e=KS(a,n);break}}}if(!e)throw new O0e({signature:t});return e}function iB(t){const e=[];if(typeof t=="string"){const n=ao(t),r=n.length;for(let i=0;i<r;i++)e.push(bd(n[i],{modifiers:nB}))}else{const n=x$(t),r=t.length;for(let i=0;i<r;i++){const a=t[i];if(w4(a))continue;const s=ao(a),o=s.length;for(let l=0;l<o;l++)e.push(bd(s[l],{modifiers:nB,structs:n}))}}if(e.length===0)throw new j0e({params:t});return e}function Vr(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const PY="2.39.3";let HE={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${PY}`},Ve=class YS extends Error{constructor(e,n={}){const r=n.cause instanceof YS?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof YS&&n.cause.docsPath||n.docsPath,a=HE.getDocsUrl?.({...n,docsPath:i}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...HE.version?[`Version: ${HE.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=PY}walk(e){return OY(this,e)}};function OY(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?OY(t.cause,e):e?null:t}let ah=class extends Ve{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function Oa(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let RY=class extends Ve{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},MY=class extends Ve{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class aB extends Ve{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function pm(t,{dir:e,size:n=32}={}){return typeof t=="string"?Qf(t,{dir:e,size:n}):ape(t,{dir:e,size:n})}function Qf(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new MY({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function ape(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new MY({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const a=e==="right";r[a?i:n-i-1]=t[a?i:t.length-i-1]}return r}let jY=class extends Ve{constructor({max:e,min:n,signed:r,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},spe=class extends Ve{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class ope extends Ve{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let lpe=class extends Ve{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Hr(t){return Oa(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function cd(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function gl(t,{size:e}){if(Hr(t)>e)throw new lpe({givenSize:Hr(t),maxSize:e})}function fo(t,e={}){const{signed:n}=e;e.size&&gl(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,a=(1n<<BigInt(i)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function cpe(t,e={}){let n=t;if(e.size&&(gl(n,{size:e.size}),n=cd(n)),cd(n)==="0x00")return!1;if(cd(n)==="0x01")return!0;throw new ope(n)}function Ql(t,e={}){return Number(fo(t,e))}function upe(t,e={}){let n=ec(t);return e.size&&(gl(n,{size:e.size}),n=cd(n,{dir:"right"})),new TextDecoder().decode(n)}const dpe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ni(t,e={}){return typeof t=="number"||typeof t=="bigint"?Lt(t,e):typeof t=="string"?Pg(t,e):typeof t=="boolean"?DY(t,e):Ri(t,e)}function DY(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(gl(n,{size:e.size}),pm(n,{size:e.size})):n}function Ri(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=dpe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(gl(r,{size:e.size}),pm(r,{dir:"right",size:e.size})):r}function Lt(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof a=="bigint"&&n?-a-1n:0;if(a&&i>a||i<s){const l=typeof t=="bigint"?"n":"";throw new jY({max:a?`${a}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${t}${l}`})}const o=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?pm(o,{size:r}):o}const fpe=new TextEncoder;function Pg(t,e={}){const n=fpe.encode(t);return Ri(n,e)}const hpe=new TextEncoder;function gm(t,e={}){return typeof t=="number"||typeof t=="bigint"?gpe(t,e):typeof t=="boolean"?ppe(t,e):Oa(t)?ec(t,e):S0(t,e)}function ppe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(gl(n,{size:e.size}),pm(n,{size:e.size})):n}const Ru={zero:48,nine:57,A:65,F:70,a:97,f:102};function sB(t){if(t>=Ru.zero&&t<=Ru.nine)return t-Ru.zero;if(t>=Ru.A&&t<=Ru.F)return t-(Ru.A-10);if(t>=Ru.a&&t<=Ru.f)return t-(Ru.a-10)}function ec(t,e={}){let n=t;e.size&&(gl(n,{size:e.size}),n=pm(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,a=new Uint8Array(i);for(let s=0,o=0;s<i;s++){const l=sB(r.charCodeAt(o++)),u=sB(r.charCodeAt(o++));if(l===void 0||u===void 0)throw new Ve(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);a[s]=l*16+u}return a}function gpe(t,e){const n=Lt(t,e);return ec(n)}function S0(t,e={}){const n=hpe.encode(t);return typeof e.size=="number"?(gl(n,{size:e.size}),pm(n,{dir:"right",size:e.size})):n}const J3=BigInt(2**32-1),oB=BigInt(32);function mpe(t,e=!1){return e?{h:Number(t&J3),l:Number(t>>oB&J3)}:{h:Number(t>>oB&J3)|0,l:Number(t&J3)|0}}function ype(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){const{h:s,l:o}=mpe(t[a],e);[r[a],i[a]]=[s,o]}return[r,i]}const bpe=(t,e,n)=>t<<n|e>>>32-n,wpe=(t,e,n)=>e<<n|t>>>32-n,vpe=(t,e,n)=>e<<n-32|t>>>64-n,xpe=(t,e,n)=>t<<n-32|e>>>64-n,u1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Epe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function B0(t,...e){if(!Epe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function _pe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");wb(t.outputLen),wb(t.blockLen)}function Og(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function BY(t,e){B0(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ape(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Rg(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function qE(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ec(t,e){return t<<32-e|t>>>e}const Cpe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Spe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function kpe(t){for(let e=0;e<t.length;e++)t[e]=Spe(t[e]);return t}const lB=Cpe?t=>t:kpe;function Ipe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function v4(t){return typeof t=="string"&&(t=Ipe(t)),B0(t),t}function Tpe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];B0(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const a=t[r];n.set(a,i),i+=a.length}return n}let E$=class{};function UY(t){const e=r=>t().update(v4(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $pe(t=32){if(u1&&typeof u1.getRandomValues=="function")return u1.getRandomValues(new Uint8Array(t));if(u1&&typeof u1.randomBytes=="function")return Uint8Array.from(u1.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Npe=BigInt(0),Vy=BigInt(1),Ppe=BigInt(2),Ope=BigInt(7),Rpe=BigInt(256),Mpe=BigInt(113),LY=[],FY=[],zY=[];for(let t=0,e=Vy,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],LY.push(2*(5*r+n)),FY.push((t+1)*(t+2)/2%64);let i=Npe;for(let a=0;a<7;a++)e=(e<<Vy^(e>>Ope)*Mpe)%Rpe,e&Ppe&&(i^=Vy<<(Vy<<BigInt(a))-Vy);zY.push(i)}const WY=ype(zY,!0),jpe=WY[0],Dpe=WY[1],cB=(t,e,n)=>n>32?vpe(t,e,n):bpe(t,e,n),uB=(t,e,n)=>n>32?xpe(t,e,n):wpe(t,e,n);function Bpe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,l=(s+2)%10,u=n[l],d=n[l+1],h=cB(u,d,1)^n[o],g=uB(u,d,1)^n[o+1];for(let m=0;m<50;m+=10)t[s+m]^=h,t[s+m+1]^=g}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=FY[s],l=cB(i,a,o),u=uB(i,a,o),d=LY[s];i=t[d],a=t[d+1],t[d]=l,t[d+1]=u}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)n[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=jpe[r],t[1]^=Dpe[r]}Rg(n)}let Upe=class HY extends E${constructor(e,n,r,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=a,wb(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Ape(this.state)}clone(){return this._cloneInto()}keccak(){lB(this.state32),Bpe(this.state32,this.rounds),lB(this.state32),this.posOut=0,this.pos=0}update(e){Og(this),e=v4(e),B0(e);const{blockLen:n,state:r}=this,i=e.length;for(let a=0;a<i;){const s=Math.min(n-this.pos,i-a);for(let o=0;o<s;o++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Og(this,!1),B0(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return wb(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(BY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Rg(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new HY(n,r,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const Lpe=(t,e,n)=>UY(()=>new Upe(e,t,n)),qY=Lpe(1,136,256/8);function ha(t,e){const n=e||"hex",r=qY(Oa(t,{strict:!1})?gm(t):t);return n==="bytes"?r:ni(r)}let Dw=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Fpe=/^0x[a-fA-F0-9]{40}$/,VE=new Dw(8192);function Is(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(VE.has(r))return VE.get(r);const i=Fpe.test(t)?t.toLowerCase()===t?!0:n?Bw(t)===t:!0:!1;return VE.set(r,i),i}const GE=new Dw(8192);function Bw(t,e){if(GE.has(`${t}.${e}`))return GE.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=ha(S0(n),"bytes"),i=n.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const a=`0x${i.join("")}`;return GE.set(`${t}.${e}`,a),a}function Qr(t,e){if(!Is(t,{strict:!1}))throw new ah({address:t});return Bw(t,e)}function zpe(t){const e=ha(`0x${t.substring(4)}`).substring(26);return Bw(`0x${e}`)}function tc(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new t1e(t.type);return`${t.name}(${x4(t.inputs,{includeName:e})})`}function x4(t,{includeName:e=!1}={}){return t?t.map(n=>Wpe(n,{includeName:e})).join(e?", ":","):""}function Wpe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${x4(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class Hpe extends Ve{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class dB extends Ve{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class VY extends Ve{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${x4(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Uw extends Ve{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class qpe extends Ve{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Vpe extends Ve{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Hr(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Gpe extends Ve{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Kpe extends Ve{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class fB extends Ve{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class GY extends Ve{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Ype extends Ve{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class KY extends Ve{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class hB extends Ve{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Mg extends Ve{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class YY extends Ve{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Zpe extends Ve{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Jpe extends Ve{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${tc(e.abiItem)}\`, and`,`\`${n.type}\` in \`${tc(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Xpe=class extends Ve{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class vb extends Ve{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${x4(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class E4 extends Ve{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${tc(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Qpe extends Ve{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class e1e extends Ve{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let ZY=class extends Ve{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class t1e extends Ve{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Ift extends Ve{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let pB=class extends Ve{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},JY=class extends Ve{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},n1e=class extends Ve{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const r1e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n1e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new JY({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new pB({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new pB({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function _$(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(r1e);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function jg(t,e,n,{strict:r}={}){return Oa(t,{strict:!1})?ZS(t,e,n,{strict:r}):eZ(t,e,n,{strict:r})}function XY(t,e){if(typeof e=="number"&&e>0&&e>Hr(t)-1)throw new RY({offset:e,position:"start",size:Hr(t)})}function QY(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Hr(t)!==n-e)throw new RY({offset:n,position:"end",size:Hr(t)})}function eZ(t,e,n,{strict:r}={}){XY(t,e);const i=t.slice(e,n);return r&&QY(i,e,n),i}function ZS(t,e,n,{strict:r}={}){XY(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&QY(i,e,n),i}function i1e(t,e={}){typeof e.size<"u"&&gl(t,{size:e.size});const n=Ri(t,e);return fo(n,e)}function a1e(t,e={}){let n=t;if(typeof e.size<"u"&&(gl(n,{size:e.size}),n=cd(n)),n.length>1||n[0]>1)throw new spe(n);return!!n[0]}function ud(t,e={}){typeof e.size<"u"&&gl(t,{size:e.size});const n=Ri(t,e);return Ql(n,e)}function s1e(t,e={}){let n=t;return typeof e.size<"u"&&(gl(n,{size:e.size}),n=cd(n,{dir:"right"})),new TextDecoder().decode(n)}function ol(t){return typeof t[0]=="string"?mm(t):o1e(t)}function o1e(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function mm(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}const Pft=/^(.*)\[([0-9]*)\]$/,l1e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,tZ=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ip(t,e){if(t.length!==e.length)throw new Gpe({expectedLength:t.length,givenLength:e.length});const n=c1e({params:t,values:e}),r=C$(n);return r.length===0?"0x":r}function c1e({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(A$({param:t[r],value:e[r]}));return n}function A$({param:t,value:e}){const n=S$(t.type);if(n){const[r,i]=n;return d1e(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return m1e(e,{param:t});if(t.type==="address")return u1e(e);if(t.type==="bool")return h1e(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=tZ.exec(t.type)??[];return p1e(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return f1e(e,{param:t});if(t.type==="string")return g1e(e);throw new Qpe(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function C$(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:s,encoded:o}=t[a];s?e+=32:e+=Hr(o)}const n=[],r=[];let i=0;for(let a=0;a<t.length;a++){const{dynamic:s,encoded:o}=t[a];s?(n.push(Lt(e+i,{size:32})),r.push(o),i+=Hr(o)):n.push(o)}return ol([...n,...r])}function u1e(t){if(!Is(t))throw new ah({address:t});return{dynamic:!1,encoded:Qf(t.toLowerCase())}}function d1e(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new ZY(t);if(!r&&t.length!==e)throw new qpe({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const a=[];for(let s=0;s<t.length;s++){const o=A$({param:n,value:t[s]});o.dynamic&&(i=!0),a.push(o)}if(r||i){const s=C$(a);if(r){const o=Lt(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ol([o,s]):o}}if(i)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:ol(a.map(({encoded:s})=>s))}}function f1e(t,{param:e}){const[,n]=e.type.split("bytes"),r=Hr(t);if(!n){let i=t;return r%32!==0&&(i=Qf(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:ol([Qf(Lt(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new Vpe({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Qf(t,{dir:"right"})}}function h1e(t){if(typeof t!="boolean")throw new Ve(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Qf(DY(t))}}function p1e(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new jY({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Lt(t,{size:32,signed:e})}}function g1e(t){const e=Pg(t),n=Math.ceil(Hr(e)/32),r=[];for(let i=0;i<n;i++)r.push(Qf(jg(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ol([Qf(Lt(Hr(e),{size:32})),...r])}}function m1e(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const a=e.components[i],s=Array.isArray(t)?i:a.name,o=A$({param:a,value:t[s]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?C$(r):ol(r.map(({encoded:i})=>i))}}function S$(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function ym(t,e){const n=typeof e=="string"?ec(e):e,r=_$(n);if(Hr(n)===0&&t.length>0)throw new Uw;if(Hr(e)&&Hr(e)<32)throw new VY({data:typeof e=="string"?e:Ri(e),params:t,size:Hr(e)});let i=0;const a=[];for(let s=0;s<t.length;++s){const o=t[s];r.setPosition(i);const[l,u]=gg(r,o,{staticPosition:0});i+=u,a.push(l)}return a}function gg(t,e,{staticPosition:n}){const r=S$(e.type);if(r){const[i,a]=r;return b1e(t,{...e,type:a},{length:i,staticPosition:n})}if(e.type==="tuple")return E1e(t,e,{staticPosition:n});if(e.type==="address")return y1e(t);if(e.type==="bool")return w1e(t);if(e.type.startsWith("bytes"))return v1e(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return x1e(t,e);if(e.type==="string")return _1e(t,{staticPosition:n});throw new e1e(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const gB=32,JS=32;function y1e(t){const e=t.readBytes(32);return[Bw(Ri(eZ(e,-20))),32]}function b1e(t,e,{length:n,staticPosition:r}){if(!n){const s=ud(t.readBytes(JS)),o=r+s,l=o+gB;t.setPosition(o);const u=ud(t.readBytes(gB)),d=xb(e);let h=0;const g=[];for(let m=0;m<u;++m){t.setPosition(l+(d?m*32:h));const[b,w]=gg(t,e,{staticPosition:l});h+=w,g.push(b)}return t.setPosition(r+32),[g,32]}if(xb(e)){const s=ud(t.readBytes(JS)),o=r+s,l=[];for(let u=0;u<n;++u){t.setPosition(o+u*32);const[d]=gg(t,e,{staticPosition:o});l.push(d)}return t.setPosition(r+32),[l,32]}let i=0;const a=[];for(let s=0;s<n;++s){const[o,l]=gg(t,e,{staticPosition:r+i});i+=l,a.push(o)}return[a,i]}function w1e(t){return[a1e(t.readBytes(32),{size:32}),32]}function v1e(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const s=ud(t.readBytes(32));t.setPosition(n+s);const o=ud(t.readBytes(32));if(o===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(o);return t.setPosition(n+32),[Ri(l),32]}return[Ri(t.readBytes(Number.parseInt(i,10),32)),32]}function x1e(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?i1e(i,{signed:n}):ud(i,{signed:n}),32]}function E1e(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:s})=>!s),i=r?[]:{};let a=0;if(xb(e)){const s=ud(t.readBytes(JS)),o=n+s;for(let l=0;l<e.components.length;++l){const u=e.components[l];t.setPosition(o+a);const[d,h]=gg(t,u,{staticPosition:o});a+=h,i[r?l:u?.name]=d}return t.setPosition(n+32),[i,32]}for(let s=0;s<e.components.length;++s){const o=e.components[s],[l,u]=gg(t,o,{staticPosition:n});i[r?s:o?.name]=l,a+=u}return[i,a]}function _1e(t,{staticPosition:e}){const n=ud(t.readBytes(32)),r=e+n;t.setPosition(r);const i=ud(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const a=t.readBytes(i,32),s=s1e(cd(a));return t.setPosition(e+32),[s,32]}function xb(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(xb);const n=S$(t.type);return!!(n&&xb({...t,type:n[1]}))}const A1e={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},nZ={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},C1e={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},S1e=t=>ha(gm(t));function k1e(t){return S1e(t)}function I1e(t){let e=!0,n="",r=0,i="",a=!1;for(let s=0;s<t.length;s++){const o=t[s];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function",""].includes(i))i="";else if(i+=o,o===")"){a=!0;break}continue}if(o===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=o,n+=o}}if(!a)throw new Ve("Unable to normalize signature.");return i}const T1e=t=>{const e=typeof t=="string"?t:q5(t);return I1e(e)};function rZ(t){return k1e(T1e(t))}const Lw=t=>jg(rZ(t),0,4);function $1e(t){const{abi:e,data:n}=t,r=jg(n,0,4);if(r==="0x")throw new Uw;const a=[...e||[],nZ,C1e].find(s=>s.type==="error"&&r===Lw(tc(s)));if(!a)throw new GY(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?ym(a.inputs,jg(n,4)):void 0,errorName:a.name}}const _4=rZ,mB="/docs/contract/decodeEventLog";function k$(t){const{abi:e,data:n,strict:r,topics:i}=t,a=r??!0,[s,...o]=i;if(!s)throw new Ype({docsPath:mB});const l=e.find(w=>w.type==="event"&&s===_4(tc(w)));if(!(l&&"name"in l)||l.type!=="event")throw new KY(s,{docsPath:mB});const{name:u,inputs:d}=l,h=d?.some(w=>!("name"in w&&w.name)),g=h?[]:{},m=d.map((w,x)=>[w,x]).filter(([w])=>"indexed"in w&&w.indexed);for(let w=0;w<m.length;w++){const[x,E]=m[w],I=o[w];if(!I)throw new E4({abiItem:l,param:x});g[h?E:x.name||E]=N1e({param:x,value:I})}const b=d.filter(w=>!("indexed"in w&&w.indexed));if(b.length>0){if(n&&n!=="0x")try{const w=ym(b,n);if(w)if(h)for(let x=0;x<d.length;x++)g[x]=g[x]??w.shift();else for(let x=0;x<b.length;x++)g[b[x].name]=w[x]}catch(w){if(a)throw w instanceof VY||w instanceof JY?new vb({abiItem:l,data:n,params:b,size:Hr(n)}):w}else if(a)throw new vb({abiItem:l,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(g).length>0?g:void 0}}function N1e({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(ym([t],e)||[])[0]}function iZ(t){const{abi:e,data:n}=t,r=jg(n,0,4),i=e.find(a=>a.type==="function"&&r===Lw(tc(a)));if(!i)throw new Zpe(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?ym(i.inputs,jg(n,4)):void 0}}function ap(t){const{abi:e,args:n=[],name:r}=t,i=Oa(r,{strict:!1}),a=e.filter(o=>i?o.type==="function"?Lw(o)===r:o.type==="event"?_4(o)===r:!1:"name"in o&&o.name===r);if(a.length===0)return;if(a.length===1)return a[0];let s;for(const o of a){if(!("inputs"in o))continue;if(!n||n.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==n.length)continue;if(n.every((u,d)=>{const h="inputs"in o&&o.inputs[d];return h?XS(u,h):!1})){if(s&&"inputs"in s&&s.inputs){const u=aZ(o.inputs,s.inputs,n);if(u)throw new Jpe({abiItem:o,type:u[0]},{abiItem:s,type:u[1]})}s=o}}return s||a[0]}function XS(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Is(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,a)=>XS(Object.values(t)[a],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>XS(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function aZ(t,e,n){for(const r in t){const i=t[r],a=e[r];if(i.type==="tuple"&&a.type==="tuple"&&"components"in i&&"components"in a)return aZ(i.components,a.components,n[r]);const s=[i.type,a.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?Is(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?Is(n[r],{strict:!1}):!1)return s}}const KE="/docs/contract/decodeFunctionResult";function sp(t){const{abi:e,args:n,functionName:r,data:i}=t;let a=e[0];if(r){const o=ap({abi:e,args:n,name:r});if(!o)throw new Mg(r,{docsPath:KE});a=o}if(a.type!=="function")throw new Mg(void 0,{docsPath:KE});if(!a.outputs)throw new YY(a.name,{docsPath:KE});const s=ym(a.outputs,i);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}const YE="/docs/contract/encodeDeployData";function A4(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(s=>"type"in s&&s.type==="constructor");if(!i)throw new Hpe({docsPath:YE});if(!("inputs"in i))throw new dB({docsPath:YE});if(!i.inputs||i.inputs.length===0)throw new dB({docsPath:YE});const a=ip(i.inputs,n);return mm([r,a])}const ZE="/docs/contract/encodeErrorResult";function yB(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const l=ap({abi:e,args:r,name:n});if(!l)throw new fB(n,{docsPath:ZE});i=l}if(i.type!=="error")throw new fB(void 0,{docsPath:ZE});const a=tc(i),s=Lw(a);let o="0x";if(r&&r.length>0){if(!i.inputs)throw new Kpe(i.name,{docsPath:ZE});o=ip(i.inputs,r)}return mm([s,o])}class P1e extends Ve{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const bB="/docs/contract/encodeEventTopics";function Fw(t){const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const l=ap({abi:e,name:n});if(!l)throw new hB(n,{docsPath:bB});i=l}if(i.type!=="event")throw new hB(void 0,{docsPath:bB});const a=tc(i),s=_4(a);let o=[];if(r&&"inputs"in i){const l=i.inputs?.filter(d=>"indexed"in d&&d.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?l?.map(d=>r[d.name])??[]:[];u.length>0&&(o=l?.map((d,h)=>Array.isArray(u[h])?u[h].map((g,m)=>wB({param:d,value:u[h][m]})):typeof u[h]<"u"&&u[h]!==null?wB({param:d,value:u[h]}):null)??[])}return[s,...o]}function wB({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return ha(gm(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new P1e(t.type);return ip([t],[e])}const vB="/docs/contract/encodeFunctionData";function O1e(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const a=ap({abi:e,args:n,name:r});if(!a)throw new Mg(r,{docsPath:vB});i=a}if(i.type!=="function")throw new Mg(void 0,{docsPath:vB});return{abi:[i],functionName:Lw(tc(i))}}function Ps(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:O1e(t),i=n[0],a=r,s="inputs"in i&&i.inputs?ip(i.inputs,e??[]):void 0;return mm([a,s??"0x"])}const JE="/docs/contract/encodeFunctionResult";function R1e(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const s=ap({abi:e,name:n});if(!s)throw new Mg(n,{docsPath:JE});i=s}if(i.type!=="function")throw new Mg(void 0,{docsPath:JE});if(!i.outputs)throw new YY(i.name,{docsPath:JE});const a=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new ZY(r)})();return ip(i.outputs,a)}const Oi=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function sZ({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,a)=>`${r&&i.name?`${i.name}: `:""}${typeof e[a]=="object"?Oi(e[a]):e[a]}`).join(", ")})`}function zw(t,e){if(!Is(t,{strict:!1}))throw new ah({address:t});if(!Is(e,{strict:!1}))throw new ah({address:e});return t.toLowerCase()===e.toLowerCase()}function I$(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,a=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(s=>{try{const o=e.find(u=>u.type==="event"&&s.topics[0]===_4(u));if(!o)return null;const l=k$({...s,abi:[o],strict:i});return a&&!a.includes(l.eventName)||!M1e({args:l.args,inputs:o.inputs,matchArgs:n})?null:{...l,...s}}catch(o){let l,u;if(o instanceof KY)return null;if(o instanceof vb||o instanceof E4){if(i)return null;l=o.abiItem.name,u=o.abiItem.inputs?.some(d=>!("name"in d&&d.name))}return{...s,args:u?[]:{},eventName:l}}}).filter(Boolean)}function M1e(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(a,s,o){try{return a.type==="address"?zw(s,o):a.type==="string"||a.type==="bytes"?ha(gm(s))===o:s===o}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((a,s)=>{if(a==null)return!0;const o=n[s];return o?(Array.isArray(a)?a:[a]).some(u=>i(o,u,e[s])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,s])=>{if(s==null)return!0;const o=n.find(u=>u.name===a);return o?(Array.isArray(s)?s:[s]).some(u=>i(o,u,e[a])):!1}):!1}function j1e(t,e="hex"){const n=oZ(t),r=_$(new Uint8Array(n.length));return n.encode(r),e==="hex"?Ri(r.bytes):r.bytes}function oZ(t){return Array.isArray(t)?D1e(t.map(e=>oZ(e))):B1e(t)}function D1e(t){const e=t.reduce((i,a)=>i+a.length,0),n=lZ(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:a}of t)a(i)}}}function B1e(t){const e=typeof t=="string"?ec(t):t,n=lZ(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function lZ(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ve("Length is too large.")}function U1e(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,a=ha(mm(["0x05",j1e([e?Lt(e):"0x",i,n?Lt(n):"0x"])]));return r==="bytes"?ec(a):a}async function L1e({hash:t,signature:e}){const n=Oa(t)?t:ni(t),{secp256k1:r}=await lo(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>Nye);return{secp256k1:s}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:d,v:h,yParity:g}=e,m=Number(g??h),b=xB(m);return new r.Signature(fo(u),fo(d)).addRecoveryBit(b)}const s=Oa(e)?e:ni(e);if(Hr(s)!==65)throw new Error("invalid signature length");const o=Ql(`0x${s.slice(130)}`),l=xB(o);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function xB(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function cZ({hash:t,signature:e}){return zpe(await L1e({hash:t,signature:e}))}async function C4(t){const{authorization:e,signature:n}=t;return cZ({hash:U1e(e),signature:n??e})}const uZ={gwei:9,wei:18},F1e={ether:-9,wei:9};function pa(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,a]=[n.slice(0,n.length-e),n.slice(n.length-e)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${a?`.${a}`:""}`}function op(t,e="wei"){return pa(t,uZ[e])}function Cs(t,e="wei"){return pa(t,F1e[e])}function Ww(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class z1e extends Ve{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class W1e extends Ve{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ww(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class H1e extends Ve{constructor(e,{account:n,docsPath:r,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:h,value:g}){const m=Ww({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:h,value:typeof g<"u"&&`${op(g)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${Cs(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${Cs(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Cs(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class dZ extends Ve{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:a}){let s="Transaction";r&&a!==void 0&&(s=`Transaction at block time "${r}" at index "${a}"`),e&&a!==void 0&&(s=`Transaction at block hash "${e}" at index "${a}"`),n&&a!==void 0&&(s=`Transaction at block number "${n}" at index "${a}"`),i&&(s=`Transaction with hash "${i}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class fZ extends Ve{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class hZ extends Ve{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class q1e extends Ve{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function pZ(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>ec(a)):t.blobs,i=[];for(const a of r)i.push(Uint8Array.from(e.blobToKzgCommitment(a)));return n==="bytes"?i:i.map(a=>Ri(a))}function gZ(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>ec(s)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(s=>ec(s)):t.commitments,a=[];for(let s=0;s<r.length;s++){const o=r[s],l=i[s];a.push(Uint8Array.from(e.computeBlobKzgProof(o,l)))}return n==="bytes"?a:a.map(s=>Ri(s))}function V1e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a),l=r?4:0,u=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+u,o,r)}function G1e(t,e,n){return t&e^~t&n}function K1e(t,e,n){return t&e^t&n^e&n}let Y1e=class extends E${constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=qE(this.buffer)}update(e){Og(this),e=v4(e),B0(e);const{view:n,buffer:r,blockLen:i}=this,a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const l=qE(e);for(;i<=a-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Og(this),BY(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:a}=this;let{pos:s}=this;n[s++]=128,Rg(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let h=s;h<i;h++)n[h]=0;V1e(r,i-8,BigInt(this.length*8),a),this.process(r,0);const o=qE(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)o.setUint32(4*h,d[h],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:a,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=a,e.length=i,e.pos=o,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const ff=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Z1e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hf=new Uint32Array(64);let J1e=class extends Y1e{constructor(e=32){super(64,e,8,!1),this.A=ff[0]|0,this.B=ff[1]|0,this.C=ff[2]|0,this.D=ff[3]|0,this.E=ff[4]|0,this.F=ff[5]|0,this.G=ff[6]|0,this.H=ff[7]|0}get(){const{A:e,B:n,C:r,D:i,E:a,F:s,G:o,H:l}=this;return[e,n,r,i,a,s,o,l]}set(e,n,r,i,a,s,o,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)hf[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const g=hf[h-15],m=hf[h-2],b=Ec(g,7)^Ec(g,18)^g>>>3,w=Ec(m,17)^Ec(m,19)^m>>>10;hf[h]=w+hf[h-7]+b+hf[h-16]|0}let{A:r,B:i,C:a,D:s,E:o,F:l,G:u,H:d}=this;for(let h=0;h<64;h++){const g=Ec(o,6)^Ec(o,11)^Ec(o,25),m=d+g+G1e(o,l,u)+Z1e[h]+hf[h]|0,w=(Ec(r,2)^Ec(r,13)^Ec(r,22))+K1e(r,i,a)|0;d=u,u=l,l=o,o=s+m|0,s=a,a=i,i=r,r=m+w|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,a,s,o,l,u,d)}roundClean(){Rg(hf)}destroy(){this.set(0,0,0,0,0,0,0,0),Rg(this.buffer)}};const mZ=UY(()=>new J1e),X1e=mZ;function Q1e(t,e){return X1e(Oa(t,{strict:!1})?gm(t):t)}function ege(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=Q1e(e);return i.set([n],0),r==="bytes"?i:Ri(i)}function tge(t){const{commitments:e,version:n}=t,r=t.to,i=[];for(const a of e)i.push(ege({commitment:a,to:r,version:n}));return i}const EB=6,yZ=32,T$=4096,bZ=yZ*T$,_B=bZ*EB-1-1*T$*EB;class nge extends Ve{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class rge extends Ve{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function ige(t){const e=typeof t.data=="string"?ec(t.data):t.data,n=Hr(e);if(!n)throw new rge;if(n>_B)throw new nge({maxSize:_B,size:n});const r=[];let i=!0,a=0;for(;i;){const s=_$(new Uint8Array(bZ));let o=0;for(;o<T$;){const l=e.slice(a,a+(yZ-1));if(s.pushByte(0),s.pushBytes(l),l.length<31){s.pushByte(128),i=!1;break}o++,a+=31}r.push(s)}return r.map(s=>Ri(s.bytes))}function age(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??ige({data:e}),a=t.commitments??pZ({blobs:i,kzg:n,to:r}),s=t.proofs??gZ({blobs:i,commitments:a,kzg:n,to:r}),o=[];for(let l=0;l<i.length;l++)o.push({blob:i[l],commitment:a[l],proof:s[l]});return o}const sge=2n**256n-1n;class QS extends Ve{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class oge extends Ve{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class lge extends Ve{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class wZ extends Ve{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class J1 extends Ve{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(J1,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(J1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class V5 extends Ve{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Cs(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(V5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class ek extends Ve{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Cs(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(ek,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class tk extends Ve{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(tk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class nk extends Ve{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(nk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class rk extends Ve{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(rk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class ik extends Ve{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(ik,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class ak extends Ve{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(ak,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class sk extends Ve{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(sk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class ok extends Ve{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(ok,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class G5 extends Ve{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Cs(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Cs(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(G5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Hw extends Ve{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function cge(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new W1e({transaction:t})}async function uge({address:t,authorization:e,signature:n}){return zw(Qr(t),await C4({authorization:e,signature:n}))}const dge=t=>t,$$=t=>t;class q2 extends Ve{constructor({body:e,cause:n,details:r,headers:i,status:a,url:s}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${$$(s)}`,e&&`Request body: ${Oi(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=a,this.url=s}}class N$ extends Ve{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${$$(r)}`,`Request body: ${Oi(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class AB extends Ve{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${$$(n)}`,`Request body: ${Oi(e)}`],name:"TimeoutError"})}}const fge=-1;class Os extends Ve{constructor(e,{code:n,docsPath:r,metaMessages:i,name:a,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof N$?e.code:n??fge}}class yo extends Os{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Eb extends Os{constructor(e){super(e,{code:Eb.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Eb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class _b extends Os{constructor(e){super(e,{code:_b.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(_b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ab extends Os{constructor(e,{method:n}={}){super(e,{code:Ab.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Ab,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Cb extends Os{constructor(e){super(e,{code:Cb.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Cb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class U0 extends Os{constructor(e){super(e,{code:U0.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(U0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class sh extends Os{constructor(e){super(e,{code:sh.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(sh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Sb extends Os{constructor(e){super(e,{code:Sb.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Sb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class kb extends Os{constructor(e){super(e,{code:kb.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(kb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ib extends Os{constructor(e){super(e,{code:Ib.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ib,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class g0 extends Os{constructor(e,{method:n}={}){super(e,{code:g0.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(g0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Dg extends Os{constructor(e){super(e,{code:Dg.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Dg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Tb extends Os{constructor(e){super(e,{code:Tb.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Tb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class mg extends yo{constructor(e){super(e,{code:mg.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(mg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class $b extends yo{constructor(e){super(e,{code:$b.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty($b,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Nb extends yo{constructor(e,{method:n}={}){super(e,{code:Nb.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Nb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Pb extends yo{constructor(e){super(e,{code:Pb.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Pb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Ob extends yo{constructor(e){super(e,{code:Ob.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Ob,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Rb extends yo{constructor(e){super(e,{code:Rb.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Rb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Bg extends yo{constructor(e){super(e,{code:Bg.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Bg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Mb extends yo{constructor(e){super(e,{code:Mb.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Mb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class jb extends yo{constructor(e){super(e,{code:jb.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(jb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Db extends yo{constructor(e){super(e,{code:Db.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Db,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Bb extends yo{constructor(e){super(e,{code:Bb.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Bb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Ub extends yo{constructor(e){super(e,{code:Ub.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Ub,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ug extends yo{constructor(e){super(e,{code:Ug.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ug,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class hge extends Os{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const X3=new Dw(8192);function pge(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(X3.get(n))return X3.get(n);const r=t().finally(()=>X3.delete(n));return X3.set(n,r),r}async function lk(t){return new Promise(e=>setTimeout(e,t))}function K5(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,a)=>{const s=async({count:o=0}={})=>{const l=async({error:u})=>{const d=typeof e=="function"?e({count:o,error:u}):e;d&&await lk(d),s({count:o+1})};try{const u=await t();i(u)}catch(u){if(o<n&&await r({count:o,error:u}))return l({error:u});a(u)}};s()})}function gge(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:a,retryDelay:s=150,retryCount:o=3,uid:l}={...e,...r},{method:u}=n;if(a?.exclude?.includes(u))throw new g0(new Error("method not supported"),{method:u});if(a?.include&&!a.include.includes(u))throw new g0(new Error("method not supported"),{method:u});const d=i?Pg(`${l}.${Oi(n)}`):void 0;return pge(()=>K5(async()=>{try{return await t(n)}catch(h){const g=h;switch(g.code){case Eb.code:throw new Eb(g);case _b.code:throw new _b(g);case Ab.code:throw new Ab(g,{method:n.method});case Cb.code:throw new Cb(g);case U0.code:throw new U0(g);case sh.code:throw new sh(g);case Sb.code:throw new Sb(g);case kb.code:throw new kb(g);case Ib.code:throw new Ib(g);case g0.code:throw new g0(g,{method:n.method});case Dg.code:throw new Dg(g);case Tb.code:throw new Tb(g);case mg.code:throw new mg(g);case $b.code:throw new $b(g);case Nb.code:throw new Nb(g);case Pb.code:throw new Pb(g);case Ob.code:throw new Ob(g);case Rb.code:throw new Rb(g);case Bg.code:throw new Bg(g);case Mb.code:throw new Mb(g);case jb.code:throw new jb(g);case Db.code:throw new Db(g);case Bb.code:throw new Bb(g);case Ub.code:throw new Ub(g);case Ug.code:throw new Ug(g);case 5e3:throw new mg(g);default:throw h instanceof Ve?h:new hge(g)}}},{delay:({count:h,error:g})=>{if(g&&g instanceof q2){const m=g?.headers?.get("Retry-After");if(m?.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<h)*s},retryCount:o,shouldRetry:({error:h})=>mge(h)}),{enabled:i,id:d})}}function mge(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Dg.code||t.code===U0.code:t instanceof q2&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}const P$=BigInt(0),ck=BigInt(1);function qw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function O$(t){if(!qw(t))throw new Error("Uint8Array expected")}function Lb(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Q3(t){const e=t.toString(16);return e.length&1?"0"+e:e}function vZ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?P$:BigInt("0x"+t)}const xZ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",yge=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fb(t){if(O$(t),xZ)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=yge[t[n]];return e}const Mu={_0:48,_9:57,A:65,F:70,a:97,f:102};function CB(t){if(t>=Mu._0&&t<=Mu._9)return t-Mu._0;if(t>=Mu.A&&t<=Mu.F)return t-(Mu.A-10);if(t>=Mu.a&&t<=Mu.f)return t-(Mu.a-10)}function Y5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(xZ)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){const s=CB(t.charCodeAt(a)),o=CB(t.charCodeAt(a+1));if(s===void 0||o===void 0){const l=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+a)}r[i]=s*16+o}return r}function k0(t){return vZ(Fb(t))}function EZ(t){return O$(t),vZ(Fb(Uint8Array.from(t).reverse()))}function Vw(t,e){return Y5(t.toString(16).padStart(e*2,"0"))}function _Z(t,e){return Vw(t,e).reverse()}function Ko(t,e,n){let r;if(typeof e=="string")try{r=Y5(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(qw(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Z5(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];O$(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const a=t[r];n.set(a,i),i+=a.length}return n}const XE=t=>typeof t=="bigint"&&P$<=t;function R$(t,e,n){return XE(t)&&XE(e)&&XE(n)&&e<=t&&t<n}function yg(t,e,n,r){if(!R$(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function bge(t){let e;for(e=0;t>P$;t>>=ck,e+=1);return e}const S4=t=>(ck<<BigInt(t))-ck,QE=t=>new Uint8Array(t),SB=t=>Uint8Array.from(t);function wge(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=QE(t),i=QE(t),a=0;const s=()=>{r.fill(1),i.fill(0),a=0},o=(...h)=>n(i,r,...h),l=(h=QE(0))=>{i=o(SB([0]),h),r=o(),h.length!==0&&(i=o(SB([1]),h),r=o())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const g=[];for(;h<e;){r=o();const m=r.slice();g.push(m),h+=r.length}return Z5(...g)};return(h,g)=>{s(),l(h);let m;for(;!(m=g(u()));)l();return s(),m}}const vge={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||qw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function k4(t,e,n={}){const r=(i,a,s)=>{const o=vge[a];if(typeof o!="function")throw new Error("invalid validator function");const l=t[i];if(!(s&&l===void 0)&&!o(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+a+", got "+l)};for(const[i,a]of Object.entries(e))r(i,a,!1);for(const[i,a]of Object.entries(n))r(i,a,!0);return t}function kB(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const a=t(n,...r);return e.set(n,a),a}}const xge="0.1.1";function Ege(){return xge}let On=class uk extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof uk){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof uk&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${i??""}`,o=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${s}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Ege()}`}),this.cause=n.cause,this.details=r,this.docs=s,this.docsPath=i,this.shortMessage=e}walk(e){return AZ(this,e)}};function AZ(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?AZ(t.cause,e):e?null:t}function Gw(t,e){if(X1(t)>e)throw new Uge({givenSize:X1(t),maxSize:e})}const ju={zero:48,nine:57,A:65,F:70,a:97,f:102};function IB(t){if(t>=ju.zero&&t<=ju.nine)return t-ju.zero;if(t>=ju.A&&t<=ju.F)return t-(ju.A-10);if(t>=ju.a&&t<=ju.f)return t-(ju.a-10)}function _ge(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new Lge({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let a=0;a<r;a++){const s=n==="right";i[s?a:r-a-1]=t[s?a:t.length-a-1]}return i}function CZ(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function I4(t,e){if(ho(t)>e)throw new Vge({givenSize:ho(t),maxSize:e})}function Age(t,e){if(typeof e=="number"&&e>0&&e>ho(t)-1)throw new RZ({offset:e,position:"start",size:ho(t)})}function Cge(t,e,n){if(typeof e=="number"&&typeof n=="number"&&ho(t)!==n-e)throw new RZ({offset:n,position:"end",size:ho(t)})}function SZ(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new Gge({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Sge="#__bigint";function kZ(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+Sge:i,n)}const kge=new TextDecoder,Ige=new TextEncoder;function Tge(t){return t instanceof Uint8Array?t:typeof t=="string"?IZ(t):$ge(t)}function $ge(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function IZ(t,e={}){const{size:n}=e;let r=t;n&&(I4(t,n),r=F0(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const a=i.length/2,s=new Uint8Array(a);for(let o=0,l=0;o<a;o++){const u=IB(i.charCodeAt(l++)),d=IB(i.charCodeAt(l++));if(u===void 0||d===void 0)throw new On(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);s[o]=u*16+d}return s}function Nge(t,e={}){const{size:n}=e,r=Ige.encode(t);return typeof n=="number"?(Gw(r,n),Pge(r,n)):r}function Pge(t,e){return _ge(t,{dir:"right",size:e})}function X1(t){return t.length}function Oge(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function Rge(t,e={}){const{size:n}=e;typeof n<"u"&&Gw(t,n);const r=rc(t,e);return NZ(r,e)}function Mge(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(Gw(r,n),r=TZ(r)),r.length>1||r[0]>1)throw new Bge(r);return!!r[0]}function dd(t,e={}){const{size:n}=e;typeof n<"u"&&Gw(t,n);const r=rc(t,e);return PZ(r,e)}function jge(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(Gw(r,n),r=Dge(r)),kge.decode(r)}function TZ(t){return CZ(t,{dir:"left"})}function Dge(t){return CZ(t,{dir:"right"})}class Bge extends On{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Uge=class extends On{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Lge=class extends On{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Fge=new TextEncoder,zge=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Wge(t,e={}){const{strict:n=!1}=e;if(!t)throw new TB(t);if(typeof t!="string")throw new TB(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new $B(t);if(!t.startsWith("0x"))throw new $B(t)}function nc(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Hge(t){return t instanceof Uint8Array?rc(t):Array.isArray(t)?rc(new Uint8Array(t)):t}function $Z(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(I4(n,e.size),L0(n,e.size)):n}function rc(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=zge[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(I4(r,e.size),F0(r,e.size)):r}function Wa(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof a=="bigint"&&n?-a-1n:0;if(a&&i>a||i<s){const u=typeof t=="bigint"?"n":"";throw new OZ({max:a?`${a}${u}`:void 0,min:`${s}${u}`,signed:n,size:r,value:`${t}${u}`})}const l=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?L0(l,r):l}function M$(t,e={}){return rc(Fge.encode(t),e)}function L0(t,e){return SZ(t,{dir:"left",size:e})}function F0(t,e){return SZ(t,{dir:"right",size:e})}function eu(t,e,n,r={}){const{strict:i}=r;Age(t,e);const a=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&Cge(a,e,n),a}function ho(t){return Math.ceil((t.length-2)/2)}function NZ(t,e={}){const{signed:n}=e;e.size&&I4(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,a=(1n<<BigInt(i)*8n)-1n,s=a>>1n;return r<=s?r:r-a-1n}function PZ(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:NZ(t,e))}function qge(t,e={}){const{strict:n=!1}=e;try{return Wge(t,{strict:n}),!0}catch{return!1}}let OZ=class extends On{constructor({max:e,min:n,signed:r,size:i,value:a}){super(`Number \`${a}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class TB extends On{constructor(e){super(`Value \`${typeof e=="object"?kZ(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class $B extends On{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Vge=class extends On{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class RZ extends On{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let Gge=class extends On{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Kge(t){return{address:t.address,amount:Wa(t.amount),index:Wa(t.index),validatorIndex:Wa(t.validatorIndex)}}function MZ(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Wa(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Wa(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Wa(t.gasLimit)},...typeof t.number=="bigint"&&{number:Wa(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Wa(t.prevRandao)},...typeof t.time=="bigint"&&{time:Wa(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Kge)}}}const J5=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],dk=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],jZ=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],DZ=[...jZ,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Yge=[...jZ,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],NB=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],PB=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],BZ=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],OB=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Lft=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Zge="0x82ad56cb",UZ="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Jge="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Xge="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",j$="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Qge extends Ve{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class eme extends Ve{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function RB(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function tme(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=RB(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=RB(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}class LZ extends Ve{constructor(e,{account:n,docsPath:r,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:h,value:g,stateOverride:m}){const b=n?Vr(n):void 0;let w=Ww({from:b?.address,to:h,value:typeof g<"u"&&`${op(g)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${Cs(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${Cs(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Cs(u)} gwei`,nonce:d});m&&(w+=`
${tme(m)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class FZ extends Ve{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:a,functionName:s,sender:o}){const l=ap({abi:n,args:r,name:s}),u=l?sZ({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=l?tc(l,{includeName:!0}):void 0,h=Ww({address:i&&dge(i),function:d,args:u&&u!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=s,this.sender=o}}class fk extends Ve{constructor({abi:e,data:n,functionName:r,message:i}){let a,s,o,l;if(n&&n!=="0x")try{s=$1e({abi:e,data:n});const{abiItem:d,errorName:h,args:g}=s;if(h==="Error")l=g[0];else if(h==="Panic"){const[m]=g;l=A1e[m]}else{const m=d?tc(d,{includeName:!0}):void 0,b=d&&g?sZ({abiItem:d,args:g,includeFunctionName:!1,includeName:!1}):void 0;o=[m?`Error: ${m}`:"",b&&b!=="()"?`       ${[...Array(h?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(d){a=d}else i&&(l=i);let u;a instanceof GY&&(u=a.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(l&&l!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,l||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=l,this.signature=u}}class nme extends Ve{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class rme extends Ve{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class T4 extends Ve{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function bm({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new QS({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new QS({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function $4(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Ve?t.walk(i=>i?.code===J1.code):t;return r instanceof Ve?new J1({cause:t,message:r.details}):J1.nodeMessage.test(n)?new J1({cause:t,message:t.details}):V5.nodeMessage.test(n)?new V5({cause:t,maxFeePerGas:e?.maxFeePerGas}):ek.nodeMessage.test(n)?new ek({cause:t,maxFeePerGas:e?.maxFeePerGas}):tk.nodeMessage.test(n)?new tk({cause:t,nonce:e?.nonce}):nk.nodeMessage.test(n)?new nk({cause:t,nonce:e?.nonce}):rk.nodeMessage.test(n)?new rk({cause:t,nonce:e?.nonce}):ik.nodeMessage.test(n)?new ik({cause:t}):ak.nodeMessage.test(n)?new ak({cause:t,gas:e?.gas}):sk.nodeMessage.test(n)?new sk({cause:t,gas:e?.gas}):ok.nodeMessage.test(n)?new ok({cause:t}):G5.nodeMessage.test(n)?new G5({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Hw({cause:t})}function zZ(t,{docsPath:e,...n}){const r=(()=>{const i=$4(t,n);return i instanceof Hw?t:i})();return new LZ(r,{docsPath:e,...n})}function Kw(t,{format:e}){if(!e)return{};const n={};function r(a){const s=Object.keys(a);for(const o of s)o in t&&(n[o]=t[o]),a[o]&&typeof a[o]=="object"&&!Array.isArray(a[o])&&r(a[o])}const i=e(t||{});return r(i),n}const ime={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function lp(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=ame(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>Ri(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=Lt(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=Lt(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=Lt(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=Lt(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=Lt(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=Lt(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=ime[t.type]),typeof t.value<"u"&&(n.value=Lt(t.value)),n}function ame(t){return t.map(e=>({address:e.address,r:e.r?Lt(BigInt(e.r)):e.r,s:e.s?Lt(BigInt(e.s)):e.s,chainId:Lt(e.chainId),nonce:Lt(e.nonce),...typeof e.yParity<"u"?{yParity:Lt(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Lt(e.v)}:{}}))}function D$(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const e_=new Map;function WZ({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const a=async()=>{const d=l();s();const h=d.map(({args:g})=>g);h.length!==0&&t(h).then(g=>{i&&Array.isArray(g)&&g.sort(i);for(let m=0;m<d.length;m++){const{resolve:b}=d[m];b?.([g[m],g])}}).catch(g=>{for(let m=0;m<d.length;m++){const{reject:b}=d[m];b?.(g)}})},s=()=>e_.delete(e),o=()=>l().map(({args:d})=>d),l=()=>e_.get(e)||[],u=d=>e_.set(e,[...l(),d]);return{flush:s,async schedule(d){const{promise:h,resolve:g,reject:m}=D$();return n?.([...o(),d])&&a(),l().length>0?(u({args:d,resolve:g,reject:m}),h):(u({args:d,resolve:g,reject:m}),setTimeout(a,r),h)}}}function MB(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new aB({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new aB({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function sme(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:a}=t,s={};if(a!==void 0&&(s.code=a),e!==void 0&&(s.balance=Lt(e)),n!==void 0&&(s.nonce=Lt(n)),r!==void 0&&(s.state=MB(r)),i!==void 0){if(s.state)throw new eme;s.stateDiff=MB(i)}return s}function B$(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Is(n,{strict:!1}))throw new ah({address:n});if(e[n])throw new Qge({address:n});e[n]=sme(r)}return e}function yh(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:a}=t,s=e?Vr(e):void 0;if(s&&!Is(s.address))throw new ah({address:s.address});if(a&&!Is(a))throw new ah({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new z1e;if(r&&r>sge)throw new V5({maxFeePerGas:r});if(i&&r&&i>r)throw new G5({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function N4(t,e){const{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:a,blockTag:s=t.experimental_blockTag??"latest",accessList:o,blobs:l,blockOverrides:u,code:d,data:h,factory:g,factoryData:m,gas:b,gasPrice:w,maxFeePerBlobGas:x,maxFeePerGas:E,maxPriorityFeePerGas:I,nonce:C,to:N,value:A,stateOverride:T,...O}=e,H=n?Vr(n):void 0;if(d&&(g||m))throw new Ve("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&N)throw new Ve("Cannot provide both `code` & `to` as parameters.");const U=d&&h,L=g&&m&&N&&h,G=U||L,R=U?HZ({code:d,data:h}):L?cme({data:h,factory:g,factoryData:m,to:N}):h;try{yh(e);const _=(typeof a=="bigint"?Lt(a):void 0)||s,S=u?MZ(u):void 0,$=B$(T),D=t.chain?.formatters?.transactionRequest?.format,Y=(D||lp)({...Kw(O,{format:D}),accessList:o,account:H,authorizationList:r,blobs:l,data:R,gas:b,gasPrice:w,maxFeePerBlobGas:x,maxFeePerGas:E,maxPriorityFeePerGas:I,nonce:C,to:G?void 0:N,value:A},"call");if(i&&ome({request:Y})&&!$&&!S)try{return await lme(t,{...Y,blockNumber:a,blockTag:s})}catch(M){if(!(M instanceof wZ)&&!(M instanceof QS))throw M}const J=(()=>{const M=[Y,_];return $&&S?[...M,$,S]:$?[...M,$]:S?[...M,{},S]:M})(),V=await t.request({method:"eth_call",params:J});return V==="0x"?{data:void 0}:{data:V}}catch(F){const _=ume(F),{offchainLookup:S,offchainLookupSignature:$}=await lo(async()=>{const{offchainLookup:D,offchainLookupSignature:z}=await import("./ccip.BieNs01u.js");return{offchainLookup:D,offchainLookupSignature:z}},[]);if(t.ccipRead!==!1&&_?.slice(0,10)===$&&N)return{data:await S(t,{data:_,to:N})};throw G&&_?.slice(0,10)==="0x101bb98d"?new rme({factory:g}):zZ(F,{...e,account:H,chain:t.chain})}}function ome({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Zge)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function lme(t,e){const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:a,blockTag:s=t.experimental_blockTag??"latest",data:o,to:l}=e,u=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return bm({blockNumber:a,chain:t.chain,contract:"multicall3"});throw new wZ})(),h=(typeof a=="bigint"?Lt(a):void 0)||s,{schedule:g}=WZ({id:`${t.uid}.${h}`,wait:i,shouldSplitBatch(w){return w.reduce((E,{data:I})=>E+(I.length-2),0)>n*2},fn:async w=>{const x=w.map(C=>({allowFailure:!0,callData:C.data,target:C.to})),E=Ps({abi:J5,args:[x],functionName:"aggregate3"}),I=await t.request({method:"eth_call",params:[{...u===null?{data:HZ({code:j$,data:E})}:{to:u,data:E}},h]});return sp({abi:J5,args:[x],functionName:"aggregate3",data:I||"0x"})}}),[{returnData:m,success:b}]=await g({data:o,to:l});if(!b)throw new T4({data:m});return m==="0x"?{data:void 0}:{data:m}}function HZ(t){const{code:e,data:n}=t;return A4({abi:NY(["constructor(bytes, bytes)"]),bytecode:UZ,args:[e,n]})}function cme(t){const{data:e,factory:n,factoryData:r,to:i}=t;return A4({abi:NY(["constructor(address, bytes, address, bytes)"]),bytecode:Jge,args:[i,e,n,r]})}function ume(t){if(!(t instanceof Ve))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}const P4="x-batch-gateway:true";async function dme(t){const{data:e,ccipRequest:n}=t,{args:[r]}=iZ({abi:dk,data:e}),i=[],a=[];return await Promise.all(r.map(async(s,o)=>{try{a[o]=s.urls.includes(P4)?await dme({data:s.data,ccipRequest:n}):await n(s),i[o]=!1}catch(l){i[o]=!0,a[o]=fme(l)}})),R1e({abi:dk,functionName:"query",result:[i,a]})}function fme(t){return t.name==="HttpRequestError"&&t.status?yB({abi:dk,errorName:"HttpError",args:[t.status,t.shortMessage]}):yB({abi:[nZ],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function U$({chain:t,currentChainId:e}){if(!t)throw new lge;if(e!==t.id)throw new oge({chain:t,currentChainId:e})}const hme=3;function z0(t,{abi:e,address:n,args:r,docsPath:i,functionName:a,sender:s}){const o=t instanceof T4?t:t instanceof Ve?t.walk(b=>"data"in b)||t.walk():{},{code:l,data:u,details:d,message:h,shortMessage:g}=o,m=t instanceof Uw?new nme({functionName:a}):[hme,U0.code].includes(l)&&(u||d||h||g)||l===sh.code&&d==="execution reverted"&&u?new fk({abi:e,data:typeof u=="object"?u.data:u,functionName:a,message:o instanceof N$?d:g??h}):t;return new FZ(m,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:a,sender:s})}class pme extends Ve{constructor(e,{account:n,docsPath:r,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:h,value:g}){const m=Ww({from:n?.address,to:h,value:typeof g<"u"&&`${op(g)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${Cs(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${Cs(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Cs(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function gme(t,{docsPath:e,...n}){const r=(()=>{const i=$4(t,n);return i instanceof Hw?t:i})();return new pme(r,{docsPath:e,...n})}function L$(t,{docsPath:e,...n}){const r=(()=>{const i=$4(t,n);return i instanceof Hw?t:i})();return new H1e(r,{docsPath:e,...n})}const qZ={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function VZ(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Ql(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Ql(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?qZ[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=mme(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function mme(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function GZ(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:VZ(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function wd(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const KZ={"0x0":"reverted","0x1":"success"};function YZ(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>wd(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Ql(t.transactionIndex):null,status:t.status?KZ[t.status]:null,type:t.type?qZ[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}function Ut(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:a=>e(t,a)}async function F$(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Lt(r):n]},{dedupe:!!r});return Ql(i)}function yme(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,a)=>{(async()=>{let s;try{const o=new AbortController;n>0&&(s=setTimeout(()=>{r&&o.abort()},n)),i(await t({signal:o?.signal||null}))}catch(o){o?.name==="AbortError"&&a(e),a(o)}finally{clearTimeout(s)}})()})}function bme(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const jB=bme();function wme(t,e={}){return{async request(n){const{body:r,fetchFn:i=e.fetchFn??fetch,onRequest:a=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=n,l={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:d,signal:h}=l;try{const g=await yme(async({signal:b})=>{const w={...l,body:Array.isArray(r)?Oi(r.map(C=>({jsonrpc:"2.0",id:C.id??jB.take(),...C}))):Oi({jsonrpc:"2.0",id:r.id??jB.take(),...r}),headers:{"Content-Type":"application/json",...u},method:d||"POST",signal:h||(o>0?b:null)},x=new Request(t,w),E=await a?.(x,w)??{...w,url:t};return await i(E.url??t,E)},{errorInstance:new AB({body:r,url:t}),timeout:o,signal:!0});s&&await s(g);let m;if(g.headers.get("Content-Type")?.startsWith("application/json"))m=await g.json();else{m=await g.text();try{m=JSON.parse(m||"{}")}catch(b){if(g.ok)throw b;m={error:m}}}if(!g.ok)throw new q2({body:r,details:Oi(m.error)||g.statusText,headers:g.headers,status:g.status,url:t});return m}catch(g){throw g instanceof q2||g instanceof AB?g:new q2({body:r,cause:g,url:t})}}}}const vme=`Ethereum Signed Message:
`;function xme(t){const e=typeof t=="string"?Pg(t):typeof t.raw=="string"?t.raw:Ri(t.raw),n=Pg(`${vme}${Hr(e)}`);return ol([n,e])}function ZZ(t,e){return ha(xme(t),e)}class Eme extends Ve{constructor({domain:e}){super(`Invalid domain "${Oi(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class _me extends Ve{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Ame extends Ve{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Cme(t){const{domain:e,message:n,primaryType:r,types:i}=t,a=(l,u)=>{const d={...u};for(const h of l){const{name:g,type:m}=h;m==="address"&&(d[g]=d[g].toLowerCase())}return d},s=i.EIP712Domain?e?a(i.EIP712Domain,e):{}:{},o=(()=>{if(r!=="EIP712Domain")return a(i[r],n)})();return Oi({domain:s,message:o,primaryType:r,types:i})}function JZ(t){const{domain:e,message:n,primaryType:r,types:i}=t,a=(s,o)=>{for(const l of s){const{name:u,type:d}=l,h=o[u],g=d.match(tZ);if(g&&(typeof h=="number"||typeof h=="bigint")){const[w,x,E]=g;Lt(h,{signed:x==="int",size:Number.parseInt(E,10)/8})}if(d==="address"&&typeof h=="string"&&!Is(h))throw new ah({address:h});const m=d.match(l1e);if(m){const[w,x]=m;if(x&&Hr(h)!==Number.parseInt(x,10))throw new Xpe({expectedSize:Number.parseInt(x,10),givenSize:Hr(h)})}const b=i[d];b&&(Sme(d),a(b,h))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new Eme({domain:e});a(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])a(i[r],n);else throw new _me({primaryType:r,types:i})}function XZ({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Sme(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Ame({type:t})}function kme(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:XZ({domain:e}),...t.types};JZ({domain:e,message:n,primaryType:r,types:i});const a=["0x1901"];return e&&a.push(Ime({domain:e,types:i})),r!=="EIP712Domain"&&a.push(QZ({data:n,primaryType:r,types:i})),ha(ol(a))}function Ime({domain:t,types:e}){return QZ({data:t,primaryType:"EIP712Domain",types:e})}function QZ({data:t,primaryType:e,types:n}){const r=eJ({data:t,primaryType:e,types:n});return ha(r)}function eJ({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[Tme({primaryType:e,types:n})];for(const a of n[e]){const[s,o]=nJ({types:n,name:a.name,type:a.type,value:t[a.name]});r.push(s),i.push(o)}return ip(r,i)}function Tme({primaryType:t,types:e}){const n=ni($me({primaryType:t,types:e}));return ha(n)}function $me({primaryType:t,types:e}){let n="";const r=tJ({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const a of i)n+=`${a}(${e[a].map(({name:s,type:o})=>`${o} ${s}`).join(",")})`;return n}function tJ({primaryType:t,types:e},n=new Set){const i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const a of e[i])tJ({primaryType:a.type,types:e},n);return n}function nJ({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},ha(eJ({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},ha(r)];if(n==="string")return[{type:"bytes32"},ha(ni(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),a=r.map(s=>nJ({name:e,type:i,types:t,value:s}));return[{type:"bytes32"},ha(ip(a.map(([s])=>s),a.map(([,s])=>s)))]}return[{type:n},r]}let Nme=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Pme={checksum:new Nme(8192)},t_=Pme.checksum;function rJ(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=qY(Tge(t));return n==="Bytes"?r:rc(r)}const Ome=/^0x[a-fA-F0-9]{40}$/;function O4(t,e={}){const{strict:n=!0}=e;if(!Ome.test(t))throw new DB({address:t,cause:new Rme});if(n){if(t.toLowerCase()===t)return;if(iJ(t)!==t)throw new DB({address:t,cause:new Mme})}}function iJ(t){if(t_.has(t))return t_.get(t);O4(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=rJ(Nge(e),{as:"Bytes"}),r=e.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const i=`0x${r.join("")}`;return t_.set(t,i),i}function hk(t,e={}){const{strict:n=!0}=e??{};try{return O4(t,{strict:n}),!0}catch{return!1}}class DB extends On{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Rme extends On{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Mme extends On{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const jme=/^(.*)\[([0-9]*)\]$/,Dme=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,aJ=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,BB=2n**256n-1n;function bg(t,e,n){const{checksumAddress:r,staticPosition:i}=n,a=H$(e.type);if(a){const[s,o]=a;return Ume(t,{...e,type:o},{checksumAddress:r,length:s,staticPosition:i})}if(e.type==="tuple")return Wme(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return Bme(t,{checksum:r});if(e.type==="bool")return Lme(t);if(e.type.startsWith("bytes"))return Fme(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return zme(t,e);if(e.type==="string")return Hme(t,{staticPosition:i});throw new V$(e.type)}const UB=32,pk=32;function Bme(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(a=>n?iJ(a):a)(rc(Oge(r,-20))),32]}function Ume(t,e,n){const{checksumAddress:r,length:i,staticPosition:a}=n;if(!i){const l=dd(t.readBytes(pk)),u=a+l,d=u+UB;t.setPosition(u);const h=dd(t.readBytes(UB)),g=zb(e);let m=0;const b=[];for(let w=0;w<h;++w){t.setPosition(d+(g?w*32:m));const[x,E]=bg(t,e,{checksumAddress:r,staticPosition:d});m+=E,b.push(x)}return t.setPosition(a+32),[b,32]}if(zb(e)){const l=dd(t.readBytes(pk)),u=a+l,d=[];for(let h=0;h<i;++h){t.setPosition(u+h*32);const[g]=bg(t,e,{checksumAddress:r,staticPosition:u});d.push(g)}return t.setPosition(a+32),[d,32]}let s=0;const o=[];for(let l=0;l<i;++l){const[u,d]=bg(t,e,{checksumAddress:r,staticPosition:a+s});s+=d,o.push(u)}return[o,s]}function Lme(t){return[Mge(t.readBytes(32),{size:32}),32]}function Fme(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const s=dd(t.readBytes(32));t.setPosition(n+s);const o=dd(t.readBytes(32));if(o===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(o);return t.setPosition(n+32),[rc(l),32]}return[rc(t.readBytes(Number.parseInt(i,10),32)),32]}function zme(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?Rge(i,{signed:n}):dd(i,{signed:n}),32]}function Wme(t,e,n){const{checksumAddress:r,staticPosition:i}=n,a=e.components.length===0||e.components.some(({name:l})=>!l),s=a?[]:{};let o=0;if(zb(e)){const l=dd(t.readBytes(pk)),u=i+l;for(let d=0;d<e.components.length;++d){const h=e.components[d];t.setPosition(u+o);const[g,m]=bg(t,h,{checksumAddress:r,staticPosition:u});o+=m,s[a?d:h?.name]=g}return t.setPosition(i+32),[s,32]}for(let l=0;l<e.components.length;++l){const u=e.components[l],[d,h]=bg(t,u,{checksumAddress:r,staticPosition:i});s[a?l:u?.name]=d,o+=h}return[s,o]}function Hme(t,{staticPosition:e}){const n=dd(t.readBytes(32)),r=e+n;t.setPosition(r);const i=dd(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const a=t.readBytes(i,32),s=jge(TZ(a));return t.setPosition(e+32),[s,32]}function qme({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(z$({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function z$({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=H$(r.type);if(i){const[a,s]=i;return Gme(n,{checksumAddress:t,length:a,parameter:{...r,type:s}})}if(r.type==="tuple")return Xme(n,{checksumAddress:t,parameter:r});if(r.type==="address")return Vme(n,{checksum:t});if(r.type==="bool")return Yme(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,s="256"]=aJ.exec(r.type)??[];return Zme(n,{signed:a,size:Number(s)})}if(r.type.startsWith("bytes"))return Kme(n,{type:r.type});if(r.type==="string")return Jme(n);throw new V$(r.type)}function W$(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:s,encoded:o}=t[a];s?e+=32:e+=ho(o)}const n=[],r=[];let i=0;for(let a=0;a<t.length;a++){const{dynamic:s,encoded:o}=t[a];s?(n.push(Wa(e+i,{size:32})),r.push(o),i+=ho(o)):n.push(o)}return nc(...n,...r)}function Vme(t,e){const{checksum:n=!1}=e;return O4(t,{strict:n}),{dynamic:!1,encoded:L0(t.toLowerCase())}}function Gme(t,e){const{checksumAddress:n,length:r,parameter:i}=e,a=r===null;if(!Array.isArray(t))throw new oye(t);if(!a&&t.length!==r)throw new sye({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let s=!1;const o=[];for(let l=0;l<t.length;l++){const u=z$({checksumAddress:n,parameter:i,value:t[l]});u.dynamic&&(s=!0),o.push(u)}if(a||s){const l=W$(o);if(a){const u=Wa(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?nc(u,l):u}}if(s)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:nc(...o.map(({encoded:l})=>l))}}function Kme(t,{type:e}){const[,n]=e.split("bytes"),r=ho(t);if(!n){let i=t;return r%32!==0&&(i=F0(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:nc(L0(Wa(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new oJ({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:F0(t)}}function Yme(t){if(typeof t!="boolean")throw new On(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:L0($Z(t))}}function Zme(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new OZ({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Wa(t,{size:32,signed:e})}}function Jme(t){const e=M$(t),n=Math.ceil(ho(e)/32),r=[];for(let i=0;i<n;i++)r.push(F0(eu(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:nc(F0(Wa(ho(e),{size:32})),...r)}}function Xme(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const a=[];for(let s=0;s<r.components.length;s++){const o=r.components[s],l=Array.isArray(t)?s:o.name,u=z$({checksumAddress:n,parameter:o,value:t[l]});a.push(u),u.dynamic&&(i=!0)}return{dynamic:i,encoded:i?W$(a):nc(...a.map(({encoded:s})=>s))}}function H$(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function zb(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(zb);const n=H$(t.type);return!!(n&&zb({...t,type:n[1]}))}const Qme={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new nye({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new tye({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new LB({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new LB({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function eye(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(Qme);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class LB extends On{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class tye extends On{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class nye extends On{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function rye(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,a=typeof e=="string"?IZ(e):e,s=eye(a);if(X1(a)===0&&t.length>0)throw new aye;if(X1(a)&&X1(a)<32)throw new iye({data:typeof e=="string"?e:rc(e),parameters:t,size:X1(a)});let o=0;const l=r==="Array"?[]:{};for(let u=0;u<t.length;++u){const d=t[u];s.setPosition(o);const[h,g]=bg(s,d,{checksumAddress:i,staticPosition:0});o+=g,r==="Array"?l.push(h):l[d.name??u]=h}return l}function q$(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new lJ({expectedLength:t.length,givenLength:e.length});const i=qme({checksumAddress:r,parameters:t,values:e}),a=W$(i);return a.length===0?"0x":a}function gk(t,e){if(t.length!==e.length)throw new lJ({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],a=e[r];n.push(gk.encode(i,a))}return nc(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const l=r;return O4(l),L0(l.toLowerCase(),i?32:0)}if(n==="string")return M$(r);if(n==="bytes")return r;if(n==="bool")return L0($Z(r),i?32:1);const a=n.match(aJ);if(a){const[l,u,d="256"]=a,h=Number.parseInt(d,10)/8;return Wa(r,{size:i?32:h,signed:u==="int"})}const s=n.match(Dme);if(s){const[l,u]=s;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new oJ({expectedSize:Number.parseInt(u,10),value:r});return F0(r,i?32:0)}const o=n.match(jme);if(o&&Array.isArray(r)){const[l,u]=o,d=[];for(let h=0;h<r.length;h++)d.push(e(u,r[h],!0));return d.length===0?"0x":nc(...d)}throw new V$(n)}t.encode=e})(gk||(gk={}));function sJ(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?iB(t):t}class iye extends On{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${V1(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class aye extends On{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class sye extends On{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class oJ extends On{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${ho(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class lJ extends On{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class oye extends On{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class V$ extends On{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}let cJ=class extends E${constructor(e,n){super(),this.finished=!1,this.destroyed=!1,_pe(e);const r=v4(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),Rg(a)}update(e){return Og(this),this.iHash.update(e),this}digestInto(e){Og(this),B0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const uJ=(t,e,n)=>new cJ(t,e).update(n).digest();uJ.create=(t,e)=>new cJ(t,e);const Es=BigInt(0),Za=BigInt(1),m0=BigInt(2),lye=BigInt(3),dJ=BigInt(4),fJ=BigInt(5),hJ=BigInt(8);function ms(t,e){const n=t%e;return n>=Es?n:e+n}function No(t,e,n){let r=t;for(;e-- >Es;)r*=r,r%=n;return r}function mk(t,e){if(t===Es)throw new Error("invert: expected non-zero number");if(e<=Es)throw new Error("invert: expected positive modulus, got "+e);let n=ms(t,e),r=e,i=Es,a=Za;for(;n!==Es;){const o=r/n,l=r%n,u=i-a*o;r=n,n=l,i=a,a=u}if(r!==Za)throw new Error("invert: does not exist");return ms(i,e)}function pJ(t,e){const n=(t.ORDER+Za)/dJ,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function cye(t,e){const n=(t.ORDER-fJ)/hJ,r=t.mul(e,m0),i=t.pow(r,n),a=t.mul(e,i),s=t.mul(t.mul(a,m0),i),o=t.mul(a,t.sub(s,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function uye(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Za,n=0;for(;e%m0===Es;)e/=m0,n++;let r=m0;const i=G$(t);for(;FB(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return pJ;let a=i.pow(r,e);const s=(e+Za)/m0;return function(l,u){if(l.is0(u))return u;if(FB(l,u)!==1)throw new Error("Cannot find square root");let d=n,h=l.mul(l.ONE,a),g=l.pow(u,e),m=l.pow(u,s);for(;!l.eql(g,l.ONE);){if(l.is0(g))return l.ZERO;let b=1,w=l.sqr(g);for(;!l.eql(w,l.ONE);)if(b++,w=l.sqr(w),b===d)throw new Error("Cannot find square root");const x=Za<<BigInt(d-b-1),E=l.pow(h,x);d=b,h=l.sqr(E),g=l.mul(g,h),m=l.mul(m,E)}return m}}function dye(t){return t%dJ===lye?pJ:t%hJ===fJ?cye:uye(t)}const fye=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hye(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=fye.reduce((r,i)=>(r[i]="function",r),e);return k4(t,n)}function pye(t,e,n){if(n<Es)throw new Error("invalid exponent, negatives unsupported");if(n===Es)return t.ONE;if(n===Za)return e;let r=t.ONE,i=e;for(;n>Es;)n&Za&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Za;return r}function gJ(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,o,l)=>t.is0(o)?s:(r[l]=s,t.mul(s,o)),t.ONE),a=t.inv(i);return e.reduceRight((s,o,l)=>t.is0(o)?s:(r[l]=t.mul(s,r[l]),t.mul(s,o)),a),r}function FB(t,e){const n=(t.ORDER-Za)/m0,r=t.pow(e,n),i=t.eql(r,t.ONE),a=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!a&&!s)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function mJ(t,e){e!==void 0&&wb(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function G$(t,e,n=!1,r={}){if(t<=Es)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:a}=mJ(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const o=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:a,MASK:S4(i),ZERO:Es,ONE:Za,create:l=>ms(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Es<=l&&l<t},is0:l=>l===Es,isOdd:l=>(l&Za)===Za,neg:l=>ms(-l,t),eql:(l,u)=>l===u,sqr:l=>ms(l*l,t),add:(l,u)=>ms(l+u,t),sub:(l,u)=>ms(l-u,t),mul:(l,u)=>ms(l*u,t),pow:(l,u)=>pye(o,l,u),div:(l,u)=>ms(l*mk(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>mk(l,t),sqrt:r.sqrt||(l=>(s||(s=dye(t)),s(o,l))),toBytes:l=>n?_Z(l,a):Vw(l,a),fromBytes:l=>{if(l.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+l.length);return n?EZ(l):k0(l)},invertBatch:l=>gJ(o,l),cmov:(l,u,d)=>d?u:l});return Object.freeze(o)}function yJ(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function bJ(t){const e=yJ(t);return e+Math.ceil(e/2)}function gye(t,e,n=!1){const r=t.length,i=yJ(e),a=bJ(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const s=n?EZ(t):k0(t),o=ms(s,e-Za)+Za;return n?_Z(o,i):Vw(o,i)}const zB=BigInt(0),yk=BigInt(1);function n_(t,e){const n=e.negate();return t?n:e}function wJ(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function r_(t,e){wJ(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,a=S4(t),s=BigInt(t);return{windows:n,windowSize:r,mask:a,maxNumber:i,shiftBy:s}}function WB(t,e,n){const{windowSize:r,mask:i,maxNumber:a,shiftBy:s}=n;let o=Number(t&i),l=t>>s;o>r&&(o-=a,l+=yk);const u=e*r,d=u+Math.abs(o)-1,h=o===0,g=o<0,m=e%2!==0;return{nextN:l,offset:d,isZero:h,isNeg:g,isNegF:m,offsetF:u}}function mye(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function yye(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const i_=new WeakMap,vJ=new WeakMap;function a_(t){return vJ.get(t)||1}function bye(t,e){return{constTimeNegate:n_,hasPrecomputes(n){return a_(n)!==1},unsafeLadder(n,r,i=t.ZERO){let a=n;for(;r>zB;)r&yk&&(i=i.add(a)),a=a.double(),r>>=yk;return i},precomputeWindow(n,r){const{windows:i,windowSize:a}=r_(r,e),s=[];let o=n,l=o;for(let u=0;u<i;u++){l=o,s.push(l);for(let d=1;d<a;d++)l=l.add(o),s.push(l);o=l.double()}return s},wNAF(n,r,i){let a=t.ZERO,s=t.BASE;const o=r_(n,e);for(let l=0;l<o.windows;l++){const{nextN:u,offset:d,isZero:h,isNeg:g,isNegF:m,offsetF:b}=WB(i,l,o);i=u,h?s=s.add(n_(m,r[b])):a=a.add(n_(g,r[d]))}return{p:a,f:s}},wNAFUnsafe(n,r,i,a=t.ZERO){const s=r_(n,e);for(let o=0;o<s.windows&&i!==zB;o++){const{nextN:l,offset:u,isZero:d,isNeg:h}=WB(i,o,s);if(i=l,!d){const g=r[u];a=a.add(h?g.negate():g)}}return a},getPrecomputes(n,r,i){let a=i_.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&i_.set(r,i(a))),a},wNAFCached(n,r,i){const a=a_(n);return this.wNAF(a,this.getPrecomputes(a,n,i),r)},wNAFCachedUnsafe(n,r,i,a){const s=a_(n);return s===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,a)},setWindowSize(n,r){wJ(r,e),vJ.set(n,r),i_.delete(n)}}}function wye(t,e,n,r){mye(n,t),yye(r,e);const i=n.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,o=bge(BigInt(i));let l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);const u=S4(l),d=new Array(Number(u)+1).fill(s),h=Math.floor((e.BITS-1)/l)*l;let g=s;for(let m=h;m>=0;m-=l){d.fill(s);for(let w=0;w<a;w++){const x=r[w],E=Number(x>>BigInt(m)&u);d[E]=d[E].add(n[w])}let b=s;for(let w=d.length-1,x=s;w>0;w--)x=x.add(d[w]),b=b.add(x);if(g=g.add(b),m!==0)for(let w=0;w<l;w++)g=g.double()}return g}function xJ(t){return hye(t.Fp),k4(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mJ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function HB(t){t.lowS!==void 0&&Lb("lowS",t.lowS),t.prehash!==void 0&&Lb("prehash",t.prehash)}function vye(t){const e=xJ(t);k4(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class xye extends Error{constructor(e=""){super(e)}}const Ju={Err:xye,_tlv:{encode:(t,e)=>{const{Err:n}=Ju;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Q3(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Q3(i.length/2|128):"";return Q3(t)+a+i+e},decode(t,e){const{Err:n}=Ju;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],a=!!(i&128);let s=0;if(!a)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+l);if(u.length!==l)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=Ju;if(t<rd)throw new e("integer: negative integers are not allowed");let n=Q3(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ju;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return k0(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ju,i=Ko("signature",t),{v:a,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l}=r.decode(2,a),{v:u,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=Ju,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),a=r+i;return e.encode(48,a)}};function s_(t,e){return Fb(Vw(t,e))}const rd=BigInt(0),zi=BigInt(1);BigInt(2);const o_=BigInt(3),Eye=BigInt(4);function _ye(t){const e=vye(t),{Fp:n}=e,r=G$(e.n,e.nBitLength),i=e.toBytes||((C,N,A)=>{const T=N.toAffine();return Z5(Uint8Array.from([4]),n.toBytes(T.x),n.toBytes(T.y))}),a=e.fromBytes||(C=>{const N=C.subarray(1),A=n.fromBytes(N.subarray(0,n.BYTES)),T=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:A,y:T}});function s(C){const{a:N,b:A}=e,T=n.sqr(C),O=n.mul(T,C);return n.add(n.add(O,n.mul(C,N)),A)}function o(C,N){const A=n.sqr(N),T=s(C);return n.eql(A,T)}if(!o(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,o_),Eye),u=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,u)))throw new Error("bad curve params: a or b");function d(C){return R$(C,zi,e.n)}function h(C){const{allowedPrivateKeyLengths:N,nByteLength:A,wrapPrivateKey:T,n:O}=e;if(N&&typeof C!="bigint"){if(qw(C)&&(C=Fb(C)),typeof C!="string"||!N.includes(C.length))throw new Error("invalid private key");C=C.padStart(A*2,"0")}let H;try{H=typeof C=="bigint"?C:k0(Ko("private key",C,A))}catch{throw new Error("invalid private key, expected hex or "+A+" bytes, got "+typeof C)}return T&&(H=ms(H,O)),yg("private key",H,zi,O),H}function g(C){if(!(C instanceof w))throw new Error("ProjectivePoint expected")}const m=kB((C,N)=>{const{px:A,py:T,pz:O}=C;if(n.eql(O,n.ONE))return{x:A,y:T};const H=C.is0();N==null&&(N=H?n.ONE:n.inv(O));const U=n.mul(A,N),L=n.mul(T,N),G=n.mul(O,N);if(H)return{x:n.ZERO,y:n.ZERO};if(!n.eql(G,n.ONE))throw new Error("invZ was invalid");return{x:U,y:L}}),b=kB(C=>{if(C.is0()){if(e.allowInfinityPoint&&!n.is0(C.py))return;throw new Error("bad point: ZERO")}const{x:N,y:A}=C.toAffine();if(!n.isValid(N)||!n.isValid(A))throw new Error("bad point: x or y not FE");if(!o(N,A))throw new Error("bad point: equation left != right");if(!C.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class w{constructor(N,A,T){if(N==null||!n.isValid(N))throw new Error("x required");if(A==null||!n.isValid(A)||n.is0(A))throw new Error("y required");if(T==null||!n.isValid(T))throw new Error("z required");this.px=N,this.py=A,this.pz=T,Object.freeze(this)}static fromAffine(N){const{x:A,y:T}=N||{};if(!N||!n.isValid(A)||!n.isValid(T))throw new Error("invalid affine point");if(N instanceof w)throw new Error("projective point not allowed");const O=H=>n.eql(H,n.ZERO);return O(A)&&O(T)?w.ZERO:new w(A,T,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const A=gJ(n,N.map(T=>T.pz));return N.map((T,O)=>T.toAffine(A[O])).map(w.fromAffine)}static fromHex(N){const A=w.fromAffine(a(Ko("pointHex",N)));return A.assertValidity(),A}static fromPrivateKey(N){return w.BASE.multiply(h(N))}static msm(N,A){return wye(w,r,N,A)}_setWindowSize(N){I.setWindowSize(this,N)}assertValidity(){b(this)}hasEvenY(){const{y:N}=this.toAffine();if(n.isOdd)return!n.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){g(N);const{px:A,py:T,pz:O}=this,{px:H,py:U,pz:L}=N,G=n.eql(n.mul(A,L),n.mul(H,O)),R=n.eql(n.mul(T,L),n.mul(U,O));return G&&R}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:N,b:A}=e,T=n.mul(A,o_),{px:O,py:H,pz:U}=this;let L=n.ZERO,G=n.ZERO,R=n.ZERO,F=n.mul(O,O),_=n.mul(H,H),S=n.mul(U,U),$=n.mul(O,H);return $=n.add($,$),R=n.mul(O,U),R=n.add(R,R),L=n.mul(N,R),G=n.mul(T,S),G=n.add(L,G),L=n.sub(_,G),G=n.add(_,G),G=n.mul(L,G),L=n.mul($,L),R=n.mul(T,R),S=n.mul(N,S),$=n.sub(F,S),$=n.mul(N,$),$=n.add($,R),R=n.add(F,F),F=n.add(R,F),F=n.add(F,S),F=n.mul(F,$),G=n.add(G,F),S=n.mul(H,U),S=n.add(S,S),F=n.mul(S,$),L=n.sub(L,F),R=n.mul(S,_),R=n.add(R,R),R=n.add(R,R),new w(L,G,R)}add(N){g(N);const{px:A,py:T,pz:O}=this,{px:H,py:U,pz:L}=N;let G=n.ZERO,R=n.ZERO,F=n.ZERO;const _=e.a,S=n.mul(e.b,o_);let $=n.mul(A,H),D=n.mul(T,U),z=n.mul(O,L),Y=n.add(A,T),J=n.add(H,U);Y=n.mul(Y,J),J=n.add($,D),Y=n.sub(Y,J),J=n.add(A,O);let V=n.add(H,L);return J=n.mul(J,V),V=n.add($,z),J=n.sub(J,V),V=n.add(T,O),G=n.add(U,L),V=n.mul(V,G),G=n.add(D,z),V=n.sub(V,G),F=n.mul(_,J),G=n.mul(S,z),F=n.add(G,F),G=n.sub(D,F),F=n.add(D,F),R=n.mul(G,F),D=n.add($,$),D=n.add(D,$),z=n.mul(_,z),J=n.mul(S,J),D=n.add(D,z),z=n.sub($,z),z=n.mul(_,z),J=n.add(J,z),$=n.mul(D,J),R=n.add(R,$),$=n.mul(V,J),G=n.mul(Y,G),G=n.sub(G,$),$=n.mul(Y,D),F=n.mul(V,F),F=n.add(F,$),new w(G,R,F)}subtract(N){return this.add(N.negate())}is0(){return this.equals(w.ZERO)}wNAF(N){return I.wNAFCached(this,N,w.normalizeZ)}multiplyUnsafe(N){const{endo:A,n:T}=e;yg("scalar",N,rd,T);const O=w.ZERO;if(N===rd)return O;if(this.is0()||N===zi)return this;if(!A||I.hasPrecomputes(this))return I.wNAFCachedUnsafe(this,N,w.normalizeZ);let{k1neg:H,k1:U,k2neg:L,k2:G}=A.splitScalar(N),R=O,F=O,_=this;for(;U>rd||G>rd;)U&zi&&(R=R.add(_)),G&zi&&(F=F.add(_)),_=_.double(),U>>=zi,G>>=zi;return H&&(R=R.negate()),L&&(F=F.negate()),F=new w(n.mul(F.px,A.beta),F.py,F.pz),R.add(F)}multiply(N){const{endo:A,n:T}=e;yg("scalar",N,zi,T);let O,H;if(A){const{k1neg:U,k1:L,k2neg:G,k2:R}=A.splitScalar(N);let{p:F,f:_}=this.wNAF(L),{p:S,f:$}=this.wNAF(R);F=I.constTimeNegate(U,F),S=I.constTimeNegate(G,S),S=new w(n.mul(S.px,A.beta),S.py,S.pz),O=F.add(S),H=_.add($)}else{const{p:U,f:L}=this.wNAF(N);O=U,H=L}return w.normalizeZ([O,H])[0]}multiplyAndAddUnsafe(N,A,T){const O=w.BASE,H=(L,G)=>G===rd||G===zi||!L.equals(O)?L.multiplyUnsafe(G):L.multiply(G),U=H(this,A).add(H(N,T));return U.is0()?void 0:U}toAffine(N){return m(this,N)}isTorsionFree(){const{h:N,isTorsionFree:A}=e;if(N===zi)return!0;if(A)return A(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:A}=e;return N===zi?this:A?A(w,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return Lb("isCompressed",N),this.assertValidity(),i(w,this,N)}toHex(N=!0){return Lb("isCompressed",N),Fb(this.toRawBytes(N))}}w.BASE=new w(e.Gx,e.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO);const{endo:x,nBitLength:E}=e,I=bye(w,x?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:w,normPrivateKeyToScalar:h,weierstrassEquation:s,isWithinCurveOrder:d}}function Aye(t){const e=xJ(t);return k4(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Cye(t){const e=Aye(t),{Fp:n,n:r,nByteLength:i,nBitLength:a}=e,s=n.BYTES+1,o=2*n.BYTES+1;function l(S){return ms(S,r)}function u(S){return mk(S,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:g,isWithinCurveOrder:m}=_ye({...e,toBytes(S,$,D){const z=$.toAffine(),Y=n.toBytes(z.x),J=Z5;return Lb("isCompressed",D),D?J(Uint8Array.from([$.hasEvenY()?2:3]),Y):J(Uint8Array.from([4]),Y,n.toBytes(z.y))},fromBytes(S){const $=S.length,D=S[0],z=S.subarray(1);if($===s&&(D===2||D===3)){const Y=k0(z);if(!R$(Y,zi,n.ORDER))throw new Error("Point is not on curve");const J=g(Y);let V;try{V=n.sqrt(J)}catch(ne){const K=ne instanceof Error?": "+ne.message:"";throw new Error("Point is not on curve"+K)}const M=(V&zi)===zi;return(D&1)===1!==M&&(V=n.neg(V)),{x:Y,y:V}}else if($===o&&D===4){const Y=n.fromBytes(z.subarray(0,n.BYTES)),J=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:Y,y:J}}else{const Y=s,J=o;throw new Error("invalid Point, expected length of "+Y+", or uncompressed "+J+", got "+$)}}});function b(S){const $=r>>zi;return S>$}function w(S){return b(S)?l(-S):S}const x=(S,$,D)=>k0(S.slice($,D));class E{constructor($,D,z){yg("r",$,zi,r),yg("s",D,zi,r),this.r=$,this.s=D,z!=null&&(this.recovery=z),Object.freeze(this)}static fromCompact($){const D=i;return $=Ko("compactSignature",$,D*2),new E(x($,0,D),x($,D,2*D))}static fromDER($){const{r:D,s:z}=Ju.toSig(Ko("DER",$));return new E(D,z)}assertValidity(){}addRecoveryBit($){return new E(this.r,this.s,$)}recoverPublicKey($){const{r:D,s:z,recovery:Y}=this,J=O(Ko("msgHash",$));if(Y==null||![0,1,2,3].includes(Y))throw new Error("recovery id invalid");const V=Y===2||Y===3?D+e.n:D;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=(Y&1)===0?"02":"03",Q=d.fromHex(M+s_(V,n.BYTES)),ne=u(V),K=l(-J*ne),se=l(z*ne),le=d.BASE.multiplyAndAddUnsafe(Q,K,se);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Y5(this.toDERHex())}toDERHex(){return Ju.hexFromSig(this)}toCompactRawBytes(){return Y5(this.toCompactHex())}toCompactHex(){const $=i;return s_(this.r,$)+s_(this.s,$)}}const I={isValidPrivateKey(S){try{return h(S),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const S=bJ(e.n);return gye(e.randomBytes(S),e.n)},precompute(S=8,$=d.BASE){return $._setWindowSize(S),$.multiply(BigInt(3)),$}};function C(S,$=!0){return d.fromPrivateKey(S).toRawBytes($)}function N(S){if(typeof S=="bigint")return!1;if(S instanceof d)return!0;const D=Ko("key",S).length,z=n.BYTES,Y=z+1,J=2*z+1;if(!(e.allowedPrivateKeyLengths||i===Y))return D===Y||D===J}function A(S,$,D=!0){if(N(S)===!0)throw new Error("first arg must be private key");if(N($)===!1)throw new Error("second arg must be public key");return d.fromHex($).multiply(h(S)).toRawBytes(D)}const T=e.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const $=k0(S),D=S.length*8-a;return D>0?$>>BigInt(D):$},O=e.bits2int_modN||function(S){return l(T(S))},H=S4(a);function U(S){return yg("num < 2^"+a,S,rd,H),Vw(S,i)}function L(S,$,D=G){if(["recovered","canonical"].some(he=>he in D))throw new Error("sign() legacy options not supported");const{hash:z,randomBytes:Y}=e;let{lowS:J,prehash:V,extraEntropy:M}=D;J==null&&(J=!0),S=Ko("msgHash",S),HB(D),V&&(S=Ko("prehashed msgHash",z(S)));const Q=O(S),ne=h($),K=[U(ne),U(Q)];if(M!=null&&M!==!1){const he=M===!0?Y(n.BYTES):M;K.push(Ko("extraEntropy",he))}const se=Z5(...K),le=Q;function de(he){const Ce=T(he);if(!m(Ce))return;const ke=u(Ce),Ie=d.BASE.multiply(Ce).toAffine(),De=l(Ie.x);if(De===rd)return;const Ne=l(ke*l(le+De*ne));if(Ne===rd)return;let We=(Ie.x===De?0:2)|Number(Ie.y&zi),tt=Ne;return J&&b(Ne)&&(tt=w(Ne),We^=1),new E(De,tt,We)}return{seed:se,k2sig:de}}const G={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function F(S,$,D=G){const{seed:z,k2sig:Y}=L(S,$,D),J=e;return wge(J.hash.outputLen,J.nByteLength,J.hmac)(z,Y)}d.BASE._setWindowSize(8);function _(S,$,D,z=R){const Y=S;$=Ko("msgHash",$),D=Ko("publicKey",D);const{lowS:J,prehash:V,format:M}=z;if(HB(z),"strict"in z)throw new Error("options.strict was renamed to lowS");if(M!==void 0&&M!=="compact"&&M!=="der")throw new Error("format must be compact or der");const Q=typeof Y=="string"||qw(Y),ne=!Q&&!M&&typeof Y=="object"&&Y!==null&&typeof Y.r=="bigint"&&typeof Y.s=="bigint";if(!Q&&!ne)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let K,se;try{if(ne&&(K=new E(Y.r,Y.s)),Q){try{M!=="compact"&&(K=E.fromDER(Y))}catch(We){if(!(We instanceof Ju.Err))throw We}!K&&M!=="der"&&(K=E.fromCompact(Y))}se=d.fromHex(D)}catch{return!1}if(!K||J&&K.hasHighS())return!1;V&&($=e.hash($));const{r:le,s:de}=K,he=O($),Ce=u(de),ke=l(he*Ce),Ie=l(le*Ce),De=d.BASE.multiplyAndAddUnsafe(se,ke,Ie)?.toAffine();return De?l(De.x)===le:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:A,sign:F,verify:_,ProjectivePoint:d,Signature:E,utils:I}}function Sye(t){return{hash:t,hmac:(e,...n)=>uJ(t,e,Tpe(...n)),randomBytes:$pe}}function kye(t,e){const n=r=>Cye({...t,...Sye(r)});return{...n(e),create:n}}const EJ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qB=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Iye=BigInt(0),Tye=BigInt(1),bk=BigInt(2),VB=(t,e)=>(t+e/bk)/e;function $ye(t){const e=EJ,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),l=BigInt(88),u=t*t*t%e,d=u*u*t%e,h=No(d,n,e)*d%e,g=No(h,n,e)*d%e,m=No(g,bk,e)*u%e,b=No(m,i,e)*m%e,w=No(b,a,e)*b%e,x=No(w,o,e)*w%e,E=No(x,l,e)*x%e,I=No(E,o,e)*w%e,C=No(I,n,e)*d%e,N=No(C,s,e)*b%e,A=No(N,r,e)*u%e,T=No(A,bk,e);if(!wk.eql(wk.sqr(T),t))throw new Error("Cannot find square root");return T}const wk=G$(EJ,void 0,void 0,{sqrt:$ye}),_J=kye({a:Iye,b:BigInt(7),Fp:wk,n:qB,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=qB,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Tye*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,s=BigInt("0x100000000000000000000000000000000"),o=VB(a*t,e),l=VB(-r*t,e);let u=ms(t-o*n-l*i,e),d=ms(-o*r-l*a,e);const h=u>s,g=d>s;if(h&&(u=e-u),g&&(d=e-d),u>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:u,k2neg:g,k2:d}}}},mZ),Nye=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:_J},Symbol.toStringTag,{value:"Module"}));function AJ(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new l_({signature:t});if(typeof t.s>"u")throw new l_({signature:t});if(n&&typeof t.yParity>"u")throw new l_({signature:t});if(t.r<0n||t.r>BB)throw new Bye({value:t.r});if(t.s<0n||t.s>BB)throw new Uye({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new Y$({value:t.yParity})}function Pye(t){return CJ(rc(t))}function CJ(t){if(t.length!==130&&t.length!==132)throw new Dye({signature:t});const e=BigInt(eu(t,0,32)),n=BigInt(eu(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return K$(i)}catch{throw new Y$({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function Oye(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return Rye(t)}function Rye(t){const e=typeof t=="string"?CJ(t):t instanceof Uint8Array?Pye(t):typeof t.r=="string"?jye(t):t.v?Mye(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return AJ(e),e}function Mye(t){return{r:t.r,s:t.s,yParity:K$(t.v)}}function jye(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=K$(n)),typeof r!="number")throw new Y$({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function K$(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new Lye({value:t})}class Dye extends On{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ho(Hge(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class l_ extends On{constructor({signature:e}){super(`Signature \`${kZ(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Bye extends On{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Uye extends On{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Y$ extends On{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Lye extends On{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Fye(t,e={}){return typeof t.chainId=="string"?zye(t):{...t,...e.signature}}function zye(t){const{address:e,chainId:n,nonce:r}=t,i=Oye(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const Wye="0x8010801080108010801080108010801080108010801080108010801080108010",Hye=sJ("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function SJ(t){if(typeof t=="string"){if(eu(t,-32)!==Wye)throw new Gye(t)}else AJ(t.authorization)}function qye(t){SJ(t);const e=PZ(eu(t,-64,-32)),n=eu(t,-e-64,-64),r=eu(t,0,-e-64),[i,a,s]=rye(Hye,n);return{authorization:Fye({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...s&&s!=="0x"?{data:s,to:a}:{}}}function Vye(t){try{return SJ(t),!0}catch{return!1}}let Gye=class extends On{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class Kye extends Ve{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Yye(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new Kye({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[a,s,o]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],l=Math.round(+`${s}.${o}`);l>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${l}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}function kJ(t,e="wei"){return Yye(t,uZ[e])}const Zye={path:"/api/v1/analytics_events",method:"POST"},Jye={path:"/api/v1/apps/:app_id",method:"GET"},Xye={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},Qye={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},e2e={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},t2e={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},n2e={path:"/api/v1/farcaster/init",method:"POST"},r2e={path:"/api/v1/farcaster/authenticate",method:"POST"},i2e={path:"/api/v1/farcaster/link",method:"POST"},a2e={path:"/api/v1/farcaster/unlink",method:"POST"},s2e={path:"/api/v1/farcaster/status",method:"GET"},o2e={path:"/api/v2/farcaster/init",method:"POST"},l2e={path:"/api/v2/farcaster/authenticate",method:"POST"},c2e={path:"/api/v1/guest/authenticate",method:"POST"},u2e={path:"/api/v1/mfa/passkeys/init",method:"POST"},d2e={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},f2e={path:"/api/v1/oauth/authenticate",method:"POST"},h2e={path:"/api/v1/oauth/init",method:"POST"},p2e={path:"/api/v1/oauth/link",method:"POST"},g2e={path:"/api/v1/oauth/unlink",method:"POST"},m2e={path:"/api/v1/passkeys/link",method:"POST"},y2e={path:"/api/v1/passkeys/authenticate",method:"POST"},b2e={path:"/api/v1/passkeys/register",method:"POST"},w2e={path:"/api/v1/passkeys/authenticate/init",method:"POST"},v2e={path:"/api/v1/passkeys/register/init",method:"POST"},x2e={path:"/api/v1/passkeys/link/init",method:"POST"},E2e={path:"/api/v1/passwordless/authenticate",method:"POST"},_2e={path:"/api/v1/passwordless/init",method:"POST"},A2e={path:"/api/v1/passwordless/link",method:"POST"},C2e={path:"/api/v1/passwordless/unlink",method:"POST"},S2e={path:"/api/v1/passwordless/update",method:"POST"},k2e={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},I2e={path:"/api/v1/passwordless_sms/init",method:"POST"},T2e={path:"/api/v1/passwordless_sms/link",method:"POST"},$2e={path:"/api/v1/passwordless_sms/unlink",method:"POST"},N2e={path:"/api/v1/passwordless_sms/update",method:"POST"},P2e={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},O2e={path:"/api/v1/recovery/oauth/init",method:"POST"},R2e={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},M2e={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},j2e={path:"/api/v1/recovery/configuration_icloud",method:"POST"},D2e=(t,e)=>e?Object.entries(e).reduce(((n,[r,i])=>n.replace(`:${r}`,`${i}`)),t):t,GB={path:"/api/v1/sessions",method:"POST"},B2e={path:"/api/v1/sessions/logout",method:"POST"},U2e={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},IJ={path:"/api/v1/siwe/init",method:"POST"},L2e={path:"/api/v1/siwe/authenticate",method:"POST"},F2e={path:"/api/v1/siwe/link",method:"POST"},z2e={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},W2e={path:"/api/v1/siwe/unlink",method:"POST"},H2e={path:"/api/v1/siws/init",method:"POST"},q2e={path:"/api/v1/siws/authenticate",method:"POST"},V2e={path:"/api/v1/siws/link",method:"POST"},G2e={path:"/api/v1/siws/unlink",method:"POST"},K2e={path:"/api/v1/users/me/accept_terms",method:"POST"},Y2e={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},Z2e={path:"/api/v1/wallets",method:"POST"},c_={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},J2e={path:"/api/v1/wallets/revoke",method:"POST"};var Vt,KB=((Vt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Vt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Vt.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",Vt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Vt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Vt.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",Vt.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",Vt.INVALID_DATA="invalid_data",Vt.INVALID_CREDENTIALS="invalid_credentials",Vt.INVALID_CAPTCHA="invalid_captcha",Vt.LINKED_TO_ANOTHER_USER="linked_to_another_user",Vt.ALLOWLIST_REJECTED="allowlist_rejected",Vt.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",Vt.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",Vt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Vt.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",Vt.TOO_MANY_REQUESTS="too_many_requests",Vt.RESOURCE_CONFLICT="resource_conflict",Vt.INVALID_ORIGIN="invalid_origin",Vt.MISSING_ORIGIN="missing_origin",Vt.INVALID_NATIVE_APP_ID="invalid_native_app_id",Vt.TOKEN_ALREADY_USED="token_already_used",Vt.ALREADY_LOGGED_OUT="already_logged_out",Vt.NOT_SUPPORTED="not_supported",Vt.USER_UNSUBSCRIBED="user_unsubscribed",Vt.MAX_APPS_REACHED="max_apps_reached",Vt.USER_LIMIT_REACHED="max_accounts_reached",Vt.DEVICE_REVOKED="device_revoked",Vt.WALLET_PASSWORD_EXISTS="wallet_password_exists",Vt.OAUTH_STATE_MISMATCH="oauth_state_mismatch",Vt.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",Vt.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",Vt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Vt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Vt.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",Vt.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",Vt.CANNOT_SET_PASSWORD="cannot_set_password",Vt.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",Vt.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",Vt.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",Vt.USER_DOES_NOT_EXIST="user_does_not_exist",Vt.ALREADY_EXISTS="resource_already_exists",Vt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Vt.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",Vt.FEATURE_NOT_ENABLED="feature_not_enabled",Vt.INSUFFICIENT_FUNDS="insufficient_funds",Vt.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",Vt.INVALID_POLICY_FORMAT="invalid_policy_format",Vt.POLICY_VIOLATION="policy_violation",Vt.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",Vt.INVALID_REQUEST="invalid_request",Vt.SIGNUP_DISABLED="signup_disabled",Vt);function YB(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),r=e[0].split("."),i=0;i<3;i++){var a=Number(n[i]),s=Number(r[i]);if(a>s)return 1;if(s>a)return-1;if(!isNaN(a)&&isNaN(s))return 1;if(isNaN(a)&&!isNaN(s))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var X2e={}.constructor;function I0(t){return t!=null&&t.constructor===X2e}function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function R4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ebe(r.key),r)}}function M4(t,e,n){return e&&Q2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ebe(t){var e=tbe(t,"string");return Lg(e)=="symbol"?e:e+""}function tbe(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nbe="1.2.0",rbe="1.7.35",ZB=" ext. ",ibe=/^\d+$/,Mi=(function(){function t(e){R4(this,t),TJ(e),this.metadata=e,$J.call(this,e)}return M4(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&ibe.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new JB(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new JB(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var i=this.nonGeographic()[n];if(i)return i}else{var a=this.countryCallingCodes()[n];if(a&&a.length===1&&a[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),JB=(function(){function t(e,n){R4(this,t),this.globalMetadataObject=n,this.metadata=e,$J.call(this,n.metadata)}return M4(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(i){return new abe(i,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&XB(this.types(),n))return new obe(XB(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?ZB:this.metadata[13]||ZB}}])})(),abe=(function(){function t(e,n){R4(this,t),this._format=e,this.metadata=n}return M4(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!sbe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),sbe=/^\(?\$1\)?$/,obe=(function(){function t(e,n){R4(this,t),this.type=e,this.metadata=n}return M4(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function XB(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function TJ(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!I0(t)||!I0(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(I0(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+lbe(t)+": "+t,"."))}var lbe=function(e){return Lg(e)};function j4(t,e){if(e=new Mi(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function cbe(t,e){return e.countries.hasOwnProperty(t)}function $J(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?YB(e,nbe)===-1?this.v2=!0:YB(e,rbe)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function D4(t,e,n){return ube(t,e,void 0,n)}function ube(t,e,n,r){e&&(r=new Mi(r.metadata),r.selectNumberingPlan(e));var i=r.type(n),a=i&&i.possibleLengths()||r.possibleLengths();if(!a)return"IS_POSSIBLE";var s=t.length,o=a[0];return o===s?"IS_POSSIBLE":o>s?"TOO_SHORT":a[a.length-1]<s?"TOO_LONG":a.indexOf(s,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function dbe(t,e,n){if(e===void 0&&(e={}),n=new Mi(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return NJ(t.phone||t.nationalNumber,t.country,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function NJ(t,e,n){switch(D4(t,e,n)){case"IS_POSSIBLE":return!0;default:return!1}}function vd(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function fbe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=hbe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hbe(t,e){if(t){if(typeof t=="string")return QB(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QB(t,e):void 0}}function QB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var pbe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function Z$(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new Mi(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(vd(r,n.nationalNumberPattern())){if(u_(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||u_(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=fbe(pbe),a;!(a=i()).done;){var s=a.value;if(u_(r,s,n))return s}}}}function u_(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:vd(t,e.pattern())}function gbe(t,e,n){if(e=e||{},n=new Mi(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return Z$(t,e,n.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return vd(r,n.nationalNumberPattern())}function mbe(t,e,n){var r=new Mi(n),i=r.getCountryCodesForCallingCode(t);return i?i.filter(function(a){return ybe(e,a,n)}):[]}function ybe(t,e,n){var r=new Mi(n);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}var J$=2,bbe=17,wbe=3,Qa="0-9---",vbe="--",xbe="/",Ebe=".",_be=" ",Abe="()\\[\\]",Cbe="~",Kl="".concat(vbe).concat(xbe).concat(Ebe).concat(_be).concat(Abe).concat(Cbe),B4="+",Sbe=new RegExp("(["+Qa+"])");function PJ(t,e,n,r){if(e){var i=new Mi(r);i.selectNumberingPlan(e,n);var a=new RegExp(i.IDDPrefix());if(t.search(a)===0){t=t.slice(t.match(a)[0].length);var s=t.match(Sbe);if(!(s&&s[1]!=null&&s[1].length>0&&s[1]==="0"))return t}}}function vk(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(t);if(r){var i,a,s=r.length-1,o=s>0&&r[s];if(e.nationalPrefixTransformRule()&&o)i=t.replace(n,e.nationalPrefixTransformRule()),s>1&&(a=r[1]);else{var l=r[0];i=t.slice(l.length),o&&(a=r[1])}var u;if(o){var d=t.indexOf(r[1]),h=t.slice(0,d);h===e.numberingPlan.nationalPrefix()&&(u=e.numberingPlan.nationalPrefix())}else u=r[0];return{nationalNumber:i,nationalPrefix:u,carrierCode:a}}}return{nationalNumber:t}}function kbe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Ibe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ibe(t,e){if(t){if(typeof t=="string")return eU(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eU(t,e):void 0}}function eU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function OJ(t,e){var n=e.countries,r=e.metadata;r=new Mi(r);for(var i=kbe(n),a;!(a=i()).done;){var s=a.value;if(r.selectNumberingPlan(s),r.leadingDigits()){if(t&&t.search(r.leadingDigits())===0)return s}else if(Z$({phone:t,country:s},void 0,r.metadata))return s}}function X$(t,e){var n=e.nationalNumber,r=e.metadata,i=r.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:OJ(n,{countries:i,metadata:r.metadata})}function xk(t,e,n){var r=vk(t,n),i=r.carrierCode,a=r.nationalNumber;if(a!==t){if(!Tbe(t,a,n))return{nationalNumber:t};if(n.numberingPlan.possibleLengths()&&(e||(e=X$(n.numberingPlan.callingCode(),{nationalNumber:a,metadata:n})),!$be(a,e,n)))return{nationalNumber:t}}return{nationalNumber:a,carrierCode:i}}function Tbe(t,e,n){return!(vd(t,n.nationalNumberPattern())&&!vd(e,n.nationalNumberPattern()))}function $be(t,e,n){switch(D4(t,e,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function RJ(t,e,n,r,i){var a=e||n?j4(e||n,i):r;if(t.indexOf(a)===0){i=new Mi(i),i.selectNumberingPlan(e||n,a);var s=t.slice(a.length),o=xk(s,e,i),l=o.nationalNumber,u=xk(t,e,i),d=u.nationalNumber;if(!vd(d,i.nationalNumberPattern())&&vd(l,i.nationalNumberPattern())||D4(d,e,i)==="TOO_LONG")return{countryCallingCode:a,number:s}}return{number:t}}function Q$(t,e,n,r,i){if(!t)return{};var a;if(t[0]!=="+"){var s=PJ(t,e||n,r,i);if(s&&s!==t)a=!0,t="+"+s;else{if(e||n||r){var o=RJ(t,e,n,r,i),l=o.countryCallingCode,u=o.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:u}}return{number:t}}}if(t[1]==="0")return{};i=new Mi(i);for(var d=2;d-1<=wbe&&d<=t.length;){var h=t.slice(1,d);if(i.hasCallingCode(h))return i.selectNumberingPlan(h),{countryCallingCodeSource:a?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:h,number:t.slice(d)};d++}return{}}function MJ(t){return t.replace(new RegExp("[".concat(Kl,"]+"),"g")," ").trim()}var jJ=/(\$\d)/;function DJ(t,e,n){var r=n.useInternationalFormat,i=n.withNationalPrefix;n.carrierCode,n.metadata;var a=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(jJ,e.nationalPrefixFormattingRule()):e.format());return r?MJ(a):a}var Nbe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function Pbe(t,e,n){var r=new Mi(n);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(Nbe.test(r.IDDPrefix()))return r.IDDPrefix()}var Obe=";ext=",d1=function(e){return"([".concat(Qa,"]{1,").concat(e,"})")};function BJ(t){var e="20",n="15",r="9",i="6",a="[ \\t,]*",s="[:\\.]?[ \\t,-]*",o="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",u="(?:[x#~]|int|)",d="[- ]+",h="[ \\t]*",g="(?:,{2}|;)",m=Obe+d1(e),b=a+l+s+d1(e)+o,w=a+u+s+d1(r)+o,x=d+d1(i)+"#",E=h+g+s+d1(n)+o,I=h+"(?:,)+"+s+d1(r)+o;return m+"|"+b+"|"+w+"|"+x+"|"+E+"|"+I}var Rbe="["+Qa+"]{"+J$+"}",Mbe="["+B4+"]{0,1}(?:["+Kl+"]*["+Qa+"]){3,}["+Kl+Qa+"]*",jbe=new RegExp("^["+B4+"]{0,1}(?:["+Kl+"]*["+Qa+"]){1,2}$","i"),Dbe=Mbe+"(?:"+BJ()+")?",Bbe=new RegExp("^"+Rbe+"$|^"+Dbe+"$","i");function Ube(t){return t.length>=J$&&Bbe.test(t)}function Lbe(t){return jbe.test(t)}function Fbe(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}var tU={formatExtension:function(e,n,r){return"".concat(e).concat(r.ext()).concat(n)}};function zbe(t,e,n,r){if(n?n=qbe({},tU,n):n=tU,r=new Mi(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=r.countryCallingCode(),a=n.v2?t.nationalNumber:t.phone,s;switch(e){case"NATIONAL":return a?(s=X5(a,t.carrierCode,"NATIONAL",r,n),d_(s,t.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return a?(s=X5(a,null,"INTERNATIONAL",r,n),s="+".concat(i," ").concat(s),d_(s,t.ext,r,n.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(a);case"RFC3966":return Fbe({number:"+".concat(i).concat(a),ext:t.ext});case"IDD":if(!n.fromCountry)return;var o=Hbe(a,t.carrierCode,i,n.fromCountry,r);return d_(o,t.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function X5(t,e,n,r,i){var a=Wbe(r.formats(),t);return a?DJ(t,a,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:r}):t}function Wbe(t,e){return Vbe(t,function(n){if(n.leadingDigitsPatterns().length>0){var r=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(e.search(r)!==0)return!1}return vd(e,n.pattern())})}function d_(t,e,n,r){return e?r(t,e,n):t}function Hbe(t,e,n,r,i){var a=j4(r,i.metadata);if(a===n){var s=X5(t,e,"NATIONAL",i);return n==="1"?n+" "+s:s}var o=Pbe(r,void 0,i.metadata);if(o)return"".concat(o," ").concat(n," ").concat(X5(t,null,"INTERNATIONAL",i))}function qbe(){for(var t=1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(;t<n.length;){if(n[t])for(var i in n[t])n[0][i]=n[t][i];t++}return n[0]}function Vbe(t,e){for(var n=0;n<t.length;){if(e(t[n]))return t[n];n++}}function Wb(t){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wb(t)}function nU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nU(Object(n),!0).forEach(function(r){Gbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gbe(t,e,n){return(e=UJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ybe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UJ(r.key),r)}}function Zbe(t,e,n){return e&&Ybe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UJ(t){var e=Jbe(t,"string");return Wb(e)=="symbol"?e:e+""}function Jbe(t,e){if(Wb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eN=(function(){function t(e,n,r){if(Kbe(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(I0(n)&&I0(n.countries)){r=n;var i=e;if(!ewe.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var a=Q$(i,void 0,void 0,void 0,r),s=a.countryCallingCode,o=a.number;if(n=o,e=s,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");TJ(r);var l=Qbe(e,r),u=l.country,d=l.countryCallingCode;this.country=u,this.countryCallingCode=d,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return Zbe(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:mbe(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return dbe(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return gbe(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new Mi(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return Z$(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return zbe(this,n,r?rU(rU({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])})(),Xbe=function(e){return/^[A-Z]{2}$/.test(e)};function Qbe(t,e){var n,r,i=new Mi(e);return Xbe(t)?(n=t,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=t,{country:n,countryCallingCode:r}}var ewe=/^\+\d+$/;function Ek(t){"@babel/helpers - typeof";return Ek=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ek(t)}function twe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function nwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rwe(t,e,n){return e=qb(e),iwe(t,tN()?Reflect.construct(e,n||[],qb(t).constructor):e.apply(t,n))}function iwe(t,e){if(e&&(Ek(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return awe(t)}function awe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function swe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hb(t,e)}function _k(t){var e=typeof Map=="function"?new Map:void 0;return _k=function(r){if(r===null||!lwe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return owe(r,arguments,qb(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Hb(i,r)},_k(t)}function owe(t,e,n){if(tN())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&Hb(i,n.prototype),i}function tN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tN=function(){return!!t})()}function lwe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function Hb(t,e){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Hb(t,e)}function qb(t){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qb(t)}var Xu=(function(t){function e(n){var r;return nwe(this,e),r=rwe(this,e,[n]),Object.setPrototypeOf(r,e.prototype),r.name=r.constructor.name,r}return swe(e,t),twe(e)})(_k(Error)),iU=new RegExp("(?:"+BJ()+")$","i");function cwe(t){var e=t.search(iU);if(e<0)return{};for(var n=t.slice(0,e),r=t.match(iU),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}function uwe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=dwe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dwe(t,e){if(t){if(typeof t=="string")return aU(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aU(t,e):void 0}}function aU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var fwe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function LJ(t){return fwe[t]}function Q5(t){for(var e="",n=uwe(t.split("")),r;!(r=n()).done;){var i=r.value,a=LJ(i);a&&(e+=a)}return e}function hwe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=pwe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pwe(t,e){if(t){if(typeof t=="string")return sU(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sU(t,e):void 0}}function sU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function oU(t){for(var e="",n=hwe(t.split("")),r;!(r=n()).done;){var i=r.value;e+=gwe(i,e)||""}return e}function gwe(t,e,n){return t==="+"?e?void 0:"+":LJ(t)}var FJ="+",mwe="[\\-\\.\\(\\)]?",lU="(["+Qa+"]|"+mwe+")",ywe="^\\"+FJ+lU+"*["+Qa+"]"+lU+"*$",bwe=new RegExp(ywe,"g"),Ak=Qa,wwe="["+Ak+"]+((\\-)*["+Ak+"])*",vwe="a-zA-Z",xwe="["+vwe+"]+((\\-)*["+Ak+"])*",Ewe="^("+wwe+"\\.)*"+xwe+"\\.?$",_we=new RegExp(Ewe,"g"),cU="tel:",Ck=";phone-context=",Awe=";isub=";function Cwe(t){var e=t.indexOf(Ck);if(e<0)return null;var n=e+Ck.length;if(n>=t.length)return"";var r=t.indexOf(";",n);return r>=0?t.substring(n,r):t.substring(n)}function Swe(t){return t===null?!0:t.length===0?!1:bwe.test(t)||_we.test(t)}function kwe(t,e){var n=e.extractFormattedPhoneNumber,r=Cwe(t);if(!Swe(r))throw new Xu("NOT_A_NUMBER");var i;if(r===null)i=n(t)||"";else{i="",r.charAt(0)===FJ&&(i+=r);var a=t.indexOf(cU),s;a>=0?s=a+cU.length:s=0;var o=t.indexOf(Ck);i+=t.substring(s,o)}var l=i.indexOf(Awe);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var Iwe=250,Twe=new RegExp("["+B4+Qa+"]"),$we=new RegExp("[^"+Qa+"#]+$");function Nwe(t,e,n){if(e=e||{},n=new Mi(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new Xu("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=Owe(t,e.v2,e.extract),i=r.number,a=r.ext,s=r.error;if(!i){if(e.v2)throw s==="TOO_SHORT"?new Xu("TOO_SHORT"):new Xu("NOT_A_NUMBER");return{}}var o=Mwe(i,e.defaultCountry,e.defaultCallingCode,n),l=o.country,u=o.nationalNumber,d=o.countryCallingCode,h=o.countryCallingCodeSource,g=o.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new Xu("INVALID_COUNTRY");return{}}if(!u||u.length<J$){if(e.v2)throw new Xu("TOO_SHORT");return{}}if(u.length>bbe){if(e.v2)throw new Xu("TOO_LONG");return{}}if(e.v2){var m=new eN(d,u,n.metadata);return l&&(m.country=l),g&&(m.carrierCode=g),a&&(m.ext=a),m.__countryCallingCodeSource=h,m}var b=(e.extended?n.hasSelectedNumberingPlan():l)?vd(u,n.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:d,carrierCode:g,valid:b,possible:b?!0:!!(e.extended===!0&&n.possibleLengths()&&NJ(u,l,n)),phone:u,ext:a}:b?Rwe(l,u,a):{}}function Pwe(t,e,n){if(t){if(t.length>Iwe){if(n)throw new Xu("TOO_LONG");return}if(e===!1)return t;var r=t.search(Twe);if(!(r<0))return t.slice(r).replace($we,"")}}function Owe(t,e,n){var r=kwe(t,{extractFormattedPhoneNumber:function(s){return Pwe(s,n,e)}});if(!r)return{};if(!Ube(r))return Lbe(r)?{error:"TOO_SHORT"}:{};var i=cwe(r);return i.ext?i:{number:r}}function Rwe(t,e,n){var r={country:t,phone:e};return n&&(r.ext=n),r}function Mwe(t,e,n,r){var i=Q$(oU(t),void 0,e,n,r.metadata),a=i.countryCallingCodeSource,s=i.countryCallingCode,o=i.number,l;if(s)r.selectNumberingPlan(s);else if(o&&(e||n))r.selectNumberingPlan(e,n),e&&(l=e),s=n||j4(e,r.metadata);else return{};if(!o)return{countryCallingCodeSource:a,countryCallingCode:s};var u=xk(oU(o),l,r),d=u.nationalNumber,h=u.carrierCode,g=X$(s,{nationalNumber:d,metadata:r});return g&&(l=g,g==="001"||r.selectNumberingPlan(l)),{country:l,countryCallingCode:s,countryCallingCodeSource:a,nationalNumber:d,carrierCode:h}}function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}function uU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(n),!0).forEach(function(r){jwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jwe(t,e,n){return(e=Dwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dwe(t){var e=Bwe(t,"string");return Vb(e)=="symbol"?e:e+""}function Bwe(t,e){if(Vb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uwe(t,e,n){return Nwe(t,dU(dU({},e),{},{v2:!0}),n)}function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function fU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lwe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fU(Object(n),!0).forEach(function(r){Fwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fwe(t,e,n){return(e=zwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zwe(t){var e=Wwe(t,"string");return Gb(e)=="symbol"?e:e+""}function Wwe(t,e){if(Gb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hwe(t,e){return Kwe(t)||Gwe(t,e)||Vwe(t,e)||qwe()}function qwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vwe(t,e){if(t){if(typeof t=="string")return hU(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hU(t,e):void 0}}function hU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Gwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Kwe(t){if(Array.isArray(t))return t}function Ywe(t){var e=Array.prototype.slice.call(t),n=Hwe(e,4),r=n[0],i=n[1],a=n[2],s=n[3],o,l,u;if(typeof r=="string")o=r;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")s?(l=a,u=s):(l=void 0,u=a),i&&(l=Lwe({defaultCountry:i},l));else if(I0(i))a?(l=i,u=a):u=i;else throw new Error("Invalid second argument: ".concat(i));return{text:o,options:l,metadata:u}}function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function pU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(n),!0).forEach(function(r){Zwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zwe(t,e,n){return(e=Jwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jwe(t){var e=Xwe(t,"string");return Kb(e)=="symbol"?e:e+""}function Xwe(t,e){if(Kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qwe(t,e,n){e&&e.defaultCountry&&!cbe(e.defaultCountry,n)&&(e=gU(gU({},e),{},{defaultCountry:void 0}));try{return Uwe(t,e,n)}catch(r){if(!(r instanceof Xu))throw r}}function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function mU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(n),!0).forEach(function(r){eve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eve(t,e,n){return(e=tve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tve(t){var e=nve(t,"string");return Yb(e)=="symbol"?e:e+""}function nve(t,e){if(Yb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rve(){var t=Ywe(arguments),e=t.text,n=t.options,r=t.metadata;n=yU(yU({},n),{},{extract:!1});var i=Qwe(e,n,r);return i&&i.isPossible()||!1}function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}function ive(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ave(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ove(r.key),r)}}function sve(t,e,n){return e&&ave(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ove(t){var e=lve(t,"string");return Zb(e)=="symbol"?e:e+""}function lve(t,e){if(Zb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cve=(function(){function t(e){var n=e.onCountryChange,r=e.onCallingCodeChange;ive(this,t),this.onCountryChange=n,this.onCallingCodeChange=r}return sve(t,[{key:"reset",value:function(n){var r=n.country,i=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this[a]=n[a]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])})();function uve(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=dve(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dve(t,e){if(t){if(typeof t=="string")return bU(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bU(t,e):void 0}}function bU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var jl="x",f_=new RegExp(jl);function a5(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function wU(t,e){return t[e]===")"&&e++,fve(t.slice(0,e))}function fve(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var r=0,i="";e.push(t.length);for(var a=0,s=e;a<s.length;a++){var o=s[a];i+=t.slice(r,o),r=o+1}return i}function hve(t,e,n){for(var r=uve(n.split("")),i;!(i=r()).done;){var a=i.value;if(t.slice(e+1).search(f_)<0)return;e=t.search(f_),t=t.replace(f_,a)}return[t,e]}function pve(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,s=new RegExp("^(?:".concat(e.pattern(),")$"));if(s.test(t.nationalSignificantNumber))return mve(t,e,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:a})}function gve(t,e,n){return D4(t,e,n)==="IS_POSSIBLE"}function mve(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var s=vU(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:a,metadata:r});if(s)return s}return vU(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:a,metadata:r})}function vU(t,e,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,s=DJ(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:r});if(i||(t.nationalPrefix?s=t.nationalPrefix+a(e)+s:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(s=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+s)),yve(s,t))return s}function yve(t,e){return Q5(t)===e.getNationalDigits()}function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function bve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xve(r.key),r)}}function vve(t,e,n){return e&&wve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xve(t){var e=Eve(t,"string");return Jb(e)=="symbol"?e:e+""}function Eve(t,e){if(Jb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _ve=(function(){function t(){bve(this,t)}return vve(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],i=r.branches,a=r.instructions;if(i)return{op:"|",args:i.concat([h_(a)])};if(a.length===0)throw new Error("Pattern is required");return a.length===1?a[0]:a}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match(Sve);if(!r){if(Cve.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var i=r[1],a=n.slice(0,r.index),s=n.slice(r.index+i.length);switch(i){case"(?:":a&&this.parsePattern(a),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(a&&this.parsePattern(a),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var o=this.getContext(),l=o.branches;l.push(h_(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(a&&this.parsePattern(a),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(h_(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":a&&this.parsePattern(a),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:Ave(a)});break;default:throw new Error("Unknown operator: ".concat(i))}s&&this.parsePattern(s)}}])})();function Ave(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var r=t[n-1].charCodeAt(0)+1,i=t[n+1].charCodeAt(0)-1,a=r;a<=i;)e.push(String.fromCharCode(a)),a++}else e.push(t[n]);n++}return e}var Cve=/[\(\)\[\]\?\:\|]/,Sve=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function h_(t){return t.length===1?t[0]:t}function xU(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=kve(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kve(t,e){if(t){if(typeof t=="string")return EU(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EU(t,e):void 0}}function EU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function Ive(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nve(r.key),r)}}function $ve(t,e,n){return e&&Tve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nve(t){var e=Pve(t,"string");return Xb(e)=="symbol"?e:e+""}function Pve(t,e){if(Xb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ove=(function(){function t(e){Ive(this,t),this.matchTree=new _ve().parse(e)}return $ve(t,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.allowOverflow;if(!n)throw new Error("String is required");var a=Sk(n.split(""),this.matchTree,!0);if(a&&a.match&&delete a.matchedChars,!(a&&a.overflow&&!i))return a}}])})();function Sk(t,e,n){if(typeof e=="string"){var r=t.join("");return e.indexOf(r)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:r.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),a=0;a<e.length;){var s=e[a],o=Sk(i,s,n&&a===e.length-1);if(o){if(o.overflow)return o;if(o.match){if(i=i.slice(o.matchedChars.length),i.length===0)return a===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(o.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(o,null,2)))}}else return;a++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,u=xU(e.args),d;!(d=u()).done;){var h=d.value,g=Sk(t,h,n);if(g){if(g.overflow)return g;if(g.match)return{match:!0,matchedChars:g.matchedChars};if(g.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(g,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var m=xU(e.args),b;!(b=m()).done;){var w=b.value;if(t[0]===w)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[w]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function Qb(t){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(t)}function _U(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Rve(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rve(t,e){if(t){if(typeof t=="string")return AU(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AU(t,e):void 0}}function AU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Mve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bve(r.key),r)}}function Dve(t,e,n){return e&&jve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bve(t){var e=Uve(t,"string");return Qb(e)=="symbol"?e:e+""}function Uve(t,e){if(Qb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kk="9",Lve=15,Fve=a5(kk,Lve),zve=/[- ]/,Wve=function(){return/\[([^\[\]])*\]/g},Hve=function(){return/\d(?=[^,}][^,}])/g},qve=new RegExp("["+Kl+"]*\\$1["+Kl+"]*(\\$\\d["+Kl+"]*)*$"),CU=3,Vve=(function(){function t(e){e.state;var n=e.metadata;Mve(this,t),this.metadata=n,this.resetFormat()}return Dve(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var i=this;if(gve(r.nationalSignificantNumber,r.country,this.metadata))for(var a=_U(this.matchingFormats),s;!(s=a()).done;){var o=s.value,l=pve(r,o,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(d){return i.shouldTryNationalPrefixFormattingRule(d,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(d){return i.getSeparatorAfterNationalPrefix(d)}});if(l)return this.resetFormat(),this.chosenFormat=o,this.setNationalNumberTemplate(l.replace(/\d/g,jl),r),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(jl),l}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var i=this.chosenFormat,a=this.chooseFormat(r);if(a)return a===i?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,i=n.nationalSignificantNumber,a=n.nationalPrefix,s=n.international,o=i,l=o.length-CU;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(u){return r.formatSuits(u,s,a)&&r.formatMatches(u,o,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,i){return!(i&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!i&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,i){var a=n.leadingDigitsPatterns().length;if(a===0)return!0;i=Math.min(i,a-1);var s=n.leadingDigitsPatterns()[i];if(r.length<CU)try{return new Ove(s).match(r,{allowOverflow:!0})!==void 0}catch(o){return console.error(o),!0}return new RegExp("^(".concat(s,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,i=function(){var u=o.value;return r.chosenFormat===u?0:qve.test(r.getFormatFormat(u,n.international))?r.createTemplateForFormat(u,n)?(r.chosenFormat=u,0):(r.matchingFormats=r.matchingFormats.filter(function(d){return d!==u}),1):1},a,s=_U(this.matchingFormats.slice()),o;!(o=s()).done&&(a=i(),a!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(n,r);if(i)return this.setNationalNumberTemplate(i,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&zve.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var i=n.IDDPrefix,a=n.missingPlus;return i?r&&r.spacing===!1?i:i+" ":a?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var r=-1,i=0,a=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";i<a.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(jl,r+1),i++;return wU(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,jl)+a5(jl,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var i=r.nationalSignificantNumber,a=r.international,s=r.nationalPrefix,o=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,l=n.pattern();l=l.replace(Wve(),"\\d").replace(Hve(),"\\d");var u=Fve.match(l)[0];if(!(i.length>u.length)){var d=new RegExp("^"+l+"$"),h=i.replace(/\d/g,kk);d.test(h)&&(u=h);var g=this.getFormatFormat(n,a),m;if(this.shouldTryNationalPrefixFormattingRule(n,{international:a,nationalPrefix:s})){var b=g.replace(jJ,n.nationalPrefixFormattingRule());if(Q5(n.nationalPrefixFormattingRule())===(s||"")+Q5("$1")&&(g=b,m=!0,s))for(var w=s.length;w>0;)g=g.replace(/\d/,jl),w--}var x=u.replace(new RegExp(l),g).replace(new RegExp(kk,"g"),jl);return m||(o?x=a5(jl,o.length)+" "+x:s&&(x=a5(jl,s.length)+this.getSeparatorAfterNationalPrefix(n)+x)),a&&(x=MJ(x)),x}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=hve(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],wU(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var i=r.international,a=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var s=n.usesNationalPrefix();if(s&&a||!s&&!i)return!0}}}])})();function ew(t){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ew(t)}function zJ(t,e){return Zve(t)||Yve(t,e)||Kve(t,e)||Gve()}function Gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kve(t,e){if(t){if(typeof t=="string")return SU(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SU(t,e):void 0}}function SU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Yve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Zve(t){if(Array.isArray(t))return t}function Jve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e3e(r.key),r)}}function Qve(t,e,n){return e&&Xve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e3e(t){var e=t3e(t,"string");return ew(e)=="symbol"?e:e+""}function t3e(t,e){if(ew(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ew(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n3e="["+Kl+Qa+"]+",r3e=new RegExp("^"+n3e+"$","i"),i3e="(?:["+B4+"]["+Kl+Qa+"]*|["+Kl+Qa+"]+)",a3e=new RegExp("[^"+Kl+Qa+"]+.*$"),s3e=/[^\d\[\]]/,o3e=(function(){function t(e){var n=e.defaultCountry,r=e.defaultCallingCode,i=e.metadata,a=e.onNationalSignificantNumberChange;Jve(this,t),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=a}return Qve(t,[{key:"input",value:function(n,r){var i=u3e(n),a=zJ(i,2),s=a[0],o=a[1],l=Q5(s),u;return o&&(r.digits||(r.startInternationalNumber(void 0,void 0),l||(u=!0))),l&&this.inputDigits(l,r),{digits:l,justLeadingPlus:u}}},{key:"inputDigits",value:function(n,r){var i=r.digits,a=i.length<3&&i.length+n.length>=3;if(r.appendDigits(n),a&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(s){return r.update(s)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,i=n.callingCode;return r&&!i}},{key:"extractCountryCallingCode",value:function(n){var r=Q$("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode,a=r.number;if(i)return n.setCallingCode(i),n.update({nationalSignificantNumber:a}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&s3e.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(this.hasSelectedNumberingPlan){var i=vk(n,this.metadata),a=i.nationalPrefix,s=i.nationalNumber,o=i.carrierCode;if(s!==n)return this.onExtractedNationalNumber(a,o,s,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var a=vk(n,this.metadata),s=a.nationalPrefix,o=a.nationalNumber,l=a.carrierCode;if(o!==r)return this.onExtractedNationalNumber(s,l,o,n,i),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,i,a,s){var o=!1,l,u=a.lastIndexOf(i);if(u<0||u!==a.length-i.length)o=!0;else{var d=a.slice(0,u);d&&d!==n&&(l=d)}s({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:i,nationalSignificantNumberIsModified:o,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,i=n.IDDPrefix,a=n.digits;if(n.nationalSignificantNumber,!(r||i)){var s=PJ(a,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(s!==void 0&&s!==a)return n.update({IDDPrefix:a.slice(0,a.length-s.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=RJ(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode;if(i)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(n,r){var i=r.country,a=r.callingCode;n.startInternationalNumber(i,a),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}])})();function l3e(t){var e=t.search(i3e);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace(a3e,""),n&&(t="+"+t),t}}function c3e(t){var e=l3e(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function u3e(t){var e=c3e(t),n=zJ(e,2),r=n[0],i=n[1];return r3e.test(r)||(r=""),[r,i]}function tw(t){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tw(t)}function d3e(t,e){return g3e(t)||p3e(t,e)||h3e(t,e)||f3e()}function f3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h3e(t,e){if(t){if(typeof t=="string")return kU(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kU(t,e):void 0}}function kU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function p3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function g3e(t){if(Array.isArray(t))return t}function m3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w3e(r.key),r)}}function b3e(t,e,n){return e&&y3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w3e(t){var e=v3e(t,"string");return tw(e)=="symbol"?e:e+""}function v3e(t,e){if(tw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WJ=(function(){function t(e,n){m3e(this,t),this.metadata=new Mi(n);var r=this.getCountryAndCallingCode(e),i=d3e(r,2),a=i[0],s=i[1];this.defaultCountry=a,this.defaultCallingCode=s,this.reset()}return b3e(t,[{key:"getCountryAndCallingCode",value:function(n){var r,i;return n&&(I0(n)?(r=n.defaultCountry,i=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,i]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),i=r.digits,a=r.justLeadingPlus;if(a)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var s;if(this.metadata.hasSelectedNumberingPlan()&&(s=this.formatter.format(i,this.state)),s===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var o=this.state.getNationalDigits();o&&(s=this.formatter.format(o,this.state))}this.formattedOutput=s?this.getFullNumber(s):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new cve({onCountryChange:function(i){n.country=i},onCallingCodeChange:function(i,a){n.metadata.selectNumberingPlan(a,i),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new Vve({state:this.state,metadata:this.metadata}),this.parser=new o3e({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var i=function(o){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!o})+o},a=this.state.callingCode;return i(a?n?"".concat(a," ").concat(n):a:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,a=n.nationalPrefix,s=r,o=i||a;return o&&(s=o+s),s}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,jl)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(X$(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,i=n.callingCode,a=n.country,s=n.nationalSignificantNumber;if(r){if(this.isInternational())return i?"+"+i+s:"+"+r;if(a||i){var o=a?this.metadata.countryCallingCode():i;return"+"+o+s}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.carrierCode,a=n.callingCode,s=this._getCountry();if(r&&!(!s&&!a)){if(s&&s===this.defaultCountry){var o=new Mi(this.metadata.metadata);o.selectNumberingPlan(s);var l=o.numberingPlan.callingCode(),u=this.metadata.getCountryCodesForCallingCode(l);if(u.length>1){var d=OJ(r,{countries:u,metadata:this.metadata.metadata});d&&(s=d)}}var h=new eN(s||a,r,this.metadata.metadata);return i&&(h.carrierCode=i),h}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])})();function x3e(t){return new Mi(t).getCountries()}function E3e(t,e,n){if(e[t])return new eN(t,e[t],n)}function U4(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:a,transport:s})=>{a==="success"&&e===r&&(n[i]=s.request)}),(r=>n[r]||t.request)}async function HJ(t,e){const{address:n,abi:r,args:i,eventName:a,fromBlock:s,strict:o,toBlock:l}=e,u=U4(t,{method:"eth_newFilter"}),d=a?Fw({abi:r,args:i,eventName:a}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?Lt(s):s,toBlock:typeof l=="bigint"?Lt(l):l,topics:d}]});return{abi:r,args:i,eventName:a,id:h,request:u(h),strict:!!o,type:"event"}}class _3e extends Ve{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class nN extends Ve{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class A3e extends Ve{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Cs(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class qJ extends Ve{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function Jc(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){const a=i??!1,s=n!==void 0?Lt(n):void 0;let o=null;if(e?o=await t.request({method:"eth_getBlockByHash",params:[e,a]},{dedupe:!0}):o=await t.request({method:"eth_getBlockByNumber",params:[s||r,a]},{dedupe:!!s}),!o)throw new qJ({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||GZ)(o,"getBlock")}async function rN(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function C3e(t,e){return VJ(t,e)}async function VJ(t,e){const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof a=="function"){const o=n||await Ut(t,Jc,"getBlock")({}),l=await a({block:o,client:t,request:i});if(l===null)throw new Error;return l}if(typeof a<"u")return a;const s=await t.request({method:"eth_maxPriorityFeePerGas"});return fo(s)}catch{const[a,s]=await Promise.all([n?Promise.resolve(n):Ut(t,Jc,"getBlock")({}),Ut(t,rN,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new nN;const o=s-a.baseFeePerGas;return o<0n?0n:o}}async function S3e(t,e){return Ik(t,e)}async function Ik(t,e){const{block:n,chain:r=t.chain,request:i,type:a="eip1559"}=e||{},s=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new _3e;const l=10**(s.toString().split(".")[1]?.length??0),u=g=>g*BigInt(Math.ceil(s*l))/BigInt(l),d=n||await Ut(t,Jc,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:u,request:i,type:a});if(g!==null)return g}if(a==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new nN;const g=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await VJ(t,{block:d,chain:r,request:i}),m=u(d.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??m+g,maxPriorityFeePerGas:g}}return{gasPrice:i?.gasPrice??u(await Ut(t,rN,"getGasPrice")({}))}}async function cp(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Ql(e)}const iN=["blobVersionedHashes","chainId","fees","gas","nonce","type"],IU=new Map;async function Yw(t,e){const{account:n=t.account,blobs:r,chain:i,gas:a,kzg:s,nonce:o,nonceManager:l,parameters:u=iN,type:d}=e,h=n&&Vr(n),g={...e,...h?{from:h?.address}:{}};let m;async function b(){return m||(m=await Ut(t,Jc,"getBlock")({blockTag:"latest"}),m)}let w;async function x(){return w||(i?i.id:typeof e.chainId<"u"?e.chainId:(w=await Ut(t,cp,"getChainId")({}),w))}if(u.includes("nonce")&&typeof o>"u"&&h)if(l){const E=await x();g.nonce=await l.consume({address:h.address,chainId:E,client:t})}else g.nonce=await Ut(t,F$,"getTransactionCount")({address:h.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&s){const E=pZ({blobs:r,kzg:s});if(u.includes("blobVersionedHashes")){const I=tge({commitments:E,to:"hex"});g.blobVersionedHashes=I}if(u.includes("sidecars")){const I=gZ({blobs:r,commitments:E,kzg:s}),C=age({blobs:r,commitments:E,proofs:I,to:"hex"});g.sidecars=C}}if(u.includes("chainId")&&(g.chainId=await x()),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{g.type=cge(g)}catch{let E=IU.get(t.uid);typeof E>"u"&&(E=typeof(await b())?.baseFeePerGas=="bigint",IU.set(t.uid,E)),g.type=E?"eip1559":"legacy"}if(u.includes("fees"))if(g.type!=="legacy"&&g.type!=="eip2930"){if(typeof g.maxFeePerGas>"u"||typeof g.maxPriorityFeePerGas>"u"){const E=await b(),{maxFeePerGas:I,maxPriorityFeePerGas:C}=await Ik(t,{block:E,chain:i,request:g});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<C)throw new A3e({maxPriorityFeePerGas:C});g.maxPriorityFeePerGas=C,g.maxFeePerGas=I}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new nN;if(typeof e.gasPrice>"u"){const E=await b(),{gasPrice:I}=await Ik(t,{block:E,chain:i,request:g,type:"legacy"});g.gasPrice=I}}return u.includes("gas")&&typeof a>"u"&&(g.gas=await Ut(t,aN,"estimateGas")({...g,account:h,prepare:h?.type==="local"?[]:["blobVersionedHashes"]})),yh(g),delete g.parameters,g}async function aN(t,e){const{account:n=t.account,prepare:r=!0}=e,i=n?Vr(n):void 0,a=(()=>{if(Array.isArray(r))return r;if(i?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:s,authorizationList:o,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:g,gas:m,gasPrice:b,maxFeePerBlobGas:w,maxFeePerGas:x,maxPriorityFeePerGas:E,nonce:I,value:C,stateOverride:N,...A}=r?await Yw(t,{...e,parameters:a}):e,O=(typeof d=="bigint"?Lt(d):void 0)||h,H=B$(N),U=await(async()=>{if(A.to)return A.to;if(o&&o.length>0)return await C4({authorization:o[0]}).catch(()=>{throw new Ve("`to` is required. Could not infer from `authorizationList`")})})();yh(e);const L=t.chain?.formatters?.transactionRequest?.format,R=(L||lp)({...Kw(A,{format:L}),account:i,accessList:s,authorizationList:o,blobs:l,blobVersionedHashes:u,data:g,gas:m,gasPrice:b,maxFeePerBlobGas:w,maxFeePerGas:x,maxPriorityFeePerGas:E,nonce:I,to:U,value:C},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:H?[R,O??t.experimental_blockTag??"latest",H]:O?[R,O]:[R]}))}catch(s){throw gme(s,{...e,account:i,chain:t.chain})}}async function k3e(t,e){const{abi:n,address:r,args:i,functionName:a,dataSuffix:s,...o}=e,l=Ps({abi:n,args:i,functionName:a});try{return await Ut(t,aN,"estimateGas")({data:`${l}${s?s.replace("0x",""):""}`,to:r,...o})}catch(u){const d=o.account?Vr(o.account):void 0;throw z0(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:d?.address})}}async function sN(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:a,events:s,args:o,strict:l}={}){const u=l??!1,d=s??(a?[a]:void 0);let h=[];d&&(h=[d.flatMap(w=>Fw({abi:[w],eventName:w.name,args:s?void 0:o}))],a&&(h=h[0]));let g;n?g=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:n}]}):g=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof r=="bigint"?Lt(r):r,toBlock:typeof i=="bigint"?Lt(i):i}]});const m=g.map(b=>wd(b));return d?I$({abi:d,args:o,logs:m,strict:u}):m}async function GJ(t,e){const{abi:n,address:r,args:i,blockHash:a,eventName:s,fromBlock:o,toBlock:l,strict:u}=e,d=s?ap({abi:n,name:s}):void 0,h=d?void 0:n.filter(g=>g.type==="event");return Ut(t,sN,"getLogs")({address:r,args:i,blockHash:a,event:d,events:h,fromBlock:o,toBlock:l,strict:u})}async function ic(t,e){const{abi:n,address:r,args:i,functionName:a,...s}=e,o=Ps({abi:n,args:i,functionName:a});try{const{data:l}=await Ut(t,N4,"call")({...s,data:o,to:r});return sp({abi:n,args:i,functionName:a,data:l||"0x"})}catch(l){throw z0(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:a})}}async function I3e(t,e){const{abi:n,address:r,args:i,dataSuffix:a,functionName:s,...o}=e,l=o.account?Vr(o.account):t.account,u=Ps({abi:n,args:i,functionName:s});try{const{data:d}=await Ut(t,N4,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...o,account:l}),h=sp({abi:n,args:i,functionName:s,data:d||"0x"}),g=n.filter(m=>"name"in m&&m.name===e.functionName);return{result:h,request:{abi:g,address:r,args:i,dataSuffix:a,functionName:s,...o,account:l}}}catch(d){throw z0(d,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:l?.address})}}const p_=new Map,TU=new Map;let T3e=0;function xd(t,e,n){const r=++T3e,i=()=>p_.get(t)||[],a=()=>{const d=i();p_.set(t,d.filter(h=>h.id!==r))},s=()=>{const d=i();if(!d.some(g=>g.id===r))return;const h=TU.get(t);if(d.length===1&&h){const g=h();g instanceof Promise&&g.catch(()=>{})}a()},o=i();if(p_.set(t,[...o,{id:r,fns:e}]),o&&o.length>0)return s;const l={};for(const d in e)l[d]=((...h)=>{const g=i();if(g.length!==0)for(const m of g)m.fns[d]?.(...h)});const u=n(l);return typeof u=="function"&&TU.set(t,u),s}function wm(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const a=()=>i=!1;return(async()=>{let o;e&&(o=await t({unpoll:a}));const l=await n?.(o)??r;await lk(l);const u=async()=>{i&&(await t({unpoll:a}),await lk(r),u())};u()})(),a}const $3e=new Map,N3e=new Map;function P3e(t){const e=(i,a)=>({clear:()=>a.delete(i),get:()=>a.get(i),set:s=>a.set(i,s)}),n=e(t,$3e),r=e(t,N3e);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function O3e(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=P3e(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let a=r.promise.get();a||(a=t(),r.promise.set(a));try{const s=await a;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const R3e=t=>`blockNumber.${t}`;async function Zw(t,{cacheTime:e=t.cacheTime}={}){const n=await O3e(()=>t.request({method:"eth_blockNumber"}),{cacheKey:R3e(t.uid),cacheTime:e});return BigInt(n)}async function L4(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(a=>wd(a));return!("abi"in e)||!e.abi?i:I$({abi:e.abi,logs:i,strict:n})}async function F4(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function M3e(t,e){const{abi:n,address:r,args:i,batch:a=!0,eventName:s,fromBlock:o,onError:l,onLogs:u,poll:d,pollingInterval:h=t.pollingInterval,strict:g}=e;return(typeof d<"u"?d:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const x=g??!1,E=Oi(["watchContractEvent",r,i,a,t.uid,s,h,x,o]);return xd(E,{onLogs:u,onError:l},I=>{let C;o!==void 0&&(C=o-1n);let N,A=!1;const T=wm(async()=>{if(!A){try{N=await Ut(t,HJ,"createContractEventFilter")({abi:n,address:r,args:i,eventName:s,strict:x,fromBlock:o})}catch{}A=!0;return}try{let O;if(N)O=await Ut(t,L4,"getFilterChanges")({filter:N});else{const H=await Ut(t,Zw,"getBlockNumber")({});C&&C<H?O=await Ut(t,GJ,"getContractEvents")({abi:n,address:r,args:i,eventName:s,fromBlock:C+1n,toBlock:H,strict:x}):O=[],C=H}if(O.length===0)return;if(a)I.onLogs(O);else for(const H of O)I.onLogs([H])}catch(O){N&&O instanceof sh&&(A=!1),I.onError?.(O)}},{emitOnBegin:!0,interval:h});return async()=>{N&&await Ut(t,F4,"uninstallFilter")({filter:N}),T()}})})():(()=>{const x=g??!1,E=Oi(["watchContractEvent",r,i,a,t.uid,s,h,x]);let I=!0,C=()=>I=!1;return xd(E,{onLogs:u,onError:l},N=>((async()=>{try{const A=(()=>{if(t.transport.type==="fallback"){const H=t.transport.transports.find(U=>U.config.type==="webSocket"||U.config.type==="ipc");return H?H.value:t.transport}return t.transport})(),T=s?Fw({abi:n,eventName:s,args:i}):[],{unsubscribe:O}=await A.subscribe({params:["logs",{address:r,topics:T}],onData(H){if(!I)return;const U=H.result;try{const{eventName:L,args:G}=k$({abi:n,data:U.data,topics:U.topics,strict:g}),R=wd(U,{args:G,eventName:L});N.onLogs([R])}catch(L){let G,R;if(L instanceof vb||L instanceof E4){if(g)return;G=L.abiItem.name,R=L.abiItem.inputs?.some(_=>!("name"in _&&_.name))}const F=wd(U,{args:R?[]:{},eventName:G});N.onLogs([F])}},onError(H){N.onError?.(H)}});C=O,I||C()}catch(A){l?.(A)}})(),()=>C()))})()}class bh extends Ve{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class T0 extends Ve{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function oN(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const g_=new Dw(128);async function z4(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:a,blobs:s,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:m,type:b,value:w,...x}=e;if(typeof n>"u")throw new bh({docsPath:"/docs/actions/wallet/sendTransaction"});const E=n?Vr(n):null;try{yh(e);const I=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await C4({authorization:a[0]}).catch(()=>{throw new Ve("`to` is required. Could not infer from `authorizationList`.")})})();if(E?.type==="json-rpc"||E===null){let C;r!==null&&(C=await Ut(t,cp,"getChainId")({}),U$({currentChainId:C,chain:r}));const N=t.chain?.formatters?.transactionRequest?.format,T=(N||lp)({...Kw(x,{format:N}),accessList:i,account:E,authorizationList:a,blobs:s,chainId:C,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:m,to:I,type:b,value:w},"sendTransaction"),O=g_.get(t.uid),H=O?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:H,params:[T]},{retryCount:0})}catch(U){if(O===!1)throw U;const L=U;if(L.name==="InvalidInputRpcError"||L.name==="InvalidParamsRpcError"||L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[T]},{retryCount:0}).then(G=>(g_.set(t.uid,!0),G)).catch(G=>{const R=G;throw R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError"?(g_.set(t.uid,!1),L):R});throw L}}if(E?.type==="local"){const C=await Ut(t,Yw,"prepareTransactionRequest")({account:E,accessList:i,authorizationList:a,blobs:s,chain:r,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:m,nonceManager:E.nonceManager,parameters:[...iN,"sidecars"],type:b,value:w,...x,to:I}),N=r?.serializers?.transaction,A=await E.signTransaction(C,{serializer:N});return await Ut(t,oN,"sendRawTransaction")({serializedTransaction:A})}throw E?.type==="smart"?new T0({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new T0({docsPath:"/docs/actions/wallet/sendTransaction",type:E?.type})}catch(I){throw I instanceof T0?I:L$(I,{...e,account:E,chain:e.chain||void 0})}}async function nw(t,e){return nw.internal(t,z4,"sendTransaction",e)}(function(t){async function e(n,r,i,a){const{abi:s,account:o=n.account,address:l,args:u,dataSuffix:d,functionName:h,...g}=a;if(typeof o>"u")throw new bh({docsPath:"/docs/contract/writeContract"});const m=o?Vr(o):null,b=Ps({abi:s,args:u,functionName:h});try{return await Ut(n,r,i)({data:`${b}${d?d.replace("0x",""):""}`,to:l,account:m,...g})}catch(w){throw z0(w,{abi:s,address:l,args:u,docsPath:"/docs/contract/writeContract",functionName:h,sender:m?.address})}}t.internal=e})(nw||(nw={}));class j3e extends Ve{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const KJ="0x5792579257925792579257925792579257925792579257925792579257925792",YJ=Lt(0,{size:32});async function ZJ(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:a,experimental_fallbackDelay:s=32,forceAtomic:o=!1,id:l,version:u="2.0.0"}=e,d=n?Vr(n):null,h=e.calls.map(g=>{const m=g,b=m.abi?Ps({abi:m.abi,functionName:m.functionName,args:m.args}):m.data;return{data:m.dataSuffix&&b?ol([b,m.dataSuffix]):b,to:m.to,value:m.value?Lt(m.value):void 0}});try{const g=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:o,calls:h,capabilities:r,chainId:Lt(i.id),from:d?.address,id:l,version:u}]},{retryCount:0});return typeof g=="string"?{id:g}:g}catch(g){const m=g;if(a&&(m.name==="MethodNotFoundRpcError"||m.name==="MethodNotSupportedRpcError"||m.name==="UnknownRpcError"||m.details.toLowerCase().includes("does not exist / is not available")||m.details.toLowerCase().includes("missing or invalid. request()")||m.details.toLowerCase().includes("did not match any variant of untagged enum")||m.details.toLowerCase().includes("account upgraded to unsupported contract")||m.details.toLowerCase().includes("eip-7702 not supported")||m.details.toLowerCase().includes("unsupported wc_ method")||m.details.toLowerCase().includes("feature toggled misconfigured")||m.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(I=>!I.optional)){const I="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Bg(new Ve(I,{details:I}))}if(o&&h.length>1){const E="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Ug(new Ve(E,{details:E}))}const b=[];for(const E of h){const I=z4(t,{account:d,chain:i,data:E.data,to:E.to,value:E.value?fo(E.value):void 0});b.push(I),s>0&&await new Promise(C=>setTimeout(C,s))}const w=await Promise.allSettled(b);if(w.every(E=>E.status==="rejected"))throw w[0].reason;const x=w.map(E=>E.status==="fulfilled"?E.value:YJ);return{id:ol([...x,Lt(i.id,{size:32}),KJ])}}throw L$(g,{...e,account:d,chain:e.chain})}}async function JJ(t,e){async function n(d){if(d.endsWith(KJ.slice(2))){const g=cd(ZS(d,-64,-32)),m=ZS(d,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(m.map(x=>YJ.slice(2)!==x?t.request({method:"eth_getTransactionReceipt",params:[`0x${x}`]},{dedupe:!0}):void 0)),w=b.some(x=>x===null)?100:b.every(x=>x?.status==="0x1")?200:b.every(x=>x?.status==="0x0")?500:600;return{atomic:!1,chainId:Ql(g),receipts:b.filter(Boolean),status:w,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:i,receipts:a,version:s="2.0.0",...o}=await n(e.id),[l,u]=(()=>{const d=o.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...o,atomic:r,chainId:i?Ql(i):void 0,receipts:a?.map(d=>({...d,blockNumber:fo(d.blockNumber),gasUsed:fo(d.gasUsed),status:KZ[d.status]}))??[],statusCode:u,status:l,version:s}}async function XJ(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:w})=>w===200||w>=300,retryCount:a=4,retryDelay:s=({count:w})=>~~(1<<w)*200,timeout:o=6e4,throwOnFailure:l=!1}=e,u=Oi(["waitForCallsStatus",t.uid,n]),{promise:d,resolve:h,reject:g}=D$();let m;const b=xd(u,{resolve:h,reject:g},w=>{const x=wm(async()=>{const E=I=>{clearTimeout(m),x(),I(),b()};try{const I=await K5(async()=>{const C=await Ut(t,JJ,"getCallsStatus")({id:n});if(l&&C.status==="failure")throw new j3e(C);return C},{retryCount:a,delay:s});if(!i(I))return;E(()=>w.resolve(I))}catch(I){E(()=>w.reject(I))}},{interval:r,emitOnBegin:!0});return x});return m=o?setTimeout(()=>{b(),clearTimeout(m),g(new D3e({id:n}))},o):void 0,await d}class D3e extends Ve{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Tk=256;let ex=Tk,tx;function QJ(t=11){if(!tx||ex+t>Tk*2){tx="",ex=0;for(let e=0;e<Tk;e++)tx+=(256+Math.random()*256|0).toString(16).substring(1)}return tx.substring(ex,ex+++t)}function eX(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:a="Base Client",type:s="base"}=t,o=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),l=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(l/2),500),4e3),d=t.pollingInterval??u,h=t.cacheTime??d,g=t.account?Vr(t.account):void 0,{config:m,request:b,value:w}=t.transport({account:g,chain:n,pollingInterval:d}),x={...m,...w},E={account:g,batch:e,cacheTime:h,ccipRead:r,chain:n,key:i,name:a,pollingInterval:d,request:b,transport:x,type:s,uid:QJ(),...o?{experimental_blockTag:o}:{}};function I(C){return N=>{const A=N(C);for(const O in E)delete A[O];const T={...C,...A};return Object.assign(T,{extend:I(T)})}}return Object.assign(E,{extend:I(E)})}function lN(t){if(!(t instanceof Ve))return!1;const e=t.walk(n=>n instanceof fk);return e instanceof fk?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function tX(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Oa(e)?e:null}function $k(t){let e=new Uint8Array(32).fill(0);if(!t)return Ri(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=tX(n[r]),a=i?gm(i):ha(S0(n[r]),"bytes");e=ha(ol([e,a]),"bytes")}return Ri(e)}function B3e(t){return`[${t.slice(2)}]`}function U3e(t){const e=new Uint8Array(32).fill(0);return t?tX(t)||ha(S0(t)):Ri(e)}function cN(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(S0(e).byteLength+2);let r=0;const i=e.split(".");for(let a=0;a<i.length;a++){let s=S0(i[a]);s.byteLength>255&&(s=S0(B3e(U3e(i[a])))),n[r]=s.length,n.set(s,r+1),r+=s.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function L3e(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:a,gatewayUrls:s,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return bm({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),d=l?.ensTlds;if(d&&!d.some(g=>a.endsWith(g)))return null;const h=i!=null?[$k(a),BigInt(i)]:[$k(a)];try{const g=Ps({abi:PB,functionName:"addr",args:h}),m={address:u,abi:DZ,functionName:"resolveWithGateways",args:[ni(cN(a)),g,s??[P4]],blockNumber:n,blockTag:r},w=await Ut(t,ic,"readContract")(m);if(w[0]==="0x")return null;const x=sp({abi:PB,args:h,functionName:"addr",data:w[0]});return x==="0x"||cd(x)==="0x00"?null:x}catch(g){if(o)throw g;if(lN(g))return null;throw g}}class F3e extends Ve{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Gy extends Ve{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class uN extends Ve{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class z3e extends Ve{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const W3e=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,H3e=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,q3e=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,V3e=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function G3e(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function $U(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function nX({uri:t,gatewayUrls:e}){const n=q3e.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=$U(e?.ipfs,"https://ipfs.io"),i=$U(e?.arweave,"https://arweave.net"),a=t.match(W3e),{protocol:s,subpath:o,target:l,subtarget:u=""}=a?.groups||{},d=s==="ipns:/"||o==="ipns/",h=s==="ipfs:/"||o==="ipfs/"||H3e.test(t);if(t.startsWith("http")&&!d&&!h){let m=t;return e?.arweave&&(m=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((d||h)&&l)return{uri:`${r}/${d?"ipns":"ipfs"}/${l}${u}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&l)return{uri:`${i}/${l}${u||""}`,isOnChain:!1,isEncoded:!1};let g=t.replace(V3e,"");if(g.startsWith("<svg")&&(g=`data:image/svg+xml;base64,${btoa(g)}`),g.startsWith("data:")||g.startsWith("{"))return{uri:g,isOnChain:!0,isEncoded:!1};throw new uN({uri:t})}function rX(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new F3e({data:t});return t.image||t.image_url||t.image_data}async function K3e({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await dN({gatewayUrls:t,uri:rX(n)})}catch{throw new uN({uri:e})}}async function dN({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=nX({uri:e,gatewayUrls:t});if(r||await G3e(n))return n;throw new uN({uri:e})}function Y3e(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[a,s]=n.split(":"),[o,l]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new Gy({reason:"Only EIP-155 supported"});if(!s)throw new Gy({reason:"Chain ID not found"});if(!l)throw new Gy({reason:"Contract address not found"});if(!i)throw new Gy({reason:"Token ID not found"});if(!o)throw new Gy({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s,10),namespace:o.toLowerCase(),contractAddress:l,tokenID:i}}async function Z3e(t,{nft:e}){if(e.namespace==="erc721")return ic(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ic(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new z3e({namespace:e.namespace})}async function J3e(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?X3e(t,{gatewayUrls:e,record:n}):dN({uri:n,gatewayUrls:e})}async function X3e(t,{gatewayUrls:e,record:n}){const r=Y3e(n),i=await Z3e(t,{nft:r}),{uri:a,isOnChain:s,isEncoded:o}=nX({uri:i,gatewayUrls:e});if(s&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=o?atob(a.replace("data:application/json;base64,","")):a,d=JSON.parse(u);return dN({uri:rX(d),gatewayUrls:e})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),K3e({gatewayUrls:e,uri:a.replace(/(?:0x)?{id}/,l)})}async function iX(t,e){const{blockNumber:n,blockTag:r,key:i,name:a,gatewayUrls:s,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return bm({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),d=l?.ensTlds;if(d&&!d.some(h=>a.endsWith(h)))return null;try{const h={address:u,abi:DZ,args:[ni(cN(a)),Ps({abi:NB,functionName:"text",args:[$k(a),i]}),s??[P4]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},m=await Ut(t,ic,"readContract")(h);if(m[0]==="0x")return null;const b=sp({abi:NB,functionName:"text",data:m[0]});return b===""?null:b}catch(h){if(o)throw h;if(lN(h))return null;throw h}}async function Q3e(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:a,strict:s,universalResolverAddress:o}){const l=await Ut(t,iX,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:o,gatewayUrls:a,strict:s});if(!l)return null;try{return await J3e(t,{record:l,gatewayUrls:r})}catch{return null}}async function exe(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:a=60n,gatewayUrls:s,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return bm({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:Yge,args:[n,a,s??[P4]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},h=Ut(t,ic,"readContract"),[g]=await h(d);return g||null}catch(d){if(o)throw d;if(lN(d))return null;throw d}}async function txe(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:a}=t,s=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return bm({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),o=a?.ensTlds;if(o&&!o.some(u=>i.endsWith(u)))throw new Error(`${i} is not a valid ENS TLD (${o?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[l]=await Ut(t,ic,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ni(cN(i))],blockNumber:n,blockTag:r});return l}async function aX(t,e){const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:a,data:s,gas:o,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:g,value:m,...b}=e,w=n?Vr(n):void 0;try{yh(e);const E=(typeof r=="bigint"?Lt(r):void 0)||i,I=t.chain?.formatters?.transactionRequest?.format,N=(I||lp)({...Kw(b,{format:I}),account:w,blobs:a,data:s,gas:o,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:g,value:m},"createAccessList"),A=await t.request({method:"eth_createAccessList",params:[N,E]});return{accessList:A.accessList,gasUsed:BigInt(A.gasUsed)}}catch(x){throw zZ(x,{...e,account:w,chain:t.chain})}}async function nxe(t){const e=U4(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function sX(t,{address:e,args:n,event:r,events:i,fromBlock:a,strict:s,toBlock:o}={}){const l=i??(r?[r]:void 0),u=U4(t,{method:"eth_newFilter"});let d=[];l&&(d=[l.flatMap(m=>Fw({abi:[m],eventName:m.name,args:n}))],r&&(d=d[0]));const h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?Lt(a):a,toBlock:typeof o=="bigint"?Lt(o):o,...d.length?{topics:d}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:a,id:h,request:u(h),strict:!!s,toBlock:o,type:"event"}}async function oX(t){const e=U4(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function rxe(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?Lt(n):void 0,a=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(a)}async function ixe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function axe(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?Lt(n):void 0;let a;return e?a=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):a=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),Ql(a)}async function Nk(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?Lt(n):void 0,a=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(a!=="0x")return a}class sxe extends Ve{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function oxe(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[a,s,o,l,u,d,h]=await Ut(t,ic,"readContract")({abi:lxe,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:s,version:o,chainId:Number(l),verifyingContract:u,salt:d},extensions:h,fields:a}}catch(a){const s=a;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new sxe({address:n}):s}}const lxe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function cxe(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function uxe(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const a=typeof n=="bigint"?Lt(n):void 0,s=await t.request({method:"eth_feeHistory",params:[Lt(e),a||r,i]},{dedupe:!!a});return cxe(s)}async function dxe(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(a=>wd(a));return e.abi?I$({abi:e.abi,logs:i,strict:n}):i}function fxe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function hxe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Ql(t.nonce):void 0,storageProof:t.storageProof?fxe(t.storageProof):void 0}}async function pxe(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const a=r??"latest",s=n!==void 0?Lt(n):void 0,o=await t.request({method:"eth_getProof",params:[e,i,s||a]});return hxe(o)}async function gxe(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const a=n!==void 0?Lt(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,a||r]})}async function fN(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:a,sender:s,nonce:o}){const l=r||"latest",u=n!==void 0?Lt(n):void 0;let d=null;if(i?d=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?d=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Lt(a)]},{dedupe:!0}):typeof a=="number"?d=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||l,Lt(a)]},{dedupe:!!u}):s&&typeof o=="number"&&(d=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[s,Lt(o)]},{dedupe:!0})),!d)throw new dZ({blockHash:e,blockNumber:n,blockTag:l,hash:i,index:a});return(t.chain?.formatters?.transaction?.format||VZ)(d,"getTransaction")}async function mxe(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([Ut(t,Zw,"getBlockNumber")({}),e?Ut(t,fN,"getTransaction")({hash:e}):void 0]),a=n?.blockNumber||i?.blockNumber;return a?r-a+1n:0n}async function s5(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new fZ({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||YZ)(n,"getTransactionReceipt")}async function yxe(t,e){const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:a,blockOverrides:s,blockTag:o,stateOverride:l}=e,u=e.contracts,{batchSize:d=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},g=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return bm({blockNumber:a,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),m=[[]];let b=0,w=0;for(let I=0;I<u.length;I++){const{abi:C,address:N,args:A,functionName:T}=u[I];try{const O=Ps({abi:C,args:A,functionName:T});w+=(O.length-2)/2,d>0&&w>d&&m[b].length>0&&(b++,w=(O.length-2)/2,m[b]=[]),m[b]=[...m[b],{allowFailure:!0,callData:O,target:N}]}catch(O){const H=z0(O,{abi:C,address:N,args:A,docsPath:"/docs/contract/multicall",functionName:T,sender:n});if(!i)throw H;m[b]=[...m[b],{allowFailure:!0,callData:"0x",target:N}]}}const x=await Promise.allSettled(m.map(I=>Ut(t,ic,"readContract")({...g===null?{code:j$}:{address:g},abi:J5,account:n,args:[I],authorizationList:r,blockNumber:a,blockOverrides:s,blockTag:o,functionName:"aggregate3",stateOverride:l}))),E=[];for(let I=0;I<x.length;I++){const C=x[I];if(C.status==="rejected"){if(!i)throw C.reason;for(let A=0;A<m[I].length;A++)E.push({status:"failure",error:C.reason,result:void 0});continue}const N=C.value;for(let A=0;A<N.length;A++){const{returnData:T,success:O}=N[A],{callData:H}=m[I][A],{abi:U,address:L,functionName:G,args:R}=u[E.length];try{if(H==="0x")throw new Uw;if(!O)throw new T4({data:T});const F=sp({abi:U,args:R,data:T,functionName:G});E.push(i?{result:F,status:"success"}:F)}catch(F){const _=z0(F,{abi:U,address:L,args:R,docsPath:"/docs/contract/multicall",functionName:G});if(!i)throw _;E.push({error:_,result:void 0,status:"failure"})}}}if(E.length!==u.length)throw new Ve("multicall results mismatch");return E}async function Pk(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:a,traceTransfers:s,validation:o}=e;try{const l=[];for(const g of i){const m=g.blockOverrides?MZ(g.blockOverrides):void 0,b=g.calls.map(x=>{const E=x,I=E.account?Vr(E.account):void 0,C=E.abi?Ps(E):E.data,N={...E,account:I,data:E.dataSuffix?ol([C||"0x",E.dataSuffix]):C,from:E.from??I?.address};return yh(N),lp(N)}),w=g.stateOverrides?B$(g.stateOverrides):void 0;l.push({blockOverrides:m,calls:b,stateOverrides:w})}const d=(typeof n=="bigint"?Lt(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:a,traceTransfers:s,validation:o},d]})).map((g,m)=>({...GZ(g),calls:g.calls.map((b,w)=>{const{abi:x,args:E,functionName:I,to:C}=i[m].calls[w],N=b.error?.data??b.returnData,A=BigInt(b.gasUsed),T=b.logs?.map(L=>wd(L)),O=b.status==="0x1"?"success":"failure",H=x&&O==="success"&&N!=="0x"?sp({abi:x,data:N,functionName:I}):null,U=(()=>{if(O==="success")return;let L;if(b.error?.data==="0x"?L=new Uw:b.error&&(L=new T4(b.error)),!!L)return z0(L,{abi:x??[],address:C??"0x",args:E,functionName:I??"<unknown>"})})();return{data:N,gasUsed:A,logs:T,status:O,...O==="success"?{result:H}:{error:U}}})}))}catch(l){const u=l,d=$4(u,{});throw d instanceof Hw?u:d}}function Ok(t){let e=!0,n="",r=0,i="",a=!1;for(let s=0;s<t.length;s++){const o=t[s];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function","error",""].includes(i))i="";else if(i+=o,o===")"){a=!0;break}continue}if(o===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=o,n+=o}}if(!a)throw new On("Unable to normalize signature.");return i}function Rk(t,e){const n=typeof t,r=e.type;switch(r){case"address":return hk(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,a)=>Rk(Object.values(t)[a],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>Rk(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function lX(t,e,n){for(const r in t){const i=t[r],a=e[r];if(i.type==="tuple"&&a.type==="tuple"&&"components"in i&&"components"in a)return lX(i.components,a.components,n[r]);const s=[i.type,a.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?hk(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?hk(n[r],{strict:!1}):!1)return s}}function cX(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?rB(t):t;return{...r,...n?{hash:Q1(r)}:{}}}function W4(t,e,n){const{args:r=[],prepare:i=!0}=n??{},a=qge(e,{strict:!1}),s=t.filter(u=>a?u.type==="function"||u.type==="error"?uX(u)===eu(e,0,4):u.type==="event"?Q1(u)===e:!1:"name"in u&&u.name===e);if(s.length===0)throw new e6({name:e});if(s.length===1)return{...s[0],...i?{hash:Q1(s[0])}:{}};let o;for(const u of s){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...i?{hash:Q1(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((h,g)=>{const m="inputs"in u&&u.inputs[g];return m?Rk(h,m):!1})){if(o&&"inputs"in o&&o.inputs){const h=lX(u.inputs,o.inputs,r);if(h)throw new wxe({abiItem:u,type:h[0]},{abiItem:o,type:h[1]})}o=u}}const l=(()=>{if(o)return o;const[u,...d]=s;return{...u,overloads:d}})();if(!l)throw new e6({name:e});return{...l,...i?{hash:Q1(l)}:{}}}function uX(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return W4(n,r)}return t[0]})();return eu(Q1(e),0,4)}function bxe(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return W4(r,i)}return t[0]})(),n=typeof e=="string"?e:q5(e);return Ok(n)}function Q1(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return W4(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:rJ(M$(bxe(e)))}class wxe extends On{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${Ok(q5(e.abiItem))}\`, and`,`\`${n.type}\` in \`${Ok(q5(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class e6 extends On{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function vxe(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[a,s]=t;return[Exe(a),s]}return t})(),{bytecode:r,args:i}=n;return nc(r,e.inputs?.length&&i?.length?q$(e.inputs,i):"0x")}function xxe(t){return cX(t)}function Exe(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new e6({name:"constructor"});return e}function _xe(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[u,d,h]=t;return[NU(u,d,{args:h}),h]}const[o,l]=t;return[o,l]})(),{overloads:r}=e,i=r?NU([e,...r],e.name,{args:n}):e,a=Axe(i),s=n.length>0?q$(i.inputs,n):void 0;return s?nc(a,s):a}function f1(t,e={}){return cX(t,e)}function NU(t,e,n){const r=W4(t,e,n);if(r.type!=="function")throw new e6({name:e,type:"function"});return r}function Axe(t){return uX(t)}const Cxe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",_c="0x0000000000000000000000000000000000000000",Sxe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function kxe(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:a,traceAssetChanges:s,traceTransfers:o,validation:l}=e,u=e.account?Vr(e.account):void 0;if(s&&!u)throw new Ve("`account` is required when `traceAssetChanges` is true");const d=u?vxe(xxe("constructor(bytes, bytes)"),{bytecode:UZ,args:[Sxe,_xe(f1("function getBalance(address)"),[u.address])]}):void 0,h=s?await Promise.all(e.calls.map(async z=>{if(!z.data&&!z.abi)return;const{accessList:Y}=await aX(t,{account:u.address,...z,data:z.abi?Ps(z):z.data});return Y.map(({address:J,storageKeys:V})=>V.length>0?J:null)})).then(z=>z.flat().filter(Boolean)):[],g=await Pk(t,{blockNumber:n,blockTag:r,blocks:[...s?[{calls:[{data:d}],stateOverrides:a},{calls:h.map((z,Y)=>({abi:[f1("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:z,from:_c,nonce:Y})),stateOverrides:[{address:_c,nonce:0}]}]:[],{calls:[...i,{}].map(z=>({...z,from:u?.address})),stateOverrides:a},...s?[{calls:[{data:d}]},{calls:h.map((z,Y)=>({abi:[f1("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:z,from:_c,nonce:Y})),stateOverrides:[{address:_c,nonce:0}]},{calls:h.map((z,Y)=>({to:z,abi:[f1("function decimals() returns (uint256)")],functionName:"decimals",from:_c,nonce:Y})),stateOverrides:[{address:_c,nonce:0}]},{calls:h.map((z,Y)=>({to:z,abi:[f1("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:_c,nonce:Y})),stateOverrides:[{address:_c,nonce:0}]},{calls:h.map((z,Y)=>({to:z,abi:[f1("function symbol() returns (string)")],functionName:"symbol",from:_c,nonce:Y})),stateOverrides:[{address:_c,nonce:0}]}]:[]],traceTransfers:o,validation:l}),m=s?g[2]:g[0],[b,w,,x,E,I,C,N]=s?g:[],{calls:A,...T}=m,O=A.slice(0,-1)??[],H=b?.calls??[],U=w?.calls??[],L=[...H,...U].map(z=>z.status==="success"?fo(z.data):null),G=x?.calls??[],R=E?.calls??[],F=[...G,...R].map(z=>z.status==="success"?fo(z.data):null),_=(I?.calls??[]).map(z=>z.status==="success"?z.result:null),S=(N?.calls??[]).map(z=>z.status==="success"?z.result:null),$=(C?.calls??[]).map(z=>z.status==="success"?z.result:null),D=[];for(const[z,Y]of F.entries()){const J=L[z];if(typeof Y!="bigint"||typeof J!="bigint")continue;const V=_[z-1],M=S[z-1],Q=$[z-1],ne=z===0?{address:Cxe,decimals:18,symbol:"ETH"}:{address:h[z-1],decimals:Q||V?Number(V??1):void 0,symbol:M??void 0};D.some(K=>K.token.address===ne.address)||D.push({token:ne,value:{pre:J,post:Y,diff:Y-J}})}return{assetChanges:D,block:T,results:O}}const dX="0x6492649264926492649264926492649264926492649264926492649264926492";function Ixe(t){if(eu(t,-32)!==dX)throw new Nxe(t)}function Txe(t){const{data:e,signature:n,to:r}=t;return nc(q$(sJ("address, bytes, bytes"),[r,e,n]),dX)}function $xe(t){try{return Ixe(t),!0}catch{return!1}}class Nxe extends On{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Pxe({r:t,s:e,to:n="hex",v:r,yParity:i}){const a=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new _J.Signature(fo(t),fo(e)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?s:ec(s)}async function H4(t,e){const{address:n,hash:r,erc6492VerifierAddress:i=e.universalSignatureVerifierAddress??t.chain?.contracts?.erc6492Verifier?.address,multicallAddress:a=e.multicallAddress??t.chain?.contracts?.multicall3?.address}=e,s=(()=>{const o=e.signature;return Oa(o)?o:typeof o=="object"&&"r"in o&&"s"in o?Pxe(o):Ri(o)})();try{return Vye(s)?await Oxe(t,{...e,multicallAddress:a,signature:s}):await Rxe(t,{...e,verifierAddress:i,signature:s})}catch(o){try{if(zw(Qr(n),await cZ({hash:r,signature:s})))return!0}catch{}if(o instanceof W0)return!1;throw o}}async function Oxe(t,e){const{address:n,blockNumber:r,blockTag:i,hash:a,multicallAddress:s}=e,{authorization:o,data:l,signature:u,to:d}=qye(e.signature);if(await Nk(t,{address:n,blockNumber:r,blockTag:i})===mm(["0xef0100",o.address]))return await Mxe(t,{address:n,blockNumber:r,blockTag:i,hash:a,signature:u});const g={address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:Lt(o.r,{size:32}),s:Lt(o.s,{size:32}),yParity:o.yParity};if(!await uge({address:n,authorization:g}))throw new W0;const b=await Ut(t,ic,"readContract")({...s?{address:s}:{code:j$},authorizationList:[g],abi:J5,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:d??n,callData:l}]:[],{allowFailure:!0,target:n,callData:Ps({abi:BZ,functionName:"isValidSignature",args:[a,u]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new W0}async function Rxe(t,e){const{address:n,factory:r,factoryData:i,hash:a,signature:s,verifierAddress:o,...l}=e,u=await(async()=>!r&&!i||$xe(s)?s:Txe({data:i,signature:s,to:r}))(),d=o?{to:o,data:Ps({abi:OB,functionName:"isValidSig",args:[n,a,u]}),...l}:{data:A4({abi:OB,args:[n,a,u],bytecode:Xge}),...l},{data:h}=await Ut(t,N4,"call")(d).catch(g=>{throw g instanceof LZ?new W0:g});if(cpe(h??"0x0"))return!0;throw new W0}async function Mxe(t,e){const{address:n,blockNumber:r,blockTag:i,hash:a,signature:s}=e;if((await Ut(t,ic,"readContract")({address:n,abi:BZ,args:[a,s],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(l=>{throw l instanceof FZ?new W0:l})).startsWith("0x1626ba7e"))return!0;throw new W0}class W0 extends Error{}async function jxe(t,{address:e,message:n,factory:r,factoryData:i,signature:a,...s}){const o=ZZ(n);return H4(t,{address:e,factory:r,factoryData:i,hash:o,signature:a,...s})}async function Dxe(t,e){const{address:n,factory:r,factoryData:i,signature:a,message:s,primaryType:o,types:l,domain:u,...d}=e,h=kme({message:s,primaryType:o,types:l,domain:u});return H4(t,{address:n,factory:r,factoryData:i,hash:h,signature:a,...d})}function fX(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:a,pollingInterval:s=t.pollingInterval}){const o=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return o?(()=>{const h=Oi(["watchBlockNumber",t.uid,e,n,s]);return xd(h,{onBlockNumber:r,onError:i},g=>wm(async()=>{try{const m=await Ut(t,Zw,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(m===l)return;if(m-l>1&&n)for(let b=l+1n;b<m;b++)g.onBlockNumber(b,l),l=b}(l===void 0||m>l)&&(g.onBlockNumber(m,l),l=m)}catch(m){g.onError?.(m)}},{emitOnBegin:e,interval:s}))})():(()=>{const h=Oi(["watchBlockNumber",t.uid,e,n]);return xd(h,{onBlockNumber:r,onError:i},g=>{let m=!0,b=()=>m=!1;return(async()=>{try{const w=(()=>{if(t.transport.type==="fallback"){const E=t.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return E?E.value:t.transport}return t.transport})(),{unsubscribe:x}=await w.subscribe({params:["newHeads"],onData(E){if(!m)return;const I=fo(E.result?.number);g.onBlockNumber(I,l),l=I},onError(E){g.onError?.(E)}});b=x,m||b()}catch(w){i?.(w)}})(),()=>b()})})()}async function hX(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:a,retryCount:s=6,retryDelay:o=({count:A})=>~~(1<<A)*200,timeout:l=18e4}=e,u=Oi(["waitForTransactionReceipt",t.uid,i]),d=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let h,g,m,b=!1,w,x;const{promise:E,resolve:I,reject:C}=D$(),N=l?setTimeout(()=>{x?.(),w?.(),C(new q1e({hash:i}))},l):void 0;return w=xd(u,{onReplaced:a,resolve:I,reject:C},async A=>{if(m=await Ut(t,s5,"getTransactionReceipt")({hash:i}).catch(()=>{}),m&&r<=1){clearTimeout(N),A.resolve(m),w?.();return}x=Ut(t,fX,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(T){const O=U=>{clearTimeout(N),x?.(),U(),w?.()};let H=T;if(!b)try{if(m){if(r>1&&(!m.blockNumber||H-m.blockNumber+1n<r))return;O(()=>A.resolve(m));return}if(n&&!h&&(b=!0,await K5(async()=>{h=await Ut(t,fN,"getTransaction")({hash:i}),h.blockNumber&&(H=h.blockNumber)},{delay:o,retryCount:s}),b=!1),m=await Ut(t,s5,"getTransactionReceipt")({hash:i}),r>1&&(!m.blockNumber||H-m.blockNumber+1n<r))return;O(()=>A.resolve(m))}catch(U){if(U instanceof dZ||U instanceof fZ){if(!h){b=!1;return}try{g=h,b=!0;const L=await K5(()=>Ut(t,Jc,"getBlock")({blockNumber:H,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:F})=>F instanceof qJ});b=!1;const G=L.transactions.find(({from:F,nonce:_})=>F===g.from&&_===g.nonce);if(!G||(m=await Ut(t,s5,"getTransactionReceipt")({hash:G.hash}),r>1&&(!m.blockNumber||H-m.blockNumber+1n<r)))return;let R="replaced";G.to===g.to&&G.value===g.value&&G.input===g.input?R="repriced":G.from===G.to&&G.value===0n&&(R="cancelled"),O(()=>{A.onReplaced?.({reason:R,replacedTransaction:g,transaction:G,transactionReceipt:m}),A.resolve(m)})}catch(L){O(()=>A.reject(L))}}else O(()=>A.reject(U))}}})}),E}function Bxe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:a,includeTransactions:s,poll:o,pollingInterval:l=t.pollingInterval}){const u=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),d=s??!1;let h;return u?(()=>{const b=Oi(["watchBlocks",t.uid,e,n,r,d,l]);return xd(b,{onBlock:i,onError:a},w=>wm(async()=>{try{const x=await Ut(t,Jc,"getBlock")({blockTag:e,includeTransactions:d});if(x.number!==null&&h?.number!=null){if(x.number===h.number)return;if(x.number-h.number>1&&n)for(let E=h?.number+1n;E<x.number;E++){const I=await Ut(t,Jc,"getBlock")({blockNumber:E,includeTransactions:d});w.onBlock(I,h),h=I}}(h?.number==null||e==="pending"&&x?.number==null||x.number!==null&&x.number>h.number)&&(w.onBlock(x,h),h=x)}catch(x){w.onError?.(x)}},{emitOnBegin:r,interval:l}))})():(()=>{let b=!0,w=!0,x=()=>b=!1;return(async()=>{try{r&&Ut(t,Jc,"getBlock")({blockTag:e,includeTransactions:d}).then(C=>{b&&w&&(i(C,void 0),w=!1)}).catch(a);const E=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),{unsubscribe:I}=await E.subscribe({params:["newHeads"],async onData(C){if(!b)return;const N=await Ut(t,Jc,"getBlock")({blockNumber:C.result?.number,includeTransactions:d}).catch(()=>{});b&&(i(N,h),w=!1,h=N)},onError(C){a?.(C)}});x=I,b||x()}catch(E){a?.(E)}})(),()=>x()})()}function Uxe(t,{address:e,args:n,batch:r=!0,event:i,events:a,fromBlock:s,onError:o,onLogs:l,poll:u,pollingInterval:d=t.pollingInterval,strict:h}){const g=typeof u<"u"?u:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),m=h??!1;return g?(()=>{const x=Oi(["watchEvent",e,n,r,t.uid,i,d,s]);return xd(x,{onLogs:l,onError:o},E=>{let I;s!==void 0&&(I=s-1n);let C,N=!1;const A=wm(async()=>{if(!N){try{C=await Ut(t,sX,"createEventFilter")({address:e,args:n,event:i,events:a,strict:m,fromBlock:s})}catch{}N=!0;return}try{let T;if(C)T=await Ut(t,L4,"getFilterChanges")({filter:C});else{const O=await Ut(t,Zw,"getBlockNumber")({});I&&I!==O?T=await Ut(t,sN,"getLogs")({address:e,args:n,event:i,events:a,fromBlock:I+1n,toBlock:O}):T=[],I=O}if(T.length===0)return;if(r)E.onLogs(T);else for(const O of T)E.onLogs([O])}catch(T){C&&T instanceof sh&&(N=!1),E.onError?.(T)}},{emitOnBegin:!0,interval:d});return async()=>{C&&await Ut(t,F4,"uninstallFilter")({filter:C}),A()}})})():(()=>{let x=!0,E=()=>x=!1;return(async()=>{try{const I=(()=>{if(t.transport.type==="fallback"){const T=t.transport.transports.find(O=>O.config.type==="webSocket"||O.config.type==="ipc");return T?T.value:t.transport}return t.transport})(),C=a??(i?[i]:void 0);let N=[];C&&(N=[C.flatMap(O=>Fw({abi:[O],eventName:O.name,args:n}))],i&&(N=N[0]));const{unsubscribe:A}=await I.subscribe({params:["logs",{address:e,topics:N}],onData(T){if(!x)return;const O=T.result;try{const{eventName:H,args:U}=k$({abi:C??[],data:O.data,topics:O.topics,strict:m}),L=wd(O,{args:U,eventName:H});l([L])}catch(H){let U,L;if(H instanceof vb||H instanceof E4){if(h)return;U=H.abiItem.name,L=H.abiItem.inputs?.some(R=>!("name"in R&&R.name))}const G=wd(O,{args:L?[]:{},eventName:U});l([G])}},onError(T){o?.(T)}});E=A,x||E()}catch(I){o?.(I)}})(),()=>E()})()}function Lxe(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:a=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const u=Oi(["watchPendingTransactions",t.uid,e,a]);return xd(u,{onTransactions:r,onError:n},d=>{let h;const g=wm(async()=>{try{if(!h)try{h=await Ut(t,oX,"createPendingTransactionFilter")({});return}catch(b){throw g(),b}const m=await Ut(t,L4,"getFilterChanges")({filter:h});if(m.length===0)return;if(e)d.onTransactions(m);else for(const b of m)d.onTransactions([b])}catch(m){d.onError?.(m)}},{emitOnBegin:!0,interval:a});return async()=>{h&&await Ut(t,F4,"uninstallFilter")({filter:h}),g()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(g){if(!u)return;const m=g.result;r([m])},onError(g){n?.(g)}});d=h,u||d()}catch(h){n?.(h)}})(),()=>d()})()}function Fxe(t){const{scheme:e,statement:n,...r}=t.match(zxe)?.groups??{},{chainId:i,expirationTime:a,issuedAt:s,notBefore:o,requestId:l,...u}=t.match(Wxe)?.groups??{},d=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...i?{chainId:Number(i)}:{},...a?{expirationTime:new Date(a)}:{},...s?{issuedAt:new Date(s)}:{},...o?{notBefore:new Date(o)}:{},...l?{requestId:l}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const zxe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Wxe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Hxe(t){const{address:e,domain:n,message:r,nonce:i,scheme:a,time:s=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||a&&r.scheme!==a||r.expirationTime&&s>=r.expirationTime||r.notBefore&&s<r.notBefore)return!1;try{if(!r.address||!Is(r.address,{strict:!1})||e&&!zw(r.address,e))return!1}catch{return!1}return!0}async function qxe(t,e){const{address:n,domain:r,message:i,nonce:a,scheme:s,signature:o,time:l=new Date,...u}=e,d=Fxe(i);if(!d.address||!Hxe({address:n,domain:r,message:d,nonce:a,scheme:s,time:l}))return!1;const g=ZZ(i);return H4(t,{address:d.address,hash:g,signature:o,...u})}async function hN(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){const i=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,Lt(r)]:[e]},{retryCount:0}),s=(t.chain?.formatters?.transactionReceipt?.format||YZ)(i);if(s.status==="reverted"&&n)throw new hZ({receipt:s});return s}function pN(t){return{call:e=>N4(t,e),createAccessList:e=>aX(t,e),createBlockFilter:()=>nxe(t),createContractEventFilter:e=>HJ(t,e),createEventFilter:e=>sX(t,e),createPendingTransactionFilter:()=>oX(t),estimateContractGas:e=>k3e(t,e),estimateGas:e=>aN(t,e),getBalance:e=>rxe(t,e),getBlobBaseFee:()=>ixe(t),getBlock:e=>Jc(t,e),getBlockNumber:e=>Zw(t,e),getBlockTransactionCount:e=>axe(t,e),getBytecode:e=>Nk(t,e),getChainId:()=>cp(t),getCode:e=>Nk(t,e),getContractEvents:e=>GJ(t,e),getEip712Domain:e=>oxe(t,e),getEnsAddress:e=>L3e(t,e),getEnsAvatar:e=>Q3e(t,e),getEnsName:e=>exe(t,e),getEnsResolver:e=>txe(t,e),getEnsText:e=>iX(t,e),getFeeHistory:e=>uxe(t,e),estimateFeesPerGas:e=>S3e(t,e),getFilterChanges:e=>L4(t,e),getFilterLogs:e=>dxe(t,e),getGasPrice:()=>rN(t),getLogs:e=>sN(t,e),getProof:e=>pxe(t,e),estimateMaxPriorityFeePerGas:e=>C3e(t,e),getStorageAt:e=>gxe(t,e),getTransaction:e=>fN(t,e),getTransactionConfirmations:e=>mxe(t,e),getTransactionCount:e=>F$(t,e),getTransactionReceipt:e=>s5(t,e),multicall:e=>yxe(t,e),prepareTransactionRequest:e=>Yw(t,e),readContract:e=>ic(t,e),sendRawTransaction:e=>oN(t,e),sendRawTransactionSync:e=>hN(t,e),simulate:e=>Pk(t,e),simulateBlocks:e=>Pk(t,e),simulateCalls:e=>kxe(t,e),simulateContract:e=>I3e(t,e),verifyHash:e=>H4(t,e),verifyMessage:e=>jxe(t,e),verifySiweMessage:e=>qxe(t,e),verifyTypedData:e=>Dxe(t,e),uninstallFilter:e=>F4(t,e),waitForTransactionReceipt:e=>hX(t,e),watchBlocks:e=>Bxe(t,e),watchBlockNumber:e=>fX(t,e),watchContractEvent:e=>M3e(t,e),watchEvent:e=>Uxe(t,e),watchPendingTransactions:e=>Lxe(t,e)}}function Ed(t){const{key:e="public",name:n="Public Client"}=t;return eX({...t,key:e,name:n,type:"publicClient"}).extend(pN)}async function Vxe(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:a,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Lt(n),chainName:r,nativeCurrency:i,rpcUrls:a.default.http,blockExplorerUrls:s?Object.values(s).map(({url:o})=>o):void 0}]},{dedupe:!0,retryCount:0})}function Gxe(t,e){const{abi:n,args:r,bytecode:i,...a}=e,s=A4({abi:n,args:r,bytecode:i});return z4(t,{...a,...a.authorizationList?{to:null}:{},data:s})}async function Kxe(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>Bw(n))}async function Yxe(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Vr(n):void 0,a=r?[i?.address,[Lt(r)]]:[i?.address],s=await t.request({method:"wallet_getCapabilities",params:a}),o={};for(const[l,u]of Object.entries(s)){o[Number(l)]={};for(let[d,h]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),o[Number(l)][d]=h}return typeof r=="number"?o[r]:o}async function Zxe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function pX(t,e){const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new bh({docsPath:"/docs/eip7702/prepareAuthorization"});const a=Vr(n),s=(()=>{if(e.executor)return e.executor==="self"?e.executor:Vr(e.executor)})(),o={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof o.chainId>"u"&&(o.chainId=t.chain?.id??await Ut(t,cp,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await Ut(t,F$,"getTransactionCount")({address:a.address,blockTag:"pending"}),(s==="self"||s?.address&&zw(s.address,a.address))&&(o.nonce+=1)),o}async function Jxe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Qr(n))}async function Xxe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function Qxe(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max((n?.blockTime??0)*3,5e3),i=await ZJ(t,e);return await XJ(t,{...e,id:i.id,timeout:r})}const m_=new Dw(128);async function gX(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:a,blobs:s,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:m,pollingInterval:b,throwOnReceiptRevert:w,type:x,value:E,...I}=e,C=e.timeout??Math.max((r?.blockTime??0)*3,5e3);if(typeof n>"u")throw new bh({docsPath:"/docs/actions/wallet/sendTransactionSync"});const N=n?Vr(n):null;try{yh(e);const A=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await C4({authorization:a[0]}).catch(()=>{throw new Ve("`to` is required. Could not infer from `authorizationList`.")})})();if(N?.type==="json-rpc"||N===null){let T;r!==null&&(T=await Ut(t,cp,"getChainId")({}),U$({currentChainId:T,chain:r}));const O=t.chain?.formatters?.transactionRequest?.format,U=(O||lp)({...Kw(I,{format:O}),accessList:i,account:N,authorizationList:a,blobs:s,chainId:T,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:m,to:A,type:x,value:E},"sendTransaction"),L=m_.get(t.uid),G=L?"wallet_sendTransaction":"eth_sendTransaction",R=await(async()=>{try{return await t.request({method:G,params:[U]},{retryCount:0})}catch(_){if(L===!1)throw _;const S=_;if(S.name==="InvalidInputRpcError"||S.name==="InvalidParamsRpcError"||S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[U]},{retryCount:0}).then($=>(m_.set(t.uid,!0),$)).catch($=>{const D=$;throw D.name==="MethodNotFoundRpcError"||D.name==="MethodNotSupportedRpcError"?(m_.set(t.uid,!1),S):D});throw S}})(),F=await Ut(t,hX,"waitForTransactionReceipt")({checkReplacement:!1,hash:R,pollingInterval:b,timeout:C});if(w&&F.status==="reverted")throw new hZ({receipt:F});return F}if(N?.type==="local"){const T=await Ut(t,Yw,"prepareTransactionRequest")({account:N,accessList:i,authorizationList:a,blobs:s,chain:r,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:m,nonceManager:N.nonceManager,parameters:[...iN,"sidecars"],type:x,value:E,...I,to:A}),O=r?.serializers?.transaction,H=await N.signTransaction(T,{serializer:O});return await Ut(t,hN,"sendRawTransactionSync")({serializedTransaction:H,throwOnReceiptRevert:w})}throw N?.type==="smart"?new T0({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new T0({docsPath:"/docs/actions/wallet/sendTransactionSync",type:N?.type})}catch(A){throw A instanceof T0?A:L$(A,{...e,account:N,chain:e.chain||void 0})}}async function e5e(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function t5e(t,e){const{account:n=t.account}=e;if(!n)throw new bh({docsPath:"/docs/eip7702/signAuthorization"});const r=Vr(n);if(!r.signAuthorization)throw new T0({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await pX(t,e);return r.signAuthorization(i)}async function n5e(t,{account:e=t.account,message:n}){if(!e)throw new bh({docsPath:"/docs/actions/wallet/signMessage"});const r=Vr(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?Pg(n):n.raw instanceof Uint8Array?ni(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function r5e(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new bh({docsPath:"/docs/actions/wallet/signTransaction"});const a=Vr(n);yh({account:a,...e});const s=await Ut(t,cp,"getChainId")({});r!==null&&U$({currentChainId:s,chain:r});const l=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||lp;return a.signTransaction?a.signTransaction({...i,chainId:s},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...l({...i,account:a},"signTransaction"),chainId:Lt(s),from:a.address}]},{retryCount:0})}async function i5e(t,e){const{account:n=t.account,domain:r,message:i,primaryType:a}=e;if(!n)throw new bh({docsPath:"/docs/actions/wallet/signTypedData"});const s=Vr(n),o={EIP712Domain:XZ({domain:r}),...e.types};if(JZ({domain:r,message:i,primaryType:a,types:o}),s.signTypedData)return s.signTypedData({domain:r,message:i,primaryType:a,types:o});const l=Cme({domain:r,message:i,primaryType:a,types:o});return t.request({method:"eth_signTypedData_v4",params:[s.address,l]},{retryCount:0})}async function a5e(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Lt(e)}]},{retryCount:0})}async function s5e(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function o5e(t,e){return nw.internal(t,gX,"sendTransactionSync",e)}function l5e(t){return{addChain:e=>Vxe(t,e),deployContract:e=>Gxe(t,e),getAddresses:()=>Kxe(t),getCallsStatus:e=>JJ(t,e),getCapabilities:e=>Yxe(t,e),getChainId:()=>cp(t),getPermissions:()=>Zxe(t),prepareAuthorization:e=>pX(t,e),prepareTransactionRequest:e=>Yw(t,e),requestAddresses:()=>Jxe(t),requestPermissions:e=>Xxe(t,e),sendCalls:e=>ZJ(t,e),sendCallsSync:e=>Qxe(t,e),sendRawTransaction:e=>oN(t,e),sendRawTransactionSync:e=>hN(t,e),sendTransaction:e=>z4(t,e),sendTransactionSync:e=>gX(t,e),showCallsStatus:e=>e5e(t,e),signAuthorization:e=>t5e(t,e),signMessage:e=>n5e(t,e),signTransaction:e=>r5e(t,e),signTypedData:e=>i5e(t,e),switchChain:e=>a5e(t,e),waitForCallsStatus:e=>XJ(t,e),watchAsset:e=>s5e(t,e),writeContract:e=>nw(t,e),writeContractSync:e=>o5e(t,e)}}function mX(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return eX({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(l5e)}function yX({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:a=150,timeout:s,type:o},l){const u=QJ();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:a,timeout:s,type:o},request:gge(r,{methods:e,retryCount:i,retryDelay:a,uid:u}),value:l}}function bX(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:a}=e;return({retryCount:s})=>yX({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:a,type:"custom"})}class c5e extends Ve{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function _d(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:a="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:u,retryDelay:d,raw:h}=e;return({chain:g,retryCount:m,timeout:b})=>{const{batchSize:w=1e3,wait:x=0}=typeof n=="object"?n:{},E=e.retryCount??m,I=b??e.timeout??1e4,C=t||g?.rpcUrls.default.http[0];if(!C)throw new c5e;const N=wme(C,{fetchFn:r,fetchOptions:i,onRequest:l,onResponse:u,timeout:I});return yX({key:a,methods:s,name:o,async request({method:A,params:T}){const O={method:A,params:T},{schedule:H}=WZ({id:C,wait:x,shouldSplitBatch(R){return R.length>w},fn:R=>N.request({body:R}),sort:(R,F)=>R.id-F.id}),U=async R=>n?H(R):[await N.request({body:R})],[{error:L,result:G}]=await U(O);if(h)return{error:L,result:G};if(L)throw new N$({body:O,error:L,url:C});return G},retryCount:E,retryDelay:d,timeout:I,type:"http"},{fetchOptions:i,url:C})}}let u5e=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(U2e,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const d5e=new TextEncoder,wX=new TextDecoder,f5e=t=>{let e=t;typeof e=="string"&&(e=d5e.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},h5e=t=>f5e(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),p5e=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},g5e=t=>{let e=t;e instanceof Uint8Array&&(e=wX.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return p5e(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class m5e extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class qh extends m5e{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function y5e(t){return typeof t=="object"&&t!==null}function b5e(t){if(!y5e(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const H0=h5e,w5e=g5e;function Mk(t){if(typeof t!="string")throw new qh("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new qh("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new qh("Invalid JWT");if(!e)throw new qh("JWTs must contain a payload");let r;try{r=w5e(e)}catch{throw new qh("Failed to base64url decode the payload")}let i;try{i=JSON.parse(wX.decode(r))}catch{throw new qh("Failed to parse the decoded payload as JSON")}if(!b5e(i))throw new qh("Invalid JWT Claims Set");return i}let I2=class vX{static parse(e){try{return new vX(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=Mk(e)}},xX=class jk{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=jk.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=jk.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new I2(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(e2e,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};xX.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let v5e=class{async revoke(){await this._privyInternal.fetch(J2e,{})}constructor(e){this._privyInternal=e}};function x5e(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const ml={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},q4={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},vm={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},gN={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},yl={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},V4={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},E5e={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},G4={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},_5e={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},A5e={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},C5e={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},S5e={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},k5e={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},EX={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},I5e={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},T5e={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},bl={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},hu={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},K4={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},Rs={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},Jw={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},$5e={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},mN={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},yN={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},_X={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},AX={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},Xw=[bl,mN,k5e,ml,q4,hu,K4,Rs,Jw,G4,_5e,A5e,C5e,yl,V4,E5e,T5e,EX,I5e,vm,gN,yN,AX,_X,$5e,S5e],CX=new Set(Xw.map((t=>t.id)));function bN(t){let e=t.filter((n=>!CX.has(n.id)));return Xw.concat(e)}const SX=t=>t.map((e=>{if(e.rpcUrls.privyWalletOverride)return e;let n=Xw.find((i=>i.id===e.id)),r=n?.rpcUrls.privy?.http[0];return r?x5e(e,r):e}));let y_=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},Wn=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},N5e=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const zf=t=>!!t.id&&t.recovery_method==="privy-v2";let P5e=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(zf(this._account))throw new Wn({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new Wn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Wn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:a}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=a}};const O5e=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var ls;(ls={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",ls.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",ls.INVALID_DATA="invalid_data",ls.LINKED_TO_ANOTHER_USER="linked_to_another_user",ls.ALLOWLIST_REJECTED="allowlist_rejected",ls.OAUTH_USER_DENIED="oauth_user_denied",ls.UNKNOWN_AUTH_ERROR="unknown_auth_error",ls.USER_EXITED_AUTH_FLOW="exited_auth_flow",ls.MUST_BE_AUTHENTICATED="must_be_authenticated",ls.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",ls.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",ls.CLIENT_REQUEST_TIMEOUT="client_request_timeout",ls.INVALID_CREDENTIALS="invalid_credentials";let R5e=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},o5=class extends Error{constructor(e,n){super(n),this.type=e}},kX=class extends R5e{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},PU=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const Hl={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function M5e(t){let e=t.type;return typeof e=="string"&&O5e.includes(e)}function wN(t){return M5e(t)&&t.type==="wallet_not_on_device"}async function Dk(t,{request:e}){return await t.fetchPrivyRoute(Z2e,{body:e})}async function b_({context:t,chainType:e}){return{wallet:await Dk(t,{request:{chain_type:e,owner_id:void 0}})}}const j5e="logger/5.8.0";let OU=!1,RU=!1;const l5={debug:1,default:2,info:2,warning:3,error:4,off:5};let MU=l5.default,w_=null;function D5e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const jU=D5e();var Bk;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Bk||(Bk={}));var Bl;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Bl||(Bl={}));const DU="0123456789abcdef";class Le{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();l5[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(MU>l5[r])&&console.log.apply(console,n)}debug(...e){this._log(Le.levels.DEBUG,e)}info(...e){this._log(Le.levels.INFO,e)}warn(...e){this._log(Le.levels.WARNING,e)}makeError(e,n,r){if(RU)return this.makeError("censored error",n,{});n||(n=Le.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const u=r[l];try{if(u instanceof Uint8Array){let d="";for(let h=0;h<u.length;h++)d+=DU[u[h]>>4],d+=DU[u[h]&15];i.push(l+"=Uint8Array(0x"+d+")")}else i.push(l+"="+JSON.stringify(u))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const a=e;let s="";switch(n){case Bl.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Bl.CALL_EXCEPTION:case Bl.INSUFFICIENT_FUNDS:case Bl.MISSING_NEW:case Bl.NONCE_EXPIRED:case Bl.REPLACEMENT_UNDERPRICED:case Bl.TRANSACTION_REPLACED:case Bl.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=a,o.code=n,Object.keys(r).forEach(function(l){o[l]=r[l]}),o}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,Le.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){jU&&this.throwError("platform missing String.prototype.normalize",Le.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:jU})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,Le.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,Le.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Le.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Le.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Le.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return w_||(w_=new Le(j5e)),w_}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),OU){if(!e)return;this.globalLogger().throwError("error censorship permanent",Le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}RU=!!e,OU=!!n}static setLogLevel(e){const n=l5[e.toLowerCase()];if(n==null){Le.globalLogger().warn("invalid log level - "+e);return}MU=n}static from(e){return new Le(e)}}Le.errors=Bl;Le.levels=Bk;const B5e="properties/5.8.0";var U5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const t6=new Le(B5e);function Cn(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function T2(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function la(t){return U5e(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(a=>({key:r,value:a}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function L5e(t,e){(!t||typeof t!="object")&&t6.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||t6.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function _s(t){const e={};for(const n in t)e[n]=t[n];return e}const F5e={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function IX(t){if(t==null||F5e[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!IX(r))return!1}return!0}return t6.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function z5e(t){if(IX(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>rw(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&Cn(e,n,rw(r))}return e}return t6.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function rw(t){return z5e(t)}class W5e{constructor(e){for(const n in e)this[n]=rw(e[n])}}const H5e="abstract-signer/5.8.0";var Il=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Wo=new Le(H5e),q5e=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],V5e=[Le.errors.INSUFFICIENT_FUNDS,Le.errors.NONCE_EXPIRED,Le.errors.REPLACEMENT_UNDERPRICED];class Y4{constructor(){Wo.checkAbstract(new.target,Y4),Cn(this,"_isSigner",!0)}getBalance(e){return Il(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Il(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Il(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield la(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return Il(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield la(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return Il(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return Il(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Il(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Il(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Il(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)q5e.indexOf(r)===-1&&Wo.throwArgumentError("invalid transaction key: "+r,"transaction",e);const n=_s(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&Wo.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return Il(this,void 0,void 0,function*(){const n=yield la(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(i=>Il(this,void 0,void 0,function*(){if(i==null)return null;const a=yield this.resolveName(i);return a==null&&Wo.throwArgumentError("provided ENS name resolves to null","tx.to",i),a})),n.to.catch(i=>{}));const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?Wo.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&Wo.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(n.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&Wo.throwError("network does not support EIP-1559",Le.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice),n.type=0):Wo.throwError("failed to get consistent fee data",Le.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(i=>{if(V5e.indexOf(i.code)>=0)throw i;return Wo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Le.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Wo.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield la(n)})}_checkProvider(e){this.provider||Wo.throwError("missing provider",Le.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}let G5e=class TX extends Y4{constructor(e,n){super(),Cn(this,"address",e),Cn(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{Wo.throwError(e,Le.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new TX(this.address,e)}};var c5={exports:{}},v_={},BU;function K5e(){return BU||(BU=1,(function(t){Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},n={};n.byteLength=d,n.toByteArray=g,n.fromByteArray=w;for(var r=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=s.length;o<l;++o)r[o]=s[o],i[s.charCodeAt(o)]=o;i[45]=62,i[95]=63;function u(I){var C=I.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var N=I.indexOf("=");N===-1&&(N=C);var A=N===C?0:4-N%4;return[N,A]}function d(I){var C=u(I),N=C[0],A=C[1];return(N+A)*3/4-A}function h(I,C,N){return(C+N)*3/4-N}function g(I){var C,N=u(I),A=N[0],T=N[1],O=new a(h(I,A,T)),H=0,U=T>0?A-4:A,L;for(L=0;L<U;L+=4)C=i[I.charCodeAt(L)]<<18|i[I.charCodeAt(L+1)]<<12|i[I.charCodeAt(L+2)]<<6|i[I.charCodeAt(L+3)],O[H++]=C>>16&255,O[H++]=C>>8&255,O[H++]=C&255;return T===2&&(C=i[I.charCodeAt(L)]<<2|i[I.charCodeAt(L+1)]>>4,O[H++]=C&255),T===1&&(C=i[I.charCodeAt(L)]<<10|i[I.charCodeAt(L+1)]<<4|i[I.charCodeAt(L+2)]>>2,O[H++]=C>>8&255,O[H++]=C&255),O}function m(I){return r[I>>18&63]+r[I>>12&63]+r[I>>6&63]+r[I&63]}function b(I,C,N){for(var A,T=[],O=C;O<N;O+=3)A=(I[O]<<16&16711680)+(I[O+1]<<8&65280)+(I[O+2]&255),T.push(m(A));return T.join("")}function w(I){for(var C,N=I.length,A=N%3,T=[],O=16383,H=0,U=N-A;H<U;H+=O)T.push(b(I,H,H+O>U?U:H+O));return A===1?(C=I[N-1],T.push(r[C>>2]+r[C<<4&63]+"==")):A===2&&(C=(I[N-2]<<8)+I[N-1],T.push(r[C>>10]+r[C>>4&63]+r[C<<2&63]+"=")),T.join("")}var x={};x.read=function(I,C,N,A,T){var O,H,U=T*8-A-1,L=(1<<U)-1,G=L>>1,R=-7,F=N?T-1:0,_=N?-1:1,S=I[C+F];for(F+=_,O=S&(1<<-R)-1,S>>=-R,R+=U;R>0;O=O*256+I[C+F],F+=_,R-=8);for(H=O&(1<<-R)-1,O>>=-R,R+=A;R>0;H=H*256+I[C+F],F+=_,R-=8);if(O===0)O=1-G;else{if(O===L)return H?NaN:(S?-1:1)*(1/0);H=H+Math.pow(2,A),O=O-G}return(S?-1:1)*H*Math.pow(2,O-A)},x.write=function(I,C,N,A,T,O){var H,U,L,G=O*8-T-1,R=(1<<G)-1,F=R>>1,_=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=A?0:O-1,$=A?1:-1,D=C<0||C===0&&1/C<0?1:0;for(C=Math.abs(C),isNaN(C)||C===1/0?(U=isNaN(C)?1:0,H=R):(H=Math.floor(Math.log(C)/Math.LN2),C*(L=Math.pow(2,-H))<1&&(H--,L*=2),H+F>=1?C+=_/L:C+=_*Math.pow(2,1-F),C*L>=2&&(H++,L/=2),H+F>=R?(U=0,H=R):H+F>=1?(U=(C*L-1)*Math.pow(2,T),H=H+F):(U=C*Math.pow(2,F-1)*Math.pow(2,T),H=0));T>=8;I[N+S]=U&255,S+=$,U/=256,T-=8);for(H=H<<T|U,G+=T;G>0;I[N+S]=H&255,S+=$,H/=256,G-=8);I[N+S-$]|=D*128};(function(I){const C=n,N=x,A=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;I.Buffer=R,I.SlowBuffer=Q,I.INSPECT_MAX_BYTES=50;const T=2147483647;I.kMaxLength=T;const{Uint8Array:O,ArrayBuffer:H,SharedArrayBuffer:U}=globalThis;R.TYPED_ARRAY_SUPPORT=L(),!R.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function L(){try{const W=new O(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,O.prototype),Object.setPrototypeOf(W,j),W.foo()===42}catch{return!1}}Object.defineProperty(R.prototype,"parent",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.buffer}}),Object.defineProperty(R.prototype,"offset",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.byteOffset}});function G(W){if(W>T)throw new RangeError('The value "'+W+'" is invalid for option "size"');const j=new O(W);return Object.setPrototypeOf(j,R.prototype),j}function R(W,j,q){if(typeof W=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return $(W)}return F(W,j,q)}R.poolSize=8192;function F(W,j,q){if(typeof W=="string")return D(W,j);if(H.isView(W))return Y(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Xt(W,H)||W&&Xt(W.buffer,H)||typeof U<"u"&&(Xt(W,U)||W&&Xt(W.buffer,U)))return J(W,j,q);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=W.valueOf&&W.valueOf();if(ee!=null&&ee!==W)return R.from(ee,j,q);const ie=V(W);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return R.from(W[Symbol.toPrimitive]("string"),j,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}R.from=function(W,j,q){return F(W,j,q)},Object.setPrototypeOf(R.prototype,O.prototype),Object.setPrototypeOf(R,O);function _(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function S(W,j,q){return _(W),W<=0?G(W):j!==void 0?typeof q=="string"?G(W).fill(j,q):G(W).fill(j):G(W)}R.alloc=function(W,j,q){return S(W,j,q)};function $(W){return _(W),G(W<0?0:M(W)|0)}R.allocUnsafe=function(W){return $(W)},R.allocUnsafeSlow=function(W){return $(W)};function D(W,j){if((typeof j!="string"||j==="")&&(j="utf8"),!R.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const q=ne(W,j)|0;let ee=G(q);const ie=ee.write(W,j);return ie!==q&&(ee=ee.slice(0,ie)),ee}function z(W){const j=W.length<0?0:M(W.length)|0,q=G(j);for(let ee=0;ee<j;ee+=1)q[ee]=W[ee]&255;return q}function Y(W){if(Xt(W,O)){const j=new O(W);return J(j.buffer,j.byteOffset,j.byteLength)}return z(W)}function J(W,j,q){if(j<0||W.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<j+(q||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return j===void 0&&q===void 0?ee=new O(W):q===void 0?ee=new O(W,j):ee=new O(W,j,q),Object.setPrototypeOf(ee,R.prototype),ee}function V(W){if(R.isBuffer(W)){const j=M(W.length)|0,q=G(j);return q.length===0||W.copy(q,0,0,j),q}if(W.length!==void 0)return typeof W.length!="number"||it(W.length)?G(0):z(W);if(W.type==="Buffer"&&Array.isArray(W.data))return z(W.data)}function M(W){if(W>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return W|0}function Q(W){return+W!=W&&(W=0),R.alloc(+W)}R.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==R.prototype},R.compare=function(j,q){if(Xt(j,O)&&(j=R.from(j,j.offset,j.byteLength)),Xt(q,O)&&(q=R.from(q,q.offset,q.byteLength)),!R.isBuffer(j)||!R.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===q)return 0;let ee=j.length,ie=q.length;for(let ce=0,pe=Math.min(ee,ie);ce<pe;++ce)if(j[ce]!==q[ce]){ee=j[ce],ie=q[ce];break}return ee<ie?-1:ie<ee?1:0},R.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},R.concat=function(j,q){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return R.alloc(0);let ee;if(q===void 0)for(q=0,ee=0;ee<j.length;++ee)q+=j[ee].length;const ie=R.allocUnsafe(q);let ce=0;for(ee=0;ee<j.length;++ee){let pe=j[ee];if(Xt(pe,O))ce+pe.length>ie.length?(R.isBuffer(pe)||(pe=R.from(pe)),pe.copy(ie,ce)):O.prototype.set.call(ie,pe,ce);else if(R.isBuffer(pe))pe.copy(ie,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=pe.length}return ie};function ne(W,j){if(R.isBuffer(W))return W.length;if(H.isView(W)||Xt(W,H))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const q=W.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&q===0)return 0;let ie=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return Ke(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return Ye(W).length;default:if(ie)return ee?-1:Ke(W).length;j=(""+j).toLowerCase(),ie=!0}}R.byteLength=ne;function K(W,j,q){let ee=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,j>>>=0,q<=j))return"";for(W||(W="utf8");;)switch(W){case"hex":return Ue(this,j,q);case"utf8":case"utf-8":return We(this,j,q);case"ascii":return Ze(this,j,q);case"latin1":case"binary":return xt(this,j,q);case"base64":return Ne(this,j,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge(this,j,q);default:if(ee)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),ee=!0}}R.prototype._isBuffer=!0;function se(W,j,q){const ee=W[j];W[j]=W[q],W[q]=ee}R.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<j;q+=2)se(this,q,q+1);return this},R.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<j;q+=4)se(this,q,q+3),se(this,q+1,q+2);return this},R.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<j;q+=8)se(this,q,q+7),se(this,q+1,q+6),se(this,q+2,q+5),se(this,q+3,q+4);return this},R.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?We(this,0,j):K.apply(this,arguments)},R.prototype.toLocaleString=R.prototype.toString,R.prototype.equals=function(j){if(!R.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:R.compare(this,j)===0},R.prototype.inspect=function(){let j="";const q=I.INSPECT_MAX_BYTES;return j=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(j+=" ... "),"<Buffer "+j+">"},A&&(R.prototype[A]=R.prototype.inspect),R.prototype.compare=function(j,q,ee,ie,ce){if(Xt(j,O)&&(j=R.from(j,j.offset,j.byteLength)),!R.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(q===void 0&&(q=0),ee===void 0&&(ee=j?j.length:0),ie===void 0&&(ie=0),ce===void 0&&(ce=this.length),q<0||ee>j.length||ie<0||ce>this.length)throw new RangeError("out of range index");if(ie>=ce&&q>=ee)return 0;if(ie>=ce)return-1;if(q>=ee)return 1;if(q>>>=0,ee>>>=0,ie>>>=0,ce>>>=0,this===j)return 0;let pe=ce-ie,je=ee-q;const ot=Math.min(pe,je),st=this.slice(ie,ce),At=j.slice(q,ee);for(let Je=0;Je<ot;++Je)if(st[Je]!==At[Je]){pe=st[Je],je=At[Je];break}return pe<je?-1:je<pe?1:0};function le(W,j,q,ee,ie){if(W.length===0)return-1;if(typeof q=="string"?(ee=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,it(q)&&(q=ie?0:W.length-1),q<0&&(q=W.length+q),q>=W.length){if(ie)return-1;q=W.length-1}else if(q<0)if(ie)q=0;else return-1;if(typeof j=="string"&&(j=R.from(j,ee)),R.isBuffer(j))return j.length===0?-1:de(W,j,q,ee,ie);if(typeof j=="number")return j=j&255,typeof O.prototype.indexOf=="function"?ie?O.prototype.indexOf.call(W,j,q):O.prototype.lastIndexOf.call(W,j,q):de(W,[j],q,ee,ie);throw new TypeError("val must be string, number or Buffer")}function de(W,j,q,ee,ie){let ce=1,pe=W.length,je=j.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(W.length<2||j.length<2)return-1;ce=2,pe/=2,je/=2,q/=2}function ot(At,Je){return ce===1?At[Je]:At.readUInt16BE(Je*ce)}let st;if(ie){let At=-1;for(st=q;st<pe;st++)if(ot(W,st)===ot(j,At===-1?0:st-At)){if(At===-1&&(At=st),st-At+1===je)return At*ce}else At!==-1&&(st-=st-At),At=-1}else for(q+je>pe&&(q=pe-je),st=q;st>=0;st--){let At=!0;for(let Je=0;Je<je;Je++)if(ot(W,st+Je)!==ot(j,Je)){At=!1;break}if(At)return st}return-1}R.prototype.includes=function(j,q,ee){return this.indexOf(j,q,ee)!==-1},R.prototype.indexOf=function(j,q,ee){return le(this,j,q,ee,!0)},R.prototype.lastIndexOf=function(j,q,ee){return le(this,j,q,ee,!1)};function he(W,j,q,ee){q=Number(q)||0;const ie=W.length-q;ee?(ee=Number(ee),ee>ie&&(ee=ie)):ee=ie;const ce=j.length;ee>ce/2&&(ee=ce/2);let pe;for(pe=0;pe<ee;++pe){const je=parseInt(j.substr(pe*2,2),16);if(it(je))return pe;W[q+pe]=je}return pe}function Ce(W,j,q,ee){return jt(Ke(j,W.length-q),W,q,ee)}function ke(W,j,q,ee){return jt(mt(j),W,q,ee)}function Ie(W,j,q,ee){return jt(Ye(j),W,q,ee)}function De(W,j,q,ee){return jt(Mt(j,W.length-q),W,q,ee)}R.prototype.write=function(j,q,ee,ie){if(q===void 0)ie="utf8",ee=this.length,q=0;else if(ee===void 0&&typeof q=="string")ie=q,ee=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(ee)?(ee=ee>>>0,ie===void 0&&(ie="utf8")):(ie=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ce=this.length-q;if((ee===void 0||ee>ce)&&(ee=ce),j.length>0&&(ee<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let pe=!1;for(;;)switch(ie){case"hex":return he(this,j,q,ee);case"utf8":case"utf-8":return Ce(this,j,q,ee);case"ascii":case"latin1":case"binary":return ke(this,j,q,ee);case"base64":return Ie(this,j,q,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De(this,j,q,ee);default:if(pe)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),pe=!0}},R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ne(W,j,q){return j===0&&q===W.length?C.fromByteArray(W):C.fromByteArray(W.slice(j,q))}function We(W,j,q){q=Math.min(W.length,q);const ee=[];let ie=j;for(;ie<q;){const ce=W[ie];let pe=null,je=ce>239?4:ce>223?3:ce>191?2:1;if(ie+je<=q){let ot,st,At,Je;switch(je){case 1:ce<128&&(pe=ce);break;case 2:ot=W[ie+1],(ot&192)===128&&(Je=(ce&31)<<6|ot&63,Je>127&&(pe=Je));break;case 3:ot=W[ie+1],st=W[ie+2],(ot&192)===128&&(st&192)===128&&(Je=(ce&15)<<12|(ot&63)<<6|st&63,Je>2047&&(Je<55296||Je>57343)&&(pe=Je));break;case 4:ot=W[ie+1],st=W[ie+2],At=W[ie+3],(ot&192)===128&&(st&192)===128&&(At&192)===128&&(Je=(ce&15)<<18|(ot&63)<<12|(st&63)<<6|At&63,Je>65535&&Je<1114112&&(pe=Je))}}pe===null?(pe=65533,je=1):pe>65535&&(pe-=65536,ee.push(pe>>>10&1023|55296),pe=56320|pe&1023),ee.push(pe),ie+=je}return Ee(ee)}const tt=4096;function Ee(W){const j=W.length;if(j<=tt)return String.fromCharCode.apply(String,W);let q="",ee=0;for(;ee<j;)q+=String.fromCharCode.apply(String,W.slice(ee,ee+=tt));return q}function Ze(W,j,q){let ee="";q=Math.min(W.length,q);for(let ie=j;ie<q;++ie)ee+=String.fromCharCode(W[ie]&127);return ee}function xt(W,j,q){let ee="";q=Math.min(W.length,q);for(let ie=j;ie<q;++ie)ee+=String.fromCharCode(W[ie]);return ee}function Ue(W,j,q){const ee=W.length;(!j||j<0)&&(j=0),(!q||q<0||q>ee)&&(q=ee);let ie="";for(let ce=j;ce<q;++ce)ie+=Zt[W[ce]];return ie}function Ge(W,j,q){const ee=W.slice(j,q);let ie="";for(let ce=0;ce<ee.length-1;ce+=2)ie+=String.fromCharCode(ee[ce]+ee[ce+1]*256);return ie}R.prototype.slice=function(j,q){const ee=this.length;j=~~j,q=q===void 0?ee:~~q,j<0?(j+=ee,j<0&&(j=0)):j>ee&&(j=ee),q<0?(q+=ee,q<0&&(q=0)):q>ee&&(q=ee),q<j&&(q=j);const ie=this.subarray(j,q);return Object.setPrototypeOf(ie,R.prototype),ie};function rt(W,j,q){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+j>q)throw new RangeError("Trying to access beyond buffer length")}R.prototype.readUintLE=R.prototype.readUIntLE=function(j,q,ee){j=j>>>0,q=q>>>0,ee||rt(j,q,this.length);let ie=this[j],ce=1,pe=0;for(;++pe<q&&(ce*=256);)ie+=this[j+pe]*ce;return ie},R.prototype.readUintBE=R.prototype.readUIntBE=function(j,q,ee){j=j>>>0,q=q>>>0,ee||rt(j,q,this.length);let ie=this[j+--q],ce=1;for(;q>0&&(ce*=256);)ie+=this[j+--q]*ce;return ie},R.prototype.readUint8=R.prototype.readUInt8=function(j,q){return j=j>>>0,q||rt(j,1,this.length),this[j]},R.prototype.readUint16LE=R.prototype.readUInt16LE=function(j,q){return j=j>>>0,q||rt(j,2,this.length),this[j]|this[j+1]<<8},R.prototype.readUint16BE=R.prototype.readUInt16BE=function(j,q){return j=j>>>0,q||rt(j,2,this.length),this[j]<<8|this[j+1]},R.prototype.readUint32LE=R.prototype.readUInt32LE=function(j,q){return j=j>>>0,q||rt(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},R.prototype.readUint32BE=R.prototype.readUInt32BE=function(j,q){return j=j>>>0,q||rt(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},R.prototype.readBigUInt64LE=ir(function(j){j=j>>>0,ge(j,"offset");const q=this[j],ee=this[j+7];(q===void 0||ee===void 0)&&xe(j,this.length-8);const ie=q+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,ce=this[++j]+this[++j]*2**8+this[++j]*2**16+ee*2**24;return BigInt(ie)+(BigInt(ce)<<BigInt(32))}),R.prototype.readBigUInt64BE=ir(function(j){j=j>>>0,ge(j,"offset");const q=this[j],ee=this[j+7];(q===void 0||ee===void 0)&&xe(j,this.length-8);const ie=q*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],ce=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ee;return(BigInt(ie)<<BigInt(32))+BigInt(ce)}),R.prototype.readIntLE=function(j,q,ee){j=j>>>0,q=q>>>0,ee||rt(j,q,this.length);let ie=this[j],ce=1,pe=0;for(;++pe<q&&(ce*=256);)ie+=this[j+pe]*ce;return ce*=128,ie>=ce&&(ie-=Math.pow(2,8*q)),ie},R.prototype.readIntBE=function(j,q,ee){j=j>>>0,q=q>>>0,ee||rt(j,q,this.length);let ie=q,ce=1,pe=this[j+--ie];for(;ie>0&&(ce*=256);)pe+=this[j+--ie]*ce;return ce*=128,pe>=ce&&(pe-=Math.pow(2,8*q)),pe},R.prototype.readInt8=function(j,q){return j=j>>>0,q||rt(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},R.prototype.readInt16LE=function(j,q){j=j>>>0,q||rt(j,2,this.length);const ee=this[j]|this[j+1]<<8;return ee&32768?ee|4294901760:ee},R.prototype.readInt16BE=function(j,q){j=j>>>0,q||rt(j,2,this.length);const ee=this[j+1]|this[j]<<8;return ee&32768?ee|4294901760:ee},R.prototype.readInt32LE=function(j,q){return j=j>>>0,q||rt(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},R.prototype.readInt32BE=function(j,q){return j=j>>>0,q||rt(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},R.prototype.readBigInt64LE=ir(function(j){j=j>>>0,ge(j,"offset");const q=this[j],ee=this[j+7];(q===void 0||ee===void 0)&&xe(j,this.length-8);const ie=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(ee<<24);return(BigInt(ie)<<BigInt(32))+BigInt(q+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),R.prototype.readBigInt64BE=ir(function(j){j=j>>>0,ge(j,"offset");const q=this[j],ee=this[j+7];(q===void 0||ee===void 0)&&xe(j,this.length-8);const ie=(q<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(ie)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ee)}),R.prototype.readFloatLE=function(j,q){return j=j>>>0,q||rt(j,4,this.length),N.read(this,j,!0,23,4)},R.prototype.readFloatBE=function(j,q){return j=j>>>0,q||rt(j,4,this.length),N.read(this,j,!1,23,4)},R.prototype.readDoubleLE=function(j,q){return j=j>>>0,q||rt(j,8,this.length),N.read(this,j,!0,52,8)},R.prototype.readDoubleBE=function(j,q){return j=j>>>0,q||rt(j,8,this.length),N.read(this,j,!1,52,8)};function pt(W,j,q,ee,ie,ce){if(!R.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>ie||j<ce)throw new RangeError('"value" argument is out of bounds');if(q+ee>W.length)throw new RangeError("Index out of range")}R.prototype.writeUintLE=R.prototype.writeUIntLE=function(j,q,ee,ie){if(j=+j,q=q>>>0,ee=ee>>>0,!ie){const je=Math.pow(2,8*ee)-1;pt(this,j,q,ee,je,0)}let ce=1,pe=0;for(this[q]=j&255;++pe<ee&&(ce*=256);)this[q+pe]=j/ce&255;return q+ee},R.prototype.writeUintBE=R.prototype.writeUIntBE=function(j,q,ee,ie){if(j=+j,q=q>>>0,ee=ee>>>0,!ie){const je=Math.pow(2,8*ee)-1;pt(this,j,q,ee,je,0)}let ce=ee-1,pe=1;for(this[q+ce]=j&255;--ce>=0&&(pe*=256);)this[q+ce]=j/pe&255;return q+ee},R.prototype.writeUint8=R.prototype.writeUInt8=function(j,q,ee){return j=+j,q=q>>>0,ee||pt(this,j,q,1,255,0),this[q]=j&255,q+1},R.prototype.writeUint16LE=R.prototype.writeUInt16LE=function(j,q,ee){return j=+j,q=q>>>0,ee||pt(this,j,q,2,65535,0),this[q]=j&255,this[q+1]=j>>>8,q+2},R.prototype.writeUint16BE=R.prototype.writeUInt16BE=function(j,q,ee){return j=+j,q=q>>>0,ee||pt(this,j,q,2,65535,0),this[q]=j>>>8,this[q+1]=j&255,q+2},R.prototype.writeUint32LE=R.prototype.writeUInt32LE=function(j,q,ee){return j=+j,q=q>>>0,ee||pt(this,j,q,4,4294967295,0),this[q+3]=j>>>24,this[q+2]=j>>>16,this[q+1]=j>>>8,this[q]=j&255,q+4},R.prototype.writeUint32BE=R.prototype.writeUInt32BE=function(j,q,ee){return j=+j,q=q>>>0,ee||pt(this,j,q,4,4294967295,0),this[q]=j>>>24,this[q+1]=j>>>16,this[q+2]=j>>>8,this[q+3]=j&255,q+4};function qe(W,j,q,ee,ie){ae(j,ee,ie,W,q,7);let ce=Number(j&BigInt(4294967295));W[q++]=ce,ce=ce>>8,W[q++]=ce,ce=ce>>8,W[q++]=ce,ce=ce>>8,W[q++]=ce;let pe=Number(j>>BigInt(32)&BigInt(4294967295));return W[q++]=pe,pe=pe>>8,W[q++]=pe,pe=pe>>8,W[q++]=pe,pe=pe>>8,W[q++]=pe,q}function ht(W,j,q,ee,ie){ae(j,ee,ie,W,q,7);let ce=Number(j&BigInt(4294967295));W[q+7]=ce,ce=ce>>8,W[q+6]=ce,ce=ce>>8,W[q+5]=ce,ce=ce>>8,W[q+4]=ce;let pe=Number(j>>BigInt(32)&BigInt(4294967295));return W[q+3]=pe,pe=pe>>8,W[q+2]=pe,pe=pe>>8,W[q+1]=pe,pe=pe>>8,W[q]=pe,q+8}R.prototype.writeBigUInt64LE=ir(function(j,q=0){return qe(this,j,q,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeBigUInt64BE=ir(function(j,q=0){return ht(this,j,q,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeIntLE=function(j,q,ee,ie){if(j=+j,q=q>>>0,!ie){const ot=Math.pow(2,8*ee-1);pt(this,j,q,ee,ot-1,-ot)}let ce=0,pe=1,je=0;for(this[q]=j&255;++ce<ee&&(pe*=256);)j<0&&je===0&&this[q+ce-1]!==0&&(je=1),this[q+ce]=(j/pe>>0)-je&255;return q+ee},R.prototype.writeIntBE=function(j,q,ee,ie){if(j=+j,q=q>>>0,!ie){const ot=Math.pow(2,8*ee-1);pt(this,j,q,ee,ot-1,-ot)}let ce=ee-1,pe=1,je=0;for(this[q+ce]=j&255;--ce>=0&&(pe*=256);)j<0&&je===0&&this[q+ce+1]!==0&&(je=1),this[q+ce]=(j/pe>>0)-je&255;return q+ee},R.prototype.writeInt8=function(j,q,ee){return j=+j,q=q>>>0,ee||pt(this,j,q,1,127,-128),j<0&&(j=255+j+1),this[q]=j&255,q+1},R.prototype.writeInt16LE=function(j,q,ee){return j=+j,q=q>>>0,ee||pt(this,j,q,2,32767,-32768),this[q]=j&255,this[q+1]=j>>>8,q+2},R.prototype.writeInt16BE=function(j,q,ee){return j=+j,q=q>>>0,ee||pt(this,j,q,2,32767,-32768),this[q]=j>>>8,this[q+1]=j&255,q+2},R.prototype.writeInt32LE=function(j,q,ee){return j=+j,q=q>>>0,ee||pt(this,j,q,4,2147483647,-2147483648),this[q]=j&255,this[q+1]=j>>>8,this[q+2]=j>>>16,this[q+3]=j>>>24,q+4},R.prototype.writeInt32BE=function(j,q,ee){return j=+j,q=q>>>0,ee||pt(this,j,q,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[q]=j>>>24,this[q+1]=j>>>16,this[q+2]=j>>>8,this[q+3]=j&255,q+4},R.prototype.writeBigInt64LE=ir(function(j,q=0){return qe(this,j,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeBigInt64BE=ir(function(j,q=0){return ht(this,j,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ot(W,j,q,ee,ie,ce){if(q+ee>W.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function Ct(W,j,q,ee,ie){return j=+j,q=q>>>0,ie||Ot(W,j,q,4),N.write(W,j,q,ee,23,4),q+4}R.prototype.writeFloatLE=function(j,q,ee){return Ct(this,j,q,!0,ee)},R.prototype.writeFloatBE=function(j,q,ee){return Ct(this,j,q,!1,ee)};function gt(W,j,q,ee,ie){return j=+j,q=q>>>0,ie||Ot(W,j,q,8),N.write(W,j,q,ee,52,8),q+8}R.prototype.writeDoubleLE=function(j,q,ee){return gt(this,j,q,!0,ee)},R.prototype.writeDoubleBE=function(j,q,ee){return gt(this,j,q,!1,ee)},R.prototype.copy=function(j,q,ee,ie){if(!R.isBuffer(j))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!ie&&ie!==0&&(ie=this.length),q>=j.length&&(q=j.length),q||(q=0),ie>0&&ie<ee&&(ie=ee),ie===ee||j.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),j.length-q<ie-ee&&(ie=j.length-q+ee);const ce=ie-ee;return this===j&&typeof O.prototype.copyWithin=="function"?this.copyWithin(q,ee,ie):O.prototype.set.call(j,this.subarray(ee,ie),q),ce},R.prototype.fill=function(j,q,ee,ie){if(typeof j=="string"){if(typeof q=="string"?(ie=q,q=0,ee=this.length):typeof ee=="string"&&(ie=ee,ee=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!R.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(j.length===1){const pe=j.charCodeAt(0);(ie==="utf8"&&pe<128||ie==="latin1")&&(j=pe)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(q<0||this.length<q||this.length<ee)throw new RangeError("Out of range index");if(ee<=q)return this;q=q>>>0,ee=ee===void 0?this.length:ee>>>0,j||(j=0);let ce;if(typeof j=="number")for(ce=q;ce<ee;++ce)this[ce]=j;else{const pe=R.isBuffer(j)?j:R.from(j,ie),je=pe.length;if(je===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(ce=0;ce<ee-q;++ce)this[ce+q]=pe[ce%je]}return this};const yt={};function re(W,j,q){yt[W]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}re("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(W,j){return`The "${W}" argument must be of type number. Received type ${typeof j}`},TypeError),re("ERR_OUT_OF_RANGE",function(W,j,q){let ee=`The value of "${W}" is out of range.`,ie=q;return Number.isInteger(q)&&Math.abs(q)>2**32?ie=Z(String(q)):typeof q=="bigint"&&(ie=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(ie=Z(ie)),ie+="n"),ee+=` It must be ${j}. Received ${ie}`,ee},RangeError);function Z(W){let j="",q=W.length;const ee=W[0]==="-"?1:0;for(;q>=ee+4;q-=3)j=`_${W.slice(q-3,q)}${j}`;return`${W.slice(0,q)}${j}`}function X(W,j,q){ge(j,"offset"),(W[j]===void 0||W[j+q]===void 0)&&xe(j,W.length-(q+1))}function ae(W,j,q,ee,ie,ce){if(W>q||W<j){const pe=typeof j=="bigint"?"n":"";let je;throw j===0||j===BigInt(0)?je=`>= 0${pe} and < 2${pe} ** ${(ce+1)*8}${pe}`:je=`>= -(2${pe} ** ${(ce+1)*8-1}${pe}) and < 2 ** ${(ce+1)*8-1}${pe}`,new yt.ERR_OUT_OF_RANGE("value",je,W)}X(ee,ie,ce)}function ge(W,j){if(typeof W!="number")throw new yt.ERR_INVALID_ARG_TYPE(j,"number",W)}function xe(W,j,q){throw Math.floor(W)!==W?(ge(W,q),new yt.ERR_OUT_OF_RANGE("offset","an integer",W)):j<0?new yt.ERR_BUFFER_OUT_OF_BOUNDS:new yt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${j}`,W)}const ve=/[^+/0-9A-Za-z-_]/g;function nt(W){if(W=W.split("=")[0],W=W.trim().replace(ve,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function Ke(W,j){j=j||1/0;let q;const ee=W.length;let ie=null;const ce=[];for(let pe=0;pe<ee;++pe){if(q=W.charCodeAt(pe),q>55295&&q<57344){if(!ie){if(q>56319){(j-=3)>-1&&ce.push(239,191,189);continue}else if(pe+1===ee){(j-=3)>-1&&ce.push(239,191,189);continue}ie=q;continue}if(q<56320){(j-=3)>-1&&ce.push(239,191,189),ie=q;continue}q=(ie-55296<<10|q-56320)+65536}else ie&&(j-=3)>-1&&ce.push(239,191,189);if(ie=null,q<128){if((j-=1)<0)break;ce.push(q)}else if(q<2048){if((j-=2)<0)break;ce.push(q>>6|192,q&63|128)}else if(q<65536){if((j-=3)<0)break;ce.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((j-=4)<0)break;ce.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return ce}function mt(W){const j=[];for(let q=0;q<W.length;++q)j.push(W.charCodeAt(q)&255);return j}function Mt(W,j){let q,ee,ie;const ce=[];for(let pe=0;pe<W.length&&!((j-=2)<0);++pe)q=W.charCodeAt(pe),ee=q>>8,ie=q%256,ce.push(ie),ce.push(ee);return ce}function Ye(W){return C.toByteArray(nt(W))}function jt(W,j,q,ee){let ie;for(ie=0;ie<ee&&!(ie+q>=j.length||ie>=W.length);++ie)j[ie+q]=W[ie];return ie}function Xt(W,j){return W instanceof j||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===j.name}function it(W){return W!==W}const Zt=(function(){const W="0123456789abcdef",j=new Array(256);for(let q=0;q<16;++q){const ee=q*16;for(let ie=0;ie<16;++ie)j[ee+ie]=W[q]+W[ie]}return j})();function ir(W){return typeof BigInt>"u"?tn:W}function tn(){throw new Error("BigInt not supported")}})(e);const E=e.Buffer;t.Blob=e.Blob,t.BlobOptions=e.BlobOptions,t.Buffer=e.Buffer,t.File=e.File,t.FileOptions=e.FileOptions,t.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,t.SlowBuffer=e.SlowBuffer,t.TranscodeEncoding=e.TranscodeEncoding,t.atob=e.atob,t.btoa=e.btoa,t.constants=e.constants,t.default=E,t.isAscii=e.isAscii,t.isUtf8=e.isUtf8,t.kMaxLength=e.kMaxLength,t.kStringMaxLength=e.kStringMaxLength,t.resolveObjectURL=e.resolveObjectURL,t.transcode=e.transcode})(v_)),v_}var Y5e=c5.exports,UU;function Z5e(){return UU||(UU=1,(function(t){(function(e,n){function r(F,_){if(!F)throw new Error(_||"Assertion failed")}function i(F,_){F.super_=_;var S=function(){};S.prototype=_.prototype,F.prototype=new S,F.prototype.constructor=F}function a(F,_,S){if(a.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((_==="le"||_==="be")&&(S=_,_=10),this._init(F||0,_||10,S||"be"))}typeof e=="object"?e.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=K5e().Buffer}catch{}a.isBN=function(_){return _ instanceof a?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===a.wordSize&&Array.isArray(_.words)},a.max=function(_,S){return _.cmp(S)>0?_:S},a.min=function(_,S){return _.cmp(S)<0?_:S},a.prototype._init=function(_,S,$){if(typeof _=="number")return this._initNumber(_,S,$);if(typeof _=="object")return this._initArray(_,S,$);S==="hex"&&(S=16),r(S===(S|0)&&S>=2&&S<=36),_=_.toString().replace(/\s+/g,"");var D=0;_[0]==="-"&&(D++,this.negative=1),D<_.length&&(S===16?this._parseHex(_,D,$):(this._parseBase(_,S,D),$==="le"&&this._initArray(this.toArray(),S,$)))},a.prototype._initNumber=function(_,S,$){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(r(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),$==="le"&&this._initArray(this.toArray(),S,$)},a.prototype._initArray=function(_,S,$){if(r(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var z,Y,J=0;if($==="be")for(D=_.length-1,z=0;D>=0;D-=3)Y=_[D]|_[D-1]<<8|_[D-2]<<16,this.words[z]|=Y<<J&67108863,this.words[z+1]=Y>>>26-J&67108863,J+=24,J>=26&&(J-=26,z++);else if($==="le")for(D=0,z=0;D<_.length;D+=3)Y=_[D]|_[D+1]<<8|_[D+2]<<16,this.words[z]|=Y<<J&67108863,this.words[z+1]=Y>>>26-J&67108863,J+=24,J>=26&&(J-=26,z++);return this._strip()};function o(F,_){var S=F.charCodeAt(_);if(S>=48&&S<=57)return S-48;if(S>=65&&S<=70)return S-55;if(S>=97&&S<=102)return S-87;r(!1,"Invalid character in "+F)}function l(F,_,S){var $=o(F,S);return S-1>=_&&($|=o(F,S-1)<<4),$}a.prototype._parseHex=function(_,S,$){this.length=Math.ceil((_.length-S)/6),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var z=0,Y=0,J;if($==="be")for(D=_.length-1;D>=S;D-=2)J=l(_,S,D)<<z,this.words[Y]|=J&67108863,z>=18?(z-=18,Y+=1,this.words[Y]|=J>>>26):z+=8;else{var V=_.length-S;for(D=V%2===0?S+1:S;D<_.length;D+=2)J=l(_,S,D)<<z,this.words[Y]|=J&67108863,z>=18?(z-=18,Y+=1,this.words[Y]|=J>>>26):z+=8}this._strip()};function u(F,_,S,$){for(var D=0,z=0,Y=Math.min(F.length,S),J=_;J<Y;J++){var V=F.charCodeAt(J)-48;D*=$,V>=49?z=V-49+10:V>=17?z=V-17+10:z=V,r(V>=0&&z<$,"Invalid character"),D+=z}return D}a.prototype._parseBase=function(_,S,$){this.words=[0],this.length=1;for(var D=0,z=1;z<=67108863;z*=S)D++;D--,z=z/S|0;for(var Y=_.length-$,J=Y%D,V=Math.min(Y,Y-J)+$,M=0,Q=$;Q<V;Q+=D)M=u(_,Q,Q+D,S),this.imuln(z),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(J!==0){var ne=1;for(M=u(_,Q,_.length,S),Q=0;Q<J;Q++)ne*=S;this.imuln(ne),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},a.prototype.copy=function(_){_.words=new Array(this.length);for(var S=0;S<this.length;S++)_.words[S]=this.words[S];_.length=this.length,_.negative=this.negative,_.red=this.red};function d(F,_){F.words=_.words,F.length=_.length,F.negative=_.negative,F.red=_.red}if(a.prototype._move=function(_){d(_,this)},a.prototype.clone=function(){var _=new a(null);return this.copy(_),_},a.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{a.prototype.inspect=h}else a.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(_,S){_=_||10,S=S|0||1;var $;if(_===16||_==="hex"){$="";for(var D=0,z=0,Y=0;Y<this.length;Y++){var J=this.words[Y],V=((J<<D|z)&16777215).toString(16);z=J>>>24-D&16777215,D+=2,D>=26&&(D-=26,Y--),z!==0||Y!==this.length-1?$=g[6-V.length]+V+$:$=V+$}for(z!==0&&($=z.toString(16)+$);$.length%S!==0;)$="0"+$;return this.negative!==0&&($="-"+$),$}if(_===(_|0)&&_>=2&&_<=36){var M=m[_],Q=b[_];$="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var K=ne.modrn(Q).toString(_);ne=ne.idivn(Q),ne.isZero()?$=K+$:$=g[M-K.length]+K+$}for(this.isZero()&&($="0"+$);$.length%S!==0;)$="0"+$;return this.negative!==0&&($="-"+$),$}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},a.prototype.toJSON=function(){return this.toString(16,2)},s&&(a.prototype.toBuffer=function(_,S){return this.toArrayLike(s,_,S)}),a.prototype.toArray=function(_,S){return this.toArrayLike(Array,_,S)};var w=function(_,S){return _.allocUnsafe?_.allocUnsafe(S):new _(S)};a.prototype.toArrayLike=function(_,S,$){this._strip();var D=this.byteLength(),z=$||Math.max(1,D);r(D<=z,"byte array longer than desired length"),r(z>0,"Requested array length <= 0");var Y=w(_,z),J=S==="le"?"LE":"BE";return this["_toArrayLike"+J](Y,D),Y},a.prototype._toArrayLikeLE=function(_,S){for(var $=0,D=0,z=0,Y=0;z<this.length;z++){var J=this.words[z]<<Y|D;_[$++]=J&255,$<_.length&&(_[$++]=J>>8&255),$<_.length&&(_[$++]=J>>16&255),Y===6?($<_.length&&(_[$++]=J>>24&255),D=0,Y=0):(D=J>>>24,Y+=2)}if($<_.length)for(_[$++]=D;$<_.length;)_[$++]=0},a.prototype._toArrayLikeBE=function(_,S){for(var $=_.length-1,D=0,z=0,Y=0;z<this.length;z++){var J=this.words[z]<<Y|D;_[$--]=J&255,$>=0&&(_[$--]=J>>8&255),$>=0&&(_[$--]=J>>16&255),Y===6?($>=0&&(_[$--]=J>>24&255),D=0,Y=0):(D=J>>>24,Y+=2)}if($>=0)for(_[$--]=D;$>=0;)_[$--]=0},Math.clz32?a.prototype._countBits=function(_){return 32-Math.clz32(_)}:a.prototype._countBits=function(_){var S=_,$=0;return S>=4096&&($+=13,S>>>=13),S>=64&&($+=7,S>>>=7),S>=8&&($+=4,S>>>=4),S>=2&&($+=2,S>>>=2),$+S},a.prototype._zeroBits=function(_){if(_===0)return 26;var S=_,$=0;return(S&8191)===0&&($+=13,S>>>=13),(S&127)===0&&($+=7,S>>>=7),(S&15)===0&&($+=4,S>>>=4),(S&3)===0&&($+=2,S>>>=2),(S&1)===0&&$++,$},a.prototype.bitLength=function(){var _=this.words[this.length-1],S=this._countBits(_);return(this.length-1)*26+S};function x(F){for(var _=new Array(F.bitLength()),S=0;S<_.length;S++){var $=S/26|0,D=S%26;_[S]=F.words[$]>>>D&1}return _}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,S=0;S<this.length;S++){var $=this._zeroBits(this.words[S]);if(_+=$,$!==26)break}return _},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},a.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var S=0;S<_.length;S++)this.words[S]=this.words[S]|_.words[S];return this._strip()},a.prototype.ior=function(_){return r((this.negative|_.negative)===0),this.iuor(_)},a.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},a.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},a.prototype.iuand=function(_){var S;this.length>_.length?S=_:S=this;for(var $=0;$<S.length;$++)this.words[$]=this.words[$]&_.words[$];return this.length=S.length,this._strip()},a.prototype.iand=function(_){return r((this.negative|_.negative)===0),this.iuand(_)},a.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},a.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},a.prototype.iuxor=function(_){var S,$;this.length>_.length?(S=this,$=_):(S=_,$=this);for(var D=0;D<$.length;D++)this.words[D]=S.words[D]^$.words[D];if(this!==S)for(;D<S.length;D++)this.words[D]=S.words[D];return this.length=S.length,this._strip()},a.prototype.ixor=function(_){return r((this.negative|_.negative)===0),this.iuxor(_)},a.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},a.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},a.prototype.inotn=function(_){r(typeof _=="number"&&_>=0);var S=Math.ceil(_/26)|0,$=_%26;this._expand(S),$>0&&S--;for(var D=0;D<S;D++)this.words[D]=~this.words[D]&67108863;return $>0&&(this.words[D]=~this.words[D]&67108863>>26-$),this._strip()},a.prototype.notn=function(_){return this.clone().inotn(_)},a.prototype.setn=function(_,S){r(typeof _=="number"&&_>=0);var $=_/26|0,D=_%26;return this._expand($+1),S?this.words[$]=this.words[$]|1<<D:this.words[$]=this.words[$]&~(1<<D),this._strip()},a.prototype.iadd=function(_){var S;if(this.negative!==0&&_.negative===0)return this.negative=0,S=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,S=this.isub(_),_.negative=1,S._normSign();var $,D;this.length>_.length?($=this,D=_):($=_,D=this);for(var z=0,Y=0;Y<D.length;Y++)S=($.words[Y]|0)+(D.words[Y]|0)+z,this.words[Y]=S&67108863,z=S>>>26;for(;z!==0&&Y<$.length;Y++)S=($.words[Y]|0)+z,this.words[Y]=S&67108863,z=S>>>26;if(this.length=$.length,z!==0)this.words[this.length]=z,this.length++;else if($!==this)for(;Y<$.length;Y++)this.words[Y]=$.words[Y];return this},a.prototype.add=function(_){var S;return _.negative!==0&&this.negative===0?(_.negative=0,S=this.sub(_),_.negative^=1,S):_.negative===0&&this.negative!==0?(this.negative=0,S=_.sub(this),this.negative=1,S):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},a.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var S=this.iadd(_);return _.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var $=this.cmp(_);if($===0)return this.negative=0,this.length=1,this.words[0]=0,this;var D,z;$>0?(D=this,z=_):(D=_,z=this);for(var Y=0,J=0;J<z.length;J++)S=(D.words[J]|0)-(z.words[J]|0)+Y,Y=S>>26,this.words[J]=S&67108863;for(;Y!==0&&J<D.length;J++)S=(D.words[J]|0)+Y,Y=S>>26,this.words[J]=S&67108863;if(Y===0&&J<D.length&&D!==this)for(;J<D.length;J++)this.words[J]=D.words[J];return this.length=Math.max(this.length,J),D!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(_){return this.clone().isub(_)};function E(F,_,S){S.negative=_.negative^F.negative;var $=F.length+_.length|0;S.length=$,$=$-1|0;var D=F.words[0]|0,z=_.words[0]|0,Y=D*z,J=Y&67108863,V=Y/67108864|0;S.words[0]=J;for(var M=1;M<$;M++){for(var Q=V>>>26,ne=V&67108863,K=Math.min(M,_.length-1),se=Math.max(0,M-F.length+1);se<=K;se++){var le=M-se|0;D=F.words[le]|0,z=_.words[se]|0,Y=D*z+ne,Q+=Y/67108864|0,ne=Y&67108863}S.words[M]=ne|0,V=Q|0}return V!==0?S.words[M]=V|0:S.length--,S._strip()}var I=function(_,S,$){var D=_.words,z=S.words,Y=$.words,J=0,V,M,Q,ne=D[0]|0,K=ne&8191,se=ne>>>13,le=D[1]|0,de=le&8191,he=le>>>13,Ce=D[2]|0,ke=Ce&8191,Ie=Ce>>>13,De=D[3]|0,Ne=De&8191,We=De>>>13,tt=D[4]|0,Ee=tt&8191,Ze=tt>>>13,xt=D[5]|0,Ue=xt&8191,Ge=xt>>>13,rt=D[6]|0,pt=rt&8191,qe=rt>>>13,ht=D[7]|0,Ot=ht&8191,Ct=ht>>>13,gt=D[8]|0,yt=gt&8191,re=gt>>>13,Z=D[9]|0,X=Z&8191,ae=Z>>>13,ge=z[0]|0,xe=ge&8191,ve=ge>>>13,nt=z[1]|0,Ke=nt&8191,mt=nt>>>13,Mt=z[2]|0,Ye=Mt&8191,jt=Mt>>>13,Xt=z[3]|0,it=Xt&8191,Zt=Xt>>>13,ir=z[4]|0,tn=ir&8191,W=ir>>>13,j=z[5]|0,q=j&8191,ee=j>>>13,ie=z[6]|0,ce=ie&8191,pe=ie>>>13,je=z[7]|0,ot=je&8191,st=je>>>13,At=z[8]|0,Je=At&8191,It=At>>>13,St=z[9]|0,Wt=St&8191,Ht=St>>>13;$.negative=_.negative^S.negative,$.length=19,V=Math.imul(K,xe),M=Math.imul(K,ve),M=M+Math.imul(se,xe)|0,Q=Math.imul(se,ve);var Xn=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,V=Math.imul(de,xe),M=Math.imul(de,ve),M=M+Math.imul(he,xe)|0,Q=Math.imul(he,ve),V=V+Math.imul(K,Ke)|0,M=M+Math.imul(K,mt)|0,M=M+Math.imul(se,Ke)|0,Q=Q+Math.imul(se,mt)|0;var ar=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(ar>>>26)|0,ar&=67108863,V=Math.imul(ke,xe),M=Math.imul(ke,ve),M=M+Math.imul(Ie,xe)|0,Q=Math.imul(Ie,ve),V=V+Math.imul(de,Ke)|0,M=M+Math.imul(de,mt)|0,M=M+Math.imul(he,Ke)|0,Q=Q+Math.imul(he,mt)|0,V=V+Math.imul(K,Ye)|0,M=M+Math.imul(K,jt)|0,M=M+Math.imul(se,Ye)|0,Q=Q+Math.imul(se,jt)|0;var qn=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(qn>>>26)|0,qn&=67108863,V=Math.imul(Ne,xe),M=Math.imul(Ne,ve),M=M+Math.imul(We,xe)|0,Q=Math.imul(We,ve),V=V+Math.imul(ke,Ke)|0,M=M+Math.imul(ke,mt)|0,M=M+Math.imul(Ie,Ke)|0,Q=Q+Math.imul(Ie,mt)|0,V=V+Math.imul(de,Ye)|0,M=M+Math.imul(de,jt)|0,M=M+Math.imul(he,Ye)|0,Q=Q+Math.imul(he,jt)|0,V=V+Math.imul(K,it)|0,M=M+Math.imul(K,Zt)|0,M=M+Math.imul(se,it)|0,Q=Q+Math.imul(se,Zt)|0;var mn=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(mn>>>26)|0,mn&=67108863,V=Math.imul(Ee,xe),M=Math.imul(Ee,ve),M=M+Math.imul(Ze,xe)|0,Q=Math.imul(Ze,ve),V=V+Math.imul(Ne,Ke)|0,M=M+Math.imul(Ne,mt)|0,M=M+Math.imul(We,Ke)|0,Q=Q+Math.imul(We,mt)|0,V=V+Math.imul(ke,Ye)|0,M=M+Math.imul(ke,jt)|0,M=M+Math.imul(Ie,Ye)|0,Q=Q+Math.imul(Ie,jt)|0,V=V+Math.imul(de,it)|0,M=M+Math.imul(de,Zt)|0,M=M+Math.imul(he,it)|0,Q=Q+Math.imul(he,Zt)|0,V=V+Math.imul(K,tn)|0,M=M+Math.imul(K,W)|0,M=M+Math.imul(se,tn)|0,Q=Q+Math.imul(se,W)|0;var Vn=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,V=Math.imul(Ue,xe),M=Math.imul(Ue,ve),M=M+Math.imul(Ge,xe)|0,Q=Math.imul(Ge,ve),V=V+Math.imul(Ee,Ke)|0,M=M+Math.imul(Ee,mt)|0,M=M+Math.imul(Ze,Ke)|0,Q=Q+Math.imul(Ze,mt)|0,V=V+Math.imul(Ne,Ye)|0,M=M+Math.imul(Ne,jt)|0,M=M+Math.imul(We,Ye)|0,Q=Q+Math.imul(We,jt)|0,V=V+Math.imul(ke,it)|0,M=M+Math.imul(ke,Zt)|0,M=M+Math.imul(Ie,it)|0,Q=Q+Math.imul(Ie,Zt)|0,V=V+Math.imul(de,tn)|0,M=M+Math.imul(de,W)|0,M=M+Math.imul(he,tn)|0,Q=Q+Math.imul(he,W)|0,V=V+Math.imul(K,q)|0,M=M+Math.imul(K,ee)|0,M=M+Math.imul(se,q)|0,Q=Q+Math.imul(se,ee)|0;var wr=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(wr>>>26)|0,wr&=67108863,V=Math.imul(pt,xe),M=Math.imul(pt,ve),M=M+Math.imul(qe,xe)|0,Q=Math.imul(qe,ve),V=V+Math.imul(Ue,Ke)|0,M=M+Math.imul(Ue,mt)|0,M=M+Math.imul(Ge,Ke)|0,Q=Q+Math.imul(Ge,mt)|0,V=V+Math.imul(Ee,Ye)|0,M=M+Math.imul(Ee,jt)|0,M=M+Math.imul(Ze,Ye)|0,Q=Q+Math.imul(Ze,jt)|0,V=V+Math.imul(Ne,it)|0,M=M+Math.imul(Ne,Zt)|0,M=M+Math.imul(We,it)|0,Q=Q+Math.imul(We,Zt)|0,V=V+Math.imul(ke,tn)|0,M=M+Math.imul(ke,W)|0,M=M+Math.imul(Ie,tn)|0,Q=Q+Math.imul(Ie,W)|0,V=V+Math.imul(de,q)|0,M=M+Math.imul(de,ee)|0,M=M+Math.imul(he,q)|0,Q=Q+Math.imul(he,ee)|0,V=V+Math.imul(K,ce)|0,M=M+Math.imul(K,pe)|0,M=M+Math.imul(se,ce)|0,Q=Q+Math.imul(se,pe)|0;var wa=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(wa>>>26)|0,wa&=67108863,V=Math.imul(Ot,xe),M=Math.imul(Ot,ve),M=M+Math.imul(Ct,xe)|0,Q=Math.imul(Ct,ve),V=V+Math.imul(pt,Ke)|0,M=M+Math.imul(pt,mt)|0,M=M+Math.imul(qe,Ke)|0,Q=Q+Math.imul(qe,mt)|0,V=V+Math.imul(Ue,Ye)|0,M=M+Math.imul(Ue,jt)|0,M=M+Math.imul(Ge,Ye)|0,Q=Q+Math.imul(Ge,jt)|0,V=V+Math.imul(Ee,it)|0,M=M+Math.imul(Ee,Zt)|0,M=M+Math.imul(Ze,it)|0,Q=Q+Math.imul(Ze,Zt)|0,V=V+Math.imul(Ne,tn)|0,M=M+Math.imul(Ne,W)|0,M=M+Math.imul(We,tn)|0,Q=Q+Math.imul(We,W)|0,V=V+Math.imul(ke,q)|0,M=M+Math.imul(ke,ee)|0,M=M+Math.imul(Ie,q)|0,Q=Q+Math.imul(Ie,ee)|0,V=V+Math.imul(de,ce)|0,M=M+Math.imul(de,pe)|0,M=M+Math.imul(he,ce)|0,Q=Q+Math.imul(he,pe)|0,V=V+Math.imul(K,ot)|0,M=M+Math.imul(K,st)|0,M=M+Math.imul(se,ot)|0,Q=Q+Math.imul(se,st)|0;var Ba=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(Ba>>>26)|0,Ba&=67108863,V=Math.imul(yt,xe),M=Math.imul(yt,ve),M=M+Math.imul(re,xe)|0,Q=Math.imul(re,ve),V=V+Math.imul(Ot,Ke)|0,M=M+Math.imul(Ot,mt)|0,M=M+Math.imul(Ct,Ke)|0,Q=Q+Math.imul(Ct,mt)|0,V=V+Math.imul(pt,Ye)|0,M=M+Math.imul(pt,jt)|0,M=M+Math.imul(qe,Ye)|0,Q=Q+Math.imul(qe,jt)|0,V=V+Math.imul(Ue,it)|0,M=M+Math.imul(Ue,Zt)|0,M=M+Math.imul(Ge,it)|0,Q=Q+Math.imul(Ge,Zt)|0,V=V+Math.imul(Ee,tn)|0,M=M+Math.imul(Ee,W)|0,M=M+Math.imul(Ze,tn)|0,Q=Q+Math.imul(Ze,W)|0,V=V+Math.imul(Ne,q)|0,M=M+Math.imul(Ne,ee)|0,M=M+Math.imul(We,q)|0,Q=Q+Math.imul(We,ee)|0,V=V+Math.imul(ke,ce)|0,M=M+Math.imul(ke,pe)|0,M=M+Math.imul(Ie,ce)|0,Q=Q+Math.imul(Ie,pe)|0,V=V+Math.imul(de,ot)|0,M=M+Math.imul(de,st)|0,M=M+Math.imul(he,ot)|0,Q=Q+Math.imul(he,st)|0,V=V+Math.imul(K,Je)|0,M=M+Math.imul(K,It)|0,M=M+Math.imul(se,Je)|0,Q=Q+Math.imul(se,It)|0;var zt=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(zt>>>26)|0,zt&=67108863,V=Math.imul(X,xe),M=Math.imul(X,ve),M=M+Math.imul(ae,xe)|0,Q=Math.imul(ae,ve),V=V+Math.imul(yt,Ke)|0,M=M+Math.imul(yt,mt)|0,M=M+Math.imul(re,Ke)|0,Q=Q+Math.imul(re,mt)|0,V=V+Math.imul(Ot,Ye)|0,M=M+Math.imul(Ot,jt)|0,M=M+Math.imul(Ct,Ye)|0,Q=Q+Math.imul(Ct,jt)|0,V=V+Math.imul(pt,it)|0,M=M+Math.imul(pt,Zt)|0,M=M+Math.imul(qe,it)|0,Q=Q+Math.imul(qe,Zt)|0,V=V+Math.imul(Ue,tn)|0,M=M+Math.imul(Ue,W)|0,M=M+Math.imul(Ge,tn)|0,Q=Q+Math.imul(Ge,W)|0,V=V+Math.imul(Ee,q)|0,M=M+Math.imul(Ee,ee)|0,M=M+Math.imul(Ze,q)|0,Q=Q+Math.imul(Ze,ee)|0,V=V+Math.imul(Ne,ce)|0,M=M+Math.imul(Ne,pe)|0,M=M+Math.imul(We,ce)|0,Q=Q+Math.imul(We,pe)|0,V=V+Math.imul(ke,ot)|0,M=M+Math.imul(ke,st)|0,M=M+Math.imul(Ie,ot)|0,Q=Q+Math.imul(Ie,st)|0,V=V+Math.imul(de,Je)|0,M=M+Math.imul(de,It)|0,M=M+Math.imul(he,Je)|0,Q=Q+Math.imul(he,It)|0,V=V+Math.imul(K,Wt)|0,M=M+Math.imul(K,Ht)|0,M=M+Math.imul(se,Wt)|0,Q=Q+Math.imul(se,Ht)|0;var Gn=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,V=Math.imul(X,Ke),M=Math.imul(X,mt),M=M+Math.imul(ae,Ke)|0,Q=Math.imul(ae,mt),V=V+Math.imul(yt,Ye)|0,M=M+Math.imul(yt,jt)|0,M=M+Math.imul(re,Ye)|0,Q=Q+Math.imul(re,jt)|0,V=V+Math.imul(Ot,it)|0,M=M+Math.imul(Ot,Zt)|0,M=M+Math.imul(Ct,it)|0,Q=Q+Math.imul(Ct,Zt)|0,V=V+Math.imul(pt,tn)|0,M=M+Math.imul(pt,W)|0,M=M+Math.imul(qe,tn)|0,Q=Q+Math.imul(qe,W)|0,V=V+Math.imul(Ue,q)|0,M=M+Math.imul(Ue,ee)|0,M=M+Math.imul(Ge,q)|0,Q=Q+Math.imul(Ge,ee)|0,V=V+Math.imul(Ee,ce)|0,M=M+Math.imul(Ee,pe)|0,M=M+Math.imul(Ze,ce)|0,Q=Q+Math.imul(Ze,pe)|0,V=V+Math.imul(Ne,ot)|0,M=M+Math.imul(Ne,st)|0,M=M+Math.imul(We,ot)|0,Q=Q+Math.imul(We,st)|0,V=V+Math.imul(ke,Je)|0,M=M+Math.imul(ke,It)|0,M=M+Math.imul(Ie,Je)|0,Q=Q+Math.imul(Ie,It)|0,V=V+Math.imul(de,Wt)|0,M=M+Math.imul(de,Ht)|0,M=M+Math.imul(he,Wt)|0,Q=Q+Math.imul(he,Ht)|0;var nn=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(nn>>>26)|0,nn&=67108863,V=Math.imul(X,Ye),M=Math.imul(X,jt),M=M+Math.imul(ae,Ye)|0,Q=Math.imul(ae,jt),V=V+Math.imul(yt,it)|0,M=M+Math.imul(yt,Zt)|0,M=M+Math.imul(re,it)|0,Q=Q+Math.imul(re,Zt)|0,V=V+Math.imul(Ot,tn)|0,M=M+Math.imul(Ot,W)|0,M=M+Math.imul(Ct,tn)|0,Q=Q+Math.imul(Ct,W)|0,V=V+Math.imul(pt,q)|0,M=M+Math.imul(pt,ee)|0,M=M+Math.imul(qe,q)|0,Q=Q+Math.imul(qe,ee)|0,V=V+Math.imul(Ue,ce)|0,M=M+Math.imul(Ue,pe)|0,M=M+Math.imul(Ge,ce)|0,Q=Q+Math.imul(Ge,pe)|0,V=V+Math.imul(Ee,ot)|0,M=M+Math.imul(Ee,st)|0,M=M+Math.imul(Ze,ot)|0,Q=Q+Math.imul(Ze,st)|0,V=V+Math.imul(Ne,Je)|0,M=M+Math.imul(Ne,It)|0,M=M+Math.imul(We,Je)|0,Q=Q+Math.imul(We,It)|0,V=V+Math.imul(ke,Wt)|0,M=M+Math.imul(ke,Ht)|0,M=M+Math.imul(Ie,Wt)|0,Q=Q+Math.imul(Ie,Ht)|0;var Mn=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,V=Math.imul(X,it),M=Math.imul(X,Zt),M=M+Math.imul(ae,it)|0,Q=Math.imul(ae,Zt),V=V+Math.imul(yt,tn)|0,M=M+Math.imul(yt,W)|0,M=M+Math.imul(re,tn)|0,Q=Q+Math.imul(re,W)|0,V=V+Math.imul(Ot,q)|0,M=M+Math.imul(Ot,ee)|0,M=M+Math.imul(Ct,q)|0,Q=Q+Math.imul(Ct,ee)|0,V=V+Math.imul(pt,ce)|0,M=M+Math.imul(pt,pe)|0,M=M+Math.imul(qe,ce)|0,Q=Q+Math.imul(qe,pe)|0,V=V+Math.imul(Ue,ot)|0,M=M+Math.imul(Ue,st)|0,M=M+Math.imul(Ge,ot)|0,Q=Q+Math.imul(Ge,st)|0,V=V+Math.imul(Ee,Je)|0,M=M+Math.imul(Ee,It)|0,M=M+Math.imul(Ze,Je)|0,Q=Q+Math.imul(Ze,It)|0,V=V+Math.imul(Ne,Wt)|0,M=M+Math.imul(Ne,Ht)|0,M=M+Math.imul(We,Wt)|0,Q=Q+Math.imul(We,Ht)|0;var Lr=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,V=Math.imul(X,tn),M=Math.imul(X,W),M=M+Math.imul(ae,tn)|0,Q=Math.imul(ae,W),V=V+Math.imul(yt,q)|0,M=M+Math.imul(yt,ee)|0,M=M+Math.imul(re,q)|0,Q=Q+Math.imul(re,ee)|0,V=V+Math.imul(Ot,ce)|0,M=M+Math.imul(Ot,pe)|0,M=M+Math.imul(Ct,ce)|0,Q=Q+Math.imul(Ct,pe)|0,V=V+Math.imul(pt,ot)|0,M=M+Math.imul(pt,st)|0,M=M+Math.imul(qe,ot)|0,Q=Q+Math.imul(qe,st)|0,V=V+Math.imul(Ue,Je)|0,M=M+Math.imul(Ue,It)|0,M=M+Math.imul(Ge,Je)|0,Q=Q+Math.imul(Ge,It)|0,V=V+Math.imul(Ee,Wt)|0,M=M+Math.imul(Ee,Ht)|0,M=M+Math.imul(Ze,Wt)|0,Q=Q+Math.imul(Ze,Ht)|0;var Bs=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(Bs>>>26)|0,Bs&=67108863,V=Math.imul(X,q),M=Math.imul(X,ee),M=M+Math.imul(ae,q)|0,Q=Math.imul(ae,ee),V=V+Math.imul(yt,ce)|0,M=M+Math.imul(yt,pe)|0,M=M+Math.imul(re,ce)|0,Q=Q+Math.imul(re,pe)|0,V=V+Math.imul(Ot,ot)|0,M=M+Math.imul(Ot,st)|0,M=M+Math.imul(Ct,ot)|0,Q=Q+Math.imul(Ct,st)|0,V=V+Math.imul(pt,Je)|0,M=M+Math.imul(pt,It)|0,M=M+Math.imul(qe,Je)|0,Q=Q+Math.imul(qe,It)|0,V=V+Math.imul(Ue,Wt)|0,M=M+Math.imul(Ue,Ht)|0,M=M+Math.imul(Ge,Wt)|0,Q=Q+Math.imul(Ge,Ht)|0;var Ua=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(Ua>>>26)|0,Ua&=67108863,V=Math.imul(X,ce),M=Math.imul(X,pe),M=M+Math.imul(ae,ce)|0,Q=Math.imul(ae,pe),V=V+Math.imul(yt,ot)|0,M=M+Math.imul(yt,st)|0,M=M+Math.imul(re,ot)|0,Q=Q+Math.imul(re,st)|0,V=V+Math.imul(Ot,Je)|0,M=M+Math.imul(Ot,It)|0,M=M+Math.imul(Ct,Je)|0,Q=Q+Math.imul(Ct,It)|0,V=V+Math.imul(pt,Wt)|0,M=M+Math.imul(pt,Ht)|0,M=M+Math.imul(qe,Wt)|0,Q=Q+Math.imul(qe,Ht)|0;var gc=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(gc>>>26)|0,gc&=67108863,V=Math.imul(X,ot),M=Math.imul(X,st),M=M+Math.imul(ae,ot)|0,Q=Math.imul(ae,st),V=V+Math.imul(yt,Je)|0,M=M+Math.imul(yt,It)|0,M=M+Math.imul(re,Je)|0,Q=Q+Math.imul(re,It)|0,V=V+Math.imul(Ot,Wt)|0,M=M+Math.imul(Ot,Ht)|0,M=M+Math.imul(Ct,Wt)|0,Q=Q+Math.imul(Ct,Ht)|0;var yu=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(yu>>>26)|0,yu&=67108863,V=Math.imul(X,Je),M=Math.imul(X,It),M=M+Math.imul(ae,Je)|0,Q=Math.imul(ae,It),V=V+Math.imul(yt,Wt)|0,M=M+Math.imul(yt,Ht)|0,M=M+Math.imul(re,Wt)|0,Q=Q+Math.imul(re,Ht)|0;var mc=(J+V|0)+((M&8191)<<13)|0;J=(Q+(M>>>13)|0)+(mc>>>26)|0,mc&=67108863,V=Math.imul(X,Wt),M=Math.imul(X,Ht),M=M+Math.imul(ae,Wt)|0,Q=Math.imul(ae,Ht);var yc=(J+V|0)+((M&8191)<<13)|0;return J=(Q+(M>>>13)|0)+(yc>>>26)|0,yc&=67108863,Y[0]=Xn,Y[1]=ar,Y[2]=qn,Y[3]=mn,Y[4]=Vn,Y[5]=wr,Y[6]=wa,Y[7]=Ba,Y[8]=zt,Y[9]=Gn,Y[10]=nn,Y[11]=Mn,Y[12]=Lr,Y[13]=Bs,Y[14]=Ua,Y[15]=gc,Y[16]=yu,Y[17]=mc,Y[18]=yc,J!==0&&(Y[19]=J,$.length++),$};Math.imul||(I=E);function C(F,_,S){S.negative=_.negative^F.negative,S.length=F.length+_.length;for(var $=0,D=0,z=0;z<S.length-1;z++){var Y=D;D=0;for(var J=$&67108863,V=Math.min(z,_.length-1),M=Math.max(0,z-F.length+1);M<=V;M++){var Q=z-M,ne=F.words[Q]|0,K=_.words[M]|0,se=ne*K,le=se&67108863;Y=Y+(se/67108864|0)|0,le=le+J|0,J=le&67108863,Y=Y+(le>>>26)|0,D+=Y>>>26,Y&=67108863}S.words[z]=J,$=Y,Y=D}return $!==0?S.words[z]=$:S.length--,S._strip()}function N(F,_,S){return C(F,_,S)}a.prototype.mulTo=function(_,S){var $,D=this.length+_.length;return this.length===10&&_.length===10?$=I(this,_,S):D<63?$=E(this,_,S):D<1024?$=C(this,_,S):$=N(this,_,S),$},a.prototype.mul=function(_){var S=new a(null);return S.words=new Array(this.length+_.length),this.mulTo(_,S)},a.prototype.mulf=function(_){var S=new a(null);return S.words=new Array(this.length+_.length),N(this,_,S)},a.prototype.imul=function(_){return this.clone().mulTo(_,this)},a.prototype.imuln=function(_){var S=_<0;S&&(_=-_),r(typeof _=="number"),r(_<67108864);for(var $=0,D=0;D<this.length;D++){var z=(this.words[D]|0)*_,Y=(z&67108863)+($&67108863);$>>=26,$+=z/67108864|0,$+=Y>>>26,this.words[D]=Y&67108863}return $!==0&&(this.words[D]=$,this.length++),this.length=_===0?1:this.length,S?this.ineg():this},a.prototype.muln=function(_){return this.clone().imuln(_)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(_){var S=x(_);if(S.length===0)return new a(1);for(var $=this,D=0;D<S.length&&S[D]===0;D++,$=$.sqr());if(++D<S.length)for(var z=$.sqr();D<S.length;D++,z=z.sqr())S[D]!==0&&($=$.mul(z));return $},a.prototype.iushln=function(_){r(typeof _=="number"&&_>=0);var S=_%26,$=(_-S)/26,D=67108863>>>26-S<<26-S,z;if(S!==0){var Y=0;for(z=0;z<this.length;z++){var J=this.words[z]&D,V=(this.words[z]|0)-J<<S;this.words[z]=V|Y,Y=J>>>26-S}Y&&(this.words[z]=Y,this.length++)}if($!==0){for(z=this.length-1;z>=0;z--)this.words[z+$]=this.words[z];for(z=0;z<$;z++)this.words[z]=0;this.length+=$}return this._strip()},a.prototype.ishln=function(_){return r(this.negative===0),this.iushln(_)},a.prototype.iushrn=function(_,S,$){r(typeof _=="number"&&_>=0);var D;S?D=(S-S%26)/26:D=0;var z=_%26,Y=Math.min((_-z)/26,this.length),J=67108863^67108863>>>z<<z,V=$;if(D-=Y,D=Math.max(0,D),V){for(var M=0;M<Y;M++)V.words[M]=this.words[M];V.length=Y}if(Y!==0)if(this.length>Y)for(this.length-=Y,M=0;M<this.length;M++)this.words[M]=this.words[M+Y];else this.words[0]=0,this.length=1;var Q=0;for(M=this.length-1;M>=0&&(Q!==0||M>=D);M--){var ne=this.words[M]|0;this.words[M]=Q<<26-z|ne>>>z,Q=ne&J}return V&&Q!==0&&(V.words[V.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(_,S,$){return r(this.negative===0),this.iushrn(_,S,$)},a.prototype.shln=function(_){return this.clone().ishln(_)},a.prototype.ushln=function(_){return this.clone().iushln(_)},a.prototype.shrn=function(_){return this.clone().ishrn(_)},a.prototype.ushrn=function(_){return this.clone().iushrn(_)},a.prototype.testn=function(_){r(typeof _=="number"&&_>=0);var S=_%26,$=(_-S)/26,D=1<<S;if(this.length<=$)return!1;var z=this.words[$];return!!(z&D)},a.prototype.imaskn=function(_){r(typeof _=="number"&&_>=0);var S=_%26,$=(_-S)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=$)return this;if(S!==0&&$++,this.length=Math.min($,this.length),S!==0){var D=67108863^67108863>>>S<<S;this.words[this.length-1]&=D}return this._strip()},a.prototype.maskn=function(_){return this.clone().imaskn(_)},a.prototype.iaddn=function(_){return r(typeof _=="number"),r(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<=_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},a.prototype._iaddn=function(_){this.words[0]+=_;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},a.prototype.isubn=function(_){if(r(typeof _=="number"),r(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},a.prototype.addn=function(_){return this.clone().iaddn(_)},a.prototype.subn=function(_){return this.clone().isubn(_)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(_,S,$){var D=_.length+$,z;this._expand(D);var Y,J=0;for(z=0;z<_.length;z++){Y=(this.words[z+$]|0)+J;var V=(_.words[z]|0)*S;Y-=V&67108863,J=(Y>>26)-(V/67108864|0),this.words[z+$]=Y&67108863}for(;z<this.length-$;z++)Y=(this.words[z+$]|0)+J,J=Y>>26,this.words[z+$]=Y&67108863;if(J===0)return this._strip();for(r(J===-1),J=0,z=0;z<this.length;z++)Y=-(this.words[z]|0)+J,J=Y>>26,this.words[z]=Y&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(_,S){var $=this.length-_.length,D=this.clone(),z=_,Y=z.words[z.length-1]|0,J=this._countBits(Y);$=26-J,$!==0&&(z=z.ushln($),D.iushln($),Y=z.words[z.length-1]|0);var V=D.length-z.length,M;if(S!=="mod"){M=new a(null),M.length=V+1,M.words=new Array(M.length);for(var Q=0;Q<M.length;Q++)M.words[Q]=0}var ne=D.clone()._ishlnsubmul(z,1,V);ne.negative===0&&(D=ne,M&&(M.words[V]=1));for(var K=V-1;K>=0;K--){var se=(D.words[z.length+K]|0)*67108864+(D.words[z.length+K-1]|0);for(se=Math.min(se/Y|0,67108863),D._ishlnsubmul(z,se,K);D.negative!==0;)se--,D.negative=0,D._ishlnsubmul(z,1,K),D.isZero()||(D.negative^=1);M&&(M.words[K]=se)}return M&&M._strip(),D._strip(),S!=="div"&&$!==0&&D.iushrn($),{div:M||null,mod:D}},a.prototype.divmod=function(_,S,$){if(r(!_.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var D,z,Y;return this.negative!==0&&_.negative===0?(Y=this.neg().divmod(_,S),S!=="mod"&&(D=Y.div.neg()),S!=="div"&&(z=Y.mod.neg(),$&&z.negative!==0&&z.iadd(_)),{div:D,mod:z}):this.negative===0&&_.negative!==0?(Y=this.divmod(_.neg(),S),S!=="mod"&&(D=Y.div.neg()),{div:D,mod:Y.mod}):(this.negative&_.negative)!==0?(Y=this.neg().divmod(_.neg(),S),S!=="div"&&(z=Y.mod.neg(),$&&z.negative!==0&&z.isub(_)),{div:Y.div,mod:z}):_.length>this.length||this.cmp(_)<0?{div:new a(0),mod:this}:_.length===1?S==="div"?{div:this.divn(_.words[0]),mod:null}:S==="mod"?{div:null,mod:new a(this.modrn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new a(this.modrn(_.words[0]))}:this._wordDiv(_,S)},a.prototype.div=function(_){return this.divmod(_,"div",!1).div},a.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},a.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},a.prototype.divRound=function(_){var S=this.divmod(_);if(S.mod.isZero())return S.div;var $=S.div.negative!==0?S.mod.isub(_):S.mod,D=_.ushrn(1),z=_.andln(1),Y=$.cmp(D);return Y<0||z===1&&Y===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},a.prototype.modrn=function(_){var S=_<0;S&&(_=-_),r(_<=67108863);for(var $=(1<<26)%_,D=0,z=this.length-1;z>=0;z--)D=($*D+(this.words[z]|0))%_;return S?-D:D},a.prototype.modn=function(_){return this.modrn(_)},a.prototype.idivn=function(_){var S=_<0;S&&(_=-_),r(_<=67108863);for(var $=0,D=this.length-1;D>=0;D--){var z=(this.words[D]|0)+$*67108864;this.words[D]=z/_|0,$=z%_}return this._strip(),S?this.ineg():this},a.prototype.divn=function(_){return this.clone().idivn(_)},a.prototype.egcd=function(_){r(_.negative===0),r(!_.isZero());var S=this,$=_.clone();S.negative!==0?S=S.umod(_):S=S.clone();for(var D=new a(1),z=new a(0),Y=new a(0),J=new a(1),V=0;S.isEven()&&$.isEven();)S.iushrn(1),$.iushrn(1),++V;for(var M=$.clone(),Q=S.clone();!S.isZero();){for(var ne=0,K=1;(S.words[0]&K)===0&&ne<26;++ne,K<<=1);if(ne>0)for(S.iushrn(ne);ne-- >0;)(D.isOdd()||z.isOdd())&&(D.iadd(M),z.isub(Q)),D.iushrn(1),z.iushrn(1);for(var se=0,le=1;($.words[0]&le)===0&&se<26;++se,le<<=1);if(se>0)for($.iushrn(se);se-- >0;)(Y.isOdd()||J.isOdd())&&(Y.iadd(M),J.isub(Q)),Y.iushrn(1),J.iushrn(1);S.cmp($)>=0?(S.isub($),D.isub(Y),z.isub(J)):($.isub(S),Y.isub(D),J.isub(z))}return{a:Y,b:J,gcd:$.iushln(V)}},a.prototype._invmp=function(_){r(_.negative===0),r(!_.isZero());var S=this,$=_.clone();S.negative!==0?S=S.umod(_):S=S.clone();for(var D=new a(1),z=new a(0),Y=$.clone();S.cmpn(1)>0&&$.cmpn(1)>0;){for(var J=0,V=1;(S.words[0]&V)===0&&J<26;++J,V<<=1);if(J>0)for(S.iushrn(J);J-- >0;)D.isOdd()&&D.iadd(Y),D.iushrn(1);for(var M=0,Q=1;($.words[0]&Q)===0&&M<26;++M,Q<<=1);if(M>0)for($.iushrn(M);M-- >0;)z.isOdd()&&z.iadd(Y),z.iushrn(1);S.cmp($)>=0?(S.isub($),D.isub(z)):($.isub(S),z.isub(D))}var ne;return S.cmpn(1)===0?ne=D:ne=z,ne.cmpn(0)<0&&ne.iadd(_),ne},a.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var S=this.clone(),$=_.clone();S.negative=0,$.negative=0;for(var D=0;S.isEven()&&$.isEven();D++)S.iushrn(1),$.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;$.isEven();)$.iushrn(1);var z=S.cmp($);if(z<0){var Y=S;S=$,$=Y}else if(z===0||$.cmpn(1)===0)break;S.isub($)}while(!0);return $.iushln(D)},a.prototype.invm=function(_){return this.egcd(_).a.umod(_)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(_){return this.words[0]&_},a.prototype.bincn=function(_){r(typeof _=="number");var S=_%26,$=(_-S)/26,D=1<<S;if(this.length<=$)return this._expand($+1),this.words[$]|=D,this;for(var z=D,Y=$;z!==0&&Y<this.length;Y++){var J=this.words[Y]|0;J+=z,z=J>>>26,J&=67108863,this.words[Y]=J}return z!==0&&(this.words[Y]=z,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(_){var S=_<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this._strip();var $;if(this.length>1)$=1;else{S&&(_=-_),r(_<=67108863,"Number is too big");var D=this.words[0]|0;$=D===_?0:D<_?-1:1}return this.negative!==0?-$|0:$},a.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var S=this.ucmp(_);return this.negative!==0?-S|0:S},a.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var S=0,$=this.length-1;$>=0;$--){var D=this.words[$]|0,z=_.words[$]|0;if(D!==z){D<z?S=-1:D>z&&(S=1);break}}return S},a.prototype.gtn=function(_){return this.cmpn(_)===1},a.prototype.gt=function(_){return this.cmp(_)===1},a.prototype.gten=function(_){return this.cmpn(_)>=0},a.prototype.gte=function(_){return this.cmp(_)>=0},a.prototype.ltn=function(_){return this.cmpn(_)===-1},a.prototype.lt=function(_){return this.cmp(_)===-1},a.prototype.lten=function(_){return this.cmpn(_)<=0},a.prototype.lte=function(_){return this.cmp(_)<=0},a.prototype.eqn=function(_){return this.cmpn(_)===0},a.prototype.eq=function(_){return this.cmp(_)===0},a.red=function(_){return new G(_)},a.prototype.toRed=function(_){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(_){return this.red=_,this},a.prototype.forceRed=function(_){return r(!this.red,"Already a number in reduction context"),this._forceRed(_)},a.prototype.redAdd=function(_){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},a.prototype.redIAdd=function(_){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},a.prototype.redSub=function(_){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},a.prototype.redISub=function(_){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},a.prototype.redShl=function(_){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},a.prototype.redMul=function(_){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},a.prototype.redIMul=function(_){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(_){return r(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var A={k256:null,p224:null,p192:null,p25519:null};function T(F,_){this.name=F,this.p=new a(_,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var _=new a(null);return _.words=new Array(Math.ceil(this.n/13)),_},T.prototype.ireduce=function(_){var S=_,$;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),$=S.bitLength();while($>this.n);var D=$<this.n?-1:S.ucmp(this.p);return D===0?(S.words[0]=0,S.length=1):D>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},T.prototype.split=function(_,S){_.iushrn(this.n,0,S)},T.prototype.imulK=function(_){return _.imul(this.k)};function O(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(O,T),O.prototype.split=function(_,S){for(var $=4194303,D=Math.min(_.length,9),z=0;z<D;z++)S.words[z]=_.words[z];if(S.length=D,_.length<=9){_.words[0]=0,_.length=1;return}var Y=_.words[9];for(S.words[S.length++]=Y&$,z=10;z<_.length;z++){var J=_.words[z]|0;_.words[z-10]=(J&$)<<4|Y>>>22,Y=J}Y>>>=22,_.words[z-10]=Y,Y===0&&_.length>10?_.length-=10:_.length-=9},O.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var S=0,$=0;$<_.length;$++){var D=_.words[$]|0;S+=D*977,_.words[$]=S&67108863,S=D*64+(S/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function H(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,T);function U(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(U,T);function L(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(L,T),L.prototype.imulK=function(_){for(var S=0,$=0;$<_.length;$++){var D=(_.words[$]|0)*19+S,z=D&67108863;D>>>=26,_.words[$]=z,S=D}return S!==0&&(_.words[_.length++]=S),_},a._prime=function(_){if(A[_])return A[_];var S;if(_==="k256")S=new O;else if(_==="p224")S=new H;else if(_==="p192")S=new U;else if(_==="p25519")S=new L;else throw new Error("Unknown prime "+_);return A[_]=S,S};function G(F){if(typeof F=="string"){var _=a._prime(F);this.m=_.p,this.prime=_}else r(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}G.prototype._verify1=function(_){r(_.negative===0,"red works only with positives"),r(_.red,"red works only with red numbers")},G.prototype._verify2=function(_,S){r((_.negative|S.negative)===0,"red works only with positives"),r(_.red&&_.red===S.red,"red works only with red numbers")},G.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):(d(_,_.umod(this.m)._forceRed(this)),_)},G.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},G.prototype.add=function(_,S){this._verify2(_,S);var $=_.add(S);return $.cmp(this.m)>=0&&$.isub(this.m),$._forceRed(this)},G.prototype.iadd=function(_,S){this._verify2(_,S);var $=_.iadd(S);return $.cmp(this.m)>=0&&$.isub(this.m),$},G.prototype.sub=function(_,S){this._verify2(_,S);var $=_.sub(S);return $.cmpn(0)<0&&$.iadd(this.m),$._forceRed(this)},G.prototype.isub=function(_,S){this._verify2(_,S);var $=_.isub(S);return $.cmpn(0)<0&&$.iadd(this.m),$},G.prototype.shl=function(_,S){return this._verify1(_),this.imod(_.ushln(S))},G.prototype.imul=function(_,S){return this._verify2(_,S),this.imod(_.imul(S))},G.prototype.mul=function(_,S){return this._verify2(_,S),this.imod(_.mul(S))},G.prototype.isqr=function(_){return this.imul(_,_.clone())},G.prototype.sqr=function(_){return this.mul(_,_)},G.prototype.sqrt=function(_){if(_.isZero())return _.clone();var S=this.m.andln(3);if(r(S%2===1),S===3){var $=this.m.add(new a(1)).iushrn(2);return this.pow(_,$)}for(var D=this.m.subn(1),z=0;!D.isZero()&&D.andln(1)===0;)z++,D.iushrn(1);r(!D.isZero());var Y=new a(1).toRed(this),J=Y.redNeg(),V=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new a(2*M*M).toRed(this);this.pow(M,V).cmp(J)!==0;)M.redIAdd(J);for(var Q=this.pow(M,D),ne=this.pow(_,D.addn(1).iushrn(1)),K=this.pow(_,D),se=z;K.cmp(Y)!==0;){for(var le=K,de=0;le.cmp(Y)!==0;de++)le=le.redSqr();r(de<se);var he=this.pow(Q,new a(1).iushln(se-de-1));ne=ne.redMul(he),Q=he.redSqr(),K=K.redMul(Q),se=de}return ne},G.prototype.invm=function(_){var S=_._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},G.prototype.pow=function(_,S){if(S.isZero())return new a(1).toRed(this);if(S.cmpn(1)===0)return _.clone();var $=4,D=new Array(1<<$);D[0]=new a(1).toRed(this),D[1]=_;for(var z=2;z<D.length;z++)D[z]=this.mul(D[z-1],_);var Y=D[0],J=0,V=0,M=S.bitLength()%26;for(M===0&&(M=26),z=S.length-1;z>=0;z--){for(var Q=S.words[z],ne=M-1;ne>=0;ne--){var K=Q>>ne&1;if(Y!==D[0]&&(Y=this.sqr(Y)),K===0&&J===0){V=0;continue}J<<=1,J|=K,V++,!(V!==$&&(z!==0||ne!==0))&&(Y=this.mul(Y,D[J]),V=0,J=0)}M=26}return Y},G.prototype.convertTo=function(_){var S=_.umod(this.m);return S===_?S.clone():S},G.prototype.convertFrom=function(_){var S=_.clone();return S.red=null,S},a.mont=function(_){return new R(_)};function R(F){G.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(R,G),R.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},R.prototype.convertFrom=function(_){var S=this.imod(_.mul(this.rinv));return S.red=null,S},R.prototype.imul=function(_,S){if(_.isZero()||S.isZero())return _.words[0]=0,_.length=1,_;var $=_.imul(S),D=$.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=$.isub(D).iushrn(this.shift),Y=z;return z.cmp(this.m)>=0?Y=z.isub(this.m):z.cmpn(0)<0&&(Y=z.iadd(this.m)),Y._forceRed(this)},R.prototype.mul=function(_,S){if(_.isZero()||S.isZero())return new a(0)._forceRed(this);var $=_.mul(S),D=$.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=$.isub(D).iushrn(this.shift),Y=z;return z.cmp(this.m)>=0?Y=z.isub(this.m):z.cmpn(0)<0&&(Y=z.iadd(this.m)),Y._forceRed(this)},R.prototype.invm=function(_){var S=this.imod(_._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(t,Y5e)})(c5)),c5.exports}var J5e=Z5e();const en=ja(J5e),X5e="bytes/5.8.0",Wr=new Le(X5e);function $X(t){return!!t.toHexString}function wg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return wg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function vN(t){return yr(t)&&!(t.length%2)||xm(t)}function LU(t){return typeof t=="number"&&t==t&&t%1===0}function xm(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!LU(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!LU(n)||n<0||n>=256)return!1}return!0}function un(t,e){if(e||(e={}),typeof t=="number"){Wr.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),wg(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),$X(t)&&(t=t.toHexString()),yr(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Wr.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return wg(new Uint8Array(r))}return xm(t)?wg(new Uint8Array(t)):Wr.throwArgumentError("invalid arrayify value","value",t)}function y0(t){const e=t.map(i=>un(i)),n=e.reduce((i,a)=>i+a.length,0),r=new Uint8Array(n);return e.reduce((i,a)=>(r.set(a,i),i+a.length),0),wg(r)}function Fg(t){let e=un(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function Q5e(t,e){t=un(t),t.length>e&&Wr.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),wg(n)}function yr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const x_="0123456789abcdef";function cn(t,e){if(e||(e={}),typeof t=="number"){Wr.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=x_[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),$X(t))return t.toHexString();if(yr(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Wr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(xm(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=x_[(i&240)>>4]+x_[i&15]}return n}return Wr.throwArgumentError("invalid hexlify value","value",t)}function q0(t){if(typeof t!="string")t=cn(t);else if(!yr(t)||t.length%2)return null;return(t.length-2)/2}function za(t,e,n){return typeof t!="string"?t=cn(t):(!yr(t)||t.length%2)&&Wr.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function so(t){let e="0x";return t.forEach(n=>{e+=cn(n).substring(2)}),e}function xN(t){const e=e6e(cn(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function e6e(t){typeof t!="string"&&(t=cn(t)),yr(t)||Wr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function qr(t,e){for(typeof t!="string"?t=cn(t):yr(t)||Wr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Wr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Z4(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(vN(t)){let n=un(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=cn(n.slice(0,32)),e.s=cn(n.slice(32,64))):n.length===65?(e.r=cn(n.slice(0,32)),e.s=cn(n.slice(32,64)),e.v=n[64]):Wr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Wr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=cn(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Q5e(un(e._vs),32);e._vs=cn(i);const a=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=a:e.recoveryParam!==a&&Wr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=cn(i);e.s==null?e.s=s:e.s!==s&&Wr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Wr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Wr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!yr(e.r)?Wr.throwArgumentError("signature missing or invalid r","signature",t):e.r=qr(e.r,32),e.s==null||!yr(e.s)?Wr.throwArgumentError("signature missing or invalid s","signature",t):e.s=qr(e.s,32);const n=un(e.s);n[0]>=128&&Wr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=cn(n);e._vs&&(yr(e._vs)||Wr.throwArgumentError("signature invalid _vs","signature",t),e._vs=qr(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&Wr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const NX="bignumber/5.8.0";var n6=en.BN;const Ku=new Le(NX),E_={},FU=9007199254740991;function t6e(t){return t!=null&&(bt.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||yr(t)||typeof t=="bigint"||xm(t))}let zU=!1;class bt{constructor(e,n){e!==E_&&Ku.throwError("cannot call constructor directly; use BigNumber.from",Le.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return cs(_n(this).fromTwos(e))}toTwos(e){return cs(_n(this).toTwos(e))}abs(){return this._hex[0]==="-"?bt.from(this._hex.substring(1)):this}add(e){return cs(_n(this).add(_n(e)))}sub(e){return cs(_n(this).sub(_n(e)))}div(e){return bt.from(e).isZero()&&Po("division-by-zero","div"),cs(_n(this).div(_n(e)))}mul(e){return cs(_n(this).mul(_n(e)))}mod(e){const n=_n(e);return n.isNeg()&&Po("division-by-zero","mod"),cs(_n(this).umod(n))}pow(e){const n=_n(e);return n.isNeg()&&Po("negative-power","pow"),cs(_n(this).pow(n))}and(e){const n=_n(e);return(this.isNegative()||n.isNeg())&&Po("unbound-bitwise-result","and"),cs(_n(this).and(n))}or(e){const n=_n(e);return(this.isNegative()||n.isNeg())&&Po("unbound-bitwise-result","or"),cs(_n(this).or(n))}xor(e){const n=_n(e);return(this.isNegative()||n.isNeg())&&Po("unbound-bitwise-result","xor"),cs(_n(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&Po("negative-width","mask"),cs(_n(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Po("negative-width","shl"),cs(_n(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Po("negative-width","shr"),cs(_n(this).shrn(e))}eq(e){return _n(this).eq(_n(e))}lt(e){return _n(this).lt(_n(e))}lte(e){return _n(this).lte(_n(e))}gt(e){return _n(this).gt(_n(e))}gte(e){return _n(this).gte(_n(e))}isNegative(){return this._hex[0]==="-"}isZero(){return _n(this).isZero()}toNumber(){try{return _n(this).toNumber()}catch{Po("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ku.throwError("this platform does not support BigInt",Le.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?zU||(zU=!0,Ku.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ku.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Le.errors.UNEXPECTED_ARGUMENT,{}):Ku.throwError("BigNumber.toString does not accept parameters",Le.errors.UNEXPECTED_ARGUMENT,{})),_n(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof bt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new bt(E_,iw(e)):e.match(/^-?[0-9]+$/)?new bt(E_,iw(new n6(e))):Ku.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Po("underflow","BigNumber.from",e),(e>=FU||e<=-FU)&&Po("overflow","BigNumber.from",e),bt.from(String(e));const n=e;if(typeof n=="bigint")return bt.from(n.toString());if(xm(n))return bt.from(cn(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return bt.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(yr(r)||r[0]==="-"&&yr(r.substring(1))))return bt.from(r)}return Ku.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function iw(t){if(typeof t!="string")return iw(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ku.throwArgumentError("invalid hex","value",t),t=iw(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function cs(t){return bt.from(iw(t))}function _n(t){const e=bt.from(t).toHexString();return e[0]==="-"?new n6("-"+e.substring(3),16):new n6(e.substring(2),16)}function Po(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),Ku.throwError(t,Le.errors.NUMERIC_FAULT,r)}function n6e(t){return new n6(t,36).toString(16)}const Va=new Le(NX),V2={},PX=bt.from(0),OX=bt.from(-1);function RX(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),Va.throwError(t,Le.errors.NUMERIC_FAULT,i)}let G2="0";for(;G2.length<256;)G2+=G2;function EN(t){if(typeof t!="number")try{t=bt.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+G2.substring(0,t):Va.throwArgumentError("invalid decimal size","decimals",t)}function __(t,e){e==null&&(e=0);const n=EN(e);t=bt.from(t);const r=t.lt(PX);r&&(t=t.mul(OX));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=t.div(n).toString();return n.length===1?t=a:t=a+"."+i,r&&(t="-"+t),t}function jc(t,e){e==null&&(e=0);const n=EN(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Va.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&Va.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Va.throwArgumentError("too many decimal points","value",t);let a=i[0],s=i[1];for(a||(a="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>n.length-1&&RX("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<n.length-1;)s+="0";const o=bt.from(a),l=bt.from(s);let u=o.mul(n).add(l);return r&&(u=u.mul(OX)),u}class vg{constructor(e,n,r,i){e!==V2&&Va.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Le.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=EN(i),Object.freeze(this)}static from(e){if(e instanceof vg)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const a=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||Va.throwArgumentError("invalid fixed format","format",e),n=a[1]!=="u",r=parseInt(a[2]),i=parseInt(a[3])}}else if(e){const a=(s,o,l)=>e[s]==null?l:(typeof e[s]!==o&&Va.throwArgumentError("invalid fixed format ("+s+" not "+o+")","format."+s,e[s]),e[s]);n=a("signed","boolean",n),r=a("width","number",r),i=a("decimals","number",i)}return r%8&&Va.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&Va.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new vg(V2,n,r,i)}}class sa{constructor(e,n,r,i){e!==V2&&Va.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Le.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Va.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=jc(this._value,this.format.decimals),r=jc(e._value,e.format.decimals);return sa.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=jc(this._value,this.format.decimals),r=jc(e._value,e.format.decimals);return sa.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=jc(this._value,this.format.decimals),r=jc(e._value,e.format.decimals);return sa.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=jc(this._value,this.format.decimals),r=jc(e._value,e.format.decimals);return sa.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=sa.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(WU.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=sa.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(WU.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&Va.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=sa.from("1"+G2.substring(0,e),this.format),i=r6e.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Va.throwArgumentError("invalid byte width","width",e);const n=bt.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return qr(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return sa.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!t6e(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),sa.fromString(__(e,n),vg.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=vg.from(n),i=jc(e,r.decimals);!r.signed&&i.lt(PX)&&RX("unsigned value cannot be negative","overflow","value",e);let a=null;r.signed?a=i.toTwos(r.width).toHexString():(a=i.toHexString(),a=qr(a,r.width/8));const s=__(i,r.decimals);return new sa(V2,a,s,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=vg.from(n);if(un(e).length>r.width/8)throw new Error("overflow");let i=bt.from(e);r.signed&&(i=i.fromTwos(r.width));const a=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=__(i,r.decimals);return new sa(V2,a,s,r)}static from(e,n){if(typeof e=="string")return sa.fromString(e,n);if(xm(e))return sa.fromBytes(e,n);try{return sa.fromValue(e,0,n)}catch(r){if(r.code!==Le.errors.INVALID_ARGUMENT)throw r}return Va.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const WU=sa.from(1),r6e=sa.from("0.5"),i6e="abstract-provider/5.8.0";var a6e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const s6e=new Le(i6e);class o6e extends W5e{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class _N{constructor(){s6e.checkAbstract(new.target,_N),Cn(this,"_isProvider",!0)}getFeeData(){return a6e(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield la({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let r=null,i=null,a=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,a=bt.from("1500000000"),i=e.baseFeePerGas.mul(2).add(a)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:a,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const l6e="networks/5.8.0",HU=new Le(l6e);function c6e(t){return t&&typeof t.renetwork=="function"}function Ul(t){const e=function(n,r){r==null&&(r={});const i=[];if(n.InfuraProvider&&r.infura!=="-")try{i.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{i.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{i.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){const a=["goerli","ropsten","rinkeby","sepolia"];try{const s=new n.PocketProvider(t,r.pocket);s.network&&a.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{const a=["ropsten"],s=new n.AnkrProvider(t,r.ankr);s.network&&a.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(n.QuickNodeProvider&&r.quicknode!=="-")try{i.push(new n.QuickNodeProvider(t,r.quicknode))}catch{}if(i.length===0)return null;if(n.FallbackProvider){let a=1;return r.quorum!=null?a=r.quorum:t==="homestead"&&(a=2),new n.FallbackProvider(i,a)}return i[0]};return e.renetwork=function(n){return Ul(n)},e}function r6(t,e){const n=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return r6(t,r)},n}const qU={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Ul("homestead")},VU={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Ul("ropsten")},GU={chainId:63,name:"classicMordor",_defaultProvider:r6("https://www.ethercluster.com/mordor","classicMordor")},nx={unspecified:{chainId:0,name:"unspecified"},homestead:qU,mainnet:qU,morden:{chainId:2,name:"morden"},ropsten:VU,testnet:VU,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Ul("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Ul("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Ul("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Ul("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Ul("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:r6("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:GU,classicTestnet:GU,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:r6("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Ul("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Ul("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Ul("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function u6e(t){if(t==null)return null;if(typeof t=="number"){for(const r in nx){const i=nx[r];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const r=nx[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=nx[t.name];if(!e)return typeof t.chainId!="number"&&HU.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&HU.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(c6e(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}function MX(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return un(e)}function jX(t){t=un(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}class DX{constructor(e){Cn(this,"alphabet",e),Cn(this,"base",e.length),Cn(this,"_alphabetMap",{}),Cn(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=un(e);if(n.length===0)return"";let r=[0];for(let a=0;a<n.length;++a){let s=n[a];for(let o=0;o<r.length;++o)s+=r[o]<<8,r[o]=s%this.base,s=s/this.base|0;for(;s>0;)r.push(s%this.base),s=s/this.base|0}let i="";for(let a=0;n[a]===0&&a<n.length-1;++a)i+=this._leader;for(let a=r.length-1;a>=0;--a)i+=this.alphabet[r[a]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let a=i;for(let s=0;s<n.length;++s)a+=n[s]*this.base,n[s]=a&255,a>>=8;for(;a>0;)n.push(a&255),a>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return un(new Uint8Array(n.reverse()))}}new DX("abcdefghijklmnopqrstuvwxyz234567");const Uk=new DX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),d6e="0x0000000000000000000000000000000000000000",f6e=bt.from(0),h6e="0x0000000000000000000000000000000000000000000000000000000000000000";var A_={exports:{}},KU;function p6e(){return KU||(KU=1,(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var a=!r&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof Er=="object"&&Er.versions&&Er.versions.node;s?i=zl:a&&(i=self);var o=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),d=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],g=[1,256,65536,16777216],m=[6,1536,393216,100663296],b=[0,8,16,24],w=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],x=[224,256,384,512],E=[128,256],I=["hex","buffer","arrayBuffer","array","digest"],C={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(K){return Object.prototype.toString.call(K)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(K){return typeof K=="object"&&K.buffer&&K.buffer.constructor===ArrayBuffer});for(var N=function(K,se,le){return function(de){return new M(K,se,K).update(de)[le]()}},A=function(K,se,le){return function(de,he){return new M(K,se,he).update(de)[le]()}},T=function(K,se,le){return function(de,he,Ce,ke){return _["cshake"+K].update(de,he,Ce,ke)[le]()}},O=function(K,se,le){return function(de,he,Ce,ke){return _["kmac"+K].update(de,he,Ce,ke)[le]()}},H=function(K,se,le,de){for(var he=0;he<I.length;++he){var Ce=I[he];K[Ce]=se(le,de,Ce)}return K},U=function(K,se){var le=N(K,se,"hex");return le.create=function(){return new M(K,se,K)},le.update=function(de){return le.create().update(de)},H(le,N,K,se)},L=function(K,se){var le=A(K,se,"hex");return le.create=function(de){return new M(K,se,de)},le.update=function(de,he){return le.create(he).update(de)},H(le,A,K,se)},G=function(K,se){var le=C[K],de=T(K,se,"hex");return de.create=function(he,Ce,ke){return!Ce&&!ke?_["shake"+K].create(he):new M(K,se,he).bytepad([Ce,ke],le)},de.update=function(he,Ce,ke,Ie){return de.create(Ce,ke,Ie).update(he)},H(de,T,K,se)},R=function(K,se){var le=C[K],de=O(K,se,"hex");return de.create=function(he,Ce,ke){return new Q(K,se,Ce).bytepad(["KMAC",ke],le).bytepad([he],le)},de.update=function(he,Ce,ke,Ie){return de.create(he,ke,Ie).update(Ce)},H(de,O,K,se)},F=[{name:"keccak",padding:g,bits:x,createMethod:U},{name:"sha3",padding:m,bits:x,createMethod:U},{name:"shake",padding:d,bits:E,createMethod:L},{name:"cshake",padding:h,bits:E,createMethod:G},{name:"kmac",padding:h,bits:E,createMethod:R}],_={},S=[],$=0;$<F.length;++$)for(var D=F[$],z=D.bits,Y=0;Y<z.length;++Y){var J=D.name+"_"+z[Y];if(S.push(J),_[J]=D.createMethod(z[Y],D.padding),D.name!=="sha3"){var V=D.name+z[Y];S.push(V),_[V]=_[J]}}function M(K,se,le){this.blocks=[],this.s=[],this.padding=se,this.outputBits=le,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(K<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=le>>5,this.extraBytes=(le&31)>>3;for(var de=0;de<50;++de)this.s[de]=0}M.prototype.update=function(K){if(this.finalized)throw new Error(n);var se,le=typeof K;if(le!=="string"){if(le==="object"){if(K===null)throw new Error(e);if(l&&K.constructor===ArrayBuffer)K=new Uint8Array(K);else if(!Array.isArray(K)&&(!l||!ArrayBuffer.isView(K)))throw new Error(e)}else throw new Error(e);se=!0}for(var de=this.blocks,he=this.byteCount,Ce=K.length,ke=this.blockCount,Ie=0,De=this.s,Ne,We;Ie<Ce;){if(this.reset)for(this.reset=!1,de[0]=this.block,Ne=1;Ne<ke+1;++Ne)de[Ne]=0;if(se)for(Ne=this.start;Ie<Ce&&Ne<he;++Ie)de[Ne>>2]|=K[Ie]<<b[Ne++&3];else for(Ne=this.start;Ie<Ce&&Ne<he;++Ie)We=K.charCodeAt(Ie),We<128?de[Ne>>2]|=We<<b[Ne++&3]:We<2048?(de[Ne>>2]|=(192|We>>6)<<b[Ne++&3],de[Ne>>2]|=(128|We&63)<<b[Ne++&3]):We<55296||We>=57344?(de[Ne>>2]|=(224|We>>12)<<b[Ne++&3],de[Ne>>2]|=(128|We>>6&63)<<b[Ne++&3],de[Ne>>2]|=(128|We&63)<<b[Ne++&3]):(We=65536+((We&1023)<<10|K.charCodeAt(++Ie)&1023),de[Ne>>2]|=(240|We>>18)<<b[Ne++&3],de[Ne>>2]|=(128|We>>12&63)<<b[Ne++&3],de[Ne>>2]|=(128|We>>6&63)<<b[Ne++&3],de[Ne>>2]|=(128|We&63)<<b[Ne++&3]);if(this.lastByteIndex=Ne,Ne>=he){for(this.start=Ne-he,this.block=de[ke],Ne=0;Ne<ke;++Ne)De[Ne]^=de[Ne];ne(De),this.reset=!0}else this.start=Ne}return this},M.prototype.encode=function(K,se){var le=K&255,de=1,he=[le];for(K=K>>8,le=K&255;le>0;)he.unshift(le),K=K>>8,le=K&255,++de;return se?he.push(de):he.unshift(de),this.update(he),he.length},M.prototype.encodeString=function(K){var se,le=typeof K;if(le!=="string"){if(le==="object"){if(K===null)throw new Error(e);if(l&&K.constructor===ArrayBuffer)K=new Uint8Array(K);else if(!Array.isArray(K)&&(!l||!ArrayBuffer.isView(K)))throw new Error(e)}else throw new Error(e);se=!0}var de=0,he=K.length;if(se)de=he;else for(var Ce=0;Ce<K.length;++Ce){var ke=K.charCodeAt(Ce);ke<128?de+=1:ke<2048?de+=2:ke<55296||ke>=57344?de+=3:(ke=65536+((ke&1023)<<10|K.charCodeAt(++Ce)&1023),de+=4)}return de+=this.encode(de*8),this.update(K),de},M.prototype.bytepad=function(K,se){for(var le=this.encode(se),de=0;de<K.length;++de)le+=this.encodeString(K[de]);var he=se-le%se,Ce=[];return Ce.length=he,this.update(Ce),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var K=this.blocks,se=this.lastByteIndex,le=this.blockCount,de=this.s;if(K[se>>2]|=this.padding[se&3],this.lastByteIndex===this.byteCount)for(K[0]=K[le],se=1;se<le+1;++se)K[se]=0;for(K[le-1]|=2147483648,se=0;se<le;++se)de[se]^=K[se];ne(de)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var K=this.blockCount,se=this.s,le=this.outputBlocks,de=this.extraBytes,he=0,Ce=0,ke="",Ie;Ce<le;){for(he=0;he<K&&Ce<le;++he,++Ce)Ie=se[he],ke+=u[Ie>>4&15]+u[Ie&15]+u[Ie>>12&15]+u[Ie>>8&15]+u[Ie>>20&15]+u[Ie>>16&15]+u[Ie>>28&15]+u[Ie>>24&15];Ce%K===0&&(ne(se),he=0)}return de&&(Ie=se[he],ke+=u[Ie>>4&15]+u[Ie&15],de>1&&(ke+=u[Ie>>12&15]+u[Ie>>8&15]),de>2&&(ke+=u[Ie>>20&15]+u[Ie>>16&15])),ke},M.prototype.arrayBuffer=function(){this.finalize();var K=this.blockCount,se=this.s,le=this.outputBlocks,de=this.extraBytes,he=0,Ce=0,ke=this.outputBits>>3,Ie;de?Ie=new ArrayBuffer(le+1<<2):Ie=new ArrayBuffer(ke);for(var De=new Uint32Array(Ie);Ce<le;){for(he=0;he<K&&Ce<le;++he,++Ce)De[Ce]=se[he];Ce%K===0&&ne(se)}return de&&(De[he]=se[he],Ie=Ie.slice(0,ke)),Ie},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var K=this.blockCount,se=this.s,le=this.outputBlocks,de=this.extraBytes,he=0,Ce=0,ke=[],Ie,De;Ce<le;){for(he=0;he<K&&Ce<le;++he,++Ce)Ie=Ce<<2,De=se[he],ke[Ie]=De&255,ke[Ie+1]=De>>8&255,ke[Ie+2]=De>>16&255,ke[Ie+3]=De>>24&255;Ce%K===0&&ne(se)}return de&&(Ie=Ce<<2,De=se[he],ke[Ie]=De&255,de>1&&(ke[Ie+1]=De>>8&255),de>2&&(ke[Ie+2]=De>>16&255)),ke};function Q(K,se,le){M.call(this,K,se,le)}Q.prototype=new M,Q.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var ne=function(K){var se,le,de,he,Ce,ke,Ie,De,Ne,We,tt,Ee,Ze,xt,Ue,Ge,rt,pt,qe,ht,Ot,Ct,gt,yt,re,Z,X,ae,ge,xe,ve,nt,Ke,mt,Mt,Ye,jt,Xt,it,Zt,ir,tn,W,j,q,ee,ie,ce,pe,je,ot,st,At,Je,It,St,Wt,Ht,Xn,ar,qn,mn,Vn;for(de=0;de<48;de+=2)he=K[0]^K[10]^K[20]^K[30]^K[40],Ce=K[1]^K[11]^K[21]^K[31]^K[41],ke=K[2]^K[12]^K[22]^K[32]^K[42],Ie=K[3]^K[13]^K[23]^K[33]^K[43],De=K[4]^K[14]^K[24]^K[34]^K[44],Ne=K[5]^K[15]^K[25]^K[35]^K[45],We=K[6]^K[16]^K[26]^K[36]^K[46],tt=K[7]^K[17]^K[27]^K[37]^K[47],Ee=K[8]^K[18]^K[28]^K[38]^K[48],Ze=K[9]^K[19]^K[29]^K[39]^K[49],se=Ee^(ke<<1|Ie>>>31),le=Ze^(Ie<<1|ke>>>31),K[0]^=se,K[1]^=le,K[10]^=se,K[11]^=le,K[20]^=se,K[21]^=le,K[30]^=se,K[31]^=le,K[40]^=se,K[41]^=le,se=he^(De<<1|Ne>>>31),le=Ce^(Ne<<1|De>>>31),K[2]^=se,K[3]^=le,K[12]^=se,K[13]^=le,K[22]^=se,K[23]^=le,K[32]^=se,K[33]^=le,K[42]^=se,K[43]^=le,se=ke^(We<<1|tt>>>31),le=Ie^(tt<<1|We>>>31),K[4]^=se,K[5]^=le,K[14]^=se,K[15]^=le,K[24]^=se,K[25]^=le,K[34]^=se,K[35]^=le,K[44]^=se,K[45]^=le,se=De^(Ee<<1|Ze>>>31),le=Ne^(Ze<<1|Ee>>>31),K[6]^=se,K[7]^=le,K[16]^=se,K[17]^=le,K[26]^=se,K[27]^=le,K[36]^=se,K[37]^=le,K[46]^=se,K[47]^=le,se=We^(he<<1|Ce>>>31),le=tt^(Ce<<1|he>>>31),K[8]^=se,K[9]^=le,K[18]^=se,K[19]^=le,K[28]^=se,K[29]^=le,K[38]^=se,K[39]^=le,K[48]^=se,K[49]^=le,xt=K[0],Ue=K[1],ee=K[11]<<4|K[10]>>>28,ie=K[10]<<4|K[11]>>>28,ae=K[20]<<3|K[21]>>>29,ge=K[21]<<3|K[20]>>>29,ar=K[31]<<9|K[30]>>>23,qn=K[30]<<9|K[31]>>>23,tn=K[40]<<18|K[41]>>>14,W=K[41]<<18|K[40]>>>14,mt=K[2]<<1|K[3]>>>31,Mt=K[3]<<1|K[2]>>>31,Ge=K[13]<<12|K[12]>>>20,rt=K[12]<<12|K[13]>>>20,ce=K[22]<<10|K[23]>>>22,pe=K[23]<<10|K[22]>>>22,xe=K[33]<<13|K[32]>>>19,ve=K[32]<<13|K[33]>>>19,mn=K[42]<<2|K[43]>>>30,Vn=K[43]<<2|K[42]>>>30,Je=K[5]<<30|K[4]>>>2,It=K[4]<<30|K[5]>>>2,Ye=K[14]<<6|K[15]>>>26,jt=K[15]<<6|K[14]>>>26,pt=K[25]<<11|K[24]>>>21,qe=K[24]<<11|K[25]>>>21,je=K[34]<<15|K[35]>>>17,ot=K[35]<<15|K[34]>>>17,nt=K[45]<<29|K[44]>>>3,Ke=K[44]<<29|K[45]>>>3,yt=K[6]<<28|K[7]>>>4,re=K[7]<<28|K[6]>>>4,St=K[17]<<23|K[16]>>>9,Wt=K[16]<<23|K[17]>>>9,Xt=K[26]<<25|K[27]>>>7,it=K[27]<<25|K[26]>>>7,ht=K[36]<<21|K[37]>>>11,Ot=K[37]<<21|K[36]>>>11,st=K[47]<<24|K[46]>>>8,At=K[46]<<24|K[47]>>>8,j=K[8]<<27|K[9]>>>5,q=K[9]<<27|K[8]>>>5,Z=K[18]<<20|K[19]>>>12,X=K[19]<<20|K[18]>>>12,Ht=K[29]<<7|K[28]>>>25,Xn=K[28]<<7|K[29]>>>25,Zt=K[38]<<8|K[39]>>>24,ir=K[39]<<8|K[38]>>>24,Ct=K[48]<<14|K[49]>>>18,gt=K[49]<<14|K[48]>>>18,K[0]=xt^~Ge&pt,K[1]=Ue^~rt&qe,K[10]=yt^~Z&ae,K[11]=re^~X&ge,K[20]=mt^~Ye&Xt,K[21]=Mt^~jt&it,K[30]=j^~ee&ce,K[31]=q^~ie&pe,K[40]=Je^~St&Ht,K[41]=It^~Wt&Xn,K[2]=Ge^~pt&ht,K[3]=rt^~qe&Ot,K[12]=Z^~ae&xe,K[13]=X^~ge&ve,K[22]=Ye^~Xt&Zt,K[23]=jt^~it&ir,K[32]=ee^~ce&je,K[33]=ie^~pe&ot,K[42]=St^~Ht&ar,K[43]=Wt^~Xn&qn,K[4]=pt^~ht&Ct,K[5]=qe^~Ot&gt,K[14]=ae^~xe&nt,K[15]=ge^~ve&Ke,K[24]=Xt^~Zt&tn,K[25]=it^~ir&W,K[34]=ce^~je&st,K[35]=pe^~ot&At,K[44]=Ht^~ar&mn,K[45]=Xn^~qn&Vn,K[6]=ht^~Ct&xt,K[7]=Ot^~gt&Ue,K[16]=xe^~nt&yt,K[17]=ve^~Ke&re,K[26]=Zt^~tn&mt,K[27]=ir^~W&Mt,K[36]=je^~st&j,K[37]=ot^~At&q,K[46]=ar^~mn&Je,K[47]=qn^~Vn&It,K[8]=Ct^~xt&Ge,K[9]=gt^~Ue&rt,K[18]=nt^~yt&Z,K[19]=Ke^~re&X,K[28]=tn^~mt&Ye,K[29]=W^~Mt&jt,K[38]=st^~j&ee,K[39]=At^~q&ie,K[48]=mn^~Je&St,K[49]=Vn^~It&Wt,K[0]^=w[de],K[1]^=w[de+1]};if(o)t.exports=_;else for($=0;$<S.length;++$)i[S[$]]=_[S[$]]})()})(A_)),A_.exports}var g6e=p6e();const m6e=ja(g6e);function da(t){return"0x"+m6e.keccak_256(un(t))}const y6e="strings/5.8.0",BX=new Le(y6e);var aw;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(aw||(aw={}));var eo;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(eo||(eo={}));function b6e(t,e,n,r,i){return BX.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function UX(t,e,n,r,i){if(t===eo.BAD_PREFIX||t===eo.UNEXPECTED_CONTINUE){let a=0;for(let s=e+1;s<n.length&&n[s]>>6===2;s++)a++;return a}return t===eo.OVERRUN?n.length-e-1:0}function w6e(t,e,n,r,i){return t===eo.OVERLONG?(r.push(i),0):(r.push(65533),UX(t,e,n))}const v6e=Object.freeze({error:b6e,ignore:UX,replace:w6e});function LX(t,e){e==null&&(e=v6e.error),t=un(t);const n=[];let r=0;for(;r<t.length;){const i=t[r++];if(i>>7===0){n.push(i);continue}let a=null,s=null;if((i&224)===192)a=1,s=127;else if((i&240)===224)a=2,s=2047;else if((i&248)===240)a=3,s=65535;else{(i&192)===128?r+=e(eo.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(eo.BAD_PREFIX,r-1,t,n);continue}if(r-1+a>=t.length){r+=e(eo.OVERRUN,r-1,t,n);continue}let o=i&(1<<8-a-1)-1;for(let l=0;l<a;l++){let u=t[r];if((u&192)!=128){r+=e(eo.MISSING_CONTINUE,r,t,n),o=null;break}o=o<<6|u&63,r++}if(o!==null){if(o>1114111){r+=e(eo.OUT_OF_RANGE,r-1-a,t,n,o);continue}if(o>=55296&&o<=57343){r+=e(eo.UTF16_SURROGATE,r-1-a,t,n,o);continue}if(o<=s){r+=e(eo.OVERLONG,r-1-a,t,n,o);continue}n.push(o)}}return n}function Ad(t,e=aw.current){e!=aw.current&&(BX.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const a=t.charCodeAt(r);if(r>=t.length||(a&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(a&1023);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return un(n)}function x6e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function J4(t,e){return x6e(LX(t,e))}function E6e(t,e=aw.current){return LX(Ad(t,e))}function FX(t){return da(Ad(t))}const zX="hash/5.8.0";function WX(t,e){e==null&&(e=1);const n=[],r=n.forEach,i=function(a,s){r.call(a,function(o){s>0&&Array.isArray(o)?i(o,s-1):n.push(o)})};return i(t,e),n}function _6e(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];e[r[0]]=r[1]}return e}function A6e(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,a=[0,1];for(let A=1;A<r;A++)a.push(i+=n());let s=n(),o=e;e+=s;let l=0,u=0;function d(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const h=31,g=Math.pow(2,h),m=g>>>1,b=m>>1,w=g-1;let x=0;for(let A=0;A<h;A++)x=x<<1|d();let E=[],I=0,C=g;for(;;){let A=Math.floor(((x-I+1)*i-1)/C),T=0,O=r;for(;O-T>1;){let L=T+O>>>1;A<a[L]?O=L:T=L}if(T==0)break;E.push(T);let H=I+Math.floor(C*a[T]/i),U=I+Math.floor(C*a[T+1]/i)-1;for(;((H^U)&m)==0;)x=x<<1&w|d(),H=H<<1&w,U=U<<1&w|1;for(;H&~U&b;)x=x&m|x<<1&w>>>1|d(),H=H<<1^m,U=(U^m)<<1|m|1;I=H,C=1+U-H}let N=r-4;return E.map(A=>{switch(A-N){case 3:return N+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return N+256+(t[o++]<<8|t[o++]);case 1:return N+t[o++];default:return A-1}})}function C6e(t){let e=0;return()=>t[e++]}function S6e(t){return C6e(A6e(t))}function k6e(t){return t&1?~t>>1:t>>1}function I6e(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function YU(t,e){let n=Array(t);for(let r=0,i=-1;r<t;r++)n[r]=i+=1+e();return n}function T6e(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=k6e(e());return n}function i6(t,e){let n=YU(t(),t),r=t(),i=YU(r,t),a=I6e(r,t);for(let s=0;s<r;s++)for(let o=0;o<a[s];o++)n.push(i[s]+o);return e?n.map(s=>e[s]):n}function $6e(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(P6e(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(O6e(n,t))}return _6e(WX(e))}function N6e(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function HX(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)T6e(t,n).forEach((a,s)=>r[s].push(a));return r}function P6e(t,e){let n=1+e(),r=e(),i=N6e(e),a=HX(i.length,1+t,e);return WX(a.map((s,o)=>{const l=s[0],u=s.slice(1);return Array(i[o]).fill(void 0).map((d,h)=>{let g=h*r;return[l+h*n,u.map(m=>m+g)]})}))}function O6e(t,e){let n=1+e();return HX(n,1+t,e).map(i=>[i[0],i.slice(1)])}function R6e(t){let e=i6(t).sort((r,i)=>r-i);return n();function n(){let r=[];for(;;){let u=i6(t,e);if(u.length==0)break;r.push({set:new Set(u),node:n()})}r.sort((u,d)=>d.set.size-u.set.size);let i=t(),a=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let o=i==1,l=i==2;return{branches:r,valid:a,fe0f:s,save:o,check:l}}}function M6e(){return S6e(MX("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const X4=M6e(),j6e=new Set(i6(X4)),D6e=new Set(i6(X4)),B6e=$6e(X4),U6e=R6e(X4),ZU=45,JU=95;function qX(t){return E6e(t)}function L6e(t){return t.filter(e=>e!=65039)}function VX(t){for(let e of t.split(".")){let n=qX(e);try{for(let r=n.lastIndexOf(JU)-1;r>=0;r--)if(n[r]!==JU)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===ZU&&n[3]===ZU)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function F6e(t){return VX(z6e(t,L6e))}function z6e(t,e){let n=qX(t).reverse(),r=[];for(;n.length;){let i=H6e(n);if(i){r.push(...e(i));continue}let a=n.pop();if(j6e.has(a)){r.push(a);continue}if(D6e.has(a))continue;let s=B6e[a];if(s){r.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${a.toString(16).toUpperCase()}`)}return VX(W6e(String.fromCodePoint(...r)))}function W6e(t){return t.normalize("NFC")}function H6e(t,e){var n;let r=U6e,i,a,s=[],o=t.length;for(;o;){let l=t[--o];if(r=(n=r.branches.find(u=>u.set.has(l)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)a=l;else if(r.check&&l===a)break;s.push(l),r.fe0f&&(s.push(65039),o>0&&t[o-1]==65039&&o--),r.valid&&(i=s.slice(),r.valid==2&&i.splice(1,1),t.length=o)}return i}const q6e=new Le(zX),GX=new Uint8Array(32);GX.fill(0);function XU(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function KX(t){const e=Ad(F6e(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(XU(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(XU(e.slice(r))),n}function u5(t){typeof t!="string"&&q6e.throwArgumentError("invalid ENS name; not a string","name",t);let e=GX;const n=KX(t);for(;n.length;)e=da(y0([e,da(n.pop())]));return cn(e)}function V6e(t){return cn(y0(KX(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}const G6e="rlp/5.8.0",qc=new Le(G6e);function QU(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function eL(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function YX(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(a){r=r.concat(YX(a))}),r.length<=55)return r.unshift(192+r.length),r;const i=QU(r.length);return i.unshift(247+i.length),i.concat(r)}vN(t)||qc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(un(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=QU(e.length);return n.unshift(183+n.length),n.concat(e)}function Q4(t){return cn(YX(t))}function tL(t,e,n,r){const i=[];for(;n<e+1+r;){const a=ZX(t,n);i.push(a.result),n+=a.consumed,n>e+1+r&&qc.throwError("child data too short",Le.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function ZX(t,e){if(t.length===0&&qc.throwError("data too short",Le.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&qc.throwError("data short segment too short",Le.errors.BUFFER_OVERRUN,{});const r=eL(t,e+1,n);return e+1+n+r>t.length&&qc.throwError("data long segment too short",Le.errors.BUFFER_OVERRUN,{}),tL(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&qc.throwError("data array too short",Le.errors.BUFFER_OVERRUN,{}),tL(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&qc.throwError("data array too short",Le.errors.BUFFER_OVERRUN,{});const r=eL(t,e+1,n);e+1+n+r>t.length&&qc.throwError("data array too short",Le.errors.BUFFER_OVERRUN,{});const i=cn(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:i}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&qc.throwError("data too short",Le.errors.BUFFER_OVERRUN,{});const r=cn(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:cn(t[e])}}function AN(t){const e=un(t),n=ZX(e,0);return n.consumed!==e.length&&qc.throwArgumentError("invalid rlp data","data",t),n.result}const K6e="address/5.8.0",eg=new Le(K6e);function nL(t){yr(t,20)||eg.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=un(da(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Y6e=9007199254740991;function Z6e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const CN={};for(let t=0;t<10;t++)CN[String(t)]=String(t);for(let t=0;t<26;t++)CN[String.fromCharCode(65+t)]=String(10+t);const rL=Math.floor(Z6e(Y6e));function J6e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>CN[r]).join("");for(;e.length>=rL;){let r=e.substring(0,rL);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function ac(t){let e=null;if(typeof t!="string"&&eg.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=nL(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&eg.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==J6e(t)&&eg.throwArgumentError("bad icap checksum","address",t),e=n6e(t.substring(4));e.length<40;)e="0"+e;e=nL("0x"+e)}else eg.throwArgumentError("invalid address","address",t);return e}function X6e(t){let e=null;try{e=ac(t.from)}catch{eg.throwArgumentError("missing from address","transaction",t)}const n=Fg(un(bt.from(t.nonce).toHexString()));return ac(za(da(Q4([e,n])),12))}var Q6e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Br=new Le(zX),JX=new Uint8Array(32);JX.fill(0);const e4e=bt.from(-1),XX=bt.from(0),QX=bt.from(1),t4e=bt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function n4e(t){const e=un(t),n=e.length%32;return n?so([e,JX.slice(n)]):cn(e)}const r4e=qr(QX.toHexString(),32),i4e=qr(XX.toHexString(),32),iL={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},C_=["name","version","chainId","verifyingContract","salt"];function aL(t){return function(e){return typeof e!="string"&&Br.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const a4e={name:aL("name"),version:aL("version"),chainId:function(t){try{return bt.from(t).toString()}catch{}return Br.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ac(t).toLowerCase()}catch{}return Br.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=un(t);if(e.length!==32)throw new Error("bad length");return cn(e)}catch{}return Br.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function S_(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Br.throwArgumentError("invalid numeric width","type",t);const i=t4e.mask(n?r-1:r),a=n?i.add(QX).mul(e4e):XX;return function(s){const o=bt.from(s);return(o.lt(a)||o.gt(i))&&Br.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),qr(o.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&Br.throwArgumentError("invalid bytes width","type",t),function(r){return un(r).length!==n&&Br.throwArgumentError(`invalid length for ${t}`,"value",r),n4e(r)}}}switch(t){case"address":return function(e){return qr(ac(e),32)};case"bool":return function(e){return e?r4e:i4e};case"bytes":return function(e){return da(e)};case"string":return function(e){return FX(e)}}return null}function sL(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}let oL=class Pl{constructor(e){Cn(this,"types",Object.freeze(rw(e))),Cn(this,"_encoderCache",{}),Cn(this,"_types",{});const n={},r={},i={};Object.keys(e).forEach(o=>{n[o]={},r[o]=[],i[o]={}});for(const o in e){const l={};e[o].forEach(u=>{l[u.name]&&Br.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(o)}`,"types",e),l[u.name]=!0;const d=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];d===o&&Br.throwArgumentError(`circular type reference to ${JSON.stringify(d)}`,"types",e),!S_(d)&&(r[d]||Br.throwArgumentError(`unknown type ${JSON.stringify(d)}`,"types",e),r[d].push(o),n[o][d]=!0)})}const a=Object.keys(r).filter(o=>r[o].length===0);a.length===0?Br.throwArgumentError("missing primary type","types",e):a.length>1&&Br.throwArgumentError(`ambiguous primary types or unused types: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),Cn(this,"primaryType",a[0]);function s(o,l){l[o]&&Br.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),l[o]=!0,Object.keys(n[o]).forEach(u=>{r[u]&&(s(u,l),Object.keys(l).forEach(d=>{i[d][u]=!0}))}),delete l[o]}s(this.primaryType,{});for(const o in i){const l=Object.keys(i[o]);l.sort(),this._types[o]=sL(o,e[o])+l.map(u=>sL(u,e[u])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const i=S_(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],a=this.getEncoder(i),s=parseInt(n[3]);return o=>{s>=0&&o.length!==s&&Br.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let l=o.map(a);return this._types[i]&&(l=l.map(da)),da(so(l))}}const r=this.types[e];if(r){const i=FX(this._types[e]);return a=>{const s=r.map(({name:o,type:l})=>{const u=this.getEncoder(l)(a[o]);return this._types[l]?da(u):u});return s.unshift(i),so(s)}}return Br.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||Br.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return da(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(S_(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],o=parseInt(i[3]);return o>=0&&n.length!==o&&Br.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(l=>this._visit(s,l,r))}const a=this.types[e];return a?a.reduce((s,{name:o,type:l})=>(s[o]=this._visit(l,n[o],r),s),{}):Br.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Pl(e)}static getPrimaryType(e){return Pl.from(e).primaryType}static hashStruct(e,n,r){return Pl.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){const i=iL[r];i||Br.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>C_.indexOf(r.name)-C_.indexOf(i.name)),Pl.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return so(["0x1901",Pl.hashDomain(e),Pl.from(n).hash(r)])}static hash(e,n,r){return da(Pl.encode(e,n,r))}static resolveNames(e,n,r,i){return Q6e(this,void 0,void 0,function*(){e=_s(e);const a={};e.verifyingContract&&!yr(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const s=Pl.from(n);s.visit(r,(o,l)=>(o==="address"&&!yr(l,20)&&(a[l]="0x"),l));for(const o in a)a[o]=yield i(o);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),r=s.visit(r,(o,l)=>o==="address"&&a[l]?a[l]:l),{domain:e,value:r}})}static getPayload(e,n,r){Pl.hashDomain(e);const i={},a=[];C_.forEach(l=>{const u=e[l];u!=null&&(i[l]=a4e[l](u),a.push({name:l,type:iL[l]}))});const s=Pl.from(n),o=_s(n);return o.EIP712Domain?Br.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):o.EIP712Domain=a,s.encode(r),{types:o,domain:i,primaryType:s.primaryType,message:s.visit(r,(l,u)=>{if(l.match(/^bytes(\d*)/))return cn(un(u));if(l.match(/^u?int/))return bt.from(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&Br.throwArgumentError("invalid string","value",u),u}return Br.throwArgumentError("unsupported type","type",l)})}}};var k_={},cr={},I_,lL;function Qw(){if(lL)return I_;lL=1,I_=t;function t(e,n){if(!e)throw new Error(n||"Assertion failed")}return t.equal=function(n,r,i){if(n!=r)throw new Error(i||"Assertion failed: "+n+" != "+r)},I_}var rx={exports:{}},cL;function s4e(){return cL||(cL=1,typeof Object.create=="function"?rx.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:rx.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),rx.exports}var uL;function pu(){if(uL)return cr;uL=1;var t=Qw(),e=s4e();cr.inherits=e;function n(R,F){return(R.charCodeAt(F)&64512)!==55296||F<0||F+1>=R.length?!1:(R.charCodeAt(F+1)&64512)===56320}function r(R,F){if(Array.isArray(R))return R.slice();if(!R)return[];var _=[];if(typeof R=="string")if(F){if(F==="hex")for(R=R.replace(/[^a-z0-9]+/ig,""),R.length%2!==0&&(R="0"+R),$=0;$<R.length;$+=2)_.push(parseInt(R[$]+R[$+1],16))}else for(var S=0,$=0;$<R.length;$++){var D=R.charCodeAt($);D<128?_[S++]=D:D<2048?(_[S++]=D>>6|192,_[S++]=D&63|128):n(R,$)?(D=65536+((D&1023)<<10)+(R.charCodeAt(++$)&1023),_[S++]=D>>18|240,_[S++]=D>>12&63|128,_[S++]=D>>6&63|128,_[S++]=D&63|128):(_[S++]=D>>12|224,_[S++]=D>>6&63|128,_[S++]=D&63|128)}else for($=0;$<R.length;$++)_[$]=R[$]|0;return _}cr.toArray=r;function i(R){for(var F="",_=0;_<R.length;_++)F+=o(R[_].toString(16));return F}cr.toHex=i;function a(R){var F=R>>>24|R>>>8&65280|R<<8&16711680|(R&255)<<24;return F>>>0}cr.htonl=a;function s(R,F){for(var _="",S=0;S<R.length;S++){var $=R[S];F==="little"&&($=a($)),_+=l($.toString(16))}return _}cr.toHex32=s;function o(R){return R.length===1?"0"+R:R}cr.zero2=o;function l(R){return R.length===7?"0"+R:R.length===6?"00"+R:R.length===5?"000"+R:R.length===4?"0000"+R:R.length===3?"00000"+R:R.length===2?"000000"+R:R.length===1?"0000000"+R:R}cr.zero8=l;function u(R,F,_,S){var $=_-F;t($%4===0);for(var D=new Array($/4),z=0,Y=F;z<D.length;z++,Y+=4){var J;S==="big"?J=R[Y]<<24|R[Y+1]<<16|R[Y+2]<<8|R[Y+3]:J=R[Y+3]<<24|R[Y+2]<<16|R[Y+1]<<8|R[Y],D[z]=J>>>0}return D}cr.join32=u;function d(R,F){for(var _=new Array(R.length*4),S=0,$=0;S<R.length;S++,$+=4){var D=R[S];F==="big"?(_[$]=D>>>24,_[$+1]=D>>>16&255,_[$+2]=D>>>8&255,_[$+3]=D&255):(_[$+3]=D>>>24,_[$+2]=D>>>16&255,_[$+1]=D>>>8&255,_[$]=D&255)}return _}cr.split32=d;function h(R,F){return R>>>F|R<<32-F}cr.rotr32=h;function g(R,F){return R<<F|R>>>32-F}cr.rotl32=g;function m(R,F){return R+F>>>0}cr.sum32=m;function b(R,F,_){return R+F+_>>>0}cr.sum32_3=b;function w(R,F,_,S){return R+F+_+S>>>0}cr.sum32_4=w;function x(R,F,_,S,$){return R+F+_+S+$>>>0}cr.sum32_5=x;function E(R,F,_,S){var $=R[F],D=R[F+1],z=S+D>>>0,Y=(z<S?1:0)+_+$;R[F]=Y>>>0,R[F+1]=z}cr.sum64=E;function I(R,F,_,S){var $=F+S>>>0,D=($<F?1:0)+R+_;return D>>>0}cr.sum64_hi=I;function C(R,F,_,S){var $=F+S;return $>>>0}cr.sum64_lo=C;function N(R,F,_,S,$,D,z,Y){var J=0,V=F;V=V+S>>>0,J+=V<F?1:0,V=V+D>>>0,J+=V<D?1:0,V=V+Y>>>0,J+=V<Y?1:0;var M=R+_+$+z+J;return M>>>0}cr.sum64_4_hi=N;function A(R,F,_,S,$,D,z,Y){var J=F+S+D+Y;return J>>>0}cr.sum64_4_lo=A;function T(R,F,_,S,$,D,z,Y,J,V){var M=0,Q=F;Q=Q+S>>>0,M+=Q<F?1:0,Q=Q+D>>>0,M+=Q<D?1:0,Q=Q+Y>>>0,M+=Q<Y?1:0,Q=Q+V>>>0,M+=Q<V?1:0;var ne=R+_+$+z+J+M;return ne>>>0}cr.sum64_5_hi=T;function O(R,F,_,S,$,D,z,Y,J,V){var M=F+S+D+Y+V;return M>>>0}cr.sum64_5_lo=O;function H(R,F,_){var S=F<<32-_|R>>>_;return S>>>0}cr.rotr64_hi=H;function U(R,F,_){var S=R<<32-_|F>>>_;return S>>>0}cr.rotr64_lo=U;function L(R,F,_){return R>>>_}cr.shr64_hi=L;function G(R,F,_){var S=R<<32-_|F>>>_;return S>>>0}return cr.shr64_lo=G,cr}var T_={},dL;function ev(){if(dL)return T_;dL=1;var t=pu(),e=Qw();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return T_.BlockHash=n,n.prototype.update=function(i,a){if(i=t.toArray(i,a),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var s=i.length%this._delta8;this.pending=i.slice(i.length-s,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-s,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,a=this._delta8,s=a-(i+this.padLength)%a,o=new Array(s+this.padLength);o[0]=128;for(var l=1;l<s;l++)o[l]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)o[l++]=0;o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=i>>>24&255,o[l++]=i>>>16&255,o[l++]=i>>>8&255,o[l++]=i&255}else for(o[l++]=i&255,o[l++]=i>>>8&255,o[l++]=i>>>16&255,o[l++]=i>>>24&255,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,u=8;u<this.padLength;u++)o[l++]=0;return o},T_}var Vh={},Ac={},fL;function eQ(){if(fL)return Ac;fL=1;var t=pu(),e=t.rotr32;function n(d,h,g,m){if(d===0)return r(h,g,m);if(d===1||d===3)return a(h,g,m);if(d===2)return i(h,g,m)}Ac.ft_1=n;function r(d,h,g){return d&h^~d&g}Ac.ch32=r;function i(d,h,g){return d&h^d&g^h&g}Ac.maj32=i;function a(d,h,g){return d^h^g}Ac.p32=a;function s(d){return e(d,2)^e(d,13)^e(d,22)}Ac.s0_256=s;function o(d){return e(d,6)^e(d,11)^e(d,25)}Ac.s1_256=o;function l(d){return e(d,7)^e(d,18)^d>>>3}Ac.g0_256=l;function u(d){return e(d,17)^e(d,19)^d>>>10}return Ac.g1_256=u,Ac}var $_,hL;function o4e(){if(hL)return $_;hL=1;var t=pu(),e=ev(),n=eQ(),r=t.rotl32,i=t.sum32,a=t.sum32_5,s=n.ft_1,o=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(u,o),$_=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(h,g){for(var m=this.W,b=0;b<16;b++)m[b]=h[g+b];for(;b<m.length;b++)m[b]=r(m[b-3]^m[b-8]^m[b-14]^m[b-16],1);var w=this.h[0],x=this.h[1],E=this.h[2],I=this.h[3],C=this.h[4];for(b=0;b<m.length;b++){var N=~~(b/20),A=a(r(w,5),s(N,x,E,I),C,m[b],l[N]);C=I,I=E,E=r(x,30),x=w,w=A}this.h[0]=i(this.h[0],w),this.h[1]=i(this.h[1],x),this.h[2]=i(this.h[2],E),this.h[3]=i(this.h[3],I),this.h[4]=i(this.h[4],C)},u.prototype._digest=function(h){return h==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},$_}var N_,pL;function tQ(){if(pL)return N_;pL=1;var t=pu(),e=ev(),n=eQ(),r=Qw(),i=t.sum32,a=t.sum32_4,s=t.sum32_5,o=n.ch32,l=n.maj32,u=n.s0_256,d=n.s1_256,h=n.g0_256,g=n.g1_256,m=e.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}return t.inherits(w,m),N_=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(E,I){for(var C=this.W,N=0;N<16;N++)C[N]=E[I+N];for(;N<C.length;N++)C[N]=a(g(C[N-2]),C[N-7],h(C[N-15]),C[N-16]);var A=this.h[0],T=this.h[1],O=this.h[2],H=this.h[3],U=this.h[4],L=this.h[5],G=this.h[6],R=this.h[7];for(r(this.k.length===C.length),N=0;N<C.length;N++){var F=s(R,d(U),o(U,L,G),this.k[N],C[N]),_=i(u(A),l(A,T,O));R=G,G=L,L=U,U=i(H,F),H=O,O=T,T=A,A=i(F,_)}this.h[0]=i(this.h[0],A),this.h[1]=i(this.h[1],T),this.h[2]=i(this.h[2],O),this.h[3]=i(this.h[3],H),this.h[4]=i(this.h[4],U),this.h[5]=i(this.h[5],L),this.h[6]=i(this.h[6],G),this.h[7]=i(this.h[7],R)},w.prototype._digest=function(E){return E==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},N_}var P_,gL;function l4e(){if(gL)return P_;gL=1;var t=pu(),e=tQ();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(n,e),P_=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},P_}var O_,mL;function nQ(){if(mL)return O_;mL=1;var t=pu(),e=ev(),n=Qw(),r=t.rotr64_hi,i=t.rotr64_lo,a=t.shr64_hi,s=t.shr64_lo,o=t.sum64,l=t.sum64_hi,u=t.sum64_lo,d=t.sum64_4_hi,h=t.sum64_4_lo,g=t.sum64_5_hi,m=t.sum64_5_lo,b=e.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function x(){if(!(this instanceof x))return new x;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}t.inherits(x,b),O_=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(_,S){for(var $=this.W,D=0;D<32;D++)$[D]=_[S+D];for(;D<$.length;D+=2){var z=G($[D-4],$[D-3]),Y=R($[D-4],$[D-3]),J=$[D-14],V=$[D-13],M=U($[D-30],$[D-29]),Q=L($[D-30],$[D-29]),ne=$[D-32],K=$[D-31];$[D]=d(z,Y,J,V,M,Q,ne,K),$[D+1]=h(z,Y,J,V,M,Q,ne,K)}},x.prototype._update=function(_,S){this._prepareBlock(_,S);var $=this.W,D=this.h[0],z=this.h[1],Y=this.h[2],J=this.h[3],V=this.h[4],M=this.h[5],Q=this.h[6],ne=this.h[7],K=this.h[8],se=this.h[9],le=this.h[10],de=this.h[11],he=this.h[12],Ce=this.h[13],ke=this.h[14],Ie=this.h[15];n(this.k.length===$.length);for(var De=0;De<$.length;De+=2){var Ne=ke,We=Ie,tt=O(K,se),Ee=H(K,se),Ze=E(K,se,le,de,he),xt=I(K,se,le,de,he,Ce),Ue=this.k[De],Ge=this.k[De+1],rt=$[De],pt=$[De+1],qe=g(Ne,We,tt,Ee,Ze,xt,Ue,Ge,rt,pt),ht=m(Ne,We,tt,Ee,Ze,xt,Ue,Ge,rt,pt);Ne=A(D,z),We=T(D,z),tt=C(D,z,Y,J,V),Ee=N(D,z,Y,J,V,M);var Ot=l(Ne,We,tt,Ee),Ct=u(Ne,We,tt,Ee);ke=he,Ie=Ce,he=le,Ce=de,le=K,de=se,K=l(Q,ne,qe,ht),se=u(ne,ne,qe,ht),Q=V,ne=M,V=Y,M=J,Y=D,J=z,D=l(qe,ht,Ot,Ct),z=u(qe,ht,Ot,Ct)}o(this.h,0,D,z),o(this.h,2,Y,J),o(this.h,4,V,M),o(this.h,6,Q,ne),o(this.h,8,K,se),o(this.h,10,le,de),o(this.h,12,he,Ce),o(this.h,14,ke,Ie)},x.prototype._digest=function(_){return _==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function E(F,_,S,$,D){var z=F&S^~F&D;return z<0&&(z+=4294967296),z}function I(F,_,S,$,D,z){var Y=_&$^~_&z;return Y<0&&(Y+=4294967296),Y}function C(F,_,S,$,D){var z=F&S^F&D^S&D;return z<0&&(z+=4294967296),z}function N(F,_,S,$,D,z){var Y=_&$^_&z^$&z;return Y<0&&(Y+=4294967296),Y}function A(F,_){var S=r(F,_,28),$=r(_,F,2),D=r(_,F,7),z=S^$^D;return z<0&&(z+=4294967296),z}function T(F,_){var S=i(F,_,28),$=i(_,F,2),D=i(_,F,7),z=S^$^D;return z<0&&(z+=4294967296),z}function O(F,_){var S=r(F,_,14),$=r(F,_,18),D=r(_,F,9),z=S^$^D;return z<0&&(z+=4294967296),z}function H(F,_){var S=i(F,_,14),$=i(F,_,18),D=i(_,F,9),z=S^$^D;return z<0&&(z+=4294967296),z}function U(F,_){var S=r(F,_,1),$=r(F,_,8),D=a(F,_,7),z=S^$^D;return z<0&&(z+=4294967296),z}function L(F,_){var S=i(F,_,1),$=i(F,_,8),D=s(F,_,7),z=S^$^D;return z<0&&(z+=4294967296),z}function G(F,_){var S=r(F,_,19),$=r(_,F,29),D=a(F,_,6),z=S^$^D;return z<0&&(z+=4294967296),z}function R(F,_){var S=i(F,_,19),$=i(_,F,29),D=s(F,_,6),z=S^$^D;return z<0&&(z+=4294967296),z}return O_}var R_,yL;function c4e(){if(yL)return R_;yL=1;var t=pu(),e=nQ();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(n,e),R_=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},R_}var bL;function u4e(){return bL||(bL=1,Vh.sha1=o4e(),Vh.sha224=l4e(),Vh.sha256=tQ(),Vh.sha384=c4e(),Vh.sha512=nQ()),Vh}var M_={},wL;function d4e(){if(wL)return M_;wL=1;var t=pu(),e=ev(),n=t.rotl32,r=t.sum32,i=t.sum32_3,a=t.sum32_4,s=e.BlockHash;function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(o,s),M_.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(x,E){for(var I=this.h[0],C=this.h[1],N=this.h[2],A=this.h[3],T=this.h[4],O=I,H=C,U=N,L=A,G=T,R=0;R<80;R++){var F=r(n(a(I,l(R,C,N,A),x[h[R]+E],u(R)),m[R]),T);I=T,T=A,A=n(N,10),N=C,C=F,F=r(n(a(O,l(79-R,H,U,L),x[g[R]+E],d(R)),b[R]),G),O=G,G=L,L=n(U,10),U=H,H=F}F=i(this.h[1],N,L),this.h[1]=i(this.h[2],A,G),this.h[2]=i(this.h[3],T,O),this.h[3]=i(this.h[4],I,H),this.h[4]=i(this.h[0],C,U),this.h[0]=F},o.prototype._digest=function(x){return x==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(w,x,E,I){return w<=15?x^E^I:w<=31?x&E|~x&I:w<=47?(x|~E)^I:w<=63?x&I|E&~I:x^(E|~I)}function u(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function d(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return M_}var j_,vL;function f4e(){if(vL)return j_;vL=1;var t=pu(),e=Qw();function n(r,i,a){if(!(this instanceof n))return new n(r,i,a);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,a))}return j_=n,n.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var a=i.length;a<this.blockSize;a++)i.push(0);for(a=0;a<i.length;a++)i[a]^=54;for(this.inner=new this.Hash().update(i),a=0;a<i.length;a++)i[a]^=106;this.outer=new this.Hash().update(i)},n.prototype.update=function(i,a){return this.inner.update(i,a),this},n.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},j_}var xL;function h4e(){return xL||(xL=1,(function(t){var e=t;e.utils=pu(),e.common=ev(),e.sha=u4e(),e.ripemd=d4e(),e.hmac=f4e(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(k_)),k_}var p4e=h4e();const Lc=ja(p4e);function EL(t){return"0x"+Lc.sha256().update(un(t)).digest("hex")}const g4e="web/5.8.0";var m4e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};function y4e(t,e){return m4e(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(n.mode=s.mode),s.cache&&(n.cache=s.cache),s.credentials&&(n.credentials=s.credentials),s.redirect&&(n.redirect=s.redirect),s.referrer&&(n.referrer=s.referrer)}const r=yield fetch(t,n),i=yield r.arrayBuffer(),a={};return r.headers.forEach?r.headers.forEach((s,o)=>{a[o.toLowerCase()]=s}):r.headers.keys().forEach(s=>{a[s.toLowerCase()]=r.headers.get(s)}),{headers:a,statusCode:r.status,statusMessage:r.statusText,body:un(new Uint8Array(i))}})}var b4e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Ol=new Le(g4e);function _L(t){return new Promise(e=>{setTimeout(e,t)})}function pf(t,e){if(t==null)return null;if(typeof t=="string")return t;if(vN(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return J4(t)}catch{}return cn(t)}return t}function w4e(t){return Ad(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function v4e(t,e,n){const r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Ol.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof t=="object"?t.throttleCallback:null,a=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Ol.assertArgument(a>0&&a%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);const s=typeof t=="object"?!!t.errorPassThrough:!1,o={};let l=null;const u={method:"GET"};let d=!1,h=120*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Ol.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const E in t.headers)o[E.toLowerCase()]={key:E,value:String(t.headers[E])},["if-none-match","if-modified-since"].indexOf(E.toLowerCase())>=0&&(d=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Ol.throwError("basic authentication requires a secure https url",Le.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const E=t.user+":"+t.password;o.authorization={key:"Authorization",value:"Basic "+jX(Ad(E))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=_s(t.fetchOptions))}const g=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),m=l?l.match(g):null;if(m)try{const E={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]||"text/plain"},body:m[2]?MX(m[3]):w4e(m[3])};let I=E.body;return n&&(I=n(E.body,E)),Promise.resolve(I)}catch(E){Ol.throwError("processing response error",Le.errors.SERVER_ERROR,{body:pf(m[1],m[2]),error:E,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));const b={};Object.keys(o).forEach(E=>{const I=o[E];b[I.key]=I.value}),u.headers=b;const w=(function(){let E=null;return{promise:new Promise(function(N,A){h&&(E=setTimeout(()=>{E!=null&&(E=null,A(Ol.makeError("timeout",Le.errors.TIMEOUT,{requestBody:pf(u.body,b["content-type"]),requestMethod:u.method,timeout:h,url:l})))},h))}),cancel:function(){E!=null&&(clearTimeout(E),E=null)}}})(),x=(function(){return b4e(this,void 0,void 0,function*(){for(let E=0;E<r;E++){let I=null;try{if(I=yield y4e(l,u),E<r){if(I.statusCode===301||I.statusCode===302){const N=I.headers.location||"";if(u.method==="GET"&&N.match(/^https:/)){l=I.headers.location;continue}}else if(I.statusCode===429){let N=!0;if(i&&(N=yield i(E,l)),N){let A=0;const T=I.headers["retry-after"];typeof T=="string"&&T.match(/^[1-9][0-9]*$/)?A=parseInt(T)*1e3:A=a*parseInt(String(Math.random()*Math.pow(2,E))),yield _L(A);continue}}}}catch(N){I=N.response,I==null&&(w.cancel(),Ol.throwError("missing response",Le.errors.SERVER_ERROR,{requestBody:pf(u.body,b["content-type"]),requestMethod:u.method,serverError:N,url:l}))}let C=I.body;if(d&&I.statusCode===304?C=null:!s&&(I.statusCode<200||I.statusCode>=300)&&(w.cancel(),Ol.throwError("bad response",Le.errors.SERVER_ERROR,{status:I.statusCode,headers:I.headers,body:pf(C,I.headers?I.headers["content-type"]:null),requestBody:pf(u.body,b["content-type"]),requestMethod:u.method,url:l})),n)try{const N=yield n(C,I);return w.cancel(),N}catch(N){if(N.throttleRetry&&E<r){let A=!0;if(i&&(A=yield i(E,l)),A){const T=a*parseInt(String(Math.random()*Math.pow(2,E)));yield _L(T);continue}}w.cancel(),Ol.throwError("processing response error",Le.errors.SERVER_ERROR,{body:pf(C,I.headers?I.headers["content-type"]:null),error:N,requestBody:pf(u.body,b["content-type"]),requestMethod:u.method,url:l})}return w.cancel(),C}return Ol.throwError("failed response",Le.errors.SERVER_ERROR,{requestBody:pf(u.body,b["content-type"]),requestMethod:u.method,url:l})})})();return Promise.race([w.promise,x])}function SN(t,e,n){let r=(a,s)=>{let o=null;if(a!=null)try{o=JSON.parse(J4(a))}catch(l){Ol.throwError("invalid JSON",Le.errors.SERVER_ERROR,{body:a,error:l})}return n&&(o=n(o,s)),o},i=null;if(e!=null){i=Ad(e);const a=typeof t=="string"?{url:t}:_s(t);a.headers?Object.keys(a.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(a.headers=_s(a.headers),a.headers["content-type"]="application/json"):a.headers={"content-type":"application/json"},t=a}return v4e(t,i,r)}function $2(t,e){return e||(e={}),e=_s(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let i=null,a=!1;const s=()=>a?!1:(a=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&r(new Error("timeout"))},e.timeout));const o=e.retryLimit;let l=0;function u(){return t().then(function(d){if(d!==void 0)s()&&n(d);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!a){if(l++,l>o){s()&&r(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(u,h)}return null},function(d){s()&&r(d)})}u()})}var D_,AL;function x4e(){if(AL)return D_;AL=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},n=0;n<t.length;n++){var r=t.charAt(n);if(e[r]!==void 0)throw new TypeError(r+" is ambiguous");e[r]=n}function i(w){var x=w>>25;return(w&33554431)<<5^-(x>>0&1)&996825010^-(x>>1&1)&642813549^-(x>>2&1)&513874426^-(x>>3&1)&1027748829^-(x>>4&1)&705979059}function a(w){for(var x=1,E=0;E<w.length;++E){var I=w.charCodeAt(E);if(I<33||I>126)return"Invalid prefix ("+w+")";x=i(x)^I>>5}for(x=i(x),E=0;E<w.length;++E){var C=w.charCodeAt(E);x=i(x)^C&31}return x}function s(w,x,E){if(E=E||90,w.length+7+x.length>E)throw new TypeError("Exceeds length limit");w=w.toLowerCase();var I=a(w);if(typeof I=="string")throw new Error(I);for(var C=w+"1",N=0;N<x.length;++N){var A=x[N];if(A>>5!==0)throw new Error("Non 5-bit word");I=i(I)^A,C+=t.charAt(A)}for(N=0;N<6;++N)I=i(I);for(I^=1,N=0;N<6;++N){var T=I>>(5-N)*5&31;C+=t.charAt(T)}return C}function o(w,x){if(x=x||90,w.length<8)return w+" too short";if(w.length>x)return"Exceeds length limit";var E=w.toLowerCase(),I=w.toUpperCase();if(w!==E&&w!==I)return"Mixed-case string "+w;w=E;var C=w.lastIndexOf("1");if(C===-1)return"No separator character for "+w;if(C===0)return"Missing prefix for "+w;var N=w.slice(0,C),A=w.slice(C+1);if(A.length<6)return"Data too short";var T=a(N);if(typeof T=="string")return T;for(var O=[],H=0;H<A.length;++H){var U=A.charAt(H),L=e[U];if(L===void 0)return"Unknown character "+U;T=i(T)^L,!(H+6>=A.length)&&O.push(L)}return T!==1?"Invalid checksum for "+w:{prefix:N,words:O}}function l(){var w=o.apply(null,arguments);if(typeof w=="object")return w}function u(w){var x=o.apply(null,arguments);if(typeof x=="object")return x;throw new Error(x)}function d(w,x,E,I){for(var C=0,N=0,A=(1<<E)-1,T=[],O=0;O<w.length;++O)for(C=C<<x|w[O],N+=x;N>=E;)N-=E,T.push(C>>N&A);if(I)N>0&&T.push(C<<E-N&A);else{if(N>=x)return"Excess padding";if(C<<E-N&A)return"Non-zero padding"}return T}function h(w){var x=d(w,8,5,!0);if(Array.isArray(x))return x}function g(w){var x=d(w,8,5,!0);if(Array.isArray(x))return x;throw new Error(x)}function m(w){var x=d(w,5,8,!1);if(Array.isArray(x))return x}function b(w){var x=d(w,5,8,!1);if(Array.isArray(x))return x;throw new Error(x)}return D_={decodeUnsafe:l,decode:u,encode:s,toWordsUnsafe:h,toWords:g,fromWordsUnsafe:m,fromWords:b},D_}var E4e=x4e();const CL=ja(E4e),e8="providers/5.8.0";function Em(t,e,n){return n={path:e,exports:{},require:function(r,i){return _4e(r,i??n.path)}},t(n,n.exports),n.exports}function _4e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var kN=rQ;function rQ(t,e){if(!t)throw new Error(e||"Assertion failed")}rQ.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var Vl=Em(function(t,e){var n=e;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)l[u]=s[u]|0;return l}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)l.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var d=s.charCodeAt(u),h=d>>8,g=d&255;h?l.push(h,g):l.push(g)}return l}n.toArray=r;function i(s){return s.length===1?"0"+s:s}n.zero2=i;function a(s){for(var o="",l=0;l<s.length;l++)o+=i(s[l].toString(16));return o}n.toHex=a,n.encode=function(o,l){return l==="hex"?a(o):o}}),bo=Em(function(t,e){var n=e;n.assert=kN,n.toArray=Vl.toArray,n.zero2=Vl.zero2,n.toHex=Vl.toHex,n.encode=Vl.encode;function r(l,u,d){var h=new Array(Math.max(l.bitLength(),d)+1),g;for(g=0;g<h.length;g+=1)h[g]=0;var m=1<<u+1,b=l.clone();for(g=0;g<h.length;g++){var w,x=b.andln(m-1);b.isOdd()?(x>(m>>1)-1?w=(m>>1)-x:w=x,b.isubn(w)):w=0,h[g]=w,b.iushrn(1)}return h}n.getNAF=r;function i(l,u){var d=[[],[]];l=l.clone(),u=u.clone();for(var h=0,g=0,m;l.cmpn(-h)>0||u.cmpn(-g)>0;){var b=l.andln(3)+h&3,w=u.andln(3)+g&3;b===3&&(b=-1),w===3&&(w=-1);var x;(b&1)===0?x=0:(m=l.andln(7)+h&7,(m===3||m===5)&&w===2?x=-b:x=b),d[0].push(x);var E;(w&1)===0?E=0:(m=u.andln(7)+g&7,(m===3||m===5)&&b===2?E=-w:E=w),d[1].push(E),2*h===x+1&&(h=1-h),2*g===E+1&&(g=1-g),l.iushrn(1),u.iushrn(1)}return d}n.getJSF=i;function a(l,u,d){var h="_"+u;l.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=d.call(this)}}n.cachedProperty=a;function s(l){return typeof l=="string"?n.toArray(l,"hex"):l}n.parseBytes=s;function o(l){return new en(l,"hex","le")}n.intFromLE=o}),a6=bo.getNAF,A4e=bo.getJSF,s6=bo.assert;function wh(t,e){this.type=t,this.p=new en(e.p,16),this.red=e.prime?en.red(e.prime):en.mont(this.p),this.zero=new en(0).toRed(this.red),this.one=new en(1).toRed(this.red),this.two=new en(2).toRed(this.red),this.n=e.n&&new en(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var up=wh;wh.prototype.point=function(){throw new Error("Not implemented")};wh.prototype.validate=function(){throw new Error("Not implemented")};wh.prototype._fixedNafMul=function(e,n){s6(e.precomputed);var r=e._getDoubles(),i=a6(n,1,this._bitLength),a=(1<<r.step+1)-(r.step%2===0?2:1);a/=3;var s=[],o,l;for(o=0;o<i.length;o+=r.step){l=0;for(var u=o+r.step-1;u>=o;u--)l=(l<<1)+i[u];s.push(l)}for(var d=this.jpoint(null,null,null),h=this.jpoint(null,null,null),g=a;g>0;g--){for(o=0;o<s.length;o++)l=s[o],l===g?h=h.mixedAdd(r.points[o]):l===-g&&(h=h.mixedAdd(r.points[o].neg()));d=d.add(h)}return d.toP()};wh.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var a=i.points,s=a6(n,r,this._bitLength),o=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var u=0;l>=0&&s[l]===0;l--)u++;if(l>=0&&u++,o=o.dblp(u),l<0)break;var d=s[l];s6(d!==0),e.type==="affine"?d>0?o=o.mixedAdd(a[d-1>>1]):o=o.mixedAdd(a[-d-1>>1].neg()):d>0?o=o.add(a[d-1>>1]):o=o.add(a[-d-1>>1].neg())}return e.type==="affine"?o.toP():o};wh.prototype._wnafMulAdd=function(e,n,r,i,a){var s=this._wnafT1,o=this._wnafT2,l=this._wnafT3,u=0,d,h,g;for(d=0;d<i;d++){g=n[d];var m=g._getNAFPoints(e);s[d]=m.wnd,o[d]=m.points}for(d=i-1;d>=1;d-=2){var b=d-1,w=d;if(s[b]!==1||s[w]!==1){l[b]=a6(r[b],s[b],this._bitLength),l[w]=a6(r[w],s[w],this._bitLength),u=Math.max(l[b].length,u),u=Math.max(l[w].length,u);continue}var x=[n[b],null,null,n[w]];n[b].y.cmp(n[w].y)===0?(x[1]=n[b].add(n[w]),x[2]=n[b].toJ().mixedAdd(n[w].neg())):n[b].y.cmp(n[w].y.redNeg())===0?(x[1]=n[b].toJ().mixedAdd(n[w]),x[2]=n[b].add(n[w].neg())):(x[1]=n[b].toJ().mixedAdd(n[w]),x[2]=n[b].toJ().mixedAdd(n[w].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],I=A4e(r[b],r[w]);for(u=Math.max(I[0].length,u),l[b]=new Array(u),l[w]=new Array(u),h=0;h<u;h++){var C=I[0][h]|0,N=I[1][h]|0;l[b][h]=E[(C+1)*3+(N+1)],l[w][h]=0,o[b]=x}}var A=this.jpoint(null,null,null),T=this._wnafT4;for(d=u;d>=0;d--){for(var O=0;d>=0;){var H=!0;for(h=0;h<i;h++)T[h]=l[h][d]|0,T[h]!==0&&(H=!1);if(!H)break;O++,d--}if(d>=0&&O++,A=A.dblp(O),d<0)break;for(h=0;h<i;h++){var U=T[h];U!==0&&(U>0?g=o[h][U-1>>1]:U<0&&(g=o[h][-U-1>>1].neg()),g.type==="affine"?A=A.mixedAdd(g):A=A.add(g))}}for(d=0;d<i;d++)o[d]=null;return a?A:A.toP()};function wl(t,e){this.curve=t,this.type=e,this.precomputed=null}wh.BasePoint=wl;wl.prototype.eq=function(){throw new Error("Not implemented")};wl.prototype.validate=function(){return this.curve.validate(this)};wh.prototype.decodePoint=function(e,n){e=bo.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?s6(e[e.length-1]%2===0):e[0]===7&&s6(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};wl.prototype.encodeCompressed=function(e){return this.encode(e,!0)};wl.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};wl.prototype.encode=function(e,n){return bo.encode(this._encode(n),e)};wl.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};wl.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};wl.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,a=0;a<n;a+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}};wl.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),a=1;a<r;a++)n[a]=n[a-1].add(i);return{wnd:e,points:n}};wl.prototype._getBeta=function(){return null};wl.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var IN=Em(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),C4e=bo.assert;function vl(t){up.call(this,"short",t),this.a=new en(t.a,16).toRed(this.red),this.b=new en(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}IN(vl,up);var S4e=vl;vl.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new en(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new en(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(n))===0?r=a[0]:(r=a[1],C4e(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new en(o.a,16),b:new en(o.b,16)}}):s=this._getEndoBasis(r),{beta:n,lambda:r,basis:s}}};vl.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:en.mont(e),r=new en(2).toRed(n).redInvm(),i=r.redNeg(),a=new en(3).toRed(n).redNeg().redSqrt().redMul(r),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};vl.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),a=new en(1),s=new en(0),o=new en(0),l=new en(1),u,d,h,g,m,b,w,x=0,E,I;r.cmpn(0)!==0;){var C=i.div(r);E=i.sub(C.mul(r)),I=o.sub(C.mul(a));var N=l.sub(C.mul(s));if(!h&&E.cmp(n)<0)u=w.neg(),d=a,h=E.neg(),g=I;else if(h&&++x===2)break;w=E,i=r,r=E,o=a,a=I,l=s,s=N}m=E.neg(),b=I;var A=h.sqr().add(g.sqr()),T=m.sqr().add(b.sqr());return T.cmp(A)>=0&&(m=u,b=d),h.negative&&(h=h.neg(),g=g.neg()),m.negative&&(m=m.neg(),b=b.neg()),[{a:h,b:g},{a:m,b}]};vl.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],a=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=a.mul(r.a),l=s.mul(i.a),u=a.mul(r.b),d=s.mul(i.b),h=e.sub(o).sub(l),g=u.add(d).neg();return{k1:h,k2:g}};vl.prototype.pointFromX=function(e,n){e=new en(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(n&&!a||!n&&a)&&(i=i.redNeg()),this.point(e,i)};vl.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),a=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(a).cmpn(0)===0};vl.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(n[s]),l=e[s],u=l._getBeta();o.k1.negative&&(o.k1.ineg(),l=l.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),i[s*2]=l,i[s*2+1]=u,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var d=this._wnafMulAdd(1,i,a,s*2,r),h=0;h<s*2;h++)i[h]=null,a[h]=null;return d};function Ki(t,e,n,r){up.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new en(e,16),this.y=new en(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}IN(Ki,up.BasePoint);vl.prototype.point=function(e,n,r){return new Ki(this,e,n,r)};vl.prototype.pointFromJSON=function(e,n){return Ki.fromJSON(this,e,n)};Ki.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(a){return r.point(a.x.redMul(r.endo.beta),a.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}};Ki.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ki.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function a(o){return e.point(o[0],o[1],r)}var s=n[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Ki.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ki.prototype.isInfinity=function(){return this.inf};Ki.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};Ki.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),a=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Ki.prototype.getX=function(){return this.x.fromRed()};Ki.prototype.getY=function(){return this.y.fromRed()};Ki.prototype.mul=function(e){return e=new en(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ki.prototype.mulAdd=function(e,n,r){var i=[this,n],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Ki.prototype.jmulAdd=function(e,n,r){var i=[this,n],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Ki.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ki.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(a){return a.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n};Ki.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ga(t,e,n,r){up.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new en(0)):(this.x=new en(e,16),this.y=new en(n,16),this.z=new en(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}IN(ga,up.BasePoint);vl.prototype.jpoint=function(e,n,r){return new ga(this,e,n,r)};ga.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)};ga.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ga.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),a=e.x.redMul(r),s=this.y.redMul(n.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),l=i.redSub(a),u=s.redSub(o);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=l.redSqr(),h=d.redMul(l),g=i.redMul(d),m=u.redSqr().redIAdd(h).redISub(g).redISub(g),b=u.redMul(g.redISub(m)).redISub(s.redMul(h)),w=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(m,b,w)};ga.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),a=this.y,s=e.y.redMul(n).redMul(this.z),o=r.redSub(i),l=a.redSub(s);if(o.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),d=u.redMul(o),h=r.redMul(u),g=l.redSqr().redIAdd(d).redISub(h).redISub(h),m=l.redMul(h.redISub(g)).redISub(a.redMul(d)),b=this.z.redMul(o);return this.curve.jpoint(g,m,b)};ga.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,l=this.z,u=l.redSqr().redSqr(),d=o.redAdd(o);for(n=0;n<e;n++){var h=s.redSqr(),g=d.redSqr(),m=g.redSqr(),b=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(u)),w=s.redMul(g),x=b.redSqr().redISub(w.redAdd(w)),E=w.redISub(x),I=b.redMul(E);I=I.redIAdd(I).redISub(m);var C=d.redMul(l);n+1<e&&(u=u.redMul(m)),s=x,l=C,d=I}return this.curve.jpoint(s,d.redMul(a),l)};ga.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ga.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var l=i.redAdd(i).redIAdd(i),u=l.redSqr().redISub(o).redISub(o),d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),e=u,n=l.redMul(o.redISub(u)).redISub(d),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),g=this.y.redSqr(),m=g.redSqr(),b=this.x.redAdd(g).redSqr().redISub(h).redISub(m);b=b.redIAdd(b);var w=h.redAdd(h).redIAdd(h),x=w.redSqr(),E=m.redIAdd(m);E=E.redIAdd(E),E=E.redIAdd(E),e=x.redISub(b).redISub(b),n=w.redMul(b.redISub(e)).redISub(E),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};ga.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=l.redSqr().redISub(o).redISub(o);e=u;var d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),n=l.redMul(o.redISub(u)).redISub(d),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),g=this.y.redSqr(),m=this.x.redMul(g),b=this.x.redSub(h).redMul(this.x.redAdd(h));b=b.redAdd(b).redIAdd(b);var w=m.redIAdd(m);w=w.redIAdd(w);var x=w.redAdd(w);e=b.redSqr().redISub(x),r=this.y.redAdd(this.z).redSqr().redISub(g).redISub(h);var E=g.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),n=b.redMul(w.redISub(e)).redISub(E)}return this.curve.jpoint(e,n,r)};ga.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,a=i.redSqr().redSqr(),s=n.redSqr(),o=r.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),u=n.redAdd(n);u=u.redIAdd(u);var d=u.redMul(o),h=l.redSqr().redISub(d.redAdd(d)),g=d.redISub(h),m=o.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var b=l.redMul(g).redISub(m),w=r.redAdd(r).redMul(i);return this.curve.jpoint(h,b,w)};ga.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(n).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var l=o.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var d=a.redIAdd(o).redSqr().redISub(s).redISub(l).redISub(u),h=n.redMul(d);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.x.redMul(l).redISub(h);g=g.redIAdd(g),g=g.redIAdd(g);var m=this.y.redMul(d.redMul(u.redISub(d)).redISub(o.redMul(l)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var b=this.z.redAdd(o).redSqr().redISub(r).redISub(l);return this.curve.jpoint(g,m,b)};ga.prototype.mul=function(e,n){return e=new en(e,n),this.curve._wnafMul(this,e)};ga.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),a=r.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};ga.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),this.x.cmp(r)===0)return!0}};ga.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ga.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var d5=Em(function(t,e){var n=e;n.base=up,n.short=S4e,n.mont=null,n.edwards=null}),f5=Em(function(t,e){var n=e,r=bo.assert;function i(o){o.type==="short"?this.curve=new d5.short(o):o.type==="edwards"?this.curve=new d5.edwards(o):this.curve=new d5.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=i;function a(o,l){Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:function(){var u=new i(l);return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,value:u}),u}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Lc.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Lc.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Lc.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Lc.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Lc.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Lc.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Lc.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Lc.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function oh(t){if(!(this instanceof oh))return new oh(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Vl.toArray(t.entropy,t.entropyEnc||"hex"),n=Vl.toArray(t.nonce,t.nonceEnc||"hex"),r=Vl.toArray(t.pers,t.persEnc||"hex");kN(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var iQ=oh;oh.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};oh.prototype._hmac=function(){return new Lc.hmac(this.hash,this.K)};oh.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};oh.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=Vl.toArray(e,n),r=Vl.toArray(r,i),kN(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};oh.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=Vl.toArray(r,i||"hex"),this._update(r));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(r),this._reseed++,Vl.encode(s,n)};var Lk=bo.assert;function Ra(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var TN=Ra;Ra.fromPublic=function(e,n,r){return n instanceof Ra?n:new Ra(e,{pub:n,pubEnc:r})};Ra.fromPrivate=function(e,n,r){return n instanceof Ra?n:new Ra(e,{priv:n,privEnc:r})};Ra.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ra.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};Ra.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ra.prototype._importPrivate=function(e,n){this.priv=new en(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};Ra.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?Lk(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Lk(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};Ra.prototype.derive=function(e){return e.validate()||Lk(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ra.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};Ra.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)};Ra.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var k4e=bo.assert;function t8(t,e){if(t instanceof t8)return t;this._importDER(t,e)||(k4e(t.r&&t.s,"Signature without r or s"),this.r=new en(t.r,16),this.s=new en(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var n8=t8;function I4e(){this.place=0}function B_(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var i=0,a=0,s=e.place;a<r;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function SL(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}t8.prototype._importDER=function(e,n){e=bo.toArray(e,n);var r=new I4e;if(e[r.place++]!==48)return!1;var i=B_(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var a=B_(e,r);if(a===!1||(e[r.place]&128)!==0)return!1;var s=e.slice(r.place,a+r.place);if(r.place+=a,e[r.place++]!==2)return!1;var o=B_(e,r);if(o===!1||e.length!==o+r.place||(e[r.place]&128)!==0)return!1;var l=e.slice(r.place,o+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new en(s),this.s=new en(l),this.recoveryParam=null,!0};function U_(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}t8.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=SL(n),r=SL(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];U_(i,n.length),i=i.concat(n),i.push(2),U_(i,r.length);var a=i.concat(r),s=[48];return U_(s,a.length),s=s.concat(a),bo.encode(s,e)};var T4e=(function(){throw new Error("unsupported")}),i0=bo.assert;function ll(t){if(!(this instanceof ll))return new ll(t);typeof t=="string"&&(i0(Object.prototype.hasOwnProperty.call(f5,t),"Unknown curve "+t),t=f5[t]),t instanceof f5.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var $4e=ll;ll.prototype.keyPair=function(e){return new TN(this,e)};ll.prototype.keyFromPrivate=function(e,n){return TN.fromPrivate(this,e,n)};ll.prototype.keyFromPublic=function(e,n){return TN.fromPublic(this,e,n)};ll.prototype.genKeyPair=function(e){e||(e={});for(var n=new iQ({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||T4e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new en(2));;){var a=new en(n.generate(r));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};ll.prototype._truncateToN=function(e,n,r){var i;if(en.isBN(e)||typeof e=="number")e=new en(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new en(e,16);else{var a=e.toString();i=a.length+1>>>1,e=new en(a,16)}typeof r!="number"&&(r=i*8);var s=r-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};ll.prototype.sign=function(e,n,r,i){if(typeof r=="object"&&(i=r,r=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!en.isBN(e)){i0(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),i0(e.length>>>0===e.length);for(var a=0;a<e.length;a++)i0((e[a]&255)===e[a])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,i.msgBitLength),i0(!e.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),o=n.getPrivate().toArray("be",s),l=e.toArray("be",s);i0(new en(l).eq(e),"Can not sign message");for(var u=new iQ({hash:this.hash,entropy:o,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),d=this.n.sub(new en(1)),h=0;;h++){var g=i.k?i.k(h):new en(u.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(d)>=0)){var m=this.g.mul(g);if(!m.isInfinity()){var b=m.getX(),w=b.umod(this.n);if(w.cmpn(0)!==0){var x=g.invm(this.n).mul(w.mul(n.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var E=(m.getY().isOdd()?1:0)|(b.cmp(w)!==0?2:0);return i.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),E^=1),new n8({r:w,s:x,recoveryParam:E})}}}}}};ll.prototype.verify=function(e,n,r,i,a){a||(a={}),e=this._truncateToN(e,!1,a.msgBitLength),r=this.keyFromPublic(r,i),n=new n8(n,"hex");var s=n.r,o=n.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var l=o.invm(this.n),u=l.mul(e).umod(this.n),d=l.mul(s).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(u,r.getPublic(),d),h.isInfinity()?!1:h.eqXToP(s)):(h=this.g.mulAdd(u,r.getPublic(),d),h.isInfinity()?!1:h.getX().umod(this.n).cmp(s)===0)};ll.prototype.recoverPubKey=function(t,e,n,r){i0((3&n)===n,"The recovery param is more than two bits"),e=new n8(e,r);var i=this.n,a=new en(t),s=e.r,o=e.s,l=n&1,u=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var d=e.r.invm(i),h=i.sub(a).mul(d).umod(i),g=o.mul(d).umod(i);return this.g.mulAdd(h,s,g)};ll.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new n8(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var N4e=Em(function(t,e){var n=e;n.version="6.6.1",n.utils=bo,n.rand=(function(){throw new Error("unsupported")}),n.curve=d5,n.curves=f5,n.ec=$4e,n.eddsa=null}),P4e=N4e.ec;const O4e="signing-key/5.8.0",Fk=new Le(O4e);let L_=null;function jf(){return L_||(L_=new P4e("secp256k1")),L_}let R4e=class{constructor(e){Cn(this,"curve","secp256k1"),Cn(this,"privateKey",cn(e)),q0(this.privateKey)!==32&&Fk.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=jf().keyFromPrivate(un(this.privateKey));Cn(this,"publicKey","0x"+n.getPublic(!1,"hex")),Cn(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),Cn(this,"_isSigningKey",!0)}_addPoint(e){const n=jf().keyFromPublic(un(this.publicKey)),r=jf().keyFromPublic(un(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const n=jf().keyFromPrivate(un(this.privateKey)),r=un(e);r.length!==32&&Fk.throwArgumentError("bad digest length","digest",e);const i=n.sign(r,{canonical:!0});return Z4({recoveryParam:i.recoveryParam,r:qr("0x"+i.r.toString(16),32),s:qr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const n=jf().keyFromPrivate(un(this.privateKey)),r=jf().keyFromPublic(un(aQ(e)));return qr("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function M4e(t,e){const n=Z4(e),r={r:un(n.r),s:un(n.s)};return"0x"+jf().recoverPubKey(un(t),r,n.recoveryParam).encode("hex",!1)}function aQ(t,e){const n=un(t);return n.length===32?new R4e(n).publicKey:n.length===33?"0x"+jf().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?cn(n):Fk.throwArgumentError("invalid public or private key","key","[REDACTED]")}const j4e="transactions/5.8.0",Rd=new Le(j4e);var kL;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(kL||(kL={}));function $N(t){return t==="0x"?null:ac(t)}function Ta(t){return t==="0x"?f6e:bt.from(t)}function D4e(t){const e=aQ(t);return ac(za(da(za(e,1)),12))}function sQ(t,e){return D4e(M4e(un(t),e))}function to(t,e){const n=Fg(bt.from(t).toHexString());return n.length>32&&Rd.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function F_(t,e){return{address:ac(t),storageKeys:(e||[]).map((n,r)=>(q0(n)!==32&&Rd.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function tv(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&Rd.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),F_(n[0],n[1])):F_(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,a)=>(i[a]=!0,i),{});return F_(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function oQ(t){return tv(t).map(e=>[e.address,e.storageKeys])}function B4e(t,e){if(t.gasPrice!=null){const r=bt.from(t.gasPrice),i=bt.from(t.maxFeePerGas||0);r.eq(i)||Rd.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const n=[to(t.chainId||0,"chainId"),to(t.nonce||0,"nonce"),to(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),to(t.maxFeePerGas||0,"maxFeePerGas"),to(t.gasLimit||0,"gasLimit"),t.to!=null?ac(t.to):"0x",to(t.value||0,"value"),t.data||"0x",oQ(t.accessList||[])];if(e){const r=Z4(e);n.push(to(r.recoveryParam,"recoveryParam")),n.push(Fg(r.r)),n.push(Fg(r.s))}return so(["0x02",Q4(n)])}function U4e(t,e){const n=[to(t.chainId||0,"chainId"),to(t.nonce||0,"nonce"),to(t.gasPrice||0,"gasPrice"),to(t.gasLimit||0,"gasLimit"),t.to!=null?ac(t.to):"0x",to(t.value||0,"value"),t.data||"0x",oQ(t.accessList||[])];if(e){const r=Z4(e);n.push(to(r.recoveryParam,"recoveryParam")),n.push(Fg(r.r)),n.push(Fg(r.s))}return so(["0x01",Q4(n)])}function lQ(t,e,n){try{const r=Ta(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{Rd.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=qr(e[1],32),t.s=qr(e[2],32);try{const r=da(n(t));t.from=sQ(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function L4e(t){const e=AN(t.slice(1));e.length!==9&&e.length!==12&&Rd.throwArgumentError("invalid component count for transaction type: 2","payload",cn(t));const n=Ta(e[2]),r=Ta(e[3]),i={type:2,chainId:Ta(e[0]).toNumber(),nonce:Ta(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:Ta(e[4]),to:$N(e[5]),value:Ta(e[6]),data:e[7],accessList:tv(e[8])};return e.length===9||(i.hash=da(t),lQ(i,e.slice(9),B4e)),i}function F4e(t){const e=AN(t.slice(1));e.length!==8&&e.length!==11&&Rd.throwArgumentError("invalid component count for transaction type: 1","payload",cn(t));const n={type:1,chainId:Ta(e[0]).toNumber(),nonce:Ta(e[1]).toNumber(),gasPrice:Ta(e[2]),gasLimit:Ta(e[3]),to:$N(e[4]),value:Ta(e[5]),data:e[6],accessList:tv(e[7])};return e.length===8||(n.hash=da(t),lQ(n,e.slice(8),U4e)),n}function z4e(t){const e=AN(t);e.length!==9&&e.length!==6&&Rd.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:Ta(e[0]).toNumber(),gasPrice:Ta(e[1]),gasLimit:Ta(e[2]),to:$N(e[3]),value:Ta(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=bt.from(e[6]).toNumber()}catch{return n}if(n.r=qr(e[7],32),n.s=qr(e[8],32),bt.from(n.r).isZero()&&bt.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const i=e.slice(0,6);n.chainId!==0&&(i.push(cn(n.chainId)),i.push("0x"),i.push("0x"),r-=n.chainId*2+8);const a=da(Q4(i));try{n.from=sQ(a,{r:cn(n.r),s:cn(n.s),recoveryParam:r})}catch{}n.hash=da(t)}return n.type=null,n}function W4e(t){const e=un(t);if(e[0]>127)return z4e(e);switch(e[0]){case 1:return F4e(e);case 2:return L4e(e)}return Rd.throwError(`unsupported transaction type: ${e[0]}`,Le.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Ky=new Le(e8);class Rt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),a=this.data.bind(this),s=this.hash.bind(this),o=this.hex.bind(this),l=this.number.bind(this),u=this.type.bind(this),d=h=>this.data(h,!0);return e.transaction={hash:s,type:u,accessList:Rt.allowNull(this.accessList.bind(this),null),blockHash:Rt.allowNull(s,null),blockNumber:Rt.allowNull(l,null),transactionIndex:Rt.allowNull(l,null),confirmations:Rt.allowNull(l,null),from:n,gasPrice:Rt.allowNull(r),maxPriorityFeePerGas:Rt.allowNull(r),maxFeePerGas:Rt.allowNull(r),gasLimit:r,to:Rt.allowNull(n,null),value:r,nonce:l,data:a,r:Rt.allowNull(this.uint256),s:Rt.allowNull(this.uint256),v:Rt.allowNull(l),creates:Rt.allowNull(n,null),raw:Rt.allowNull(a)},e.transactionRequest={from:Rt.allowNull(n),nonce:Rt.allowNull(l),gasLimit:Rt.allowNull(r),gasPrice:Rt.allowNull(r),maxPriorityFeePerGas:Rt.allowNull(r),maxFeePerGas:Rt.allowNull(r),to:Rt.allowNull(n),value:Rt.allowNull(r),data:Rt.allowNull(d),type:Rt.allowNull(l),accessList:Rt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:s,address:n,topics:Rt.arrayOf(s),data:a,logIndex:l,blockHash:s},e.receipt={to:Rt.allowNull(this.address,null),from:Rt.allowNull(this.address,null),contractAddress:Rt.allowNull(n,null),transactionIndex:l,root:Rt.allowNull(o),gasUsed:r,logsBloom:Rt.allowNull(a),blockHash:s,transactionHash:s,logs:Rt.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:Rt.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:Rt.allowNull(r),status:Rt.allowNull(l),type:u},e.block={hash:Rt.allowNull(s),parentHash:s,number:l,timestamp:l,nonce:Rt.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Rt.allowNull(n),extraData:a,transactions:Rt.allowNull(Rt.arrayOf(s)),baseFeePerGas:Rt.allowNull(r)},e.blockWithTransactions=_s(e.block),e.blockWithTransactions.transactions=Rt.allowNull(Rt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Rt.allowNull(i,void 0),toBlock:Rt.allowNull(i,void 0),blockHash:Rt.allowNull(s,void 0),address:Rt.allowNull(n,void 0),topics:Rt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Rt.allowNull(l),blockHash:Rt.allowNull(s),transactionIndex:l,removed:Rt.allowNull(this.boolean.bind(this)),address:n,data:Rt.allowFalsish(a,"0x"),topics:Rt.arrayOf(s),transactionHash:s,logIndex:l},e}accessList(e){return tv(e||[])}number(e){return e==="0x"?0:bt.from(e).toNumber()}type(e){return e==="0x"||e==null?0:bt.from(e).toNumber()}bigNumber(e){return bt.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),yr(e))?e.toLowerCase():Ky.throwArgumentError("invalid hash","value",e)}data(e,n){const r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return ac(e)}callAddress(e){if(!yr(e,32))return null;const n=ac(za(e,12));return n===d6e?null:n}contractAddress(e){return X6e(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||yr(e))return xN(e);throw new Error("invalid blockTag")}hash(e,n){const r=this.hex(e,n);return q0(r)!==32?Ky.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const n=bt.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!yr(e))throw new Error("invalid uint256");return qr(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=Rt.check(n,e);return i._difficulty=r==null?null:bt.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Rt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&bt.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=Rt.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;yr(r)&&(r=bt.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),yr(r)&&(r=bt.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return W4e(e)}receiptLog(e){return Rt.check(this.formats.receiptLog,e)}receipt(e){const n=Rt.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const r=bt.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&Ky.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):Ky.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&Ky.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return Rt.check(this.formats.filter,e)}filterLog(e){return Rt.check(this.formats.filterLog,e)}static check(e,n){const r={};for(const i in e)try{const a=e[i](n[i]);a!==void 0&&(r[i]=a)}catch(a){throw a.checkKey=i,a.checkValue=n[i],a}return r}static allowNull(e,n){return(function(r){return r==null?n:e(r)})}static allowFalsish(e,n){return(function(r){return r?e(r):n})}static arrayOf(e){return(function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(i){r.push(e(i))}),r})}}var an=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const yn=new Le(e8),H4e=10;function IL(t){return t==null?"null":(q0(t)!==32&&yn.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function TL(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(i=>{n[IL(i)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return IL(e)}).join("&")}function q4e(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function h1(t){if(typeof t=="string"){if(t=t.toLowerCase(),q0(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+TL(t);if(o6e.isForkEvent(t))throw yn.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+TL(t.topics||[])}throw new Error("invalid event - "+t)}function Yy(){return new Date().getTime()}function $L(t){return new Promise(e=>{setTimeout(e,t)})}const V4e=["block","network","pending","poll"];let G4e=class{constructor(e,n,r){Cn(this,"tag",e),Cn(this,"listener",n),Cn(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],r=q4e(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){return this.tag.indexOf(":")>=0||V4e.indexOf(this.tag)>=0}};const K4e={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function z_(t){return qr(bt.from(t).toHexString(),32)}function NL(t){return Uk.encode(y0([t,za(EL(EL(t)),0,4)]))}const cQ=new RegExp("^(ipfs)://(.*)$","i"),PL=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),cQ,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function h5(t,e){try{return J4(sw(t,e))}catch{}return null}function sw(t,e){if(t==="0x")return null;const n=bt.from(za(t,e,e+32)).toNumber(),r=bt.from(za(t,n,n+32)).toNumber();return za(t,n+32,n+32+r)}function W_(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):yn.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function OL(t){const e=un(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Y4e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function uQ(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){const i=un(t[r]);e[r]=OL(n),e.push(OL(i.length)),e.push(Y4e(i)),n+=32+Math.ceil(i.length/32)*32}return so(e)}class RL{constructor(e,n,r,i){Cn(this,"provider",e),Cn(this,"name",r),Cn(this,"address",e.formatter.address(n)),Cn(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>bt.from(e).eq(1)).catch(e=>{if(e.code===Le.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return an(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:so([e,u5(this.name),n||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=so(["0x9061b923",uQ([V6e(this.name),r.data])]));try{let a=yield this.provider.call(r);return un(a).length%32===4&&yn.throwError("resolver threw error",Le.errors.CALL_EXCEPTION,{transaction:r,data:a}),i&&(a=sw(a,0)),a}catch(a){if(a.code===Le.errors.CALL_EXCEPTION)return null;throw a}})}_fetchBytes(e,n){return an(this,void 0,void 0,function*(){const r=yield this._fetch(e,n);return r!=null?sw(r,0):null})}_getAddress(e,n){const r=K4e[String(e)];if(r==null&&yn.throwError(`unsupported coin type: ${e}`,Le.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);const i=un(n);if(r.p2pkh!=null){const a=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(a){const s=parseInt(a[1],16);if(a[2].length===s*2&&s>=1&&s<=75)return NL(y0([[r.p2pkh],"0x"+a[2]]))}}if(r.p2sh!=null){const a=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){const s=parseInt(a[1],16);if(a[2].length===s*2&&s>=1&&s<=75)return NL(y0([[r.p2sh],"0x"+a[2]]))}}if(r.prefix!=null){const a=i[1];let s=i[0];if(s===0?a!==20&&a!==32&&(s=-1):s=-1,s>=0&&i.length===2+a&&a>=1&&a<=75){const o=CL.toWords(i.slice(2));return o.unshift(s),CL.encode(r.prefix,o)}}return null}getAddress(e){return an(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===h6e?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===Le.errors.CALL_EXCEPTION)return null;throw i}const n=yield this._fetchBytes("0xf1cb7e06",z_(e));if(n==null||n==="0x")return null;const r=this._getAddress(e,n);return r==null&&yn.throwError("invalid or unsupported coin data",Le.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return an(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<PL.length;r++){const i=n.match(PL[r]);if(i==null)continue;const a=i[1].toLowerCase();switch(a){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:W_(n)};case"erc721":case"erc1155":{const s=a==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:a,content:n});const o=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const u=yield this.provider.formatter.address(l[0]),d=qr(bt.from(l[1]).toHexString(),32);if(a==="erc721"){const w=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:so(["0x6352211e",d])}));if(o!==w)return null;e.push({type:"owner",content:w})}else if(a==="erc1155"){const w=bt.from(yield this.provider.call({to:u,data:so(["0x00fdd58e",qr(o,32),d])}));if(w.isZero())return null;e.push({type:"balance",content:w.toString()})}const h={to:this.provider.formatter.address(l[0]),data:so([s,d])};let g=h5(yield this.provider.call(h),0);if(g==null)return null;e.push({type:"metadata-url-base",content:g}),a==="erc1155"&&(g=g.replace("{id}",d.substring(2)),e.push({type:"metadata-url-expanded",content:g})),g.match(/^ipfs:/i)&&(g=W_(g)),e.push({type:"metadata-url",content:g});const m=yield SN(g);if(!m)return null;e.push({type:"metadata",content:JSON.stringify(m)});let b=m.image;if(typeof b!="string")return null;if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(cQ)==null)return null;e.push({type:"url-ipfs",content:b}),b=W_(b)}return e.push({type:"url",content:b}),{linkage:e,url:b}}}}}catch{}return null})}getContentHash(){return an(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipfs://"+Uk.encode("0x"+n[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=parseInt(r[3],16);if(r[4].length===s*2)return"ipns://"+Uk.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const a=e.match(/^0x90b2c605([0-9a-f]*)$/);if(a&&a[1].length===68){const s={"=":"","+":"-","/":"_"};return"sia://"+jX("0x"+a[1]).replace(/[=+\/]/g,l=>s[l])}return yn.throwError("invalid or unsupported content hash data",Le.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return an(this,void 0,void 0,function*(){let n=Ad(e);n=y0([z_(64),z_(n.length),n]),n.length%32!==0&&(n=y0([n,qr("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",cn(n));return r==null||r==="0x"?null:J4(r)})}}let H_=null,Z4e=1;class J4e extends _N{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Cn(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=T2(new.target,"getNetwork")(e);n?(Cn(this,"_network",n),this.emit("network",n,null)):yn.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return an(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||yn.throwError("no network detected",Le.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Cn(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return $2(()=>this._ready().then(e=>e,e=>{if(!(e.code===Le.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return H_==null&&(H_=new Rt),H_}static getNetwork(e){return u6e(e??"homestead")}ccipReadFetch(e,n,r){return an(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),a=n.toLowerCase(),s=[];for(let o=0;o<r.length;o++){const l=r[o],u=l.replace("{sender}",i).replace("{data}",a),d=l.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:i}),h=yield SN({url:u,errorPassThrough:!0},d,(m,b)=>(m.status=b.statusCode,m));if(h.data)return h.data;const g=h.message||"unknown error";if(h.status>=400&&h.status<500)return yn.throwError(`response not found during CCIP fetch: ${g}`,Le.errors.SERVER_ERROR,{url:l,errorMessage:g});s.push(g)}return yn.throwError(`error encountered during CCIP fetch: ${s.map(o=>JSON.stringify(o)).join(", ")}`,Le.errors.SERVER_ERROR,{urls:r,errorMessages:s})})}_getInternalBlockNumber(e){return an(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const a=yield i;if(Yy()-a.respTime<=e)return a.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const n=Yy(),r=la({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:a})=>{if(a)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),a;const s=Yy();return i=bt.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:n,respTime:s}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return an(this,void 0,void 0,function*(){const e=Z4e++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)yn.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",yn.makeError("network block skew detected",Le.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const a=this._emitted[i];a!=="pending"&&r-a>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const a=i.hash;let s=this.getTransactionReceipt(a).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+a]=o.blockNumber,this.emit(a,o)),null)).catch(o=>{this.emit("error",o)});n.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const a=i.filter;a.fromBlock=i._lastBlockNumber+1,a.toBlock=r;const s=a.toBlock-this._maxFilterBlockRange;s>a.fromBlock&&(a.fromBlock=s),a.fromBlock<0&&(a.fromBlock=0);const o=this.getLogs(a).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(u=>{u.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(a,u)})}).catch(l=>{this.emit("error",l),i._inflight=!1});n.push(o)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return an(this,void 0,void 0,function*(){return yn.throwError("provider does not support network detection",Le.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return an(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield $L(0),this._network;const r=yn.makeError("underlying network changed",Le.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Yy();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Yy(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return an(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,i){return an(this,void 0,void 0,function*(){const a=yield this.getTransactionReceipt(e);return(a?a.confirmations:0)>=n?a:new Promise((s,o)=>{const l=[];let u=!1;const d=function(){return u?!0:(u=!0,l.forEach(g=>{g()}),!1)},h=g=>{g.confirmations<n||d()||s(g)};if(this.on(e,h),l.push(()=>{this.removeListener(e,h)}),i){let g=i.startBlock,m=null;const b=w=>an(this,void 0,void 0,function*(){u||(yield $L(1e3),this.getTransactionCount(i.from).then(x=>an(this,void 0,void 0,function*(){if(!u){if(x<=i.nonce)g=w;else{{const E=yield this.getTransaction(e);if(E&&E.blockNumber!=null)return}for(m==null&&(m=g-3,m<i.startBlock&&(m=i.startBlock));m<=w;){if(u)return;const E=yield this.getBlockWithTransactions(m);for(let I=0;I<E.transactions.length;I++){const C=E.transactions[I];if(C.hash===e)return;if(C.from===i.from&&C.nonce===i.nonce){if(u)return;const N=yield this.waitForTransaction(C.hash,n);if(d())return;let A="replaced";C.data===i.data&&C.to===i.to&&C.value.eq(i.value)?A="repriced":C.data==="0x"&&C.from===C.to&&C.value.isZero()&&(A="cancelled"),o(yn.makeError("transaction was replaced",Le.errors.TRANSACTION_REPLACED,{cancelled:A==="replaced"||A==="cancelled",reason:A,replacement:this._wrapTransaction(C),hash:e,receipt:N}));return}}m++}}u||this.once("block",b)}}),x=>{u||this.once("block",b)}))});if(u)return;this.once("block",b),l.push(()=>{this.removeListener("block",b)})}if(typeof r=="number"&&r>0){const g=setTimeout(()=>{d()||o(yn.makeError("timeout exceeded",Le.errors.TIMEOUT,{timeout:r}))},r);g.unref&&g.unref(),l.push(()=>{clearTimeout(g)})}})})}getBlockNumber(){return an(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return an(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return bt.from(e)}catch(n){return yn.throwError("bad result from backend",Le.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return an(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield la({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getBalance",r);try{return bt.from(i)}catch(a){return yn.throwError("bad result from backend",Le.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:a})}})}getTransactionCount(e,n){return an(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield la({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getTransactionCount",r);try{return bt.from(i).toNumber()}catch(a){return yn.throwError("bad result from backend",Le.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:a})}})}getCode(e,n){return an(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield la({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getCode",r);try{return cn(i)}catch(a){return yn.throwError("bad result from backend",Le.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:a})}})}getStorageAt(e,n,r){return an(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield la({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(s=>xN(s))}),a=yield this.perform("getStorageAt",i);try{return cn(a)}catch(s){return yn.throwError("bad result from backend",Le.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:s})}})}_wrapTransaction(e,n,r){if(n!=null&&q0(n)!==32)throw new Error("invalid response - sendTransaction");const i=e;return n!=null&&e.hash!==n&&yn.throwError("Transaction hash mismatch from Provider.sendTransaction.",Le.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),i.wait=(a,s)=>an(this,void 0,void 0,function*(){a==null&&(a=1),s==null&&(s=0);let o;a!==0&&r!=null&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,a,s,o);return l==null&&a===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&yn.throwError("transaction failed",Le.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return an(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(a=>cn(a)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const a=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,a,i)}catch(a){throw a.transaction=r,a.transactionHash=r.hash,a}})}_getTransactionRequest(e){return an(this,void 0,void 0,function*(){const n=yield e,r={};return["from","to"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(a=>a?this._getAddress(a):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(a=>a?bt.from(a):null))}),["type"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(a=>a??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(a=>a?cn(a):null))}),this.formatter.transactionRequest(yield la(r))})}_getFilter(e){return an(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield la(n))})}_call(e,n,r){return an(this,void 0,void 0,function*(){r>=H4e&&yn.throwError("CCIP read exceeded maximum redirections",Le.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,a=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&i!=null&&a.substring(0,10)==="0x556f1830"&&q0(a)%32===4)try{const s=za(a,4),o=za(s,0,32);bt.from(o).eq(i)||yn.throwError("CCIP Read sender did not match",Le.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const l=[],u=bt.from(za(s,32,64)).toNumber(),d=bt.from(za(s,u,u+32)).toNumber(),h=za(s,u+32);for(let E=0;E<d;E++){const I=h5(h,E*32);I==null&&yn.throwError("CCIP Read contained corrupt URL string",Le.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),l.push(I)}const g=sw(s,64);bt.from(za(s,100,128)).isZero()||yn.throwError("CCIP Read callback selector included junk",Le.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const m=za(s,96,100),b=sw(s,128),w=yield this.ccipReadFetch(e,g,l);w==null&&yn.throwError("CCIP Read disabled or provided no URLs",Le.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const x={to:i,data:so([m,uQ([w,b])])};return this._call(x,n,r+1)}catch(s){if(s.code===Le.errors.SERVER_ERROR)throw s}try{return cn(a)}catch(s){return yn.throwError("bad result from backend",Le.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:a,error:s})}})}call(e,n){return an(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield la({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return an(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield la({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return bt.from(r)}catch(i){return yn.throwError("bad result from backend",Le.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:i})}})}_getAddress(e){return an(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&yn.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&yn.throwError("ENS name not configured",Le.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return an(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!n};if(yr(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),yr(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{yn.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return $2(()=>an(this,void 0,void 0,function*(){const a=yield this.perform("getBlock",i);if(a==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let s=null;for(let l=0;l<a.transactions.length;l++){const u=a.transactions[l];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let d=s-u.blockNumber+1;d<=0&&(d=1),u.confirmations=d}}const o=this.formatter.blockWithTransactions(a);return o.transactions=o.transactions.map(l=>this._wrapTransaction(l)),o}return this.formatter.block(a)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return an(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return $2(()=>an(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return an(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return $2(()=>an(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return an(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield la({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),Rt.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return an(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return an(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&yn.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return an(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const i=new RL(this,r,e);return n!==e&&!(yield i.supportsWildcard())?null:i}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return an(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||yn.throwError("network does not support ENS",Le.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+u5(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return an(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(yr(e))throw r}typeof e!="string"&&yn.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return an(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const i=h5(yield this.call({to:r,data:"0x691f3431"+u5(n).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return an(this,void 0,void 0,function*(){let n=null;if(yr(e)){const a=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(a,"getAvatar");if(!s)return null;n=new RL(this,s,a);try{const o=yield n.getAvatar();if(o)return o.url}catch(o){if(o.code!==Le.errors.CALL_EXCEPTION)throw o}try{const o=h5(yield this.call({to:s,data:"0x691f3431"+u5(a).substring(2)}),0);n=yield this.getResolver(o)}catch(o){if(o.code!==Le.errors.CALL_EXCEPTION)throw o;return null}}else if(n=yield this.getResolver(e),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return yn.throwError(e+" not implemented",Le.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){const i=new G4e(h1(e),n,r);return this._events.push(i),this._startEvent(i),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,i=[],a=h1(e);return this._events=this._events.filter(s=>s.tag!==a?!0:(setTimeout(()=>{s.listener.apply(this,n)},0),r=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),r}listenerCount(e){if(!e)return this._events.length;let n=h1(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=h1(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const r=[];let i=!1,a=h1(e);return this._events=this._events.filter(s=>s.tag!==a||s.listener!=n||i?!0:(i=!0,r.push(s),!1)),r.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const r=h1(e);this._events=this._events.filter(i=>i.tag!==r?!0:(n.push(i),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var Yu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const pi=new Le(e8),X4e=["call","estimateGas"];function K2(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=yr(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const r=K2(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return K2(JSON.parse(t),e)}catch{}return null}function dQ(t,e,n){const r=n.transaction||n.signedTransaction;if(t==="call"){const a=K2(e,!0);if(a)return a.data;pi.throwError("missing revert data in call exception; Transaction reverted without a reason string",Le.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let a=K2(e.body,!1);a==null&&(a=K2(e,!1)),a&&pi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Le.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:t,transaction:r,error:e})}let i=e.message;throw e.code===Le.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&pi.throwError("insufficient funds for intrinsic transaction cost",Le.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),i.match(/nonce (is )?too low/i)&&pi.throwError("nonce has already been used",Le.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&pi.throwError("replacement fee too low",Le.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),i.match(/only replay-protected/i)&&pi.throwError("legacy pre-eip-155 transactions not supported",Le.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),X4e.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&pi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Le.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function ML(t){return new Promise(function(e){setTimeout(e,t)})}function Q4e(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Zy(t){return t&&t.toLowerCase()}const zk={};class fQ extends Y4{constructor(e,n,r){if(super(),e!==zk)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Cn(this,"provider",n),r==null&&(r=0),typeof r=="string"?(Cn(this,"_address",this.provider.formatter.address(r)),Cn(this,"_index",null)):typeof r=="number"?(Cn(this,"_index",r),Cn(this,"_address",null)):pi.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return pi.throwError("cannot alter JSON-RPC Signer connection",Le.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new e8e(zk,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&pi.throwError("unknown account #"+this._index,Le.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=_s(e);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=_s(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>Yu(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&pi.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),la({tx:la(e),sender:n}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&pi.throwArgumentError("from address mismatch","transaction",e):r.from=i;const a=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[a]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&pi.throwError("user rejected transaction",Le.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),dQ("sendTransaction",s,a)))})}signTransaction(e){return pi.throwError("signing transactions is unsupported",Le.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Yu(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield $2(()=>Yu(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,n)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return Yu(this,void 0,void 0,function*(){const n=typeof e=="string"?Ad(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[cn(n),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&pi.throwError("user rejected signing",Le.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return Yu(this,void 0,void 0,function*(){const n=typeof e=="string"?Ad(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),cn(n)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&pi.throwError("user rejected signing",Le.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,n,r){return Yu(this,void 0,void 0,function*(){const i=yield oL.resolveNames(e,n,r,s=>this.provider.resolveName(s)),a=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(oL.getPayload(i.domain,n,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&pi.throwError("user rejected signing",Le.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,messageData:{domain:i.domain,types:n,value:i.value}}),s}})}unlock(e){return Yu(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class e8e extends fQ{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const t8e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class n8e extends J4e{constructor(e,n){let r=n;r==null&&(r=new Promise((i,a)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{a(s)})},0)})),super(r),e||(e=T2(this.constructor,"defaultUrl")()),typeof e=="string"?Cn(this,"connection",Object.freeze({url:e})):Cn(this,"connection",Object.freeze(_s(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Yu(this,void 0,void 0,function*(){yield ML(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=T2(this.constructor,"getNetwork");try{return n(bt.from(e).toNumber())}catch(r){return pi.throwError("could not detect network",Le.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return pi.throwError("could not detect network",Le.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new fQ(zk,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:rw(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const a=SN(this.connection,JSON.stringify(r),Q4e).then(s=>(this.emit("debug",{action:"response",request:r,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:r,provider:this}),s});return i&&(this._cache[e]=a,setTimeout(()=>{this._cache[e]=null},0)),a}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Zy(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Zy(n.address),n.blockTag]];case"getCode":return["eth_getCode",[Zy(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Zy(n.address),qr(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[T2(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[T2(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=Zy(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return Yu(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=n.transaction;if(i&&i.type!=null&&bt.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const a=yield this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(n=_s(n),n.transaction=_s(i),delete n.transaction.type)}}const r=this.prepareRequest(e,n);r==null&&pi.throwError(e+" not implemented",Le.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return dQ(e,i,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(a){if(e._pendingFilter!=n)return null;let s=Promise.resolve();return a.forEach(function(o){e._emitted["t:"+o.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(o).then(function(l){return e.emit("pending",l),null})})}),s.then(function(){return ML(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(a=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const r=_s(t8e);if(n)for(const a in n)n[a]&&(r[a]=!0);L5e(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(a){if(e[a]==null)return;const s=xN(bt.from(e[a]));a==="gasLimit"&&(a="gas"),i[a]=s}),["from","to","data"].forEach(function(a){e[a]!=null&&(i[a]=cn(e[a]))}),e.accessList&&(i.accessList=tv(e.accessList)),i}}var r8e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const i8e=new Le(e8);class a8e extends n8e{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return r8e(this,void 0,void 0,function*(){let n=this.network;return n==null&&(n=yield e.detectNetwork.call(this),n||i8e.throwError("no network detected",Le.errors.UNKNOWN_ERROR,{}),this._network==null&&(Cn(this,"_network",n),this.emit("network",n,null))),n})}}function Wk(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}const hQ=t=>[ml.id,q4.id].includes(t),s8e=async(t,e)=>{if(!hQ(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:n}=await e.getFeeData();if(n){let r=n.mul(bt.from(120)).div(bt.from(100));t.maxFeePerGas=Wk(r),t.maxPriorityFeePerGas=Wk(bt.from(0))}}catch(n){throw Error(`Failed to set gas price for Arbitrum transaction: ${n}.`)}return t},pQ=t=>[56,97].includes(t),o8e=async(t,e)=>{if(!pQ(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let n=await e.getFeeData();t.gasPrice=n.gasPrice?.toHexString()}return t},gQ=t=>[yl.id,V4.id,hu.id,K4.id,yN.id,AX.id,_X.id,81457,168587773].includes(t),l8e=async(t,e)=>{if(!gQ(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let n=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=n}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:n}=await e.getFeeData();if(!n)throw Error("Unable to fetch baseFee for last block.");let r=bt.from(n).mul(bt.from(126)).div(bt.from(100)).add(bt.from(t.maxPriorityFeePerGas));t.maxFeePerGas=Wk(r)}}catch(n){throw Error(`Failed to set gas price for OP stack transaction: ${n}.`)}return t},c8e="units/5.8.0",u8e=new Le(c8e),d8e=["wei","kwei","mwei","gwei","szabo","finney","ether"];function jL(t,e){if(typeof t!="string"&&u8e.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=d8e.indexOf(e);n!==-1&&(e=3*n)}return jc(t,e??18)}var p5={exports:{}},f8e=p5.exports,DL;function h8e(){return DL||(DL=1,(function(t,e){(function(n,r){t.exports=r()})(f8e,(function(){var n=function(a,s){if(s=s||{},typeof a!="function")throw new i("fetch must be a function");if(typeof s!="object")throw new i("defaults must be an object");if(s.retries!==void 0&&!r(s.retries))throw new i("retries must be a positive integer");if(s.retryDelay!==void 0&&!r(s.retryDelay)&&typeof s.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(s.retryOn!==void 0&&!Array.isArray(s.retryOn)&&typeof s.retryOn!="function")throw new i("retryOn property expects an array or function");var o={retries:3,retryDelay:1e3,retryOn:[]};return s=Object.assign(o,s),function(u,d){var h=s.retries,g=s.retryDelay,m=s.retryOn;if(d&&d.retries!==void 0)if(r(d.retries))h=d.retries;else throw new i("retries must be a positive integer");if(d&&d.retryDelay!==void 0)if(r(d.retryDelay)||typeof d.retryDelay=="function")g=d.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(d&&d.retryOn)if(Array.isArray(d.retryOn)||typeof d.retryOn=="function")m=d.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(b,w){var x=function(I){var C=typeof Request<"u"&&u instanceof Request?u.clone():u;a(C,d).then(function(N){if(Array.isArray(m)&&m.indexOf(N.status)===-1)b(N);else if(typeof m=="function")try{return Promise.resolve(m(I,null,N)).then(function(A){A?E(I,null,N):b(N)}).catch(w)}catch(A){w(A)}else I<h?E(I,null,N):b(N)}).catch(function(N){if(typeof m=="function")try{Promise.resolve(m(I,N,null)).then(function(A){A?E(I,N,null):w(N)}).catch(function(A){w(A)})}catch(A){w(A)}else I<h?E(I,N,null):w(N)})};function E(I,C,N){var A=typeof g=="function"?g(I,C,N):g;setTimeout(function(){x(++I)},A)}x(0)})}};function r(a){return Number.isInteger(a)&&a>=0}function i(a){this.name="ArgumentError",this.message=a}return n}))})(p5)),p5.exports}var p8e=h8e();const NN=ja(p8e);let g8e=NN(fetch,{retries:3,retryDelay:500});const mQ=t=>[Rs.id,Jw.id].includes(t);let q_=t=>({maxPriorityFee:jL(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:jL(t.maxFee.toFixed(9),"gwei").toHexString()}),m8e=t=>({safeLow:q_(t.safeLow),standard:q_(t.standard),fast:q_(t.fast)});const y8e=async t=>{let e="";switch(t){case Rs.id:e="https://gasstation.polygon.technology/v2";break;case Jw.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let n=await g8e(e),r=await n.json();if(n.status>399)throw r;return m8e(r)};async function b8e(t){if(!mQ(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await y8e(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const w8e=async(t,e)=>{if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let n=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=n.maxFeePerGas?.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas?.toHexString())}}else if(!t.gasPrice){let n=await e.getFeeData();t.gasPrice=n.gasPrice?.toHexString()}return t};async function v8e(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(n){let r;if("message"in n&&n.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'value'`),r=await(async function({txRequest:i,provider:a}){try{let s={...i,value:void 0};return(await a.estimateGas(s)).toHexString()}catch(s){return console.warn(`Gas estimation failed with error: ${s} when omitting the 'value'`),null}})({txRequest:t,provider:e})),r||(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from'`),r=await(async function({txRequest:i,provider:a}){try{let s={...i,from:void 0};return(await a.estimateGas(s)).toHexString()}catch(s){return console.warn(`Gas estimation failed with error: ${s} when omitting the 'from' address`),null}})({txRequest:t,provider:e})),!r)throw n;return r}}const BL=(t,e,n,r)=>{let i=Number(t),a=e.find((s=>s.id===i));if(!a)throw new kX(`Unsupported chainId ${t}`,4901);return new a8e(a.rpcUrls.privyWalletOverride&&a.rpcUrls.privyWalletOverride.http[0]?a.rpcUrls.privyWalletOverride.http[0]:n.rpcUrls&&n.rpcUrls[i]?n.rpcUrls[i]:a.rpcUrls.privy?.http[0]?{url:a.rpcUrls.privy.http[0],headers:{"privy-app-id":r.appId}}:a.rpcUrls.public?.http[0]?a.rpcUrls.public?.http[0]:a.rpcUrls.default?.http[0])},x8e=(t,e,n)=>{let r,i=t.id,a=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[a])r=e.rpcUrls[a];else if(t.rpcUrls.privy?.http[0]){let s=new URL(t.rpcUrls.privy.http[0]);s.searchParams.append("privyAppId",n),r=s.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new kX(`No RPC url found for ${i}`);return r};function yQ(t){return/^-?0x[a-f0-9]+$/i.test(t)}function E8e(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let n=t[e];if(n!==void 0&&!(function(r){let i=typeof r=="number",a=typeof r=="bigint",s=typeof r=="string"&&yQ(r);return i||a||s})(n))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function UL(t,e,n){if(e.chainId=Number(e.chainId),E8e(e),e.from||(e.from=t),!e.nonce){let r=new G5e(t,n);e.nonce=await r.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await v8e(e,n)),typeof e.type=="string"&&yQ(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=mQ(e.chainId)?await b8e(e):hQ(e.chainId)?await s8e(e,n):gQ(e.chainId)?await l8e(e,n):pQ(e.chainId)?await o8e(e,n):await w8e(e,n)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function _8e({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function bQ(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}let A8e=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function C8e(t,e,n,r,i=!1,a,s){let o=i,l=async d=>{if(o){d===(i?0:1)?r():n.current?.reject(new o5("missing_or_invalid_mfa","MFA verification failed, retry."));let h=await new Promise(((g,m)=>{e.current={resolve:g,reject:m},setTimeout((()=>{let b=new o5("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(b),m(b)}),s)}));return await t(h)}return await t()},u=null;for(let d=0;d<a;d++)try{u=await l(d),n.current?.resolve(void 0);break}catch(h){if(h.type!=="missing_or_invalid_mfa")throw n.current?.resolve(void 0),h;o=!0}if(u===null){let d=new o5("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(d),d}return u}var LL;let S8e=(LL=0,()=>"id-"+LL++),k8e=(t,e)=>typeof e=="bigint"?e.toString():e,gf=(t,{ms:e,msg:n})=>Promise.race([t,bQ(e??15e3).then((()=>Promise.reject(Error(n))))]),FL=new A8e,zL=class{invokeWithMfa(e,n){return gf(C8e((r=>gf(this.waitForReady().then((()=>e(r))),{msg:n.timeoutMsg,ms:n.timeoutMs})),this.mfa.rootPromise,this.mfa.submitPromise,(()=>this.mfa.emit("mfaRequired")),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return gf(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return gf(this.waitForReady().then((()=>this.invoke("privy:wallet:create",e))),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa((n=>this.invoke("privy:wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return gf(this.waitForReady().then((()=>this.invoke("privy:solana-wallet:create-additional",e))),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa((n=>this.invoke("privy:delegated-actions:consent",{...n,...e})),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:verify",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:init-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:unenroll",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return gf(this.waitForReady().then((()=>this.invoke("privy:mfa:clear",e))),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa((n=>this.invoke("privy:user-signer:sign",{...n,...e})),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return gf(this.waitForReady().then((()=>this.invoke("privy:wallets:add",e))),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:set-recovery",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return gf(this.waitForReady().then((()=>this.invoke("privy:wallets:connect",e))),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:recover",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:n,resolve:r}=FL.dequeue(e.event,e.id);return e.error!==void 0?n(new o5(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise((async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then((()=>{this.ready=!0,e()})).catch(n),await bQ(150)}))}invoke(e,n){let r=((a,s)=>`${a}${JSON.stringify(s,k8e)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let a=this.cache.get(r);if(a)return a}let i=new Promise(((a,s)=>{let o=S8e();FL.enqueue(o,{resolve:a,reject:s}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:o,event:e,data:n}),"*")})).finally((()=>{this.cache.delete(r)}));return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var V_={exports:{}},WL;function I8e(){return WL||(WL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,h||l,g),b=n?n+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],m]:l._events[b].push(m):(l._events[b]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,m=h.length,b=new Array(m);g<m;g++)b[g]=h[g].fn;return b},o.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,m,b){var w=n?n+u:u;if(!this._events[w])return!1;var x=this._events[w],E=arguments.length,I,C;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),E){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,g),!0;case 5:return x.fn.call(x.context,d,h,g,m),!0;case 6:return x.fn.call(x.context,d,h,g,m,b),!0}for(C=1,I=new Array(E-1);C<E;C++)I[C-1]=arguments[C];x.fn.apply(x.context,I)}else{var N=x.length,A;for(C=0;C<N;C++)switch(x[C].once&&this.removeListener(u,x[C].fn,void 0,!0),E){case 1:x[C].fn.call(x[C].context);break;case 2:x[C].fn.call(x[C].context,d);break;case 3:x[C].fn.call(x[C].context,d,h);break;case 4:x[C].fn.call(x[C].context,d,h,g);break;default:if(!I)for(A=1,I=new Array(E-1);A<E;A++)I[A-1]=arguments[A];x[C].fn.apply(x[C].context,I)}}return!0},o.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var b=this._events[m];if(b.fn)b.fn===d&&(!g||b.once)&&(!h||b.context===h)&&s(this,m);else{for(var w=0,x=[],E=b.length;w<E;w++)(b[w].fn!==d||g&&!b[w].once||h&&b[w].context!==h)&&x.push(b[w]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(V_)),V_.exports}var T8e=I8e();const dp=ja(T8e);let $8e=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const N8e=t=>$8e.includes(t),o6=t=>/^0x[0-9a-fA-F]*$/.test(t),l6=t=>_t.from(t,"utf8"),ow=t=>`0x${t.toString("hex")}`;var G_,HL;function P8e(){return HL||(HL=1,G_=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,a,s)=>`${i}${s===0?"":","}${t(a===void 0||typeof a=="symbol"?null:a)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const a=r.length===0?"":",";return`${r}${a}${t(i)}:${t(e[i])}`},"")}}`}),G_}var O8e=P8e();const R8e=ja(O8e);async function M8e(t,e){let n=R8e(e);if(n===void 0)throw new Wn({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=_t.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function Ha(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(c_,{params:{wallet_id:n}}),method:c_.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:a}=await M8e(e,i);return await t.fetchPrivyRoute(c_,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":a}})}function j8e(t){return{from:t.from,to:t.to,nonce:Gh(t.nonce),chain_id:Gh(t.chainId),data:(function(e){if(e!==void 0)return typeof e=="string"?o6(e)?e:ow(l6(e)):ow(_t.from(Uint8Array.from(e)))})(t.data),value:Gh(t.value),type:t.type,gas_limit:Gh(t.gasLimit),gas_price:Gh(t.gasPrice),max_fee_per_gas:Gh(t.maxFeePerGas),max_priority_fee_per_gas:Gh(t.maxPriorityFeePerGas)}}function Gh(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return o6(t)?t:ow(l6(t))}function D8e(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function wQ({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return(async function({context:r,account:i,rpcRequest:a}){switch(a.method){case"personal_sign":{let[s]=a.params,o=await Ha(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:s.startsWith("0x")?{message:s.slice(2),encoding:"hex"}:{message:s,encoding:"utf-8"}});if(o.method!=="personal_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"eth_signTransaction":{let[s]=a.params,o=await Ha(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:j8e(s)}});if(o.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:o.data.signed_transaction}}case"eth_signTypedData_v4":{let[,s]=a.params,o=await Ha(r,r.signRequest,{chain_type:"ethereum",method:a.method,wallet_id:i.id,params:{typed_data:D8e(s)}});if(o.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:o.data.signature}}case"eth_sign":{let[,s]=a.params,o=await Ha(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:o6(s)?s:ow(l6(s))}});if(o.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"secp256k1_sign":{let[s]=a.params,o=await Ha(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:o6(s)?s:ow(l6(s))}});if(o.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${a.method}`)}})({context:t,account:e,rpcRequest:n.request});case"solana":return(async function({context:r,account:i,rpcRequest:a}){if(a.method==="signMessage"){let{message:s}=a.params,o=await Ha(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:s,encoding:"base64"}});if(o.method!=="signMessage")throw Error("Unable to sign message");return{data:o.data.signature}}})({context:t,account:e,rpcRequest:n.request})}}let K_=class extends dp{async request(e){if(N8e(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let n=e.params?.[0];return this.handleSendTransaction(n)}case"eth_populateTransactionRequest":{let n=e.params?.[0];return this.handlePopulateTransaction(n)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=BL(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e);return UL(this._account.address,n,this._jsonRpcProvider)}async handleSendTransaction(e){let n=this.ensureChainId(e),r=await UL(this._account.address,n,this._jsonRpcProvider),i=await this.handleIFrameRpc({method:"eth_signTransaction",params:[r]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(n.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(r){console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from' address`);try{return delete n.from,await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),r}}}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new PU(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new PU(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(zf(r)){let{data:i}=await wQ({context:{app:this._appApi,fetchPrivyRoute:(...a)=>this._privyInternal.fetch(...a),getCompiledPath:(...a)=>this._privyInternal.getPath(...a),signRequest:({message:a})=>this._walletProxy.signWithUserSigner({accessToken:n,message:a})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let a=wN(i);if(a&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!a||!this._onNeedsRecovery)throw i;{let s;await new Promise((async(o,l)=>{s=setTimeout((()=>l(new Wn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>o(!0)})})).finally((()=>clearTimeout(s)))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Wn({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:a,chains:s,onNeedsRecovery:o,chainId:l=s[0].id,appApi:u}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=a,this._chainId=l,this._chains=s,this._onNeedsRecovery=o,this._jsonRpcProvider=BL(l,s,{rpcUrls:[]},{appId:u.appId}),this._appApi=u}};function Hk(t){return"version"in t}function qL(t,e){let n=(Hk(t)?t.message:t.compileMessage()).staticAccountKeys.find((r=>r.toBase58()===e));if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let B8e=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new Wn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=wN(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise((async(a,s)=>{i=setTimeout((()=>s(new Wn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>a(!0)})})).finally((()=>clearTimeout(i)))}}}}async signMessageRpc(e,n){let r=this._account;if(!zf(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await wQ({context:{app:this._app,fetchPrivyRoute:(...a)=>this._privyInternal.fetch(...a),getCompiledPath:(...a)=>this._privyInternal.getPath(...a),signRequest:({message:a})=>this._proxy.signWithUserSigner({accessToken:n,message:a})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Wn({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:a}=e.params,s=qL(r,this._account.address),o=Hk(r)?_t.from(r.message.serialize()):r.serializeMessage(),{signature:l}=await this.signMessageRpc({method:"signMessage",params:{message:o.toString("base64")}},n);return r.addSignature(s,_t.from(l,"base64")),{signature:await i.sendRawTransaction(r.serialize(),a)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Wn({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=qL(r,this._account.address),a=Hk(r)?_t.from(r.message.serialize()):r.serializeMessage(),{signature:s}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},n);return r.addSignature(i,_t.from(s,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new Wn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:a,onNeedsRecovery:s,app:o}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=a,this._onNeedsRecovery=s,this._app=o}},U8e=class{setMessagePoster(e){this._proxy=new zL(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessToken();if(!n)throw new Wn({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await b_({context:{app:this._appApi,fetchPrivyRoute:(...r)=>this._privyInternal.fetch(...r),getCompiledPath:(...r)=>this._privyInternal.getPath(...r)},chainType:e.chainType});else{let r=await this._privyInternal.getAccessToken();if(!r)throw new Wn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:r,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:a,recoverySecretOverride:s}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return zf(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:a,recoverySecretOverride:s}),new P5e({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:a,iCloudRecordNameOverride:s,solanaAccount:o,skipCallbacks:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new Wn({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await b_({context:{app:this._appApi,fetchPrivyRoute:(...u)=>this._privyInternal.fetch(...u),getCompiledPath:(...u)=>this._privyInternal.getPath(...u)},chainType:"ethereum"})}else{let u;if(u=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(u==="privy"&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let d=await this._privyInternal.getAccessToken();if(!d)throw Error("User must be logged in to create an embedded wallet");let{address:h}=await this._proxy.create({accessToken:d,recoveryMethod:u,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:a,iCloudRecordNameOverride:s,solanaAddress:o?.address});if(!h)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(l)}async createSolana(e){if(!this._proxy)throw new Wn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await b_({context:{app:this._appApi,fetchPrivyRoute:(...n)=>this._privyInternal.fetch(...n),getCompiledPath:(...n)=>this._privyInternal.getPath(...n)},chainType:"solana"});else{let n=await this._privyInternal.getAccessToken();if(!n)throw new Wn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:r}=await this._proxy.createSolana({accessToken:n,ethereumAddress:e?.ethereumAccount?.address});if(!r)throw new Wn({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new Wn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessToken();if(!r)throw new Wn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,a){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return zf(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:a,recoveryAccessToken:r,recoverySecretOverride:i}),new K_({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:a,recoverySecretOverride:s,recoveryKey:o,onNeedsRecovery:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return zf(e)||(!l||i||a||s||o)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:a,recoverySecretOverride:s,recoveryKey:o}),new K_({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:l,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,a,s,o){if(!this._proxy)throw new Wn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return zf(e)||(!o||i||a||s)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:a,recoverySecretOverride:s}),new B8e({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:o,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(zf(n))throw new Wn({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});_8e({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let a=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:a});try{let s;if(r.recoveryMethod==="user-passcode")s={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")s={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")s={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")s={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")s={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);s={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...s}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:a});let{user:o}=await this._privyInternal.refreshSession();return{user:o,provider:n.chain_type!=="ethereum"?null:new K_({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(s){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:s instanceof Error?s.message:"Unable to recover wallet"}),s}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:a,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:l,entropyId:e,entropyIdVerifier:n}),e}catch(u){if(wN(u))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let d=await this._proxy.recover({accessToken:l,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),d.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let d=await this._proxy.recover({accessToken:l,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),d.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let d=await this._proxy.recover({accessToken:l,recoveryAccessToken:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),d.entropyId}if(r.recovery_method==="icloud"&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let d=await this._proxy.recover({accessToken:l,recoverySecretOverride:o,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),d.entropyId}if(r.recovery_method==="recovery-encryption-key"&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let d=await this._proxy.recover({accessToken:l,recoveryKey:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),d.entropyId}}catch(d){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:d instanceof Error?d.message:`Unable to recover wallet: ${e}`}),d}throw u}}constructor(e,n,r,i,a,s){if(this._chains=Array.from(Xw),this._privyInternal=e,n&&(this._proxy=new zL(n,a),i.setProxy(this._proxy)),r){let o=SX(r);this._chains=o}this._mfa=i,this._mfaPromises=a,this._appApi=s}},L8e=class extends dp{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}},ix;const F8e=new Uint8Array(16);function z8e(){if(!ix&&(ix=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ix))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ix(F8e)}const aa=[];for(let t=0;t<256;++t)aa.push((t+256).toString(16).slice(1));function W8e(t,e=0){return aa[t[e+0]]+aa[t[e+1]]+aa[t[e+2]]+aa[t[e+3]]+"-"+aa[t[e+4]]+aa[t[e+5]]+"-"+aa[t[e+6]]+aa[t[e+7]]+"-"+aa[t[e+8]]+aa[t[e+9]]+"-"+aa[t[e+10]]+aa[t[e+11]]+aa[t[e+12]]+aa[t[e+13]]+aa[t[e+14]]+aa[t[e+15]]}const H8e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),VL={randomUUID:H8e};function c6(t,e,n){if(VL.randomUUID&&!t)return VL.randomUUID();t=t||{};const r=t.random||(t.rng||z8e)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,W8e(r)}function ax(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var q8e={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function qk(t,e){function n(i,a,s){if(!(typeof document>"u")){s=ax({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,s[l]!==!0&&(o+="="+s[l].split(";")[0]));return document.cookie=i+"="+t.write(a,i)+o}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],s={},o=0;o<a.length;o++){var l=a[o].split("="),u=l.slice(1).join("=");try{var d=decodeURIComponent(l[0]);if(s[d]=t.read(u,d),i===d)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,a){n(i,"",ax({},a,{expires:-1}))},withAttributes:function(i){return qk(this.converter,ax({},this.attributes,i))},withConverter:function(i){return qk(ax({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Xr=qk(q8e,{path:"/"});const GL=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map((e=>e.then((n=>({status:"fulfilled",value:n}))).catch((n=>({status:"rejected",reason:n})))))));let p1="privy:token",Y_="privy-token",sx="privy:refresh_token",Z_="privy-refresh-token",g1="privy:id-token",J_="privy-id-token",ox="privy-session",vQ=class extends dp{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(p1);try{return typeof e=="string"?new I2(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(sx);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(g1);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=Xr.get(ox);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=I2.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await GL([this._storage.del(p1),this._storage.del(sx),this._storage.del(g1),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),Xr.remove(Y_),Xr.remove(Z_),Xr.remove(J_),Xr.remove(ox),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){if(typeof e=="string"){let n=await this._storage.get(p1);if(await this._storage.put(p1,e),!this._isUsingServerCookies){let r=I2.parse(e)?.expiration;Xr.set(Y_,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(p1);await this._storage.del(p1),Xr.remove(Y_),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(sx,e),this._isUsingServerCookies||(Xr.set(ox,"t",{sameSite:"Strict",secure:!0,expires:30}),Xr.set(Z_,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(sx),Xr.remove(Z_),Xr.remove(ox),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await GL([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter((r=>r.status==="rejected"));n.length>0&&this.emit("error_storing_tokens",n.map((r=>String(r.reason))).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if(typeof e=="string"){let n=await this._storage.get(g1);if(await this._storage.put(g1,e),!this._isUsingServerCookies){let r=I2.parse(e)?.expiration;Xr.set(J_,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(g1);await this._storage.del(g1),Xr.remove(J_),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=H0(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};vQ.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var V8e=t=>{let e=new AbortController;return setTimeout((()=>e.abort()),t),e.signal};function G8e(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const lx=()=>{};let mf={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const K8e=({level:t}={level:"ERROR"})=>({get level(){return t},error:mf[t]>=mf.ERROR?console.error:lx,warn:mf[t]>=mf.WARN?console.warn:lx,info:mf[t]>=mf.INFO?console.info:lx,debug:mf[t]>=mf.DEBUG?console.debug:lx});let X_="privy:caid",Y8e=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new Wn({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${D2e(e.path,n)}${G8e(r)}`}async fetch(e,{body:n,params:r,query:i,headers:a,onRequest:s=this._beforeRequest.bind(this)}){let o=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:a}),l=await s(o),u=await this._fetch(o,l),d=await u.json();if(u.status>299)throw new y_(d);return d}async _beforeRequestWithoutInitialize(e){let n=await this.session.getToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:V8e(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(Jye,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(X_);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=c6()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(X_,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(X_)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(Zye,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new Wn({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let a=this._refreshSession(n,e);this._cache.set(r,a);try{return await a}finally{this._cache.delete(r)}}async _refreshSession(e,n){let r=await this.session.getToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new y_({code:KB.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${GB.path}`);let i=await this.fetch(GB,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),a=i.session_update_action;return this.logger.debug(`[privy:refresh] response: ${a}`),n||this.callbacks?.setUser?.(i.user),a==="set"&&(await this.session.updateWithTokensResponse(i),this.logger.debug("[privy:refresh] tokens stored")),a==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||this.callbacks?.setUser?.(null)),a==="ignore"&&i.token&&(await this.session.storeToken(i.token),this.logger.debug("[privy:refresh] access token stored"),i.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(i.identity_token))),this.logger.debug("[privy:refresh] returning response"),i}catch(i){throw this.logger.debug(`[privy:refresh] error: ${i.message??"unknown error"}`),i instanceof y_&&i.code===KB.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||this.callbacks?.setUser?.(null)),i}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${c6()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.55.0",this._cache=new Map,this.logger=K8e({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new vQ({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=NN(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",(n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})}))}},Z8e=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(K2e,{})}}constructor(e){this._privyInternal=e}};const xQ=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",EQ=t=>t?t.linked_accounts.filter(xQ).filter((e=>e.chain_type==="ethereum")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],KL=t=>EQ(t).find((e=>e.wallet_index===0))??null,_Q=t=>t?t.linked_accounts.filter(xQ).filter((e=>e.chain_type==="solana")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],J8e=t=>_Q(t).find((e=>e.wallet_index===0))??null,X8e=(t,e)=>!(e==="off"||EQ(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="ethereum")).length>0&&e!=="all-users"),Q8e=(t,e)=>!(e==="off"||_Q(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="solana")).length>0&&e!=="all-users"),sc=async(t,e,n)=>{let r=X8e(e.user,n?.ethereum?.createOnLogin??"off"),i=Q8e(e.user,n?.solana?.createOnLogin??"off");if(r&&i){let a=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:KL(a.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:J8e(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:KL(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let e9e=class{async syncWithToken(e,n,r){let i=await this._privyInternal.fetch(t2e,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let a=await sc(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}constructor(e,n){this._privyInternal=e,this._embedded=n}},t9e=class{async sendCode(e,n){return this._privyInternal.fetch(_2e,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){let a=await this._privyInternal.fetch(E2e,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(a);let s=await sc(this._embedded,a,i?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,n){await this._privyInternal.fetch(A2e,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(S2e,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(C2e,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},n9e=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(n2e,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(s2e,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:a},s){let o=await this._privyInternal.fetch(r2e,{body:{channel_token:e,message:n,signature:r,fid:i,mode:a}});await this._privyInternal.session.updateWithTokensResponse(o);let l=await sc(this._embedded,o,s?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(i2e,{body:{channel_token:e,message:n,signature:r,fid:i}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(a2e,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},r9e=class{async initializeAuth(){return await this._privyInternal.fetch(o2e,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){let a=await this._privyInternal.fetch(l2e,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(a);let s=await sc(this._embedded,a,i?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},i9e=class{async create(e){let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(c2e,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await sc(this._embedded,r,e?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const Wf="privy:state_code",Hf="privy:code_verifier";async function a9e(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function s9e(t){return crypto.getRandomValues(new Uint8Array(t))}function PN(){return H0(s9e(36))}function AQ(){return PN()}async function CQ({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await a9e(t,n);return H0(r)}}let o9e=class{async generateURL(e,n){let r=PN(),i=AQ(),a=await CQ({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Hf,r),this._storage.put(Wf,i)]),this._privyInternal.fetch(h2e,{body:{redirect_to:n,provider:e,code_challenge:a,state_code:i}})}async loginWithCode(e,n,r,i,a,s){let[o,l]=await Promise.all([this._storage.get(Hf),this._storage.get(Wf)]);if(l!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:l??"",returnedStateCode:n??""}),new Wn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let u=await this._privyInternal.fetch(f2e,{body:{authorization_code:e,code_type:i,state_code:l,code_verifier:o,mode:a}});await this._privyInternal.session.updateWithTokensResponse(u);let d=await sc(this._embedded,u,s?.embedded);return await Promise.all([this._storage.del(Hf),this._storage.del(Wf)]),this._privyInternal.callbacks?.setUser?.(d.user),d}async linkWithCode(e,n,r,i){let[a,s]=await Promise.all([this._storage.get(Hf),this._storage.get(Wf)]);if(s!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:s??"",returnedStateCode:n??""}),new Wn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let o=await this._privyInternal.fetch(p2e,{body:{authorization_code:e,code_type:i,state_code:s,code_verifier:a}});await this._privyInternal.session.processOAuthTokens(o.oauth_tokens);let l=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Hf),this._storage.del(Wf)]),{user:l.user,identity_token:l.identity_token}}async unlink(e,n){await this._privyInternal.fetch(g2e,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},l9e=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(x2e,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(w2e,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(v2e,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){let a=await this._privyInternal.fetch(y2e,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(a);let s=await sc(this._embedded,a,i?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async signupWithPasskey(e,n,r){let i=await this._privyInternal.fetch(b2e,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let a=await sc(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithPasskey(e,n){await this._privyInternal.fetch(m2e,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},c9e=class{async sendCode(e,n){return this._privyInternal.fetch(I2e,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){let a=await this._privyInternal.fetch(k2e,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(a);let s=await sc(this._embedded,a,i?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,n){await this._privyInternal.fetch(T2e,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(N2e,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch($2e,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},u9e=class{async unlinkWallet(e){await this._privyInternal.fetch(W2e,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,a=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(F2e,{body:{message:a,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async loginWithSiwe(e,n,r,i,a){let s=n||this._wallet,o=r||this._preparedMessage;if(!s)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!o)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let l=await this._privyInternal.fetch(L2e,{body:{signature:e,message:o,chainId:s.chainId,walletClientType:s.walletClientType,connectorType:s.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let u=await sc(this._embedded,l,a?.embedded);return this._privyInternal.callbacks?.setUser?.(u.user),u}async init(e,n,r){var i;this._wallet=e;let{nonce:a}=await this._privyInternal.fetch(IJ,{body:{address:e.address}}),s=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:a,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=s,{nonce:a,message:s}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},d9e=class{async unlink({address:e}){await this._privyInternal.fetch(G2e,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(V2e,{body:{message:e,signature:n,walletClientType:r,connectorType:i}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:a,opts:s}){let o=await this._privyInternal.fetch(q2e,{body:{signature:r,message:n,walletClientType:i,connectorType:a,mode:e}});await this._privyInternal.session.updateWithTokensResponse(o);let l=await sc(this._embedded,o,s?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(H2e,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},f9e=class{async link(e,n,r,i){await this._privyInternal.fetch(z2e,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(IJ,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},h9e=class{async logout(){try{let e=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(B2e,{body:{refresh_token:e}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,n,r,i){this._privyInternal=e,this.customProvider=new e9e(this._privyInternal,n),this.phone=new c9e(this._privyInternal,n),this.email=new t9e(this._privyInternal,n),this.oauth=new o9e(this._privyInternal,n,r,i),this.guest=new i9e(this._privyInternal,n),this.siwe=new u9e(this._privyInternal,n),this.siws=new d9e(this._privyInternal,n),this.smartWallet=new f9e(this._privyInternal),this.passkey=new l9e(this._privyInternal,n),this.farcaster=new n9e(this._privyInternal,n),this.farcasterV2=new r9e(this._privyInternal,n)}},p9e=class{async initOnRampSession(e){return await this._privyInternal.fetch(Xye,{body:e})}async getStatus(e){return await this._privyInternal.fetch(Qye,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const g9e={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let m9e=new Set([bl.id,ml.id,yl.id,Rs.id,vm.id,G4.id]),y9e=new Set([bl.id,ml.id,hu.id,yl.id,Rs.id]);function b9e(t,e){switch(e){case"native-currency":return m9e.has(t);case"USDC":return y9e.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function w9e(t,e){switch(t){case ml.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case vm.id:return"AVAX_CCHAIN";case yl.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case G4.id:return"CELO_CELO";case Rs.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case bl.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let v9e=class{async sign(e){return await this._privyInternal.fetch(Y2e,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=g9e[n?"sandbox":"prod"],a=await NN(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!a.ok)throw new N5e({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:a});let s=await a.json();return Array.isArray(s)?s.at(0):void 0}constructor(e){this._privyInternal=e}},x9e=class{constructor(e){this.moonpay=new v9e(e),this.coinbase=new p9e(e)}},E9e=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(u2e,{body:e})}constructor(e){this._privyInternal=e}},_9e=class{async sendCode(e){return await this._privyInternal.fetch(d2e,{body:e})}constructor(e){this._privyInternal=e}},A9e=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new Wn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new Wn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new Wn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new Wn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new Wn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new Wn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new _9e(e),this.passkey=new E9e(e)}},C9e=class{async init(e){return this._privyInternal.fetch(M2e,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(j2e,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},S9e=class{async generateURL(e){let n=PN(),r=AQ(),i=await CQ({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Hf,n),this._storage.put(Wf,r)]),this._privyInternal.fetch(O2e,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(Hf),this._storage.get(Wf)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new Wn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(R2e,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(Hf),this._storage.del(Wf)]),a}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},k9e=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(P2e,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new S9e(this._privyInternal,n,r),this.icloudAuth=new C9e(this._privyInternal)}},I9e=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new Y8e({...n,appClientId:e}),this.mfa=new A9e(this._privyInternal),this.mfaPromises=new L8e,this.app=new u5e(this._privyInternal),this.embeddedWallet=new U8e(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new Z8e(this._privyInternal),this.auth=new h9e(this._privyInternal,this.embeddedWallet,n.storage,n.crypto),this.recovery=new k9e(this._privyInternal,n.storage,n.crypto),this.funding=new x9e(this._privyInternal),this.delegated=new v5e(this._privyInternal),this.crossApp=new xX(this._privyInternal,n.storage)}};const T9e={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},SQ={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function r8(t,e){var n=Array.prototype.slice.call(e);return n.push(SQ),t.apply(this,n)}function $9e(){return r8(rve,arguments)}function lw(t){return WJ.call(this,t,SQ)}lw.prototype=Object.create(WJ.prototype,{});lw.prototype.constructor=lw;function N9e(){return r8(x3e,arguments)}function ON(){return r8(j4,arguments)}function P9e(){return r8(E3e,arguments)}const cx=(t,e)=>$9e(String(t),e),Q_=(t,e)=>`+${ON(e)} ${t}`,O9e=t=>`*${t.replaceAll("-","").slice(-4)}`,R9e=t=>new lw(t),M9e=N9e().map((t=>({code:t,callCode:ON(t)}))),j9e=t=>{let e=P9e(t,T9e)?.formatInternational();return e?.substring(e.indexOf(" ")+1)},D9e=t=>{let e=new lw;e.input(t);let n=e.getCountry()||"US",r=e.getCallingCode()||"1";return{countryCode:n,phone:t.replace("+"+r,"")}},B9e=(t,e=!0)=>t.reduce(((n,r)=>({...n,[r]:e})),{}),U9e={[bl.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[mN.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[hu.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[K4.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Rs.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Jw.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[yl.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[V4.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[vm.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[gN.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ml.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[q4.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},g5={"mainnet-beta":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",devnet:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",testnet:""};let L9e=new Set([bl.id,yl.id,hu.id,Rs.id,ml.id]),F9e=new Set([bl.id,yl.id,Rs.id,hu.id,ml.id]),z9e={buy:"CARD",send:"CRYPTO_ACCOUNT"},W9e={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};bl.id+"",yl.id+"",hu.id+"",Rs.id+"",ml.id+"";function H9e({appId:t,input:e,amount:n,blockchain:r,asset:i,experience:a}){let s=new URL("https://pay.coinbase.com/buy/select-asset");return s.searchParams.set("appId",e.app_id),s.searchParams.set("sessionToken",e.session_token),s.searchParams.set("endPartnerName",`privy:${t}`),s.searchParams.set("defaultExperience",a),s.searchParams.set("presetCryptoAmount",n.startsWith(".")?`0${n}`:n),s.searchParams.set("defaultNetwork",r),s.searchParams.set("defaultPaymentMethod",z9e[a]),s.searchParams.set("defaultAsset",W9e[i]),s.searchParams.set("partnerUserId",e.partner_user_id),{url:s}}const q9e=(t,e)=>{switch(e){case"native-currency":return L9e.has(t);case"USDC":return F9e.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function V9e(t,e){return t===Rs.id?"POL":"ETH"}let G9e=class{async invokeRpc({method:e,params:n}){return await(await fetch(this.cluster.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:c6(),method:e,params:n})})).json()}async getBalance(e){try{let n=await this.invokeRpc({method:"getBalance",params:[e]});return n.error?null:BigInt(n.result.value)}catch{return null}}async getTokenAccountsByOwner(e,n){try{let r=await this.invokeRpc({method:"getTokenAccountsByOwner",params:[e,{mint:n},{encoding:"jsonParsed"}]});if(r.error)return null;let i=r.result.value.at(0)?.account?.data?.parsed?.info?.tokenAmount;return i?{amount:BigInt(i.amount),decimals:i.decimals}:null}catch{return null}}async getAccountInfo(e){try{let n=await this.invokeRpc({method:"getAccountInfo",params:[e,{encoding:"jsonParsed"}]});if(n.error)return null;let r=n.result.value?.data?.parsed?.info;return r?{decimals:r.decimals}:null}catch{return null}}constructor(e){this.cluster=e}};function YL(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function K9e({wei:t,precision:e=3}){return parseFloat(op(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function Fa({amount:t,decimals:e}){return pa(BigInt(t),e)}const Y9e=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Z9e=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,J9e=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function X9e(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Q9e(t);return}return e}function Q9e(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function N2(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!J9e.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Y9e.test(t)||Z9e.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,X9e)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const e7e=/#/g,t7e=/&/g,n7e=/\//g,r7e=/=/g,RN=/\+/g,i7e=/%5e/gi,a7e=/%60/gi,s7e=/%7c/gi,o7e=/%20/gi;function l7e(t){return encodeURI(""+t).replace(s7e,"|")}function Vk(t){return l7e(typeof t=="string"?t:JSON.stringify(t)).replace(RN,"%2B").replace(o7e,"+").replace(e7e,"%23").replace(t7e,"%26").replace(a7e,"`").replace(i7e,"^").replace(n7e,"%2F")}function eA(t){return Vk(t).replace(r7e,"%3D")}function kQ(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function c7e(t){return kQ(t.replace(RN," "))}function u7e(t){return kQ(t.replace(RN," "))}function d7e(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=c7e(r[1]);if(i==="__proto__"||i==="constructor")continue;const a=u7e(r[2]||"");e[i]===void 0?e[i]=a:Array.isArray(e[i])?e[i].push(a):e[i]=[e[i],a]}return e}function f7e(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${eA(t)}=${Vk(n)}`).join("&"):`${eA(t)}=${Vk(e)}`:eA(t)}function h7e(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>f7e(e,t[e])).filter(Boolean).join("&")}const p7e=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,g7e=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,m7e=/^([/\\]\s*){2,}[^/\\]/,y7e=/^\.?\//;function IQ(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?p7e.test(t):g7e.test(t)||(e.acceptRelative?m7e.test(t):!1)}function b7e(t="",e){return t.endsWith("/")}function w7e(t="",e){return(b7e(t)?t.slice(0,-1):t)||"/"}function v7e(t="",e){return t.endsWith("/")?t:t+"/"}function x7e(t,e){if(_7e(e)||IQ(t))return t;const n=w7e(e);return t.startsWith(n)?t:C7e(n,t)}function E7e(t,e){const n=S7e(t),r={...d7e(n.search),...e};return n.search=h7e(r),k7e(n)}function _7e(t){return!t||t==="/"}function A7e(t){return t&&t!=="/"}function C7e(t,...e){let n=t||"";for(const r of e.filter(i=>A7e(i)))if(n){const i=r.replace(y7e,"");n=v7e(n)+i}else n=r;return n}const TQ=Symbol.for("ufo:protocolRelative");function S7e(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,h,g=""]=n;return{protocol:h.toLowerCase(),pathname:g,href:h+g,auth:"",host:"",search:"",hash:""}}if(!IQ(t,{acceptRelative:!0}))return ZL(t);const[,r="",i,a=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,s="",o=""]=a.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(o=o.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:d}=ZL(o);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:s,pathname:l,search:u,hash:d,[TQ]:!r}}function ZL(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function k7e(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",a=t.host||"";return(t.protocol||t[TQ]?(t.protocol||"")+"//":"")+i+a+e+n+r}class $Q extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function I7e(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,a=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",s=`${i}: ${a}${e?` ${e}`:""}`,o=new $Q(s,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(o,l,{get(){return t[l]}});for(const[l,u]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,l,{get(){return t.response&&t.response[u]}});return o}const T7e=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function JL(t="GET"){return T7e.has(t.toUpperCase())}function $7e(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const N7e=new Set(["image/svg","application/xml","application/xhtml","application/html"]),P7e=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function O7e(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return P7e.test(e)?"json":e==="text/event-stream"?"stream":N7e.has(e)||e.startsWith("text/")?"text":"blob"}function R7e(t,e,n,r){const i=M7e(e?.headers??t?.headers,n?.headers,r);let a;return(n?.query||n?.params||e?.params||e?.query)&&(a={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:a,params:a,headers:i}}function M7e(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,a]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,a);return r}async function ux(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const j7e=new Set([408,409,425,429,500,502,503,504]),D7e=new Set([101,204,205,304]);function NQ(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(o){const l=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!l){let d;typeof o.options.retry=="number"?d=o.options.retry:d=JL(o.options.method)?0:1;const h=o.response&&o.response.status||500;if(d>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(h):j7e.has(h))){const g=typeof o.options.retryDelay=="function"?o.options.retryDelay(o):o.options.retryDelay||0;return g>0&&await new Promise(m=>setTimeout(m,g)),a(o.request,{...o.options,retry:d-1})}}const u=I7e(o);throw Error.captureStackTrace&&Error.captureStackTrace(u,a),u}const a=async function(l,u={}){const d={request:l,options:R7e(l,u,t.defaults,n),response:void 0,error:void 0};if(d.options.method&&(d.options.method=d.options.method.toUpperCase()),d.options.onRequest&&(await ux(d,d.options.onRequest),d.options.headers instanceof n||(d.options.headers=new n(d.options.headers||{}))),typeof d.request=="string"&&(d.options.baseURL&&(d.request=x7e(d.request,d.options.baseURL)),d.options.query&&(d.request=E7e(d.request,d.options.query),delete d.options.query),"query"in d.options&&delete d.options.query,"params"in d.options&&delete d.options.params),d.options.body&&JL(d.options.method))if($7e(d.options.body)){const m=d.options.headers.get("content-type");typeof d.options.body!="string"&&(d.options.body=m==="application/x-www-form-urlencoded"?new URLSearchParams(d.options.body).toString():JSON.stringify(d.options.body)),m||d.options.headers.set("content-type","application/json"),d.options.headers.has("accept")||d.options.headers.set("accept","application/json")}else("pipeTo"in d.options.body&&typeof d.options.body.pipeTo=="function"||typeof d.options.body.pipe=="function")&&("duplex"in d.options||(d.options.duplex="half"));let h;if(!d.options.signal&&d.options.timeout){const m=new r;h=setTimeout(()=>{const b=new Error("[TimeoutError]: The operation was aborted due to timeout");b.name="TimeoutError",b.code=23,m.abort(b)},d.options.timeout),d.options.signal=m.signal}try{d.response=await e(d.request,d.options)}catch(m){return d.error=m,d.options.onRequestError&&await ux(d,d.options.onRequestError),await i(d)}finally{h&&clearTimeout(h)}if((d.response.body||d.response._bodyInit)&&!D7e.has(d.response.status)&&d.options.method!=="HEAD"){const m=(d.options.parseResponse?"json":d.options.responseType)||O7e(d.response.headers.get("content-type")||"");switch(m){case"json":{const b=await d.response.text(),w=d.options.parseResponse||N2;d.response._data=w(b);break}case"stream":{d.response._data=d.response.body||d.response._bodyInit;break}default:d.response._data=await d.response[m]()}}return d.options.onResponse&&await ux(d,d.options.onResponse),!d.options.ignoreResponseError&&d.response.status>=400&&d.response.status<600?(d.options.onResponseError&&await ux(d,d.options.onResponseError),await i(d)):d.response},s=async function(l,u){return(await a(l,u))._data};return s.raw=a,s.native=(...o)=>e(...o),s.create=(o={},l={})=>NQ({...t,...l,defaults:{...t.defaults,...l.defaults,...o}}),s}const u6=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Kt<"u")return Kt;throw new Error("unable to locate global object")})(),B7e=u6.fetch?(...t)=>u6.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),U7e=u6.Headers,L7e=u6.AbortController,PQ=NQ({fetch:B7e,Headers:U7e,AbortController:L7e});var Gt;let Ma=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},no=class extends Ma{constructor(e,n,r,i,a,s){super(r,i,a),this.type=e,this.status=n,this.data=s}},me=class extends Ma{constructor(e,n,r){super(e,n,r),this.type="client_error"}},F7e=class extends me{constructor(){super("Request timed out",void 0,"client_request_timeout")}},br=class extends Ma{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const Sn=t=>{if(t instanceof Ma)return t;if(!(t instanceof $Q))return kr(t);if(!t.response)return new no("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new no(e||"ApiError",t.response.status,n||r,t,i,t.data)},kr=t=>t instanceof Ma?t:t instanceof Error?new me(t.message,t):new me(`Internal error: ${t}`);var ye=((Gt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Gt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Gt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Gt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Gt.INVALID_DATA="invalid_data",Gt.INVALID_CAPTCHA="invalid_captcha",Gt.LINKED_TO_ANOTHER_USER="linked_to_another_user",Gt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Gt.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",Gt.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",Gt.USER_EXITED_UPDATE_FLOW="exited_update_flow",Gt.ALLOWLIST_REJECTED="allowlist_rejected",Gt.OAUTH_USER_DENIED="oauth_user_denied",Gt.OAUTH_UNEXPECTED="oauth_unexpected",Gt.UNKNOWN_AUTH_ERROR="unknown_auth_error",Gt.USER_EXITED_AUTH_FLOW="exited_auth_flow",Gt.USER_EXITED_LINK_FLOW="exited_link_flow",Gt.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",Gt.MUST_BE_AUTHENTICATED="must_be_authenticated",Gt.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Gt.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Gt.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Gt.INVALID_CREDENTIALS="invalid_credentials",Gt.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",Gt.UNKNOWN_MFA_ERROR="unknown_mfa_error",Gt.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",Gt.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",Gt.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",Gt.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",Gt.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",Gt.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",Gt.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",Gt.TRANSACTION_FAILURE="transaction_failure",Gt.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",Gt.NOT_SUPPORTED="not_supported",Gt.CAPTCHA_TIMEOUT="captcha_timeout",Gt.INVALID_MESSAGE="invalid_message",Gt.UNABLE_TO_SIGN="unable_to_sign",Gt.CAPTCHA_FAILURE="captcha_failure",Gt.CAPTCHA_DISABLED="captcha_disabled",Gt.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",Gt.TOO_MANY_REQUESTS="too_many_requests",Gt.USER_LIMIT_REACHED="max_accounts_reached",Gt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Gt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Gt.PASSKEY_NOT_ALLOWED="passkey_not_allowed",Gt.USER_DOES_NOT_EXIST="user_does_not_exist",Gt.INSUFFICIENT_BALANCE="insufficient_balance",Gt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Gt.BUFFER_NOT_DEFINED="buffer_not_defined",Gt.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",Gt);let Kh=class extends me{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},eh=class extends me{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},z7e=class extends me{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},nv=class extends me{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const OQ="/api/v1/sessions",RQ="/api/v1/sessions/logout",W7e="/api/v1/siwe/init",H7e="/api/v1/siwe/authenticate",q7e="/api/v1/siwe/link",V7e="/api/v1/siwe/link_smart_wallet",G7e="/api/v1/siwe/unlink",K7e="/api/v1/siwe/transfer",Y7e="/api/v1/siws/init",Z7e="/api/v1/siws/authenticate",J7e="/api/v1/siws/link",X7e="/api/v1/siws/unlink",Q7e="/api/v1/siws/transfer",eEe="/api/v1/farcaster/init",tEe="/api/v1/farcaster/authenticate",nEe="/api/v1/farcaster/link",rEe="/api/v1/farcaster/status",iEe="/api/v1/farcaster/unlink",aEe="/api/v1/farcaster/transfer",sEe="/api/v1/passwordless/init",oEe="/api/v1/passwordless/authenticate",lEe="/api/v1/passwordless/link",cEe="/api/v1/passwordless/unlink",uEe="/api/v1/passwordless/update",dEe="/api/v1/passwordless/transfer",fEe="/api/v1/passwordless_sms/init",hEe="/api/v1/passwordless_sms/link",pEe="/api/v1/passwordless_sms/unlink",gEe="/api/v1/passwordless_sms/authenticate",mEe="/api/v1/passwordless_sms/update",yEe="/api/v1/passwordless_sms/transfer",MQ="/api/v1/oauth/init",jQ="/api/v1/oauth/authenticate",DQ="/api/v1/oauth/link",bEe="/api/v1/oauth/unlink",wEe="/api/v1/oauth/transfer",vEe="/api/v1/recovery/oauth/init",xEe="/api/v1/recovery/oauth/init_icloud",EEe="/api/v1/recovery/oauth/authenticate",_Ee="/api/v1/passkeys/link/init",AEe="/api/v1/passkeys/authenticate/init",CEe="/api/v1/passkeys/register/init",SEe="/api/v1/passkeys/link",kEe="/api/v1/passkeys/authenticate",IEe="/api/v1/passkeys/register",TEe="/api/v1/telegram/authenticate",$Ee="/api/v1/telegram/link",NEe="/api/v1/telegram/unlink",PEe="/api/v1/telegram/transfer",OEe="/api/v1/mfa/passwordless_sms/init",REe="/api/v1/mfa/passkeys/init",MEe="/api/v1/users/me/accept_terms",BQ="/api/v1/analytics_events",jEe="/api/v1/custom_jwt_account/authenticate",DEe="/api/v1/custom_jwt_account/link",BEe="/api/v1/guest/authenticate",UEe="/api/v1/plugins/moonpay_on_ramp/sign",LEe="/api/v1/funding/coinbase_on_ramp/init",FEe="/api/v1/funding/coinbase_on_ramp/status",zEe="/api/v1/wallets/revoke",WEe="/api/v1/users/me",HEe="/api/v1/scan/transaction",Oe=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},Jy=t=>()=>{throw Error(t.trim())},UQ=k.createContext({setAuthenticated:Oe,setUser:Oe,setIsNewUser:Oe,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:Oe,connectors:[],solanaWallets:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:Oe,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:Oe,initializeWalletProxy:Oe,getAuthMeta:Oe,getAuthFlow:Oe,closePrivyModal:Oe,openPrivyModal:Oe,connectWallet:Oe,initLoginWithWallet:Oe,loginWithWallet:Oe,initLoginWithFarcaster:Oe,loginWithFarcaster:Oe,loginWithCode:Oe,initLoginWithEmail:Oe,initLoginWithSms:Oe,initUpdateEmail:Oe,initUpdatePhone:Oe,resendEmailCode:Oe,resendSmsCode:Oe,initLoginWithHeadlessOAuth:Oe,loginWithHeadlessOAuth:Oe,crossAppAuthFlow:Oe,initLoginWithOAuth:Oe,loginWithOAuth:Oe,passkeyAuthState:{status:"initial"},setPasskeyAuthState:Oe,initSignupWithPasskey:Oe,signupWithPasskey:Oe,initLoginWithPasskey:Oe,loginWithPasskey:Oe,initLinkWithPasskey:Oe,linkWithPasskey:Oe,refreshSessionAndUser:Oe,walletProxy:null,createAnalyticsEvent:Oe,acceptTerms:Oe,getUsdTokenPrice:Oe,getUsdPriceForSol:Oe,getSplTokenMetadata:Oe,recoverEmbeddedWallet:Oe,updateWallets:Oe,fundWallet:Oe,openModal:Oe,setReadyToTrue:Oe,requestFarcasterSignerStatus:Oe,initLoginWithTelegram:Oe,loginWithTelegram:Oe,generateSiweMessage:Oe,generateSiweMessageForSmartWallet:Oe,loginWithSiwe:Oe,linkWithSiwe:Oe,linkSmartWallet:Oe,delegateWallet:Oe,revokeDelegatedWallets:Oe,exportSolanaWallet:Oe,connectCoinbaseSmartWallet:Oe,connectBaseAccount:Oe,initiateAccountTransfer:Oe,emailOtpState:{status:"initial"},setEmailOtpState:Oe,smsOtpState:{status:"initial"},setSmsOtpState:Oe,siweState:{status:"initial"},setSiweState:Oe,oAuthState:{status:"initial"},setOAuthState:Oe,telegramAuthState:{status:"initial"},setTelegramAuthState:Oe,isHeadlessOAuthLoading:!1,isHeadlessSigning:Oe,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:Oe}),lt=()=>k.useContext(UQ);function Ft(t){return t?new Date(1e3*t):null}function xa(t,e){return t.slice().sort(((n,r)=>(n.firstVerifiedAt??n.verifiedAt).getTime()-(r.firstVerifiedAt??r.verifiedAt).getTime())).find((n=>n.type===e))}const Gc=t=>t?LQ(t).find((e=>e.walletIndex===0))??null:null,LQ=t=>t?FQ(t,"ethereum"):[],FQ=(t,e)=>t.linkedAccounts.filter((n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e)),zQ=t=>t?FQ(t,"solana"):[],fp=t=>t?zQ(t).find((e=>e.walletIndex===0))??null:null,Gk=t=>t?.linkedAccounts.find((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,i8=t=>t?.linkedAccounts.find((e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null;let WQ=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&Qr(t)===Qr(e);const Qo=(t,e)=>t?.linkedAccounts.find((n=>n.type==="wallet"&&n.walletClientType==="privy"&&WQ(n.address,e)))||null,tA=(t,e)=>t.find((n=>WQ(n.address,e)))||null,cl=t=>Gc(t)??fp(t);function oa(t){if(!t)return null;let e=(function(C){let N=[];for(let A of C){let T=A.type;switch(A.type){case"wallet":let O={id:A.id,address:A.address,type:A.type,imported:A.imported,delegated:A.delegated,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at),chainType:A.chain_type,walletClientType:A.wallet_client_type,connectorType:A.connector_type,recoveryMethod:A.recovery_method,walletIndex:A.wallet_index};N.push(O);break;case"smart_wallet":let H={address:A.address,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at),smartWalletType:A.smart_wallet_type,smartWalletVersion:A.smart_wallet_version};N.push(H);break;case"cross_app":let U={type:A.type,subject:A.subject,embeddedWallets:A.embedded_wallets,smartWallets:A.smart_wallets,providerApp:{id:A.provider_app_id},verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(U);break;case"email":let L={address:A.address,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(L);break;case"phone":let G={number:A.phoneNumber,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(G);break;case"google_oauth":let R={subject:A.subject,email:A.email,name:A.name,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(R);break;case"spotify_oauth":let F={subject:A.subject,email:A.email,name:A.name,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(F);break;case"instagram_oauth":let _={subject:A.subject,username:A.username,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(_);break;case"twitter_oauth":let S={subject:A.subject,username:A.username,name:A.name,type:A.type,profilePictureUrl:A.profile_picture_url,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(S);break;case"discord_oauth":let $={subject:A.subject,username:A.username,email:A.email,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push($);break;case"github_oauth":let D={subject:A.subject,username:A.username,name:A.name,email:A.email,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(D);break;case"tiktok_oauth":let z={subject:A.subject,username:A.username,name:A.name,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(z);break;case"line_oauth":let Y={subject:A.subject,name:A.name,email:A.email,profilePictureUrl:A.profile_picture_url,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(Y);break;case"linkedin_oauth":let J={subject:A.subject,name:A.name,email:A.email,vanityName:A.vanity_name,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(J);break;case"apple_oauth":let V={subject:A.subject,email:A.email,type:A.type,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(V);break;case"custom_auth":N.push({type:A.type,customUserId:A.custom_user_id,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)});break;case"farcaster":let M={type:A.type,fid:A.fid,ownerAddress:A.owner_address,displayName:A.display_name,username:A.username,bio:A.bio,pfp:A.profile_picture_url,url:A.homepage_url,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at),signerPublicKey:A.signer_public_key};N.push(M);break;case"passkey":let Q={type:A.type,enrolledInMfa:A.enrolled_in_mfa,credentialId:A.credential_id,publicKey:A.public_key,authenticatorName:A.authenticator_name,createdWithDevice:A.created_with_device,createdWithOs:A.created_with_os,createdWithBrowser:A.created_with_browser,verifiedAt:Ft(A.verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(Q);break;case"telegram":let ne={type:A.type,telegramUserId:A.telegram_user_id,firstName:A.first_name,lastName:A.last_name,username:A.username,photoUrl:A.photo_url,verifiedAt:Ft(A.first_verified_at),firstVerifiedAt:Ft(A.first_verified_at),latestVerifiedAt:Ft(A.latest_verified_at)};N.push(ne);break;default:console.warn(`Unrecognized account type: ${T}. Please consider upgrading the Privy SDK.`)}}return N})(t.linked_accounts),n=xa(e,"wallet"),r=xa(e,"smart_wallet"),i=xa(e,"email"),a=xa(e,"phone"),s=xa(e,"google_oauth"),o=xa(e,"twitter_oauth"),l=xa(e,"discord_oauth"),u=xa(e,"github_oauth"),d=xa(e,"spotify_oauth"),h=xa(e,"instagram_oauth"),g=xa(e,"tiktok_oauth"),m=xa(e,"line_oauth"),b=xa(e,"linkedin_oauth"),w=xa(e,"apple_oauth"),x=xa(e,"farcaster"),E=xa(e,"telegram"),I=t.mfa_methods.map((({type:C,verified_at:N})=>({type:C,verifiedAt:Ft(N)})));return{id:t.id,createdAt:Ft(t.created_at),linkedAccounts:e,email:i&&{address:i?.address},phone:a&&{number:a?.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:s&&{subject:s.subject,email:s.email,name:s.name},twitter:o&&{subject:o.subject,username:o.username,name:o.name,profilePictureUrl:o.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:u&&{subject:u.subject,username:u.username,name:u.name,email:u.email},spotify:d&&{subject:d.subject,email:d.email,name:d.name},instagram:h&&{subject:h.subject,username:h.username},tiktok:g&&{subject:g.subject,username:g.username,name:g.name},line:m&&{subject:m.subject,name:m.name,email:m.email,profilePictureUrl:m.profilePictureUrl},linkedin:b&&{subject:b.subject,name:b.name,email:b.email,vanityName:b.vanityName},apple:w&&{subject:w.subject,email:w.email},farcaster:x&&{fid:x.fid,ownerAddress:x.ownerAddress,displayName:x.displayName,username:x.username,bio:x.bio,pfp:x.pfp,url:x.url,signerPublicKey:x.signerPublicKey},telegram:E&&{telegramUserId:E.telegramUserId,firstName:E.firstName,lastName:E.lastName,username:E.username,photoUrl:E.photoUrl},delegatedWallets:[],mfaMethods:I.map((C=>C.type)),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const Fi=t=>!!t.id&&t.recoveryMethod==="privy-v2",_m=k.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:Oe,login:Oe,connectOrCreateWallet:Oe,linkEmail:Oe,linkPhone:Oe,linkFarcaster:Oe,linkWallet:Oe,startCrossAppAuthFlow:Oe,linkGoogle:Oe,linkTwitter:Oe,linkDiscord:Oe,linkGithub:Oe,linkSpotify:Oe,linkInstagram:Oe,linkTelegram:Oe,linkTiktok:Oe,linkLine:Oe,linkLinkedIn:Oe,linkApple:Oe,linkPasskey:Oe,updateEmail:Oe,updatePhone:Oe,logout:Oe,getAccessToken:Oe,unlinkEmail:Oe,unlinkPhone:Oe,unlinkWallet:Oe,unlinkGoogle:Oe,unlinkTwitter:Oe,unlinkDiscord:Oe,unlinkGithub:Oe,unlinkSpotify:Oe,unlinkInstagram:Oe,unlinkTiktok:Oe,unlinkLine:Oe,unlinkLinkedIn:Oe,unlinkApple:Oe,unlinkCrossAppAccount:Oe,unlinkFarcaster:Oe,unlinkTelegram:Oe,unlinkPasskey:Oe,signMessage:Oe,signTypedData:Oe,enrollInMfa:Oe,initEnrollmentWithSms:Oe,initEnrollmentWithTotp:Oe,initEnrollmentWithPasskey:Oe,promptMfa:Oe,init:Oe,submitEnrollmentWithSms:Oe,submitEnrollmentWithTotp:Oe,submitEnrollmentWithPasskey:Oe,unenroll:Oe,submit:Oe,cancel:Oe,sendTransaction:Oe,signTransaction:Oe,exportWallet:Oe,setWalletPassword:Oe,setWalletRecovery:Oe,requestFarcasterSignerFromWarpcast:Oe,getFarcasterSignerPublicKey:Oe,signFarcasterMessage:Oe,signMessageWithCrossAppWallet:Oe,signTypedDataWithCrossAppWallet:Oe,sendTransactionWithCrossAppWallet:Oe,signTransactionWithCrossAppWallet:Oe,isModalOpen:!1,mfaMethods:[]}),bn=()=>k.useContext(_m),MN=()=>{let{walletProxy:t,client:e}=lt();return k.useMemo((()=>({signWithUserSigner:async({message:n})=>{if(!t)throw Error("Wallet proxy not initialized");let r=await e.getAccessToken();if(!r)throw Error("User must be authenticated");let{signature:i}=await t.signWithUserSigner({accessToken:r,message:n});return{signature:i}}})),[t,e])};class ou{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new ou("CBWSDK").clear(),new ou("walletlink").clear()}}const Jr={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},Kk={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},HQ="Unspecified error message.",qEe="Unspecified server error.";function jN(t,e=HQ){if(t&&Number.isInteger(t)){const n=t.toString();if(Yk(Kk,n))return Kk[n].message;if(qQ(t))return qEe}return e}function VEe(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(Kk[e]||qQ(t))}function GEe(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&Yk(t,"code")&&VEe(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,Yk(r,"data")&&(n.data=r.data)):(n.message=jN(n.code),n.data={originalError:XL(t)})}else n.code=Jr.rpc.internal,n.message=QL(t,"message")?t.message:HQ,n.data={originalError:XL(t)};return e&&(n.stack=QL(t,"stack")?t.stack:void 0),n}function qQ(t){return t>=-32099&&t<=-32e3}function XL(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function Yk(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function QL(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const jn={rpc:{parse:t=>Oo(Jr.rpc.parse,t),invalidRequest:t=>Oo(Jr.rpc.invalidRequest,t),invalidParams:t=>Oo(Jr.rpc.invalidParams,t),methodNotFound:t=>Oo(Jr.rpc.methodNotFound,t),internal:t=>Oo(Jr.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Oo(e,t)},invalidInput:t=>Oo(Jr.rpc.invalidInput,t),resourceNotFound:t=>Oo(Jr.rpc.resourceNotFound,t),resourceUnavailable:t=>Oo(Jr.rpc.resourceUnavailable,t),transactionRejected:t=>Oo(Jr.rpc.transactionRejected,t),methodNotSupported:t=>Oo(Jr.rpc.methodNotSupported,t),limitExceeded:t=>Oo(Jr.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>m1(Jr.provider.userRejectedRequest,t),unauthorized:t=>m1(Jr.provider.unauthorized,t),unsupportedMethod:t=>m1(Jr.provider.unsupportedMethod,t),disconnected:t=>m1(Jr.provider.disconnected,t),chainDisconnected:t=>m1(Jr.provider.chainDisconnected,t),unsupportedChain:t=>m1(Jr.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new KQ(e,n,r)}}};function Oo(t,e){const[n,r]=VQ(e);return new GQ(t,n||jN(t),r)}function m1(t,e){const[n,r]=VQ(e);return new KQ(t,n||jN(t),r)}function VQ(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class GQ extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class KQ extends GQ{constructor(e,n,r){if(!KEe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function KEe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function DN(){return t=>t}const cw=DN(),YEe=DN(),ZEe=DN();function Qu(t){return Math.floor(t)}const YQ=/^[0-9]*$/,ZQ=/^[a-f0-9]*$/;function a0(t){return BN(crypto.getRandomValues(new Uint8Array(t)))}function BN(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function m5(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function Y2(t,e=!1){const n=t.toString("hex");return cw(e?`0x${n}`:n)}function nA(t){return Y2(Zk(t),!0)}function Cc(t){return ZEe(t.toString(10))}function Yf(t){return cw(`0x${BigInt(t).toString(16)}`)}function JQ(t){return t.startsWith("0x")||t.startsWith("0X")}function UN(t){return JQ(t)?t.slice(2):t}function XQ(t){return JQ(t)?`0x${t.slice(2)}`:`0x${t}`}function a8(t){if(typeof t!="string")return!1;const e=UN(t).toLowerCase();return ZQ.test(e)}function JEe(t,e=!1){if(typeof t=="string"){const n=UN(t).toLowerCase();if(ZQ.test(n))return cw(e?`0x${n}`:n)}throw jn.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function LN(t,e=!1){let n=JEe(t,!1);return n.length%2===1&&(n=cw(`0${n}`)),e?cw(`0x${n}`):n}function yf(t){if(typeof t=="string"){const e=UN(t).toLowerCase();if(a8(e)&&e.length===40)return YEe(XQ(e))}throw jn.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function Zk(t){if(_t.isBuffer(t))return t;if(typeof t=="string"){if(a8(t)){const e=LN(t,!1);return _t.from(e,"hex")}return _t.from(t,"utf8")}throw jn.rpc.invalidParams(`Not binary data: ${String(t)}`)}function Z2(t){if(typeof t=="number"&&Number.isInteger(t))return Qu(t);if(typeof t=="string"){if(YQ.test(t))return Qu(Number(t));if(a8(t))return Qu(Number(BigInt(LN(t,!0))))}throw jn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function Xy(t){if(t!==null&&(typeof t=="bigint"||QEe(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(Z2(t));if(typeof t=="string"){if(YQ.test(t))return BigInt(t);if(a8(t))return BigInt(LN(t,!0))}throw jn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function XEe(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw jn.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function QEe(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function e_e(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function t_e(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function n_e(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function r_e(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function QQ(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function eee(t,e){const n=QQ(t),r=await crypto.subtle.exportKey(n,e);return BN(new Uint8Array(r))}async function tee(t,e){const n=QQ(t),r=m5(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function i_e(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const a=i;return Object.assign(Object.assign({},a.code?{code:a.code}:{}),{message:a.message})});return n_e(e,n)}async function a_e(t,e){return JSON.parse(await r_e(e,t))}const rA={storageKey:"ownPrivateKey",keyType:"private"},iA={storageKey:"ownPublicKey",keyType:"public"},aA={storageKey:"peerPublicKey",keyType:"public"};class s_e{constructor(){this.storage=new ou("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(aA,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(iA.storageKey),this.storage.removeItem(rA.storageKey),this.storage.removeItem(aA.storageKey)}async generateKeyPair(){const e=await e_e();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(rA,e.privateKey),await this.storeKey(iA,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(rA)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(iA)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(aA)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await t_e(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?tee(e.keyType,n):null}async storeKey(e,n){const r=await eee(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const rv="4.3.2",nee="@coinbase/wallet-sdk";async function FN(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":rv,"X-Cbw-Sdk-Platform":nee}}),{result:i,error:a}=await r.json();if(a)throw a;return i}function o_e(){return globalThis.coinbaseWalletExtension}function l_e(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function c_e({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:a,appChainIds:s}=t;if(e.options!=="smartWalletOnly"){const l=o_e();if(l)return(n=l.setAppInfo)===null||n===void 0||n.call(l,i,a,s,e),l}const o=l_e();if(o?.isCoinbaseBrowser)return(r=o.setAppInfo)===null||r===void 0||r.call(o,i,a,s,e),o}function u_e(t){if(!t||typeof t!="object"||Array.isArray(t))throw jn.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw jn.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw jn.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw jn.provider.unsupportedMethod()}}const eF="accounts",tF="activeChain",nF="availableChains",rF="walletCapabilities";class d_e{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new s_e,this.storage=new ou("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(eF))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(tF)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,a;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const s=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),o=await this.communicator.postRequestAndWaitForResponse(s);if("failure"in o.content)throw o.content.failure;const l=await tee("public",o.sender);await this.keyManager.setPeerPublicKey(l);const d=(await this.decryptResponseMessage(o)).result;if("error"in d)throw d.error;switch(e.method){case"eth_requestAccounts":{const h=d.value;this.accounts=h,this.storage.storeObject(eF,h),(a=this.callback)===null||a===void 0||a.call(this,"accountsChanged",h);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw jn.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Yf(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Yf(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(rF);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw jn.rpc.internal("No RPC URL set for chain");return FN(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),s=(await this.decryptResponseMessage(i)).result;if("error"in s)throw s.error;return s.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw jn.rpc.invalidParams();const i=Z2(r[0].chainId);if(this.updateChain(i))return null;const s=await this.sendRequestToPopup(e);return s===null&&this.updateChain(i),s}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw jn.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await i_e({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await eee("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const a=await this.keyManager.getSharedSecret();if(!a)throw jn.provider.unauthorized("Invalid session");const s=await a_e(i.encrypted,a),o=(n=s.data)===null||n===void 0?void 0:n.chains;if(o){const u=Object.entries(o).map(([d,h])=>({id:Number(d),rpcUrl:h}));this.storage.storeObject(nF,u),this.updateChain(this.chain.id,u)}const l=(r=s.data)===null||r===void 0?void 0:r.capabilities;return l&&this.storage.storeObject(rF,l),s}updateChain(e,n){var r;const i=n??this.storage.loadObject(nF),a=i?.find(s=>s.id===e);return a?(a!==this.chain&&(this.chain=a,this.storage.storeObject(tF,a),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Yf(a.id))),!0):!1}}var hr={},Bi={},iF;function ree(){if(iF)return Bi;iF=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.output=Bi.exists=Bi.hash=Bi.bytes=Bi.bool=Bi.number=Bi.isBytes=void 0;function t(l){if(!Number.isSafeInteger(l)||l<0)throw new Error(`positive integer expected, not ${l}`)}Bi.number=t;function e(l){if(typeof l!="boolean")throw new Error(`boolean expected, not ${l}`)}Bi.bool=e;function n(l){return l instanceof Uint8Array||l!=null&&typeof l=="object"&&l.constructor.name==="Uint8Array"}Bi.isBytes=n;function r(l,...u){if(!n(l))throw new Error("Uint8Array expected");if(u.length>0&&!u.includes(l.length))throw new Error(`Uint8Array expected of length ${u}, not of length=${l.length}`)}Bi.bytes=r;function i(l){if(typeof l!="function"||typeof l.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(l.outputLen),t(l.blockLen)}Bi.hash=i;function a(l,u=!0){if(l.destroyed)throw new Error("Hash instance has been destroyed");if(u&&l.finished)throw new Error("Hash#digest() has already been called")}Bi.exists=a;function s(l,u){r(l);const d=u.outputLen;if(l.length<d)throw new Error(`digestInto() expects output buffer of length at least ${d}`)}Bi.output=s;const o={number:t,bool:e,bytes:r,hash:i,exists:a,output:s};return Bi.default=o,Bi}var Qt={},aF;function f_e(){if(aF)return Qt;aF=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.add5L=Qt.add5H=Qt.add4H=Qt.add4L=Qt.add3H=Qt.add3L=Qt.add=Qt.rotlBL=Qt.rotlBH=Qt.rotlSL=Qt.rotlSH=Qt.rotr32L=Qt.rotr32H=Qt.rotrBL=Qt.rotrBH=Qt.rotrSL=Qt.rotrSH=Qt.shrSL=Qt.shrSH=Qt.toBig=Qt.split=Qt.fromBig=void 0;const t=BigInt(2**32-1),e=BigInt(32);function n(U,L=!1){return L?{h:Number(U&t),l:Number(U>>e&t)}:{h:Number(U>>e&t)|0,l:Number(U&t)|0}}Qt.fromBig=n;function r(U,L=!1){let G=new Uint32Array(U.length),R=new Uint32Array(U.length);for(let F=0;F<U.length;F++){const{h:_,l:S}=n(U[F],L);[G[F],R[F]]=[_,S]}return[G,R]}Qt.split=r;const i=(U,L)=>BigInt(U>>>0)<<e|BigInt(L>>>0);Qt.toBig=i;const a=(U,L,G)=>U>>>G;Qt.shrSH=a;const s=(U,L,G)=>U<<32-G|L>>>G;Qt.shrSL=s;const o=(U,L,G)=>U>>>G|L<<32-G;Qt.rotrSH=o;const l=(U,L,G)=>U<<32-G|L>>>G;Qt.rotrSL=l;const u=(U,L,G)=>U<<64-G|L>>>G-32;Qt.rotrBH=u;const d=(U,L,G)=>U>>>G-32|L<<64-G;Qt.rotrBL=d;const h=(U,L)=>L;Qt.rotr32H=h;const g=(U,L)=>U;Qt.rotr32L=g;const m=(U,L,G)=>U<<G|L>>>32-G;Qt.rotlSH=m;const b=(U,L,G)=>L<<G|U>>>32-G;Qt.rotlSL=b;const w=(U,L,G)=>L<<G-32|U>>>64-G;Qt.rotlBH=w;const x=(U,L,G)=>U<<G-32|L>>>64-G;Qt.rotlBL=x;function E(U,L,G,R){const F=(L>>>0)+(R>>>0);return{h:U+G+(F/2**32|0)|0,l:F|0}}Qt.add=E;const I=(U,L,G)=>(U>>>0)+(L>>>0)+(G>>>0);Qt.add3L=I;const C=(U,L,G,R)=>L+G+R+(U/2**32|0)|0;Qt.add3H=C;const N=(U,L,G,R)=>(U>>>0)+(L>>>0)+(G>>>0)+(R>>>0);Qt.add4L=N;const A=(U,L,G,R,F)=>L+G+R+F+(U/2**32|0)|0;Qt.add4H=A;const T=(U,L,G,R,F)=>(U>>>0)+(L>>>0)+(G>>>0)+(R>>>0)+(F>>>0);Qt.add5L=T;const O=(U,L,G,R,F,_)=>L+G+R+F+_+(U/2**32|0)|0;Qt.add5H=O;const H={fromBig:n,split:r,toBig:i,shrSH:a,shrSL:s,rotrSH:o,rotrSL:l,rotrBH:u,rotrBL:d,rotr32H:h,rotr32L:g,rotlSH:m,rotlSL:b,rotlBH:w,rotlBL:x,add:E,add3L:I,add3H:C,add4L:N,add4H:A,add5H:O,add5L:T};return Qt.default=H,Qt}var sA={},Qy={},sF;function h_e(){return sF||(sF=1,Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.crypto=void 0,Qy.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Qy}var oF;function p_e(){return oF||(oF=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=h_e(),n=ree();function r(R){return R instanceof Uint8Array||R!=null&&typeof R=="object"&&R.constructor.name==="Uint8Array"}t.isBytes=r;const i=R=>new Uint8Array(R.buffer,R.byteOffset,R.byteLength);t.u8=i;const a=R=>new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4));t.u32=a;const s=R=>new DataView(R.buffer,R.byteOffset,R.byteLength);t.createView=s;const o=(R,F)=>R<<32-F|R>>>F;t.rotr=o;const l=(R,F)=>R<<F|R>>>32-F>>>0;t.rotl=l,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const u=R=>R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255;t.byteSwap=u,t.byteSwapIfBE=t.isLE?R=>R:R=>(0,t.byteSwap)(R);function d(R){for(let F=0;F<R.length;F++)R[F]=(0,t.byteSwap)(R[F])}t.byteSwap32=d;const h=Array.from({length:256},(R,F)=>F.toString(16).padStart(2,"0"));function g(R){(0,n.bytes)(R);let F="";for(let _=0;_<R.length;_++)F+=h[R[_]];return F}t.bytesToHex=g;const m={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function b(R){if(R>=m._0&&R<=m._9)return R-m._0;if(R>=m._A&&R<=m._F)return R-(m._A-10);if(R>=m._a&&R<=m._f)return R-(m._a-10)}function w(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);const F=R.length,_=F/2;if(F%2)throw new Error("padded hex string expected, got unpadded hex of length "+F);const S=new Uint8Array(_);for(let $=0,D=0;$<_;$++,D+=2){const z=b(R.charCodeAt(D)),Y=b(R.charCodeAt(D+1));if(z===void 0||Y===void 0){const J=R[D]+R[D+1];throw new Error('hex string expected, got non-hex character "'+J+'" at index '+D)}S[$]=z*16+Y}return S}t.hexToBytes=w;const x=async()=>{};t.nextTick=x;async function E(R,F,_){let S=Date.now();for(let $=0;$<R;$++){_($);const D=Date.now()-S;D>=0&&D<F||(await(0,t.nextTick)(),S+=D)}}t.asyncLoop=E;function I(R){if(typeof R!="string")throw new Error(`utf8ToBytes expected string, got ${typeof R}`);return new Uint8Array(new TextEncoder().encode(R))}t.utf8ToBytes=I;function C(R){return typeof R=="string"&&(R=I(R)),(0,n.bytes)(R),R}t.toBytes=C;function N(...R){let F=0;for(let S=0;S<R.length;S++){const $=R[S];(0,n.bytes)($),F+=$.length}const _=new Uint8Array(F);for(let S=0,$=0;S<R.length;S++){const D=R[S];_.set(D,$),$+=D.length}return _}t.concatBytes=N;class A{clone(){return this._cloneInto()}}t.Hash=A;const T={}.toString;function O(R,F){if(F!==void 0&&T.call(F)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(R,F)}t.checkOpts=O;function H(R){const F=S=>R().update(C(S)).digest(),_=R();return F.outputLen=_.outputLen,F.blockLen=_.blockLen,F.create=()=>R(),F}t.wrapConstructor=H;function U(R){const F=(S,$)=>R($).update(C(S)).digest(),_=R({});return F.outputLen=_.outputLen,F.blockLen=_.blockLen,F.create=S=>R(S),F}t.wrapConstructorWithOpts=U;function L(R){const F=(S,$)=>R($).update(C(S)).digest(),_=R({});return F.outputLen=_.outputLen,F.blockLen=_.blockLen,F.create=S=>R(S),F}t.wrapXOFConstructorWithOpts=L;function G(R=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(R));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=G})(sA)),sA}var lF;function g_e(){if(lF)return hr;lF=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.shake256=hr.shake128=hr.keccak_512=hr.keccak_384=hr.keccak_256=hr.keccak_224=hr.sha3_512=hr.sha3_384=hr.sha3_256=hr.sha3_224=hr.Keccak=hr.keccakP=void 0;const t=ree(),e=f_e(),n=p_e(),r=[],i=[],a=[],s=BigInt(0),o=BigInt(1),l=BigInt(2),u=BigInt(7),d=BigInt(256),h=BigInt(113);for(let N=0,A=o,T=1,O=0;N<24;N++){[T,O]=[O,(2*T+3*O)%5],r.push(2*(5*O+T)),i.push((N+1)*(N+2)/2%64);let H=s;for(let U=0;U<7;U++)A=(A<<o^(A>>u)*h)%d,A&l&&(H^=o<<(o<<BigInt(U))-o);a.push(H)}const[g,m]=(0,e.split)(a,!0),b=(N,A,T)=>T>32?(0,e.rotlBH)(N,A,T):(0,e.rotlSH)(N,A,T),w=(N,A,T)=>T>32?(0,e.rotlBL)(N,A,T):(0,e.rotlSL)(N,A,T);function x(N,A=24){const T=new Uint32Array(10);for(let O=24-A;O<24;O++){for(let L=0;L<10;L++)T[L]=N[L]^N[L+10]^N[L+20]^N[L+30]^N[L+40];for(let L=0;L<10;L+=2){const G=(L+8)%10,R=(L+2)%10,F=T[R],_=T[R+1],S=b(F,_,1)^T[G],$=w(F,_,1)^T[G+1];for(let D=0;D<50;D+=10)N[L+D]^=S,N[L+D+1]^=$}let H=N[2],U=N[3];for(let L=0;L<24;L++){const G=i[L],R=b(H,U,G),F=w(H,U,G),_=r[L];H=N[_],U=N[_+1],N[_]=R,N[_+1]=F}for(let L=0;L<50;L+=10){for(let G=0;G<10;G++)T[G]=N[L+G];for(let G=0;G<10;G++)N[L+G]^=~T[(G+2)%10]&T[(G+4)%10]}N[0]^=g[O],N[1]^=m[O]}T.fill(0)}hr.keccakP=x;class E extends n.Hash{constructor(A,T,O,H=!1,U=24){if(super(),this.blockLen=A,this.suffix=T,this.outputLen=O,this.enableXOF=H,this.rounds=U,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)(O),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),x(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(A){(0,t.exists)(this);const{blockLen:T,state:O}=this;A=(0,n.toBytes)(A);const H=A.length;for(let U=0;U<H;){const L=Math.min(T-this.pos,H-U);for(let G=0;G<L;G++)O[this.pos++]^=A[U++];this.pos===T&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:A,suffix:T,pos:O,blockLen:H}=this;A[O]^=T,(T&128)!==0&&O===H-1&&this.keccak(),A[H-1]^=128,this.keccak()}writeInto(A){(0,t.exists)(this,!1),(0,t.bytes)(A),this.finish();const T=this.state,{blockLen:O}=this;for(let H=0,U=A.length;H<U;){this.posOut>=O&&this.keccak();const L=Math.min(O-this.posOut,U-H);A.set(T.subarray(this.posOut,this.posOut+L),H),this.posOut+=L,H+=L}return A}xofInto(A){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(A)}xof(A){return(0,t.number)(A),this.xofInto(new Uint8Array(A))}digestInto(A){if((0,t.output)(A,this),this.finished)throw new Error("digest() was already called");return this.writeInto(A),this.destroy(),A}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(A){const{blockLen:T,suffix:O,outputLen:H,rounds:U,enableXOF:L}=this;return A||(A=new E(T,O,H,L,U)),A.state32.set(this.state32),A.pos=this.pos,A.posOut=this.posOut,A.finished=this.finished,A.rounds=U,A.suffix=O,A.outputLen=H,A.enableXOF=L,A.destroyed=this.destroyed,A}}hr.Keccak=E;const I=(N,A,T)=>(0,n.wrapConstructor)(()=>new E(A,N,T));hr.sha3_224=I(6,144,224/8),hr.sha3_256=I(6,136,256/8),hr.sha3_384=I(6,104,384/8),hr.sha3_512=I(6,72,512/8),hr.keccak_224=I(1,144,224/8),hr.keccak_256=I(1,136,256/8),hr.keccak_384=I(1,104,384/8),hr.keccak_512=I(1,72,512/8);const C=(N,A,T)=>(0,n.wrapXOFConstructorWithOpts)((O={})=>new E(A,N,O.dkLen===void 0?T:O.dkLen,!0));return hr.shake128=C(31,168,128/8),hr.shake256=C(31,136,256/8),hr}var oA,cF;function iee(){if(cF)return oA;cF=1;const{keccak_256:t}=g_e();function e(m){return _t.allocUnsafe(m).fill(0)}function n(m){return m.toString(2).length}function r(m,b){let w=m.toString(16);w.length%2!==0&&(w="0"+w);const x=w.match(/.{1,2}/g).map(E=>parseInt(E,16));for(;x.length<b;)x.unshift(0);return _t.from(x)}function i(m,b){const w=m<0n;let x;if(w){const E=(1n<<BigInt(b))-1n;x=(~m&E)+1n}else x=m;return x&=(1n<<BigInt(b))-1n,x}function a(m,b,w){const x=e(b);return m=o(m),w?m.length<b?(m.copy(x),x):m.slice(0,b):m.length<b?(m.copy(x,b-m.length),x):m.slice(-b)}function s(m,b){return a(m,b,!0)}function o(m){if(!_t.isBuffer(m))if(Array.isArray(m))m=_t.from(m);else if(typeof m=="string")h(m)?m=_t.from(d(g(m)),"hex"):m=_t.from(m);else if(typeof m=="number")m=intToBuffer(m);else if(m==null)m=_t.allocUnsafe(0);else if(typeof m=="bigint")m=r(m);else if(m.toArray)m=_t.from(m.toArray());else throw new Error("invalid type");return m}function l(m){return m=o(m),"0x"+m.toString("hex")}function u(m,b){if(m=o(m),b||(b=256),b!==256)throw new Error("unsupported");return _t.from(t(new Uint8Array(m)))}function d(m){return m.length%2?"0"+m:m}function h(m){return typeof m=="string"&&m.match(/^0x[0-9A-Fa-f]*$/)}function g(m){return typeof m=="string"&&m.startsWith("0x")?m.slice(2):m}return oA={zeros:e,setLength:a,setLengthRight:s,isHexString:h,stripHexPrefix:g,toBuffer:o,bufferToHex:l,keccak:u,bitLengthFromBigInt:n,bufferBEFromBigInt:r,twosFromBigInt:i},oA}var lA,uF;function m_e(){if(uF)return lA;uF=1;const t=iee();function e(g){return g.startsWith("int[")?"int256"+g.slice(3):g==="int"?"int256":g.startsWith("uint[")?"uint256"+g.slice(4):g==="uint"?"uint256":g.startsWith("fixed[")?"fixed128x128"+g.slice(5):g==="fixed"?"fixed128x128":g.startsWith("ufixed[")?"ufixed128x128"+g.slice(6):g==="ufixed"?"ufixed128x128":g}function n(g){return Number.parseInt(/^\D+(\d+)$/.exec(g)[1],10)}function r(g){var m=/^\D+(\d+)x(\d+)$/.exec(g);return[Number.parseInt(m[1],10),Number.parseInt(m[2],10)]}function i(g){var m=g.match(/(.*)\[(.*?)\]$/);return m?m[2]===""?"dynamic":Number.parseInt(m[2],10):null}function a(g){var m=typeof g;if(m==="string"||m==="number")return BigInt(g);if(m==="bigint")return g;throw new Error("Argument is not a number")}function s(g,m){var b,w,x,E;if(g==="address")return s("uint160",a(m));if(g==="bool")return s("uint8",m?1:0);if(g==="string")return s("bytes",new _t(m,"utf8"));if(l(g)){if(typeof m.length>"u")throw new Error("Not an array?");if(b=i(g),b!=="dynamic"&&b!==0&&m.length>b)throw new Error("Elements exceed array size: "+b);x=[],g=g.slice(0,g.lastIndexOf("[")),typeof m=="string"&&(m=JSON.parse(m));for(E in m)x.push(s(g,m[E]));if(b==="dynamic"){var I=s("uint256",m.length);x.unshift(I)}return _t.concat(x)}else{if(g==="bytes")return m=new _t(m),x=_t.concat([s("uint256",m.length),m]),m.length%32!==0&&(x=_t.concat([x,t.zeros(32-m.length%32)])),x;if(g.startsWith("bytes")){if(b=n(g),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);return t.setLengthRight(m,32)}else if(g.startsWith("uint")){if(b=n(g),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);w=a(m);const C=t.bitLengthFromBigInt(w);if(C>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+C);if(w<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(w,32)}else if(g.startsWith("int")){if(b=n(g),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);w=a(m);const C=t.bitLengthFromBigInt(w);if(C>b)throw new Error("Supplied int exceeds width: "+b+" vs "+C);const N=t.twosFromBigInt(w,256);return t.bufferBEFromBigInt(N,32)}else if(g.startsWith("ufixed")){if(b=r(g),w=a(m),w<0)throw new Error("Supplied ufixed is negative");return s("uint256",w*BigInt(2)**BigInt(b[1]))}else if(g.startsWith("fixed"))return b=r(g),s("int256",a(m)*BigInt(2)**BigInt(b[1]))}throw new Error("Unsupported or invalid type: "+g)}function o(g){return g==="string"||g==="bytes"||i(g)==="dynamic"}function l(g){return g.lastIndexOf("]")===g.length-1}function u(g,m){var b=[],w=[],x=32*g.length;for(var E in g){var I=e(g[E]),C=m[E],N=s(I,C);o(I)?(b.push(s("uint256",x)),w.push(N),x+=N.length):b.push(N)}return _t.concat(b.concat(w))}function d(g,m){if(g.length!==m.length)throw new Error("Number of types are not matching the values");for(var b,w,x=[],E=0;E<g.length;E++){var I=e(g[E]),C=m[E];if(I==="bytes")x.push(C);else if(I==="string")x.push(new _t(C,"utf8"));else if(I==="bool")x.push(new _t(C?"01":"00","hex"));else if(I==="address")x.push(t.setLength(C,20));else if(I.startsWith("bytes")){if(b=n(I),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);x.push(t.setLengthRight(C,b))}else if(I.startsWith("uint")){if(b=n(I),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);w=a(C);const N=t.bitLengthFromBigInt(w);if(N>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+N);x.push(t.bufferBEFromBigInt(w,b/8))}else if(I.startsWith("int")){if(b=n(I),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);w=a(C);const N=t.bitLengthFromBigInt(w);if(N>b)throw new Error("Supplied int exceeds width: "+b+" vs "+N);const A=t.twosFromBigInt(w,b);x.push(t.bufferBEFromBigInt(A,b/8))}else throw new Error("Unsupported or invalid type: "+I)}return _t.concat(x)}function h(g,m){return t.keccak(d(g,m))}return lA={rawEncode:u,solidityPack:d,soliditySHA3:h},lA}var cA,dF;function y_e(){if(dF)return cA;dF=1;const t=iee(),e=m_e(),n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r={encodeData(a,s,o,l=!0){const u=["bytes32"],d=[this.hashType(a,o)];if(l){const h=(g,m,b)=>{if(o[m]!==void 0)return["bytes32",b==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(m,b,o,l))];if(b===void 0)throw new Error(`missing value for field ${g} of type ${m}`);if(m==="bytes")return["bytes32",t.keccak(b)];if(m==="string")return typeof b=="string"&&(b=_t.from(b,"utf8")),["bytes32",t.keccak(b)];if(m.lastIndexOf("]")===m.length-1){const w=m.slice(0,m.lastIndexOf("[")),x=b.map(E=>h(g,w,E));return["bytes32",t.keccak(e.rawEncode(x.map(([E])=>E),x.map(([,E])=>E)))]}return[m,b]};for(const g of o[a]){const[m,b]=h(g.name,g.type,s[g.name]);u.push(m),d.push(b)}}else for(const h of o[a]){let g=s[h.name];if(g!==void 0)if(h.type==="bytes")u.push("bytes32"),g=t.keccak(g),d.push(g);else if(h.type==="string")u.push("bytes32"),typeof g=="string"&&(g=_t.from(g,"utf8")),g=t.keccak(g),d.push(g);else if(o[h.type]!==void 0)u.push("bytes32"),g=t.keccak(this.encodeData(h.type,g,o,l)),d.push(g);else{if(h.type.lastIndexOf("]")===h.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");u.push(h.type),d.push(g)}}return e.rawEncode(u,d)},encodeType(a,s){let o="",l=this.findTypeDependencies(a,s).filter(u=>u!==a);l=[a].concat(l.sort());for(const u of l){if(!s[u])throw new Error("No type definition specified: "+u);o+=u+"("+s[u].map(({name:h,type:g})=>g+" "+h).join(",")+")"}return o},findTypeDependencies(a,s,o=[]){if(a=a.match(/^\w*/)[0],o.includes(a)||s[a]===void 0)return o;o.push(a);for(const l of s[a])for(const u of this.findTypeDependencies(l.type,s,o))!o.includes(u)&&o.push(u);return o},hashStruct(a,s,o,l=!0){return t.keccak(this.encodeData(a,s,o,l))},hashType(a,s){return t.keccak(this.encodeType(a,s))},sanitizeData(a){const s={};for(const o in n.properties)a[o]&&(s[o]=a[o]);return s.types&&(s.types=Object.assign({EIP712Domain:[]},s.types)),s},hash(a,s=!0){const o=this.sanitizeData(a),l=[_t.from("1901","hex")];return l.push(this.hashStruct("EIP712Domain",o.domain,o.types,s)),o.primaryType!=="EIP712Domain"&&l.push(this.hashStruct(o.primaryType,o.message,o.types,s)),t.keccak(_t.concat(l))}};cA={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:r,hashForSignTypedDataLegacy:function(a){return i(a.data)},hashForSignTypedData_v3:function(a){return r.hash(a.data,!1)},hashForSignTypedData_v4:function(a){return r.hash(a.data)}};function i(a){const s=new Error("Expect argument to be non-empty array");if(typeof a!="object"||!a.length)throw s;const o=a.map(function(d){return d.type==="bytes"?t.toBuffer(d.value):d.value}),l=a.map(function(d){return d.type}),u=a.map(function(d){if(!d.name)throw s;return d.type+" "+d.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(a.length).fill("string"),u),e.soliditySHA3(l,o)])}return cA}var b_e=y_e();const dx=ja(b_e),w_e="walletUsername",Jk="Addresses",v_e="AppVersion";function ca(t){return t.errorMessage!==void 0}class x_e{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",m5(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,a.encode(e)),o=16,l=s.slice(s.byteLength-o),u=s.slice(0,s.byteLength-o),d=new Uint8Array(l),h=new Uint8Array(u),g=new Uint8Array([...r,...d,...h]);return BN(g)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const a=await crypto.subtle.importKey("raw",m5(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=m5(e),o=s.slice(0,12),l=s.slice(12,28),u=s.slice(28),d=new Uint8Array([...u,...l]),h={name:"AES-GCM",iv:new Uint8Array(o)};try{const g=await window.crypto.subtle.decrypt(h,a,d),m=new TextDecoder;r(m.decode(g))}catch(g){i(g)}})()})}}class E_e{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const a=(e=r?.filter(s=>s.event==="Web3Response").map(s=>({type:"Event",sessionId:this.sessionId,eventId:s.id,event:s.event,data:s.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(a),a}throw new Error(`Check unseen events failed: ${n.status}`)}}var sd;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(sd||(sd={}));class __e{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(a){n(a);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,sd.CONNECTING),i.onclose=a=>{var s;this.clearWebSocket(),n(new Error(`websocket error ${a.code}: ${a.reason}`)),(s=this.connectionStateListener)===null||s===void 0||s.call(this,sd.DISCONNECTED)},i.onopen=a=>{var s;e(),(s=this.connectionStateListener)===null||s===void 0||s.call(this,sd.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=a=>{var s,o;if(a.data==="h")(s=this.incomingDataListener)===null||s===void 0||s.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(a.data);(o=this.incomingDataListener)===null||o===void 0||o.call(this,l)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,sd.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const fF=1e4,A_e=6e4;class C_e{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Qu(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=a=>{if(!a)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",o=>a.JsonRpcUrl&&this.handleChainUpdated(o,a.JsonRpcUrl)]]).forEach((o,l)=>{const u=a[l];u!==void 0&&o(u)})},this.handleDestroyed=a=>{var s;a==="1"&&((s=this.listener)===null||s===void 0||s.resetAndReload())},this.handleAccountUpdated=async a=>{var s;const o=await this.cipher.decrypt(a);(s=this.listener)===null||s===void 0||s.accountUpdated(o)},this.handleMetadataUpdated=async(a,s)=>{var o;const l=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.metadataUpdated(a,l)},this.handleWalletUsernameUpdated=async a=>{this.handleMetadataUpdated(w_e,a)},this.handleAppVersionUpdated=async a=>{this.handleMetadataUpdated(v_e,a)},this.handleChainUpdated=async(a,s)=>{var o;const l=await this.cipher.decrypt(a),u=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.chainUpdated(l,u)},this.session=e,this.cipher=new x_e(e.secret),this.listener=r;const i=new __e(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async a=>{let s=!1;switch(a){case sd.DISCONNECTED:if(!this.destroyed){const o=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||i.connect().catch(()=>{o()})};o()}break;case sd.CONNECTED:s=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},fF),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case sd.CONNECTING:break}this.connected!==s&&(this.connected=s)}),i.setIncomingDataListener(a=>{var s;switch(a.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const o=a.type==="IsLinkedOK"?a.linked:void 0;this.linked=o||a.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(a.metadata);break}case"Event":{this.handleIncomingEvent(a);break}}a.id!==void 0&&((s=this.requestResolutions.get(a.id))===null||s===void 0||s(a))}),this.ws=i,this.http=new E_e(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Qu(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:a,response:s}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(a,s)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),a={type:"PublishEvent",id:Qu(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const s=await this.makeRequest(a);if(s.type==="Fail")throw new Error(s.error||"failed to publish event");return s.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>fF*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:A_e}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((a,s)=>{i=window.setTimeout(()=>{s(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(a=>{this.requestResolutions.set(r,s=>{clearTimeout(i),a(s),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Qu(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Qu(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Qu(this.nextReqId++),sessionId:this.session.id}),!0)}}class S_e{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=XQ(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}function k_e(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function zN(t,...e){if(!k_e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function hF(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function I_e(t,e){zN(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const uA=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Sc=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const T_e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $_e(t){zN(t);let e="";for(let n=0;n<t.length;n++)e+=T_e[t[n]];return e}function N_e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function aee(t){return typeof t=="string"&&(t=N_e(t)),zN(t),t}let P_e=class{clone(){return this._cloneInto()}};function O_e(t){const e=r=>t().update(aee(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function R_e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a),l=r?4:0,u=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+u,o,r)}const M_e=(t,e,n)=>t&e^~t&n,j_e=(t,e,n)=>t&e^t&n^e&n;class D_e extends P_e{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=uA(this.buffer)}update(e){hF(this);const{view:n,buffer:r,blockLen:i}=this;e=aee(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const l=uA(e);for(;i<=a-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hF(this),I_e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:a}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let h=s;h<i;h++)n[h]=0;R_e(r,i-8,BigInt(this.length*8),a),this.process(r,0);const o=uA(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)o.setUint32(4*h,d[h],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%n&&e.buffer.set(r),e}}const B_e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wf=new Uint32Array(64);let U_e=class extends D_e{constructor(){super(64,32,8,!1),this.A=bf[0]|0,this.B=bf[1]|0,this.C=bf[2]|0,this.D=bf[3]|0,this.E=bf[4]|0,this.F=bf[5]|0,this.G=bf[6]|0,this.H=bf[7]|0}get(){const{A:e,B:n,C:r,D:i,E:a,F:s,G:o,H:l}=this;return[e,n,r,i,a,s,o,l]}set(e,n,r,i,a,s,o,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)wf[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const g=wf[h-15],m=wf[h-2],b=Sc(g,7)^Sc(g,18)^g>>>3,w=Sc(m,17)^Sc(m,19)^m>>>10;wf[h]=w+wf[h-7]+b+wf[h-16]|0}let{A:r,B:i,C:a,D:s,E:o,F:l,G:u,H:d}=this;for(let h=0;h<64;h++){const g=Sc(o,6)^Sc(o,11)^Sc(o,25),m=d+g+M_e(o,l,u)+B_e[h]+wf[h]|0,w=(Sc(r,2)^Sc(r,13)^Sc(r,22))+j_e(r,i,a)|0;d=u,u=l,l=o,o=s+m|0,s=a,a=i,i=r,r=m+w|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,a,s,o,l,u,d)}roundClean(){wf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const L_e=O_e(()=>new U_e),pF="session:id",gF="session:secret",mF="session:linked";class xg{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=$_e(L_e(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=a0(16),r=a0(32);return new xg(e,n,r).save()}static load(e){const n=e.getItem(pF),r=e.getItem(mF),i=e.getItem(gF);return n&&i?new xg(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(pF,this.id),this.storage.setItem(gF,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(mF,this._linked?"1":"0")}}function F_e(){try{return window.frameElement!==null}catch{return!1}}function z_e(){try{return F_e()&&window.top?window.top.location:window.location}catch{return window.location}}function W_e(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function see(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const H_e='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function oee(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(H_e)),document.documentElement.appendChild(t)}function lee(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=lee(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function J2(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=lee(t))&&(r&&(r+=" "),r+=e);return r}var s8,$r,cee,s0,yF,uee,Xk,WN,Qk,eI,uw={},dee=[],q_e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,HN=Array.isArray;function Zf(t,e){for(var n in e)t[n]=e[n];return t}function fee(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ur(t,e,n){var r,i,a,s={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?s8.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return y5(t,s,r,i,null)}function y5(t,e,n,r,i){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++cee,__i:-1,__u:0};return i==null&&$r.vnode!=null&&$r.vnode(a),a}function o8(t){return t.children}function b5(t,e){this.props=t,this.context=e}function zg(t,e){if(e==null)return t.__?zg(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?zg(t):null}function hee(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return hee(t)}}function bF(t){(!t.__d&&(t.__d=!0)&&s0.push(t)&&!d6.__r++||yF!==$r.debounceRendering)&&((yF=$r.debounceRendering)||uee)(d6)}function d6(){var t,e,n,r,i,a,s,o;for(s0.sort(Xk);t=s0.shift();)t.__d&&(e=s0.length,r=void 0,a=(i=(n=t).__v).__e,s=[],o=[],n.__P&&((r=Zf({},i)).__v=i.__v+1,$r.vnode&&$r.vnode(r),qN(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[a]:null,s,a??zg(i),!!(32&i.__u),o),r.__v=i.__v,r.__.__k[r.__i]=r,mee(s,r,o),r.__e!=a&&hee(r)),s0.length>e&&s0.sort(Xk));d6.__r=0}function pee(t,e,n,r,i,a,s,o,l,u,d){var h,g,m,b,w,x=r&&r.__k||dee,E=e.length;for(n.__d=l,V_e(n,e,x),l=n.__d,h=0;h<E;h++)(m=n.__k[h])!=null&&(g=m.__i===-1?uw:x[m.__i]||uw,m.__i=h,qN(t,m,g,i,a,s,o,l,u,d),b=m.__e,m.ref&&g.ref!=m.ref&&(g.ref&&VN(g.ref,null,m),d.push(m.ref,m.__c||b,m)),w==null&&b!=null&&(w=b),65536&m.__u||g.__k===m.__k?l=gee(m,l,t):typeof m.type=="function"&&m.__d!==void 0?l=m.__d:b&&(l=b.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=l,n.__e=w}function V_e(t,e,n){var r,i,a,s,o,l=e.length,u=n.length,d=u,h=0;for(t.__k=[],r=0;r<l;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(s=r+h,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?y5(null,i,null,null,null):HN(i)?y5(o8,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?y5(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,a=null,(o=i.__i=G_e(i,n,s,d))!==-1&&(d--,(a=n[o])&&(a.__u|=131072)),a==null||a.__v===null?(o==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):o!==s&&(o==s-1?h--:o==s+1?h++:(o>s?h--:h++,i.__u|=65536))):i=t.__k[r]=null;if(d)for(r=0;r<u;r++)(a=n[r])!=null&&(131072&a.__u)==0&&(a.__e==t.__d&&(t.__d=zg(a)),yee(a,a))}function gee(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=gee(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=zg(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function G_e(t,e,n,r){var i=t.key,a=t.type,s=n-1,o=n+1,l=e[n];if(l===null||l&&i==l.key&&a===l.type&&(131072&l.__u)==0)return n;if(r>(l!=null&&(131072&l.__u)==0?1:0))for(;s>=0||o<e.length;){if(s>=0){if((l=e[s])&&(131072&l.__u)==0&&i==l.key&&a===l.type)return s;s--}if(o<e.length){if((l=e[o])&&(131072&l.__u)==0&&i==l.key&&a===l.type)return o;o++}}return-1}function wF(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||q_e.test(e)?n:n+"px"}function fx(t,e,n,r,i){var a;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||wF(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||wF(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?r?n.u=r.u:(n.u=WN,t.addEventListener(e,a?eI:Qk,a)):t.removeEventListener(e,a?eI:Qk,a);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function vF(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=WN++;else if(e.t<n.u)return;return n($r.event?$r.event(e):e)}}}function qN(t,e,n,r,i,a,s,o,l,u){var d,h,g,m,b,w,x,E,I,C,N,A,T,O,H,U,L=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),a=[o=e.__e=n.__e]),(d=$r.__b)&&d(e);e:if(typeof L=="function")try{if(E=e.props,I="prototype"in L&&L.prototype.render,C=(d=L.contextType)&&r[d.__c],N=d?C?C.props.value:d.__:r,n.__c?x=(h=e.__c=n.__c).__=h.__E:(I?e.__c=h=new L(E,N):(e.__c=h=new b5(E,N),h.constructor=L,h.render=Y_e),C&&C.sub(h),h.props=E,h.state||(h.state={}),h.context=N,h.__n=r,g=h.__d=!0,h.__h=[],h._sb=[]),I&&h.__s==null&&(h.__s=h.state),I&&L.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Zf({},h.__s)),Zf(h.__s,L.getDerivedStateFromProps(E,h.__s))),m=h.props,b=h.state,h.__v=e,g)I&&L.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),I&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(I&&L.getDerivedStateFromProps==null&&E!==m&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(E,N),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(E,h.__s,N)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(h.props=E,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(G){G&&(G.__=e)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&s.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(E,h.__s,N),I&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(m,b,w)})}if(h.context=N,h.props=E,h.__P=t,h.__e=!1,T=$r.__r,O=0,I){for(h.state=h.__s,h.__d=!1,T&&T(e),d=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do h.__d=!1,T&&T(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++O<25);h.state=h.__s,h.getChildContext!=null&&(r=Zf(Zf({},r),h.getChildContext())),I&&!g&&h.getSnapshotBeforeUpdate!=null&&(w=h.getSnapshotBeforeUpdate(m,b)),pee(t,HN(U=d!=null&&d.type===o8&&d.key==null?d.props.children:d)?U:[U],e,n,r,i,a,s,o,l,u),h.base=e.__e,e.__u&=-161,h.__h.length&&s.push(h),x&&(h.__E=h.__=null)}catch(G){if(e.__v=null,l||a!=null){for(e.__u|=l?160:32;o&&o.nodeType===8&&o.nextSibling;)o=o.nextSibling;a[a.indexOf(o)]=null,e.__e=o}else e.__e=n.__e,e.__k=n.__k;$r.__e(G,e,n)}else a==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=K_e(n.__e,e,n,r,i,a,s,l,u);(d=$r.diffed)&&d(e)}function mee(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)VN(n[r],n[++r],n[++r]);$r.__c&&$r.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(a){a.call(i)})}catch(a){$r.__e(a,i.__v)}})}function K_e(t,e,n,r,i,a,s,o,l){var u,d,h,g,m,b,w,x=n.props,E=e.props,I=e.type;if(I==="svg"?i="http://www.w3.org/2000/svg":I==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(u=0;u<a.length;u++)if((m=a[u])&&"setAttribute"in m==!!I&&(I?m.localName===I:m.nodeType===3)){t=m,a[u]=null;break}}if(t==null){if(I===null)return document.createTextNode(E);t=document.createElementNS(i,I,E.is&&E),o&&($r.__m&&$r.__m(e,a),o=!1),a=null}if(I===null)x===E||o&&t.data===E||(t.data=E);else{if(a=a&&s8.call(t.childNodes),x=n.props||uw,!o&&a!=null)for(x={},u=0;u<t.attributes.length;u++)x[(m=t.attributes[u]).name]=m.value;for(u in x)if(m=x[u],u!="children"){if(u=="dangerouslySetInnerHTML")h=m;else if(!(u in E)){if(u=="value"&&"defaultValue"in E||u=="checked"&&"defaultChecked"in E)continue;fx(t,u,null,m,i)}}for(u in E)m=E[u],u=="children"?g=m:u=="dangerouslySetInnerHTML"?d=m:u=="value"?b=m:u=="checked"?w=m:o&&typeof m!="function"||x[u]===m||fx(t,u,m,x[u],i);if(d)o||h&&(d.__html===h.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(h&&(t.innerHTML=""),pee(t,HN(g)?g:[g],e,n,r,I==="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,s,a?a[0]:n.__k&&zg(n,0),o,l),a!=null)for(u=a.length;u--;)fee(a[u]);o||(u="value",I==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[u]||I==="progress"&&!b||I==="option"&&b!==x[u])&&fx(t,u,b,x[u],i),u="checked",w!==void 0&&w!==t[u]&&fx(t,u,w,x[u],i))}return t}function VN(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){$r.__e(i,n)}}function yee(t,e,n){var r,i;if($r.unmount&&$r.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||VN(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){$r.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&yee(r[i],e,n||typeof t.type!="function");n||fee(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Y_e(t,e,n){return this.constructor(t,n)}function tI(t,e,n){var r,i,a,s;$r.__&&$r.__(t,e),i=(r=!1)?null:e.__k,a=[],s=[],qN(e,t=e.__k=ur(o8,null,[t]),i||uw,uw,e.namespaceURI,i?null:e.firstChild?s8.call(e.childNodes):null,a,i?i.__e:e.firstChild,r,s),mee(a,t,s)}s8=dee.slice,$r={__e:function(t,e,n,r){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(o){t=o}throw t}},cee=0,b5.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Zf({},this.state),typeof t=="function"&&(t=t(Zf({},n),this.props)),t&&Zf(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),bF(this))},b5.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),bF(this))},b5.prototype.render=o8,s0=[],uee=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Xk=function(t,e){return t.__v.__b-e.__v.__b},d6.__r=0,WN=0,Qk=vF(!1),eI=vF(!0);var dw,ri,dA,xF,nI=0,bee=[],gi=$r,EF=gi.__b,_F=gi.__r,AF=gi.diffed,CF=gi.__c,SF=gi.unmount,kF=gi.__;function GN(t,e){gi.__h&&gi.__h(ri,t,nI||e),nI=0;var n=ri.__H||(ri.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function IF(t){return nI=1,Z_e(vee,t)}function Z_e(t,e,n){var r=GN(dw++,2);if(r.t=t,!r.__c&&(r.__=[vee(void 0,e),function(o){var l=r.__N?r.__N[0]:r.__[0],u=r.t(l,o);l!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ri,!ri.u)){var i=function(o,l,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(g){return!!g.__c});if(d.every(function(g){return!g.__N}))return!a||a.call(this,o,l,u);var h=!1;return d.forEach(function(g){if(g.__N){var m=g.__[0];g.__=g.__N,g.__N=void 0,m!==g.__[0]&&(h=!0)}}),!(!h&&r.__c.props===o)&&(!a||a.call(this,o,l,u))};ri.u=!0;var a=ri.shouldComponentUpdate,s=ri.componentWillUpdate;ri.componentWillUpdate=function(o,l,u){if(this.__e){var d=a;a=void 0,i(o,l,u),a=d}s&&s.call(this,o,l,u)},ri.shouldComponentUpdate=i}return r.__N||r.__}function J_e(t,e){var n=GN(dw++,3);!gi.__s&&wee(n.__H,e)&&(n.__=t,n.i=e,ri.__H.__h.push(n))}function Vht(t,e){var n=GN(dw++,7);return wee(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function X_e(){for(var t;t=bee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(w5),t.__H.__h.forEach(rI),t.__H.__h=[]}catch(e){t.__H.__h=[],gi.__e(e,t.__v)}}gi.__b=function(t){ri=null,EF&&EF(t)},gi.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),kF&&kF(t,e)},gi.__r=function(t){_F&&_F(t),dw=0;var e=(ri=t.__c).__H;e&&(dA===ri?(e.__h=[],ri.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(w5),e.__h.forEach(rI),e.__h=[],dw=0)),dA=ri},gi.diffed=function(t){AF&&AF(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(bee.push(e)!==1&&xF===gi.requestAnimationFrame||((xF=gi.requestAnimationFrame)||Q_e)(X_e)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),dA=ri=null},gi.__c=function(t,e){e.some(function(n){try{n.__h.forEach(w5),n.__h=n.__h.filter(function(r){return!r.__||rI(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],gi.__e(r,n.__v)}}),CF&&CF(t,e)},gi.unmount=function(t){SF&&SF(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{w5(r)}catch(i){e=i}}),n.__H=void 0,e&&gi.__e(e,n.__v))};var TF=typeof requestAnimationFrame=="function";function Q_e(t){var e,n=function(){clearTimeout(r),TF&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);TF&&(e=requestAnimationFrame(n))}function w5(t){var e=ri,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),ri=e}function rI(t){var e=ri;t.__c=t.__(),ri=e}function wee(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function vee(t,e){return typeof e=="function"?e(t):e}const eAe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",tAe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",nAe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class xee{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=see()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&tI(ur("div",null,ur(Eee,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>ur(rAe,Object.assign({},n,{key:e}))))),this.root)}}const Eee=t=>ur("div",{class:J2("-cbwsdk-snackbar-container")},ur("style",null,eAe),ur("div",{class:"-cbwsdk-snackbar"},t.children)),rAe=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=IF(!0),[a,s]=IF(t??!1);J_e(()=>{const l=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{s(!0)},1e4)];return()=>{l.forEach(window.clearTimeout)}});const o=()=>{s(!a)};return ur("div",{class:J2("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",a&&"-cbwsdk-snackbar-instance-expanded")},ur("div",{class:"-cbwsdk-snackbar-instance-header",onClick:o},ur("img",{src:tAe,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",ur("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),ur("div",{class:"-gear-container"},!a&&ur("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),ur("img",{src:nAe,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&ur("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((l,u)=>ur("div",{class:J2("-cbwsdk-snackbar-instance-menu-item",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:l.onClick,key:u},ur("svg",{width:l.svgWidth,height:l.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur("path",{"fill-rule":l.defaultFillRule,"clip-rule":l.defaultClipRule,d:l.path,fill:"#AAAAAA"})),ur("span",{class:J2("-cbwsdk-snackbar-instance-menu-item-info",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},l.info)))))},_ee="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class iAe{constructor(){this.attached=!1,this.snackbar=new xee}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,oee()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:_ee,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const aAe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class sAe{constructor(){this.root=null,this.darkMode=see()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),oee()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(tI(null,this.root),e&&tI(ur(oAe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const oAe=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const a=n?"dark":"light";return ur(Eee,{darkMode:n},ur("div",{class:"-cbwsdk-redirect-dialog"},ur("style",null,aAe),ur("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),ur("div",{class:J2("-cbwsdk-redirect-dialog-box",a)},ur("p",null,t),ur("button",{onClick:r},e))))},lAe="https://keys.coinbase.com/connect",cAe="https://rpc.wallet.coinbase.com",$F="https://www.walletlink.org",uAe="https://go.cb-w.com/walletlink";class NF{constructor(){this.attached=!1,this.redirectDialog=new sAe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(uAe);n.searchParams.append("redirect_url",z_e().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class ed{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=W_e(),this.linkedUpdated=a=>{this.isLinked=a;const s=this.storage.getItem(Jk);if(a&&(this._session.linked=a),this.isUnlinkedErrorState=!1,s){const o=s.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";o[0]!==""&&!a&&this._session.linked&&!l&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(a,s)=>{this.storage.setItem(a,s)},this.chainUpdated=(a,s)=>{this.chainCallbackParams.chainId===a&&this.chainCallbackParams.jsonRpcUrl===s||(this.chainCallbackParams={chainId:a,jsonRpcUrl:s},this.chainCallback&&this.chainCallback(s,Number.parseInt(a,10)))},this.accountUpdated=a=>{this.accountsCallback&&this.accountsCallback([a]),ed.accountRequestCallbackIds.size>0&&(Array.from(ed.accountRequestCallbackIds.values()).forEach(s=>{this.invokeCallback(s,{method:"requestEthereumAccounts",result:[a]})}),ed.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new S_e,this.ui=r,this.ui.attach()}subscribe(){const e=xg.load(this.storage)||xg.create(this.storage),{linkAPIUrl:n}=this,r=new C_e({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new NF:new iAe;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=xg.load(this.storage);e?.id===this._session.id&&ou.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Cc(e.weiValue),data:Y2(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Cc(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Cc(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Cc(e.gasPriceInWei):null,gasLimit:e.gasLimit?Cc(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Cc(e.weiValue),data:Y2(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Cc(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Cc(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Cc(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Cc(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:Y2(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=a0(8),i=a=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,a),n?.()};return new Promise((a,s)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,o=>{if(n?.(),ca(o))return s(new Error(o.errorMessage));a(o)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof NF)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){ed.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),ed.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const a=(i=r?.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:a})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=a0(8);return new Promise((a,s)=>{this.relayEventManager.callbacks.set(i,o=>{if(ca(o))return s(new Error(o.errorMessage));a(o)}),ed.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,a,s){const o={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:a},chainId:s}};let l=null;const u=a0(8),d=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,o.method,h),l?.()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}),new Promise((h,g)=>{this.relayEventManager.callbacks.set(u,m=>{if(l?.(),ca(m))return g(new Error(m.errorMessage));h(m)}),this.publishWeb3RequestEvent(u,o)})}addEthereumChain(e,n,r,i,a,s){const o={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:a,iconUrls:r,nativeCurrency:s}};let l=null;const u=a0(8),d=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,o.method,h),l?.()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}),new Promise((h,g)=>{this.relayEventManager.callbacks.set(u,m=>{if(l?.(),ca(m))return g(new Error(m.errorMessage));h(m)}),this.publishWeb3RequestEvent(u,o)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const a=a0(8),s=o=>{this.publishWeb3RequestCanceledEvent(a),this.handleErrorResponse(a,r.method,o),i?.()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:s,onResetConnection:this.resetAndReload}),new Promise((o,l)=>{this.relayEventManager.callbacks.set(a,u=>{if(i?.(),ca(u)&&u.errorCode)return l(jn.provider.custom({code:u.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(ca(u))return l(new Error(u.errorMessage));o(u)}),this.publishWeb3RequestEvent(a,r)})}}ed.accountRequestCallbackIds=new Set;const PF="DefaultChainId",OF="DefaultJsonRpcUrl";class Aee{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new ou("walletlink",$F),this.callback=e.callback||null;const n=this._storage.getItem(Jk);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>yf(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(OF))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(OF,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(PF,n.toString(10)),Z2(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Yf(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw jn.rpc.invalidParams("Type is required");if(n?.type!=="ERC20")throw jn.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!n?.options)throw jn.rpc.invalidParams("Options are required");if(!n?.options.address)throw jn.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:a,image:s,decimals:o}=n.options,u=await this.initializeRelay().watchAsset(n.type,i,a,o,s,r?.toString());return ca(u)?!1:!!u.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw jn.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw jn.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw jn.rpc.invalidParams("nativeCurrency is a required field");const a=Number.parseInt(i.chainId,16);if(a===this.getChainId())return!1;const s=this.initializeRelay(),{rpcUrls:o=[],blockExplorerUrls:l=[],chainName:u,iconUrls:d=[],nativeCurrency:h}=i,g=await s.addEthereumChain(a.toString(),o,d,l,u,h);if(ca(g))return!1;if(((r=g.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(o[0],a),null;throw jn.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),a=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(ca(a))throw a;const s=a.result;return s.isApproved&&s.rpcUrl.length>0&&this.updateProviderInfo(s.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(a=>yf(a));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(Jk,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Yf(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw jn.rpc.internal("No RPC URL set for chain");return FN(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=yf(e);if(!this._addresses.map(i=>yf(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?yf(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?yf(e.to):null,i=e.value!=null?Xy(e.value):BigInt(0),a=e.data?Zk(e.data):_t.alloc(0),s=e.nonce!=null?Z2(e.nonce):null,o=e.gasPrice!=null?Xy(e.gasPrice):null,l=e.maxFeePerGas!=null?Xy(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?Xy(e.maxPriorityFeePerGas):null,d=e.gas!=null?Xy(e.gas):null,h=e.chainId?Z2(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:a,nonce:s,gasPriceInWei:o,maxFeePerGas:l,maxPriorityFeePerGas:u,gasLimit:d,chainId:h}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw jn.rpc.invalidParams();const a=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:nA(r[0]),signature:nA(r[1]),addPrefix:n==="personal_ecRecover"}});if(ca(a))throw a;return a.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(PF))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Yf(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(ca(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Yf(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw jn.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const a=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:yf(n),message:nA(r),addPrefix:!0,typedDataJson:null}});if(ca(a))throw a;return a.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(ca(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=Zk(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(ca(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(ca(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw jn.rpc.invalidParams();const i=u=>{const d={eth_signTypedData_v1:dx.hashForSignTypedDataLegacy,eth_signTypedData_v3:dx.hashForSignTypedData_v3,eth_signTypedData_v4:dx.hashForSignTypedData_v4,eth_signTypedData:dx.hashForSignTypedData_v4};return Y2(d[n]({data:XEe(u)}),!0)},a=r[n==="eth_signTypedData_v1"?1:0],s=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(a);const l=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:yf(a),message:i(s),typedDataJson:JSON.stringify(s,null,2),addPrefix:!1}});if(ca(l))throw l;return l.result}initializeRelay(){return this._relay||(this._relay=new ed({linkAPIUrl:$F,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const Cee="SignerType",See=new ou("CBWSDK","SignerConfigurator");function dAe(){return See.getItem(Cee)}function fAe(t){See.setItem(Cee,t)}async function hAe(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;gAe(e,n,i).catch(()=>{});const a={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:s}=await e.postRequestAndWaitForResponse(a);return s}function pAe(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new d_e({metadata:n,callback:i,communicator:r});case"walletlink":return new Aee({metadata:n,callback:i})}}async function gAe(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new Aee({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const mAe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,yAe=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(mAe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:bAe,getCrossOriginOpenerPolicy:wAe}=yAe(),RF=420,MF=540,vAe={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:_ee,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},xAe="Popup was blocked. Try again.";let hx=null;function EAe(t){const e=(window.innerWidth-RF)/2+window.screenX,n=(window.innerHeight-MF)/2+window.screenY;AAe(t);function r(){const a=`wallet_${crypto.randomUUID()}`,s=window.open(t,a,`width=${RF}, height=${MF}, left=${e}, top=${n}`);return s?.focus(),s||null}let i=r();if(!i){const a=CAe();return new Promise((s,o)=>{a.presentItem({autoExpand:!0,message:xAe,menuItems:[Object.assign(Object.assign({},vAe),{onClick:()=>{i=r(),i?s(i):o(jn.rpc.internal("Popup window was blocked")),a.clear()}})]})})}return Promise.resolve(i)}function _Ae(t){t&&!t.closed&&t.close()}function AAe(t){const e={sdkName:nee,sdkVersion:rv,origin:window.location.origin,coop:wAe()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function CAe(){if(!hx){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),hx=new xee,hx.attach(t)}return hx}class SAe{constructor({url:e=lAe,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const a=this.onMessage(({requestId:s})=>s===i.id);return this.postMessage(i),await a},this.onMessage=async i=>new Promise((a,s)=>{const o=l=>{if(l.origin!==this.url.origin)return;const u=l.data;i(u)&&(a(u),window.removeEventListener("message",o),this.listeners.delete(o))};window.addEventListener("message",o),this.listeners.set(o,{reject:s})}),this.disconnect=()=>{_Ae(this.popup),this.popup=null,this.listeners.forEach(({reject:i},a)=>{i(jn.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",a)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await EAe(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:rv,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw jn.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function kAe(t){const e=GEe(IAe(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",rv),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function IAe(t){var e;if(typeof t=="string")return{message:t,code:Jr.rpc.internal};if(ca(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?Jr.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class TAe extends dp{}var $Ae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class NAe extends TAe{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,a=$Ae(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=a,this.communicator=new SAe({url:i,metadata:n,preference:a});const s=dAe();s&&(this.signer=this.initSigner(s))}async request(e){try{if(u_e(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,fAe(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return FN(e,cAe);case"net_version":return 1;case"eth_chainId":return Yf(1);default:throw jn.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===Jr.provider.unauthorized&&this.disconnect(),Promise.reject(kAe(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,ou.clearAll(),this.emit("disconnect",jn.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return hAe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return pAe({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function PAe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function OAe(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=c_e(n))!==null&&e!==void 0?e:new NAe(n)}const RAe={options:"all"};function jF(t){var e;new ou("CBWSDK").setItem("VERSION",rv),bAe();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(RAe,(e=t.preference)!==null&&e!==void 0?e:{})};PAe(r.preference);let i=null;return{getProvider:()=>(i||(i=OAe(r)),i)}}let fA={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const MAe={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let y1=t=>t!==void 0?BigInt(t):void 0;function kee(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map((u=>Array.isArray(u)?{address:u[0],storageKeys:u[1]}:u)):r.accessList&&(e=Object.entries(r.accessList).map((u=>({address:u[0],storageKeys:u[1]}))));let i=Number(r.chainId??1),a=Oa(r.data)?r.data:r.data?ni(Uint8Array.from(r.data)):void 0,s=r.nonce?Number(r.nonce):void 0,o={chainId:i,data:a,nonce:s,value:y1(r.value),gas:y1(r.gas??r.gasLimit)},l=Number(n);if(l===0)return{...r,type:fA[l],...o,gasPrice:y1(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===1)return{...r,type:fA[l],...o,gasPrice:y1(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===2)return{...r,type:fA[l],...o,nonce:s,accessList:e,maxFeePerGas:y1(r.maxFeePerGas),maxPriorityFeePerGas:y1(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const jAe=({as:t="div",...e},n)=>p.jsx(t,{...e,ref:n}),DAe=k.forwardRef(jAe),BAe="https://challenges.cloudflare.com/turnstile/v0/api.js",f6="cf-turnstile-script",UAe="cf-turnstile",Iee="onloadTurnstileCallback",h6=t=>!!document.getElementById(t),LAe=({render:t="explicit",onLoadCallbackName:e=Iee,scriptOptions:{nonce:n="",defer:r=!0,async:i=!0,id:a="",appendTo:s,onError:o,crossOrigin:l=""}={}})=>{const u=a||f6;if(h6(u))return;const d=document.createElement("script");if(d.id=u,d.src=`${BAe}?onload=${e}&render=${t}`,document.querySelector(`script[src="${d.src}"]`))return;d.defer=!!r,d.async=!!i,n&&(d.nonce=n),l&&(d.crossOrigin=l),o&&(d.onerror=o),(s==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(d)},kc={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function FAe(t){let e;return t!=="invisible"&&(e=t),e}function zAe(t=f6){const[e,n]=k.useState(!1);return k.useEffect(()=>{const r=()=>{h6(t)&&n(!0)},i=new MutationObserver(r);return i.observe(document,{childList:!0,subtree:!0}),r(),()=>{i.disconnect()}},[t]),e}const Tee=k.forwardRef((t,e)=>{const{scriptOptions:n,options:r={},siteKey:i,onWidgetLoad:a,onSuccess:s,onExpire:o,onError:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:h,onLoadScript:g,id:m,style:b,as:w="div",injectScript:x=!0,...E}=t,I=r.size??"normal",[C,N]=k.useState(r.execution==="execute"?kc.invisible:r.appearance==="interaction-only"?kc.interactionOnly:kc[I]),A=k.useRef(null),T=k.useRef(!1),[O,H]=k.useState(),[U,L]=k.useState(!1),G=m??UAe,R=x?n?.id||`${f6}__${G}`:n?.id||f6,F=zAe(R),_=n?.onLoadCallbackName?`${n.onLoadCallbackName}__${G}`:`${Iee}__${G}`,S=k.useMemo(()=>({sitekey:i,action:r.action,cData:r.cData,callback:s,"error-callback":l,"expired-callback":o,"before-interactive-callback":u,"after-interactive-callback":d,"unsupported-callback":h,theme:r.theme??"auto",language:r.language??"auto",tabindex:r.tabIndex,"response-field":r.responseField,"response-field-name":r.responseFieldName,size:FAe(I),retry:r.retry??"auto","retry-interval":r.retryInterval??8e3,"refresh-expired":r.refreshExpired??"auto",execution:r.execution??"render",appearance:r.appearance??"always"}),[i,r,s,l,o,I,u,d,h]),$=k.useMemo(()=>JSON.stringify(S),[S]);return k.useImperativeHandle(e,()=>{if(typeof window>"u"||!F)return;const{turnstile:D}=window;return{getResponse(){if(!D?.getResponse||!O){console.warn("Turnstile has not been loaded");return}return D.getResponse(O)},reset(){if(!D?.reset||!O){console.warn("Turnstile has not been loaded");return}r.execution==="execute"&&N(kc.invisible);try{D.reset(O)}catch(z){console.warn(`Failed to reset Turnstile widget ${O}`,z)}},remove(){if(!D?.remove||!O){console.warn("Turnstile has not been loaded");return}H(""),N(kc.invisible),D.remove(O)},render(){if(!D?.render||!A.current||O){console.warn("Turnstile has not been loaded or widget already rendered");return}const z=D.render(A.current,S);return H(z),r.execution!=="execute"&&N(kc[I]),z},execute(){if(r.execution==="execute"){if(!D?.execute||!A.current||!O){console.warn("Turnstile has not been loaded or widget has not been rendered");return}D.execute(A.current,S),N(kc[I])}},isExpired(){if(!D?.isExpired||!O){console.warn("Turnstile has not been loaded");return}return D.isExpired(O)}}},[F,O,r.execution,I,S,A]),k.useEffect(()=>(window[_]=()=>L(!0),()=>{delete window[_]}),[_]),k.useEffect(()=>{x&&!U&&LAe({onLoadCallbackName:_,scriptOptions:{...n,id:R}})},[x,U,_,n,R]),k.useEffect(()=>{F&&!U&&window.turnstile&&L(!0)},[U,F]),k.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!F||!A.current||!U||T.current)return;const D=window.turnstile.render(A.current,S);H(D),T.current=!0},[F,i,S,T,U]),k.useEffect(()=>{if(window.turnstile&&A.current&&O){h6(O)&&window.turnstile.remove(O);const D=window.turnstile.render(A.current,S);H(D),T.current=!0}},[$,i]),k.useEffect(()=>{if(window.turnstile&&O&&h6(O))return a?.(O),()=>{window.turnstile.remove(O)}},[O,a]),k.useEffect(()=>{N(r.execution==="execute"?kc.invisible:S.appearance==="interaction-only"?kc.interactionOnly:kc[I])},[r.execution,I,S.appearance]),k.useEffect(()=>{!F||typeof g!="function"||g()},[F,g]),p.jsx(DAe,{ref:A,as:w,id:G,style:{...C,...b},...E})});Tee.displayName="Turnstile";var Na=function(){return Na=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Na.apply(this,arguments)};function Wg(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Sr="-ms-",X2="-moz-",Yn="-webkit-",$ee="comm",l8="rule",KN="decl",WAe="@import",Nee="@keyframes",HAe="@layer",Pee=Math.abs,YN=String.fromCharCode,iI=Object.assign;function qAe(t,e){return Hi(t,0)^45?(((e<<2^Hi(t,0))<<2^Hi(t,1))<<2^Hi(t,2))<<2^Hi(t,3):0}function Oee(t){return t.trim()}function Zu(t,e){return(t=e.exec(t))?t[0]:t}function pn(t,e,n){return t.replace(e,n)}function v5(t,e,n){return t.indexOf(e,n)}function Hi(t,e){return t.charCodeAt(e)|0}function Hg(t,e,n){return t.slice(e,n)}function Kc(t){return t.length}function Ree(t){return t.length}function P2(t,e){return e.push(t),t}function VAe(t,e){return t.map(e).join("")}function DF(t,e){return t.filter(function(n){return!Zu(n,e)})}var c8=1,qg=1,Mee=0,ul=0,wi=0,Am="";function u8(t,e,n,r,i,a,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:c8,column:qg,length:s,return:"",siblings:o}}function Rf(t,e){return iI(u8("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function b1(t){for(;t.root;)t=Rf(t.root,{children:[t]});P2(t,t.siblings)}function GAe(){return wi}function KAe(){return wi=ul>0?Hi(Am,--ul):0,qg--,wi===10&&(qg=1,c8--),wi}function Yl(){return wi=ul<Mee?Hi(Am,ul++):0,qg++,wi===10&&(qg=1,c8++),wi}function $0(){return Hi(Am,ul)}function x5(){return ul}function d8(t,e){return Hg(Am,t,e)}function aI(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YAe(t){return c8=qg=1,Mee=Kc(Am=t),ul=0,[]}function ZAe(t){return Am="",t}function hA(t){return Oee(d8(ul-1,sI(t===91?t+2:t===40?t+1:t)))}function JAe(t){for(;(wi=$0())&&wi<33;)Yl();return aI(t)>2||aI(wi)>3?"":" "}function XAe(t,e){for(;--e&&Yl()&&!(wi<48||wi>102||wi>57&&wi<65||wi>70&&wi<97););return d8(t,x5()+(e<6&&$0()==32&&Yl()==32))}function sI(t){for(;Yl();)switch(wi){case t:return ul;case 34:case 39:t!==34&&t!==39&&sI(wi);break;case 40:t===41&&sI(t);break;case 92:Yl();break}return ul}function QAe(t,e){for(;Yl()&&t+wi!==57;)if(t+wi===84&&$0()===47)break;return"/*"+d8(e,ul-1)+"*"+YN(t===47?t:Yl())}function eCe(t){for(;!aI($0());)Yl();return d8(t,ul)}function tCe(t){return ZAe(E5("",null,null,null,[""],t=YAe(t),0,[0],t))}function E5(t,e,n,r,i,a,s,o,l){for(var u=0,d=0,h=s,g=0,m=0,b=0,w=1,x=1,E=1,I=0,C="",N=i,A=a,T=r,O=C;x;)switch(b=I,I=Yl()){case 40:if(b!=108&&Hi(O,h-1)==58){v5(O+=pn(hA(I),"&","&\f"),"&\f",Pee(u?o[u-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:O+=hA(I);break;case 9:case 10:case 13:case 32:O+=JAe(b);break;case 92:O+=XAe(x5()-1,7);continue;case 47:switch($0()){case 42:case 47:P2(nCe(QAe(Yl(),x5()),e,n,l),l);break;default:O+="/"}break;case 123*w:o[u++]=Kc(O)*E;case 125*w:case 59:case 0:switch(I){case 0:case 125:x=0;case 59+d:E==-1&&(O=pn(O,/\f/g,"")),m>0&&Kc(O)-h&&P2(m>32?UF(O+";",r,n,h-1,l):UF(pn(O," ","")+";",r,n,h-2,l),l);break;case 59:O+=";";default:if(P2(T=BF(O,e,n,u,d,i,o,C,N=[],A=[],h,a),a),I===123)if(d===0)E5(O,e,T,T,N,a,h,o,A);else switch(g===99&&Hi(O,3)===110?100:g){case 100:case 108:case 109:case 115:E5(t,T,T,r&&P2(BF(t,T,T,0,0,i,o,C,i,N=[],h,A),A),i,A,h,o,r?N:A);break;default:E5(O,T,T,T,[""],A,0,o,A)}}u=d=m=0,w=E=1,C=O="",h=s;break;case 58:h=1+Kc(O),m=b;default:if(w<1){if(I==123)--w;else if(I==125&&w++==0&&KAe()==125)continue}switch(O+=YN(I),I*w){case 38:E=d>0?1:(O+="\f",-1);break;case 44:o[u++]=(Kc(O)-1)*E,E=1;break;case 64:$0()===45&&(O+=hA(Yl())),g=$0(),d=h=Kc(C=O+=eCe(x5())),I++;break;case 45:b===45&&Kc(O)==2&&(w=0)}}return a}function BF(t,e,n,r,i,a,s,o,l,u,d,h){for(var g=i-1,m=i===0?a:[""],b=Ree(m),w=0,x=0,E=0;w<r;++w)for(var I=0,C=Hg(t,g+1,g=Pee(x=s[w])),N=t;I<b;++I)(N=Oee(x>0?m[I]+" "+C:pn(C,/&\f/g,m[I])))&&(l[E++]=N);return u8(t,e,n,i===0?l8:o,l,u,d,h)}function nCe(t,e,n,r){return u8(t,e,n,$ee,YN(GAe()),Hg(t,2,-2),0,r)}function UF(t,e,n,r,i){return u8(t,e,n,KN,Hg(t,0,r),Hg(t,r+1,-1),r,i)}function jee(t,e,n){switch(qAe(t,e)){case 5103:return Yn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yn+t+t;case 4789:return X2+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Yn+t+X2+t+Sr+t+t;case 5936:switch(Hi(t,e+11)){case 114:return Yn+t+Sr+pn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Yn+t+Sr+pn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Yn+t+Sr+pn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Yn+t+Sr+t+t;case 6165:return Yn+t+Sr+"flex-"+t+t;case 5187:return Yn+t+pn(t,/(\w+).+(:[^]+)/,Yn+"box-$1$2"+Sr+"flex-$1$2")+t;case 5443:return Yn+t+Sr+"flex-item-"+pn(t,/flex-|-self/g,"")+(Zu(t,/flex-|baseline/)?"":Sr+"grid-row-"+pn(t,/flex-|-self/g,""))+t;case 4675:return Yn+t+Sr+"flex-line-pack"+pn(t,/align-content|flex-|-self/g,"")+t;case 5548:return Yn+t+Sr+pn(t,"shrink","negative")+t;case 5292:return Yn+t+Sr+pn(t,"basis","preferred-size")+t;case 6060:return Yn+"box-"+pn(t,"-grow","")+Yn+t+Sr+pn(t,"grow","positive")+t;case 4554:return Yn+pn(t,/([^-])(transform)/g,"$1"+Yn+"$2")+t;case 6187:return pn(pn(pn(t,/(zoom-|grab)/,Yn+"$1"),/(image-set)/,Yn+"$1"),t,"")+t;case 5495:case 3959:return pn(t,/(image-set\([^]*)/,Yn+"$1$`$1");case 4968:return pn(pn(t,/(.+:)(flex-)?(.*)/,Yn+"box-pack:$3"+Sr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yn+t+t;case 4200:if(!Zu(t,/flex-|baseline/))return Sr+"grid-column-align"+Hg(t,e)+t;break;case 2592:case 3360:return Sr+pn(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Zu(r.props,/grid-\w+-end/)})?~v5(t+(n=n[e].value),"span",0)?t:Sr+pn(t,"-start","")+t+Sr+"grid-row-span:"+(~v5(n,"span",0)?Zu(n,/\d+/):+Zu(n,/\d+/)-+Zu(t,/\d+/))+";":Sr+pn(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Zu(r.props,/grid-\w+-start/)})?t:Sr+pn(pn(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return pn(t,/(.+)-inline(.+)/,Yn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kc(t)-1-e>6)switch(Hi(t,e+1)){case 109:if(Hi(t,e+4)!==45)break;case 102:return pn(t,/(.+:)(.+)-([^]+)/,"$1"+Yn+"$2-$3$1"+X2+(Hi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~v5(t,"stretch",0)?jee(pn(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return pn(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,a,s,o,l,u){return Sr+i+":"+a+u+(s?Sr+i+"-span:"+(o?l:+l-+a)+u:"")+t});case 4949:if(Hi(t,e+6)===121)return pn(t,":",":"+Yn)+t;break;case 6444:switch(Hi(t,Hi(t,14)===45?18:11)){case 120:return pn(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Yn+(Hi(t,14)===45?"inline-":"")+"box$3$1"+Yn+"$2$3$1"+Sr+"$2box$3")+t;case 100:return pn(t,":",":"+Sr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return pn(t,"scroll-","scroll-snap-")+t}return t}function p6(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function rCe(t,e,n,r){switch(t.type){case HAe:if(t.children.length)break;case WAe:case KN:return t.return=t.return||t.value;case $ee:return"";case Nee:return t.return=t.value+"{"+p6(t.children,r)+"}";case l8:if(!Kc(t.value=t.props.join(",")))return""}return Kc(n=p6(t.children,r))?t.return=t.value+"{"+n+"}":""}function iCe(t){var e=Ree(t);return function(n,r,i,a){for(var s="",o=0;o<e;o++)s+=t[o](n,r,i,a)||"";return s}}function aCe(t){return function(e){e.root||(e=e.return)&&t(e)}}function sCe(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case KN:t.return=jee(t.value,t.length,n);return;case Nee:return p6([Rf(t,{value:pn(t.value,"@","@"+Yn)})],r);case l8:if(t.length)return VAe(n=t.props,function(i){switch(Zu(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":b1(Rf(t,{props:[pn(i,/:(read-\w+)/,":"+X2+"$1")]})),b1(Rf(t,{props:[i]})),iI(t,{props:DF(n,r)});break;case"::placeholder":b1(Rf(t,{props:[pn(i,/:(plac\w+)/,":"+Yn+"input-$1")]})),b1(Rf(t,{props:[pn(i,/:(plac\w+)/,":"+X2+"$1")]})),b1(Rf(t,{props:[pn(i,/:(plac\w+)/,Sr+"input-$1")]})),b1(Rf(t,{props:[i]})),iI(t,{props:DF(n,r)});break}return""})}}var oCe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Js={},Vg=typeof Er<"u"&&Js!==void 0&&(Js.REACT_APP_SC_ATTR||Js.SC_ATTR)||"data-styled",Dee="active",Bee="data-styled-version",f8="6.1.19",ZN=`/*!sc*/
`,g6=typeof window<"u"&&typeof document<"u",lCe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof Er<"u"&&Js!==void 0&&Js.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Js.REACT_APP_SC_DISABLE_SPEEDY!==""?Js.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Js.REACT_APP_SC_DISABLE_SPEEDY:typeof Er<"u"&&Js!==void 0&&Js.SC_DISABLE_SPEEDY!==void 0&&Js.SC_DISABLE_SPEEDY!==""&&Js.SC_DISABLE_SPEEDY!=="false"&&Js.SC_DISABLE_SPEEDY),cCe={},h8=Object.freeze([]),Gg=Object.freeze({});function Uee(t,e,n){return n===void 0&&(n=Gg),t.theme!==n.theme&&t.theme||e||n.theme}var Lee=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),uCe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,dCe=/(^-|-$)/g;function LF(t){return t.replace(uCe,"-").replace(dCe,"")}var fCe=/(a)(d)/gi,px=52,FF=function(t){return String.fromCharCode(t+(t>25?39:97))};function oI(t){var e,n="";for(e=Math.abs(t);e>px;e=e/px|0)n=FF(e%px)+n;return(FF(e%px)+n).replace(fCe,"$1-$2")}var pA,Fee=5381,tg=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},zee=function(t){return tg(Fee,t)};function JN(t){return oI(zee(t)>>>0)}function hCe(t){return t.displayName||t.name||"Component"}function gA(t){return typeof t=="string"&&!0}var Wee=typeof Symbol=="function"&&Symbol.for,Hee=Wee?Symbol.for("react.memo"):60115,pCe=Wee?Symbol.for("react.forward_ref"):60112,gCe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mCe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},qee={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yCe=((pA={})[pCe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pA[Hee]=qee,pA);function zF(t){return("type"in(e=t)&&e.type.$$typeof)===Hee?qee:"$$typeof"in t?yCe[t.$$typeof]:gCe;var e}var bCe=Object.defineProperty,wCe=Object.getOwnPropertyNames,WF=Object.getOwnPropertySymbols,vCe=Object.getOwnPropertyDescriptor,xCe=Object.getPrototypeOf,HF=Object.prototype;function Vee(t,e,n){if(typeof e!="string"){if(HF){var r=xCe(e);r&&r!==HF&&Vee(t,r,n)}var i=wCe(e);WF&&(i=i.concat(WF(e)));for(var a=zF(t),s=zF(e),o=0;o<i.length;++o){var l=i[o];if(!(l in mCe||n&&n[l]||s&&l in s||a&&l in a)){var u=vCe(e,l);try{bCe(t,l,u)}catch{}}}}return t}function Kg(t){return typeof t=="function"}function XN(t){return typeof t=="object"&&"styledComponentId"in t}function b0(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function m6(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function fw(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function lI(t,e,n){if(n===void 0&&(n=!1),!n&&!fw(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=lI(t[r],e[r]);else if(fw(e))for(var r in e)t[r]=lI(t[r],e[r]);return t}function QN(t,e){Object.defineProperty(t,"toString",{value:e})}function iv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var ECe=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,a=i;e>=a;)if((a<<=1)<0)throw iv(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var s=i;s<a;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(o,n[s])&&(this.groupSizes[e]++,o++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var a=r;a<i;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),a=i+r,s=i;s<a;s++)n+="".concat(this.tag.getRule(s)).concat(ZN);return n},t})(),_5=new Map,y6=new Map,A5=1,gx=function(t){if(_5.has(t))return _5.get(t);for(;y6.has(A5);)A5++;var e=A5++;return _5.set(t,e),y6.set(e,t),e},_Ce=function(t,e){A5=e+1,_5.set(t,e),y6.set(e,t)},ACe="style[".concat(Vg,"][").concat(Bee,'="').concat(f8,'"]'),CCe=new RegExp("^".concat(Vg,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),SCe=function(t,e,n){for(var r,i=n.split(","),a=0,s=i.length;a<s;a++)(r=i[a])&&t.registerName(e,r)},kCe=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(ZN),i=[],a=0,s=r.length;a<s;a++){var o=r[a].trim();if(o){var l=o.match(CCe);if(l){var u=0|parseInt(l[1],10),d=l[2];u!==0&&(_Ce(d,u),SCe(t,d,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(o)}}},qF=function(t){for(var e=document.querySelectorAll(ACe),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Vg)!==Dee&&(kCe(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function ICe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Gee=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=(function(o){var l=Array.from(o.querySelectorAll("style[".concat(Vg,"]")));return l[l.length-1]})(n),a=i!==void 0?i.nextSibling:null;r.setAttribute(Vg,Dee),r.setAttribute(Bee,f8);var s=ICe();return s&&r.setAttribute("nonce",s),n.insertBefore(r,a),r},TCe=(function(){function t(e){this.element=Gee(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,a=r.length;i<a;i++){var s=r[i];if(s.ownerNode===n)return s}throw iv(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),$Ce=(function(){function t(e){this.element=Gee(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),NCe=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),VF=g6,PCe={isServer:!g6,useCSSOMInjection:!lCe},b6=(function(){function t(e,n,r){e===void 0&&(e=Gg),n===void 0&&(n={});var i=this;this.options=Na(Na({},PCe),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&g6&&VF&&(VF=!1,qF(this)),QN(this,function(){return(function(a){for(var s=a.getTag(),o=s.length,l="",u=function(h){var g=(function(E){return y6.get(E)})(h);if(g===void 0)return"continue";var m=a.names.get(g),b=s.getGroup(h);if(m===void 0||!m.size||b.length===0)return"continue";var w="".concat(Vg,".g").concat(h,'[id="').concat(g,'"]'),x="";m!==void 0&&m.forEach(function(E){E.length>0&&(x+="".concat(E,","))}),l+="".concat(b).concat(w,'{content:"').concat(x,'"}').concat(ZN)},d=0;d<o;d++)u(d);return l})(i)})}return t.registerId=function(e){return gx(e)},t.prototype.rehydrate=function(){!this.server&&g6&&qF(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Na(Na({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new NCe(i):r?new TCe(i):new $Ce(i)})(this.options),new ECe(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(gx(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(gx(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(gx(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),OCe=/&/g,RCe=/^\s*\/\/.*$/gm;function Kee(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Kee(n.children,e)),n})}function MCe(t){var e,n,r,i=Gg,a=i.options,s=a===void 0?Gg:a,o=i.plugins,l=o===void 0?h8:o,u=function(g,m,b){return b.startsWith(n)&&b.endsWith(n)&&b.replaceAll(n,"").length>0?".".concat(e):g},d=l.slice();d.push(function(g){g.type===l8&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(OCe,n).replace(r,u))}),s.prefix&&d.push(sCe),d.push(rCe);var h=function(g,m,b,w){m===void 0&&(m=""),b===void 0&&(b=""),w===void 0&&(w="&"),e=w,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var x=g.replace(RCe,""),E=tCe(b||m?"".concat(b," ").concat(m," { ").concat(x," }"):x);s.namespace&&(E=Kee(E,s.namespace));var I=[];return p6(E,iCe(d.concat(aCe(function(C){return I.push(C)})))),I};return h.hash=l.length?l.reduce(function(g,m){return m.name||iv(15),tg(g,m.name)},Fee).toString():"",h}var jCe=new b6,cI=MCe(),Yee=at.createContext({shouldForwardProp:void 0,styleSheet:jCe,stylis:cI});Yee.Consumer;at.createContext(void 0);function uI(){return k.useContext(Yee)}var Zee=(function(){function t(e,n){var r=this;this.inject=function(i,a){a===void 0&&(a=cI);var s=r.name+a.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,a(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,QN(this,function(){throw iv(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=cI),this.name+e.hash},t})(),DCe=function(t){return t>="A"&&t<="Z"};function GF(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;DCe(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Jee=function(t){return t==null||t===!1||t===""},Xee=function(t){var e,n,r=[];for(var i in t){var a=t[i];t.hasOwnProperty(i)&&!Jee(a)&&(Array.isArray(a)&&a.isCss||Kg(a)?r.push("".concat(GF(i),":"),a,";"):fw(a)?r.push.apply(r,Wg(Wg(["".concat(i," {")],Xee(a),!1),["}"],!1)):r.push("".concat(GF(i),": ").concat((e=i,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in oCe||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function th(t,e,n,r){if(Jee(t))return[];if(XN(t))return[".".concat(t.styledComponentId)];if(Kg(t)){if(!Kg(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var i=t(e);return th(i,e,n,r)}var a;return t instanceof Zee?n?(t.inject(n,r),[t.getName(r)]):[t]:fw(t)?Xee(t):Array.isArray(t)?Array.prototype.concat.apply(h8,t.map(function(s){return th(s,e,n,r)})):[t.toString()]}function Qee(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Kg(n)&&!XN(n))return!1}return!0}var BCe=zee(f8),UCe=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Qee(e),this.componentId=n,this.baseHash=tg(BCe,n),this.baseStyle=r,b6.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=b0(i,this.staticRulesId);else{var a=m6(th(this.rules,e,n,r)),s=oI(tg(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,s)){var o=r(a,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,o)}i=b0(i,s),this.staticRulesId=s}else{for(var l=tg(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var h=this.rules[d];if(typeof h=="string")u+=h;else if(h){var g=m6(th(h,e,n,r));l=tg(l,g+d),u+=g}}if(u){var m=oI(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),i=b0(i,m)}}return i},t})(),eP=at.createContext(void 0);eP.Consumer;var mA={};function LCe(t,e,n){var r=XN(t),i=t,a=!gA(t),s=e.attrs,o=s===void 0?h8:s,l=e.componentId,u=l===void 0?(function(N,A){var T=typeof N!="string"?"sc":LF(N);mA[T]=(mA[T]||0)+1;var O="".concat(T,"-").concat(JN(f8+T+mA[T]));return A?"".concat(A,"-").concat(O):O})(e.displayName,e.parentComponentId):l,d=e.displayName,h=d===void 0?(function(N){return gA(N)?"styled.".concat(N):"Styled(".concat(hCe(N),")")})(t):d,g=e.displayName&&e.componentId?"".concat(LF(e.displayName),"-").concat(e.componentId):e.componentId||u,m=r&&i.attrs?i.attrs.concat(o).filter(Boolean):o,b=e.shouldForwardProp;if(r&&i.shouldForwardProp){var w=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;b=function(N,A){return w(N,A)&&x(N,A)}}else b=w}var E=new UCe(n,g,r?i.componentStyle:void 0);function I(N,A){return(function(T,O,H){var U=T.attrs,L=T.componentStyle,G=T.defaultProps,R=T.foldedComponentIds,F=T.styledComponentId,_=T.target,S=at.useContext(eP),$=uI(),D=T.shouldForwardProp||$.shouldForwardProp,z=Uee(O,S,G)||Gg,Y=(function(K,se,le){for(var de,he=Na(Na({},se),{className:void 0,theme:le}),Ce=0;Ce<K.length;Ce+=1){var ke=Kg(de=K[Ce])?de(he):de;for(var Ie in ke)he[Ie]=Ie==="className"?b0(he[Ie],ke[Ie]):Ie==="style"?Na(Na({},he[Ie]),ke[Ie]):ke[Ie]}return se.className&&(he.className=b0(he.className,se.className)),he})(U,O,z),J=Y.as||_,V={};for(var M in Y)Y[M]===void 0||M[0]==="$"||M==="as"||M==="theme"&&Y.theme===z||(M==="forwardedAs"?V.as=Y.forwardedAs:D&&!D(M,J)||(V[M]=Y[M]));var Q=(function(K,se){var le=uI(),de=K.generateAndInjectStyles(se,le.styleSheet,le.stylis);return de})(L,Y),ne=b0(R,F);return Q&&(ne+=" "+Q),Y.className&&(ne+=" "+Y.className),V[gA(J)&&!Lee.has(J)?"class":"className"]=ne,H&&(V.ref=H),k.createElement(J,V)})(C,N,A)}I.displayName=h;var C=at.forwardRef(I);return C.attrs=m,C.componentStyle=E,C.displayName=h,C.shouldForwardProp=b,C.foldedComponentIds=r?b0(i.foldedComponentIds,i.styledComponentId):"",C.styledComponentId=g,C.target=r?i.target:t,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(N){this._foldedDefaultProps=r?(function(A){for(var T=[],O=1;O<arguments.length;O++)T[O-1]=arguments[O];for(var H=0,U=T;H<U.length;H++)lI(A,U[H],!0);return A})({},i.defaultProps,N):N}}),QN(C,function(){return".".concat(C.styledComponentId)}),a&&Vee(C,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function KF(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var YF=function(t){return Object.assign(t,{isCss:!0})};function ji(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kg(t)||fw(t))return YF(th(KF(h8,Wg([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?th(r):YF(th(KF(r,e)))}function dI(t,e,n){if(n===void 0&&(n=Gg),!e)throw iv(1,e);var r=function(i){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return t(e,n,ji.apply(void 0,Wg([i],a,!1)))};return r.attrs=function(i){return dI(t,e,Na(Na({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return dI(t,e,Na(Na({},n),i))},r}var ete=function(t){return dI(LCe,t)},ue=ete;Lee.forEach(function(t){ue[t]=ete(t)});var FCe=(function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=Qee(e),b6.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var a=i(m6(th(this.rules,n,r,i)),""),s=this.componentId+e;r.insertRules(s,s,a)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&b6.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t})();function zCe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=ji.apply(void 0,Wg([t],e,!1)),i="sc-global-".concat(JN(JSON.stringify(r))),a=new FCe(r,i),s=function(l){var u=uI(),d=at.useContext(eP),h=at.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&o(h,l,u.styleSheet,d,u.stylis),at.useLayoutEffect(function(){if(!u.styleSheet.server)return o(h,l,u.styleSheet,d,u.stylis),function(){return a.removeStyles(h,u.styleSheet)}},[h,l,u.styleSheet,d,u.stylis]),null};function o(l,u,d,h,g){if(a.isStatic)a.renderStyles(l,cCe,d,g);else{var m=Na(Na({},u),{theme:Uee(u,h,s.defaultProps)});a.renderStyles(l,m,d,g)}}return at.memo(s)}function tte(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=m6(ji.apply(void 0,Wg([t],e,!1))),i=JN(r);return new Zee(i,r)}function w6(t){"@babel/helpers - typeof";return w6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w6(t)}var WCe=/^\s+/,HCe=/\s+$/;function kt(t,e){if(t=t||"",e=e||{},t instanceof kt)return t;if(!(this instanceof kt))return new kt(t,e);var n=qCe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}kt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,a,s,o;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*s+.0722*o},setAlpha:function(e){return this._a=nte(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=JF(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=JF(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=ZF(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=ZF(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return XF(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return YCe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Mr(this._r,255)*100)+"%",g:Math.round(Mr(this._g,255)*100)+"%",b:Math.round(Mr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Mr(this._r,255)*100)+"%, "+Math.round(Mr(this._g,255)*100)+"%, "+Math.round(Mr(this._b,255)*100)+"%)":"rgba("+Math.round(Mr(this._r,255)*100)+"%, "+Math.round(Mr(this._g,255)*100)+"%, "+Math.round(Mr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:oSe[XF(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+QF(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=kt(e);r="#"+QF(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,a=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return kt(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(QCe,arguments)},brighten:function(){return this._applyModification(eSe,arguments)},darken:function(){return this._applyModification(tSe,arguments)},desaturate:function(){return this._applyModification(ZCe,arguments)},saturate:function(){return this._applyModification(JCe,arguments)},greyscale:function(){return this._applyModification(XCe,arguments)},spin:function(){return this._applyModification(nSe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(aSe,arguments)},complement:function(){return this._applyCombination(rSe,arguments)},monochromatic:function(){return this._applyCombination(sSe,arguments)},splitcomplement:function(){return this._applyCombination(iSe,arguments)},triad:function(){return this._applyCombination(ez,[3])},tetrad:function(){return this._applyCombination(ez,[4])}};kt.fromRatio=function(t,e){if(w6(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=O2(t[r]));t=n}return kt(t,e)};function qCe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,a=null,s=!1,o=!1;return typeof t=="string"&&(t=dSe(t)),w6(t)=="object"&&(Du(t.r)&&Du(t.g)&&Du(t.b)?(e=VCe(t.r,t.g,t.b),s=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Du(t.h)&&Du(t.s)&&Du(t.v)?(r=O2(t.s),i=O2(t.v),e=KCe(t.h,r,i),s=!0,o="hsv"):Du(t.h)&&Du(t.s)&&Du(t.l)&&(r=O2(t.s),a=O2(t.l),e=GCe(t.h,r,a),s=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=nte(n),{ok:s,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function VCe(t,e,n){return{r:Mr(t,255)*255,g:Mr(e,255)*255,b:Mr(n,255)*255}}function ZF(t,e,n){t=Mr(t,255),e=Mr(e,255),n=Mr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a,s,o=(r+i)/2;if(r==i)a=s=0;else{var l=r-i;switch(s=o>.5?l/(2-r-i):l/(r+i),r){case t:a=(e-n)/l+(e<n?6:0);break;case e:a=(n-t)/l+2;break;case n:a=(t-e)/l+4;break}a/=6}return{h:a,s,l:o}}function GCe(t,e,n){var r,i,a;t=Mr(t,360),e=Mr(e,100),n=Mr(n,100);function s(u,d,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(d-u)*6*h:h<1/2?d:h<2/3?u+(d-u)*(2/3-h)*6:u}if(e===0)r=i=a=n;else{var o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;r=s(l,o,t+1/3),i=s(l,o,t),a=s(l,o,t-1/3)}return{r:r*255,g:i*255,b:a*255}}function JF(t,e,n){t=Mr(t,255),e=Mr(e,255),n=Mr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a,s,o=r,l=r-i;if(s=r===0?0:l/r,r==i)a=0;else{switch(r){case t:a=(e-n)/l+(e<n?6:0);break;case e:a=(n-t)/l+2;break;case n:a=(t-e)/l+4;break}a/=6}return{h:a,s,v:o}}function KCe(t,e,n){t=Mr(t,360)*6,e=Mr(e,100),n=Mr(n,100);var r=Math.floor(t),i=t-r,a=n*(1-e),s=n*(1-i*e),o=n*(1-(1-i)*e),l=r%6,u=[n,s,a,a,o,n][l],d=[o,n,n,s,a,a][l],h=[a,a,o,n,n,s][l];return{r:u*255,g:d*255,b:h*255}}function XF(t,e,n,r){var i=[Gl(Math.round(t).toString(16)),Gl(Math.round(e).toString(16)),Gl(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function YCe(t,e,n,r,i){var a=[Gl(Math.round(t).toString(16)),Gl(Math.round(e).toString(16)),Gl(Math.round(n).toString(16)),Gl(rte(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function QF(t,e,n,r){var i=[Gl(rte(r)),Gl(Math.round(t).toString(16)),Gl(Math.round(e).toString(16)),Gl(Math.round(n).toString(16))];return i.join("")}kt.equals=function(t,e){return!t||!e?!1:kt(t).toRgbString()==kt(e).toRgbString()};kt.random=function(){return kt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function ZCe(t,e){e=e===0?0:e||10;var n=kt(t).toHsl();return n.s-=e/100,n.s=p8(n.s),kt(n)}function JCe(t,e){e=e===0?0:e||10;var n=kt(t).toHsl();return n.s+=e/100,n.s=p8(n.s),kt(n)}function XCe(t){return kt(t).desaturate(100)}function QCe(t,e){e=e===0?0:e||10;var n=kt(t).toHsl();return n.l+=e/100,n.l=p8(n.l),kt(n)}function eSe(t,e){e=e===0?0:e||10;var n=kt(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),kt(n)}function tSe(t,e){e=e===0?0:e||10;var n=kt(t).toHsl();return n.l-=e/100,n.l=p8(n.l),kt(n)}function nSe(t,e){var n=kt(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,kt(n)}function rSe(t){var e=kt(t).toHsl();return e.h=(e.h+180)%360,kt(e)}function ez(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=kt(t).toHsl(),r=[kt(t)],i=360/e,a=1;a<e;a++)r.push(kt({h:(n.h+a*i)%360,s:n.s,l:n.l}));return r}function iSe(t){var e=kt(t).toHsl(),n=e.h;return[kt(t),kt({h:(n+72)%360,s:e.s,l:e.l}),kt({h:(n+216)%360,s:e.s,l:e.l})]}function aSe(t,e,n){e=e||6,n=n||30;var r=kt(t).toHsl(),i=360/n,a=[kt(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(kt(r));return a}function sSe(t,e){e=e||6;for(var n=kt(t).toHsv(),r=n.h,i=n.s,a=n.v,s=[],o=1/e;e--;)s.push(kt({h:r,s:i,v:a})),a=(a+o)%1;return s}kt.mix=function(t,e,n){n=n===0?0:n||50;var r=kt(t).toRgb(),i=kt(e).toRgb(),a=n/100,s={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return kt(s)};kt.readability=function(t,e){var n=kt(t),r=kt(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};kt.isReadable=function(t,e,n){var r=kt.readability(t,e),i,a;switch(a=!1,i=fSe(n),i.level+i.size){case"AAsmall":case"AAAlarge":a=r>=4.5;break;case"AAlarge":a=r>=3;break;case"AAAsmall":a=r>=7;break}return a};kt.mostReadable=function(t,e,n){var r=null,i=0,a,s,o,l;n=n||{},s=n.includeFallbackColors,o=n.level,l=n.size;for(var u=0;u<e.length;u++)a=kt.readability(t,e[u]),a>i&&(i=a,r=kt(e[u]));return kt.isReadable(t,r,{level:o,size:l})||!s?r:(n.includeFallbackColors=!1,kt.mostReadable(t,["#fff","#000"],n))};var fI=kt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},oSe=kt.hexNames=lSe(fI);function lSe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function nte(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Mr(t,e){cSe(t)&&(t="100%");var n=uSe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function p8(t){return Math.min(1,Math.max(0,t))}function Ys(t){return parseInt(t,16)}function cSe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function uSe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Gl(t){return t.length==1?"0"+t:""+t}function O2(t){return t<=1&&(t=t*100+"%"),t}function rte(t){return Math.round(parseFloat(t)*255).toString(16)}function tz(t){return Ys(t)/255}var Rl=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Du(t){return!!Rl.CSS_UNIT.exec(t)}function dSe(t){t=t.replace(WCe,"").replace(HCe,"").toLowerCase();var e=!1;if(fI[t])t=fI[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Rl.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Rl.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Rl.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Rl.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Rl.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Rl.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Rl.hex8.exec(t))?{r:Ys(n[1]),g:Ys(n[2]),b:Ys(n[3]),a:tz(n[4]),format:e?"name":"hex8"}:(n=Rl.hex6.exec(t))?{r:Ys(n[1]),g:Ys(n[2]),b:Ys(n[3]),format:e?"name":"hex"}:(n=Rl.hex4.exec(t))?{r:Ys(n[1]+""+n[1]),g:Ys(n[2]+""+n[2]),b:Ys(n[3]+""+n[3]),a:tz(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Rl.hex3.exec(t))?{r:Ys(n[1]+""+n[1]),g:Ys(n[2]+""+n[2]),b:Ys(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function fSe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function hSe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const g8=k.forwardRef(hSe);function pSe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const tP=k.forwardRef(pSe);function gSe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const lh=k.forwardRef(gSe);function mSe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const V0=k.forwardRef(mSe);function ySe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const bSe=k.forwardRef(ySe);function wSe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const vSe=k.forwardRef(wSe);function xSe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const Eg=k.forwardRef(xSe);function ESe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const _Se=k.forwardRef(ESe);function ASe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const CSe=k.forwardRef(ASe);function SSe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const hp=k.forwardRef(SSe);function kSe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const m8=k.forwardRef(kSe),nz=t=>{let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const g=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,g))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,i,o);return o},ISe=(t=>t?nz(t):nz),TSe=t=>t;function $Se(t,e=TSe){const n=at.useSyncExternalStore(t.subscribe,at.useCallback(()=>e(t.getState()),[t,e]),at.useCallback(()=>e(t.getInitialState()),[t,e]));return at.useDebugValue(n),n}const rz=t=>{const e=ISe(t),n=r=>$Se(e,r);return Object.assign(n,e),n},Cm=(t=>t?rz(t):rz),ite=typeof document<"u"?at.useLayoutEffect:()=>{};var yA;const NSe=(yA=at.useInsertionEffect)!==null&&yA!==void 0?yA:ite;function PSe(t){const e=k.useRef(null);return NSe(()=>{e.current=t},[t]),k.useCallback((...n)=>{const r=e.current;return r?.(...n)},[])}const vh=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},w0=t=>t&&"window"in t&&t.window===t?t:vh(t).defaultView||window;function OSe(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function RSe(t){return OSe(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let MSe=!1;function nP(){return MSe}function ate(t,e){if(!nP())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:RSe(n)?n=n.host:n=n.parentNode}return!1}const hI=(t=document)=>{var e;if(!nP())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function ste(t){return nP()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function jSe(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function DSe(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function ote(t){let e=null;return()=>(e==null&&(e=t()),e)}const BSe=ote(function(){return DSe(/^Mac/i)}),USe=ote(function(){return jSe(/Android/i)});function lte(){let t=k.useRef(new Map),e=k.useCallback((i,a,s,o)=>{let l=o?.once?(...u)=>{t.current.delete(s),s(...u)}:s;t.current.set(s,{type:a,eventTarget:i,fn:l,options:o}),i.addEventListener(a,l,o)},[]),n=k.useCallback((i,a,s,o)=>{var l;let u=((l=t.current.get(s))===null||l===void 0?void 0:l.fn)||s;i.removeEventListener(a,u,o),t.current.delete(s)},[]),r=k.useCallback(()=>{t.current.forEach((i,a)=>{n(i.eventTarget,i.type,a,i.options)})},[n]);return k.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function LSe(t){return t.pointerType===""&&t.isTrusted?!0:USe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function cte(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function FSe(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function ute(t){let e=k.useRef({isFocused:!1,observer:null});ite(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=PSe(r=>{t?.(r)});return k.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,a=s=>{if(e.current.isFocused=!1,i.disabled){let o=cte(s);n(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",a,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let o=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let zSe=!1,av=null,pI=new Set,Q2=new Map,G0=!1,gI=!1;const WSe={Tab:!0,Escape:!0};function rP(t,e){for(let n of pI)n(t,e)}function HSe(t){return!(t.metaKey||!BSe()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function v6(t){G0=!0,HSe(t)&&(av="keyboard",rP("keyboard",t))}function _g(t){av="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(G0=!0,rP("pointer",t))}function dte(t){LSe(t)&&(G0=!0,av="virtual")}function fte(t){t.target===window||t.target===document||zSe||!t.isTrusted||(!G0&&!gI&&(av="virtual",rP("virtual",t)),G0=!1,gI=!1)}function hte(){G0=!1,gI=!0}function mI(t){if(typeof window>"u"||typeof document>"u"||Q2.get(w0(t)))return;const e=w0(t),n=vh(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){G0=!0,r.apply(this,arguments)},n.addEventListener("keydown",v6,!0),n.addEventListener("keyup",v6,!0),n.addEventListener("click",dte,!0),e.addEventListener("focus",fte,!0),e.addEventListener("blur",hte,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",_g,!0),n.addEventListener("pointermove",_g,!0),n.addEventListener("pointerup",_g,!0)),e.addEventListener("beforeunload",()=>{pte(t)},{once:!0}),Q2.set(e,{focus:r})}const pte=(t,e)=>{const n=w0(t),r=vh(t);e&&r.removeEventListener("DOMContentLoaded",e),Q2.has(n)&&(n.HTMLElement.prototype.focus=Q2.get(n).focus,r.removeEventListener("keydown",v6,!0),r.removeEventListener("keyup",v6,!0),r.removeEventListener("click",dte,!0),n.removeEventListener("focus",fte,!0),n.removeEventListener("blur",hte,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",_g,!0),r.removeEventListener("pointermove",_g,!0),r.removeEventListener("pointerup",_g,!0)),Q2.delete(n))};function qSe(t){const e=vh(t);let n;return e.readyState!=="loading"?mI(t):(n=()=>{mI(t)},e.addEventListener("DOMContentLoaded",n)),()=>pte(t,n)}typeof document<"u"&&qSe();function gte(){return av!=="pointer"}const VSe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function GSe(t,e,n){let r=vh(n?.target);const i=typeof window<"u"?w0(n?.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?w0(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?w0(n?.target).HTMLElement:HTMLElement,o=typeof window<"u"?w0(n?.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!VSe.has(r.activeElement.type)||r.activeElement instanceof a||r.activeElement instanceof s&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof o&&!WSe[n.key])}function KSe(t,e,n){mI(),k.useEffect(()=>{let r=(i,a)=>{GSe(!!n?.isTextInput,i,a)&&t(gte())};return pI.add(r),()=>{pI.delete(r)}},e)}function YSe(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const a=k.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),s=ute(a),o=k.useCallback(l=>{const u=vh(l.target),d=u?hI(u):hI();l.target===l.currentTarget&&d===ste(l.nativeEvent)&&(n&&n(l),i&&i(!0),s(l))},[i,n,s]);return{focusProps:{onFocus:!e&&(n||i||r)?o:void 0,onBlur:!e&&(r||i)?a:void 0}}}function ZSe(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,a=k.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:o}=lte(),l=k.useCallback(h=>{h.currentTarget.contains(h.target)&&a.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(a.current.isFocusWithin=!1,o(),n&&n(h),i&&i(!1))},[n,i,a,o]),u=ute(l),d=k.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const g=vh(h.target),m=hI(g);if(!a.current.isFocusWithin&&m===ste(h.nativeEvent)){r&&r(h),i&&i(!0),a.current.isFocusWithin=!0,u(h);let b=h.currentTarget;s(g,"focus",w=>{if(a.current.isFocusWithin&&!ate(b,w.target)){let x=new g.defaultView.FocusEvent("blur",{relatedTarget:w.target});FSe(x,b);let E=cte(x);l(E)}},{capture:!0})}},[r,i,u,s,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:l}}}let yI=!1,mx=0;function JSe(){yI=!0,setTimeout(()=>{yI=!1},50)}function iz(t){t.pointerType==="touch"&&JSe()}function XSe(){if(!(typeof document>"u"))return mx===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",iz),mx++,()=>{mx--,!(mx>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",iz)}}function QSe(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[a,s]=k.useState(!1),o=k.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;k.useEffect(XSe,[]);let{addGlobalListener:l,removeAllGlobalListeners:u}=lte(),{hoverProps:d,triggerHoverEnd:h}=k.useMemo(()=>{let g=(w,x)=>{if(o.pointerType=x,i||x==="touch"||o.isHovered||!w.currentTarget.contains(w.target))return;o.isHovered=!0;let E=w.currentTarget;o.target=E,l(vh(w.target),"pointerover",I=>{o.isHovered&&o.target&&!ate(o.target,I.target)&&m(I,I.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:E,pointerType:x}),n&&n(!0),s(!0)},m=(w,x)=>{let E=o.target;o.pointerType="",o.target=null,!(x==="touch"||!o.isHovered||!E)&&(o.isHovered=!1,u(),r&&r({type:"hoverend",target:E,pointerType:x}),n&&n(!1),s(!1))},b={};return typeof PointerEvent<"u"&&(b.onPointerEnter=w=>{yI&&w.pointerType==="mouse"||g(w,w.pointerType)},b.onPointerLeave=w=>{!i&&w.currentTarget.contains(w.target)&&m(w,w.pointerType)}),{hoverProps:b,triggerHoverEnd:m}},[e,n,r,i,o,l,u]);return k.useEffect(()=>{i&&h({currentTarget:o.target},o.pointerType)},[i]),{hoverProps:d,isHovered:a}}function eke(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=k.useRef({isFocused:!1,isFocusVisible:e||gte()}),[a,s]=k.useState(!1),[o,l]=k.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=k.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=k.useCallback(m=>{i.current.isFocused=m,s(m),u()},[u]);KSe(m=>{i.current.isFocusVisible=m,u()},[],{isTextInput:n});let{focusProps:h}=YSe({isDisabled:r,onFocusChange:d}),{focusWithinProps:g}=ZSe({isDisabled:!r,onFocusWithinChange:d});return{isFocused:a,isFocusVisible:o,focusProps:r?g:h}}var tke=Object.defineProperty,nke=(t,e,n)=>e in t?tke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bA=(t,e,n)=>(nke(t,typeof e!="symbol"?e+"":e,n),n);let rke=class{constructor(){bA(this,"current",this.detect()),bA(this,"handoffState","pending"),bA(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},tu=new rke;function pp(t){var e;return tu.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function x6(t){var e,n;return tu.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function iP(t){var e,n;return(n=(e=x6(t))==null?void 0:e.activeElement)!=null?n:null}function mte(t){return iP(t)===t}function y8(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Ms(){let t=[],e={addEventListener(n,r,i,a){return n.addEventListener(r,i,a),e.add(()=>n.removeEventListener(r,i,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return y8(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=Ms();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function gp(){let[t]=k.useState(Ms);return k.useEffect(()=>()=>t.dispose(),[t]),t}let Nr=(t,e)=>{tu.isServer?k.useEffect(t,e):k.useLayoutEffect(t,e)};function mp(t){let e=k.useRef(t);return Nr(()=>{e.current=t},[t]),e}let Jt=function(t){let e=mp(t);return at.useCallback((...n)=>e.current(...n),[e])};function ike(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function ake(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function ske({disabled:t=!1}={}){let e=k.useRef(null),[n,r]=k.useState(!1),i=gp(),a=Jt(()=>{e.current=null,r(!1),i.dispose()}),s=Jt(o=>{if(i.dispose(),e.current===null){e.current=o.currentTarget,r(!0);{let l=pp(o.currentTarget);i.addEventListener(l,"pointerup",a,!1),i.addEventListener(l,"pointermove",u=>{if(e.current){let d=ike(u);r(ake(d,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",a,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:s,onPointerUp:a,onClick:a}}}function gu(t){return k.useMemo(()=>t,Object.values(t))}let oke=k.createContext(void 0);function yte(){return k.useContext(oke)}function bI(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function oc(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,oc),r}var Yg=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Yg||{}),Jf=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Jf||{});function Ei(){let t=cke();return k.useCallback(e=>lke({mergeRefs:t,...e}),[t])}function lke({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:a=!0,name:s,mergeRefs:o}){o=o??uke;let l=bte(e,t);if(a)return yx(l,n,r,s,o);let u=i??0;if(u&2){let{static:d=!1,...h}=l;if(d)return yx(h,n,r,s,o)}if(u&1){let{unmount:d=!0,...h}=l;return oc(d?0:1,{0(){return null},1(){return yx({...h,hidden:!0,style:{display:"none"}},n,r,s,o)}})}return yx(l,n,r,s,o)}function yx(t,e={},n,r,i){let{as:a=n,children:s,refName:o="ref",...l}=wA(t,["unmount","static"]),u=t.ref!==void 0?{[o]:t.ref}:{},d=typeof s=="function"?s(e):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let g=!1,m=[];for(let[b,w]of Object.entries(e))typeof w=="boolean"&&(g=!0),w===!0&&m.push(b.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(g){h["data-headlessui-state"]=m.join(" ");for(let b of m)h[`data-${b}`]=""}}if(eb(a)&&(Object.keys(e0(l)).length>0||Object.keys(e0(h)).length>0))if(!k.isValidElement(d)||Array.isArray(d)&&d.length>1||fke(d)){if(Object.keys(e0(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(e0(l)).concat(Object.keys(e0(h))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=d.props,m=g?.className,b=typeof m=="function"?(...E)=>bI(m(...E),l.className):bI(m,l.className),w=b?{className:b}:{},x=bte(d.props,e0(wA(l,["ref"])));for(let E in h)E in x&&delete h[E];return k.cloneElement(d,Object.assign({},x,h,u,{ref:i(dke(d),u.ref)},w))}return k.createElement(a,Object.assign({},wA(l,["ref"]),!eb(a)&&u,!eb(a)&&h),d)}function cke(){let t=k.useRef([]),e=k.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function uke(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function bte(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var a;return(a=i?.preventDefault)==null?void 0:a.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...a){let s=n[r];for(let o of s){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;o(i,...a)}}});return e}function wte(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let a=n[r];for(let s of a)s?.(...i)}});return e}function Gr(t){var e;return Object.assign(k.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function e0(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function wA(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function dke(t){return at.version.split(".")[0]>="19"?t.props.ref:t.ref}function eb(t){return t===k.Fragment||t===Symbol.for("react.fragment")}function fke(t){return eb(t.type)}let hke="span";var E6=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(E6||{});function pke(t,e){var n;let{features:r=1,...i}=t,a={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ei()({ourProps:a,theirProps:i,slot:{},defaultTag:hke,name:"Hidden"})}let wI=Gr(pke),gke=k.createContext(void 0);function mke(){return k.useContext(gke)}function vte(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function fd(t){return vte(t)&&"tagName"in t}function po(t){return fd(t)&&"accessKey"in t}function Xc(t){return fd(t)&&"tabIndex"in t}function yke(t){return fd(t)&&"style"in t}function bke(t){return po(t)&&t.nodeName==="IFRAME"}function xte(t){return po(t)&&t.nodeName==="INPUT"}function az(t){return po(t)&&t.nodeName==="LABEL"}function wke(t){return po(t)&&t.nodeName==="FIELDSET"}function Ete(t){return po(t)&&t.nodeName==="LEGEND"}function vke(t){return fd(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function sz(t){let e=t.parentElement,n=null;for(;e&&!wke(e);)Ete(e)&&(n=e),e=e.parentElement;let r=e?.getAttribute("disabled")==="";return r&&xke(n)?!1:r}function xke(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(Ete(e))return!1;e=e.previousElementSibling}return!0}let _te=Symbol();function Eke(t,e=!0){return Object.assign(t,{[_te]:e})}function es(...t){let e=k.useRef(t);k.useEffect(()=>{e.current=t},[t]);let n=Jt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[_te])?void 0:n}let aP=k.createContext(null);aP.displayName="DescriptionContext";function Ate(){let t=k.useContext(aP);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Ate),e}return t}function Cte(){let[t,e]=k.useState([]);return[t.length>0?t.join(" "):void 0,k.useMemo(()=>function(n){let r=Jt(a=>(e(s=>[...s,a]),()=>e(s=>{let o=s.slice(),l=o.indexOf(a);return l!==-1&&o.splice(l,1),o}))),i=k.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return at.createElement(aP.Provider,{value:i},n.children)},[e])]}let _ke="p";function Ake(t,e){let n=k.useId(),r=yte(),{id:i=`headlessui-description-${n}`,...a}=t,s=Ate(),o=es(e);Nr(()=>s.register(i),[i,s.register]);let l=gu({...s.slot,disabled:r||!1}),u={ref:o,...s.props,id:i};return Ei()({ourProps:u,theirProps:a,slot:l,defaultTag:_ke,name:s.name||"Description"})}let Cke=Gr(Ake),Ske=Object.assign(Cke,{});var Wi=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Wi||{});let b8=k.createContext(null);b8.displayName="LabelContext";function sP(){let t=k.useContext(b8);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,sP),e}return t}function kke(t){var e,n,r;let i=(n=(e=k.useContext(b8))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function Ste({inherit:t=!1}={}){let e=kke(),[n,r]=k.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,k.useMemo(()=>function(a){let s=Jt(l=>(r(u=>[...u,l]),()=>r(u=>{let d=u.slice(),h=d.indexOf(l);return h!==-1&&d.splice(h,1),d}))),o=k.useMemo(()=>({register:s,slot:a.slot,name:a.name,props:a.props,value:a.value}),[s,a.slot,a.name,a.props,a.value]);return at.createElement(b8.Provider,{value:o},a.children)},[r])]}let Ike="label";function Tke(t,e){var n;let r=k.useId(),i=sP(),a=mke(),s=yte(),{id:o=`headlessui-label-${r}`,htmlFor:l=a??((n=i.props)==null?void 0:n.htmlFor),passive:u=!1,...d}=t,h=es(e);Nr(()=>i.register(o),[o,i.register]);let g=Jt(w=>{let x=w.currentTarget;if(!(w.target!==w.currentTarget&&vke(w.target))&&(az(x)&&w.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(w),az(x))){let E=document.getElementById(x.htmlFor);if(E){let I=E.getAttribute("disabled");if(I==="true"||I==="")return;let C=E.getAttribute("aria-disabled");if(C==="true"||C==="")return;(xte(E)&&(E.type==="file"||E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),m=gu({...i.slot,disabled:s||!1}),b={ref:h,...i.props,id:o,htmlFor:l,onClick:g};return u&&("onClick"in b&&(delete b.htmlFor,delete b.onClick),"onClick"in d&&delete d.onClick),Ei()({ourProps:b,theirProps:d,slot:m,defaultTag:l?Ike:"div",name:i.name||"Label"})}let $ke=Gr(Tke);Object.assign($ke,{});let Nke=k.createContext(()=>{});function Pke({value:t,children:e}){return at.createElement(Nke.Provider,{value:t},e)}function w1(t,e,n){let r=n.initialDeps??[],i;function a(){var s,o,l,u;let d;n.key&&((s=n.debug)!=null&&s.call(n))&&(d=Date.now());const h=t();if(!(h.length!==r.length||h.some((b,w)=>r[w]!==b)))return i;r=h;let m;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(m=Date.now()),i=e(...h),n.key&&((l=n.debug)!=null&&l.call(n))){const b=Math.round((Date.now()-d)*100)/100,w=Math.round((Date.now()-m)*100)/100,x=w/16,E=(I,C)=>{for(I=String(I);I.length<C;)I=" "+I;return I};console.info(`%c ${E(w,5)} /${E(b,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,n?.key)}return(u=n?.onChange)==null||u.call(n,i),i}return a.updateDeps=s=>{r=s},a}function oz(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const Oke=(t,e)=>Math.abs(t-e)<1.01,Rke=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},lz=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},Mke=t=>t,jke=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},Dke=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=s=>{const{width:o,height:l}=s;e({width:Math.round(o),height:Math.round(l)})};if(i(lz(n)),!r.ResizeObserver)return()=>{};const a=new r.ResizeObserver(s=>{const o=()=>{const l=s[0];if(l?.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(lz(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},cz={passive:!0},uz=typeof window>"u"?!0:"onscrollend"in window,Bke=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const a=t.options.useScrollendEvent&&uz?()=>{}:Rke(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),s=d=>()=>{const{horizontal:h,isRtl:g}=t.options;i=h?n.scrollLeft*(g&&-1||1):n.scrollTop,a(),e(i,d)},o=s(!0),l=s(!1);l(),n.addEventListener("scroll",o,cz);const u=t.options.useScrollendEvent&&uz;return u&&n.addEventListener("scrollend",l,cz),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",l)}},Uke=(t,e,n)=>{if(e?.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},Lke=(t,{adjustments:e=0,behavior:n},r)=>{var i,a;const s=t+e;(a=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||a.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class Fke{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(a=>{const s=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var a;return(a=r())==null?void 0:a.observe(i,{box:"border-box"})},unobserve:i=>{var a;return(a=r())==null?void 0:a.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Mke,rangeExtractor:jke,onChange:()=>{},measureElement:Uke,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=w1(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,a=new Map;for(let s=r-1;s>=0;s--){const o=n[s];if(i.has(o.lane))continue;const l=a.get(o.lane);if(l==null||o.end>l.end?a.set(o.lane,o):o.end<l.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((s,o)=>s.end===o.end?s.index-o.index:s.end-o.end)[0]:void 0},this.getMeasurementOptions=w1(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,a,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:s}),{key:!1}),this.getMeasurements=w1(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:s},o)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let d=l;d<n;d++){const h=a(d),g=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),m=g?g.end+this.options.gap:r+i,b=o.get(h),w=typeof b=="number"?b:this.options.estimateSize(d),x=m+w,E=g?g.lane:d%this.options.lanes;u[d]={index:d,start:m,size:w,end:x,key:h,lane:E}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=w1(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,a)=>this.range=n.length>0&&r>0?zke({measurements:n,outerSize:r,scrollOffset:i,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=w1(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,a,s)=>a===null||s===null?[]:n({startIndex:a,endIndex:s,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),a=this.measurementsCache[i];if(!a)return;const s=a.key,o=this.elementsCache.get(s);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const a=this.itemSizeCache.get(i.key)??i.size,s=r-a;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=w1(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let a=0,s=n.length;a<s;a++){const o=n[a],l=r[o];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return oz(r[kte(0,r.length-1,i=>oz(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const a=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=n>=s+a?"end":"start"),r==="center"?n+=(i-a)/2:r==="end"&&(n-=a);const o=this.getTotalSize()+this.options.scrollMargin-a;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const a=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+a-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const o=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let a=0;const s=10,o=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(n,u);if(!d){console.warn("Failed to get offset for index:",n);return}const[h,g]=d;this._scrollToOffset(h,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const m=this.getScrollOffset(),b=this.getOffsetForIndex(n,g);if(!b){console.warn("Failed to get offset for index:",n);return}Oke(b[0],m)||l(g)})},l=u=>{this.targetWindow&&(a++,a<s?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${n} after ${s} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const a=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&a.some(o=>o===null);){const o=r[s];a[o.lane]===null&&(a[o.lane]=o.end),s--}i=Math.max(...a.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const kte=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,a=n(i);if(a<r)t=i+1;else if(a>r)e=i-1;else return i}return t>0?t-1:0};function zke({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,a=l=>t[l].start;if(t.length<=r)return{startIndex:0,endIndex:i};let s=kte(0,i,a,n),o=s;if(r===1)for(;o<i&&t[o].end<n+e;)o++;else if(r>1){const l=Array(r).fill(0);for(;o<i&&l.some(d=>d<n+e);){const d=t[o];l[d.lane]=d.end,o++}const u=Array(r).fill(n+e);for(;s>=0&&u.some(d=>d>=n);){const d=t[s];u[d.lane]=d.start,s--}s=Math.max(0,s-s%r),o=Math.min(i,o+(r-1-o%r))}return{startIndex:s,endIndex:o}}const dz=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Wke(t){const e=k.useReducer(()=>({}),{})[1],n={...t,onChange:(i,a)=>{var s;a?yd.flushSync(e):e(),(s=t.onChange)==null||s.call(t,i,a)}},[r]=k.useState(()=>new Fke(n));return r.setOptions(n),dz(()=>r._didMount(),[]),dz(()=>r._willUpdate()),r}function Hke(t){return Wke({observeElementRect:Dke,observeElementOffset:Bke,scrollToFn:Lke,...t})}function fz(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function qke(t,e,n=!1){let[r,i]=k.useState(()=>fz(e));return Nr(()=>{if(!e||!t)return;let a=Ms();return a.requestAnimationFrame(function s(){a.requestAnimationFrame(s),i(o=>{let l=fz(e);return l.width===o.width&&l.height===o.height?o:l})}),()=>{a.dispose()}},[e,t]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var Ite=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(Ite||{});function Vke(t){let e=k.useRef(null),n=Jt(i=>{e.current=i.pointerType,!sz(i.currentTarget)&&i.pointerType==="mouse"&&i.button===Ite.Left&&(i.preventDefault(),t(i))}),r=Jt(i=>{e.current!=="mouse"&&(sz(i.currentTarget)||t(i))});return{onPointerDown:n,onClick:r}}let Tte=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var Gke=Object.defineProperty,Kke=(t,e,n)=>e in t?Gke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yke=(t,e,n)=>(Kke(t,e+"",n),n),$te=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ro=(t,e,n)=>($te(t,e,"read from private field"),n?n.call(t):e.get(t)),vA=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},hz=(t,e,n,r)=>($te(t,e,"write to private field"),e.set(t,n),n),Dc,R2,M2;let Nte=class{constructor(e){vA(this,Dc,{}),vA(this,R2,new Tte(()=>new Set)),vA(this,M2,new Set),Yke(this,"disposables",Ms()),hz(this,Dc,e),tu.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Ro(this,Dc)}subscribe(e,n){if(tu.isServer)return()=>{};let r={selector:e,callback:n,current:e(Ro(this,Dc))};return Ro(this,M2).add(r),this.disposables.add(()=>{Ro(this,M2).delete(r)})}on(e,n){return tu.isServer?()=>{}:(Ro(this,R2).get(e).add(n),this.disposables.add(()=>{Ro(this,R2).get(e).delete(n)}))}send(e){let n=this.reduce(Ro(this,Dc),e);if(n!==Ro(this,Dc)){hz(this,Dc,n);for(let r of Ro(this,M2)){let i=r.selector(Ro(this,Dc));Pte(r.current,i)||(r.current=i,r.callback(i))}for(let r of Ro(this,R2).get(e.type))r(Ro(this,Dc),e)}}};Dc=new WeakMap,R2=new WeakMap,M2=new WeakMap;function Pte(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:xA(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:xA(t.entries(),e.entries()):pz(t)&&pz(e)?xA(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function xA(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function pz(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function gz(t){let[e,n]=t(),r=Ms();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var Zke=Object.defineProperty,Jke=(t,e,n)=>e in t?Zke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mz=(t,e,n)=>(Jke(t,typeof e!="symbol"?e+"":e,n),n),Ote=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Ote||{});let Xke={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let a=t.stack.slice();return a.splice(i,1),a.push(n),r=a,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},Qke=class Rte extends Nte{constructor(){super(...arguments),mz(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),mz(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new Rte({stack:[]})}reduce(e,n){return oc(n.type,Xke,e,n)}};const w8=new Tte(()=>Qke.new());var EA={exports:{}},_A={};var yz;function eIe(){if(yz)return _A;yz=1;var t=Ow();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return _A.useSyncExternalStoreWithSelector=function(l,u,d,h,g){var m=i(null);if(m.current===null){var b={hasValue:!1,value:null};m.current=b}else b=m.current;m=s(function(){function x(A){if(!E){if(E=!0,I=A,A=h(A),g!==void 0&&b.hasValue){var T=b.value;if(g(T,A))return C=T}return C=A}if(T=C,n(I,A))return T;var O=h(A);return g!==void 0&&g(T,O)?(I=A,T):(I=A,C=O)}var E=!1,I,C,N=d===void 0?null:d;return[function(){return x(u())},N===null?void 0:function(){return x(N())}]},[u,d,h,g]);var w=r(l,m[0],m[1]);return a(function(){b.hasValue=!0,b.value=w},[w]),o(w),w},_A}var bz;function tIe(){return bz||(bz=1,EA.exports=eIe()),EA.exports}var nIe=tIe();function tl(t,e,n=Pte){return nIe.useSyncExternalStoreWithSelector(Jt(r=>t.subscribe(rIe,r)),Jt(()=>t.state),Jt(()=>t.state),Jt(e),n)}function rIe(t){return t}function sv(t,e){let n=k.useId(),r=w8.get(e),[i,a]=tl(r,k.useCallback(s=>[r.selectors.isTop(s,n),r.selectors.inStack(s,n)],[r,n]));return Nr(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?a?i:!0:!1}let vI=new Map,tb=new Map;function wz(t){var e;let n=(e=tb.get(t))!=null?e:0;return tb.set(t,n+1),n!==0?()=>vz(t):(vI.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>vz(t))}function vz(t){var e;let n=(e=tb.get(t))!=null?e:1;if(n===1?tb.delete(t):tb.set(t,n-1),n!==1)return;let r=vI.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,vI.delete(t))}function Mte(t,{allowed:e,disallowed:n}={}){let r=sv(t,"inert-others");Nr(()=>{var i,a;if(!r)return;let s=Ms();for(let l of(i=n?.())!=null?i:[])l&&s.add(wz(l));let o=(a=e?.())!=null?a:[];for(let l of o){if(!l)continue;let u=pp(l);if(!u)continue;let d=l.parentElement;for(;d&&d!==u.body;){for(let h of d.children)o.some(g=>h.contains(g))||s.add(wz(h));d=d.parentElement}}return s.dispose},[r,e,n])}function jte(t,e,n){let r=mp(i=>{let a=i.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&n()});k.useEffect(()=>{if(!t)return;let i=e===null?null:po(e)?e:e.current;if(!i)return;let a=Ms();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),a.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),a.add(()=>s.disconnect())}return()=>a.dispose()},[e,r,t])}let _6=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),iIe=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ql=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(ql||{}),xI=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(xI||{}),aIe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(aIe||{});function Dte(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(_6)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function sIe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(iIe)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var oP=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(oP||{});function lP(t,e=0){var n;return t===((n=pp(t))==null?void 0:n.body)?!1:oc(e,{0(){return t.matches(_6)},1(){let r=t;for(;r!==null;){if(r.matches(_6))return!0;r=r.parentElement}return!1}})}function Bte(t){Ms().nextFrame(()=>{let e=iP(t);e&&Xc(e)&&!lP(e,0)&&nu(t)})}var oIe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(oIe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function nu(t){t?.focus({preventScroll:!0})}let lIe=["textarea","input"].join(",");function cIe(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,lIe))!=null?n:!1}function Ute(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),a=e(r);if(i===null||a===null)return 0;let s=i.compareDocumentPosition(a);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function uIe(t,e,n=t===null?document.body:x6(t)){return Ag(Dte(n),e,{relativeTo:t})}function Ag(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let a=Array.isArray(t)?t.length>0?x6(t[0]):document:x6(t),s=Array.isArray(t)?n?Ute(t):t:e&64?sIe(t):Dte(t);i.length>0&&s.length>1&&(s=s.filter(m=>!i.some(b=>b!=null&&"current"in b?b?.current===m:b===m))),r=r??a?.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(r))-1;if(e&4)return Math.max(0,s.indexOf(r))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,h=s.length,g;do{if(d>=h||d+h<=0)return 0;let m=l+d;if(e&16)m=(m+h)%h;else{if(m<0)return 3;if(m>=h)return 1}g=s[m],g?.focus(u),d+=o}while(g!==iP(g));return e&6&&cIe(g)&&g.select(),2}function Lte(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function dIe(){return/Android/gi.test(window.navigator.userAgent)}function xz(){return Lte()||dIe()}function ng(t,e,n,r){let i=mp(n);k.useEffect(()=>{if(!t)return;function a(s){i.current(s)}return document.addEventListener(e,a,r),()=>document.removeEventListener(e,a,r)},[t,e,r])}function Fte(t,e,n,r){let i=mp(n);k.useEffect(()=>{if(!t)return;function a(s){i.current(s)}return window.addEventListener(e,a,r),()=>window.removeEventListener(e,a,r)},[t,e,r])}const Ez=30;function zte(t,e,n){let r=mp(n),i=k.useCallback(function(o,l){if(o.defaultPrevented)return;let u=l(o);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=(function h(g){return typeof g=="function"?h(g()):Array.isArray(g)||g instanceof Set?g:[g]})(e);for(let h of d)if(h!==null&&(h.contains(u)||o.composed&&o.composedPath().includes(h)))return;return!lP(u,oP.Loose)&&u.tabIndex!==-1&&o.preventDefault(),r.current(o,u)},[r,e]),a=k.useRef(null);ng(t,"pointerdown",o=>{var l,u;xz()||(a.current=((u=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:u[0])||o.target)},!0),ng(t,"pointerup",o=>{if(xz()||!a.current)return;let l=a.current;return a.current=null,i(o,()=>l)},!0);let s=k.useRef({x:0,y:0});ng(t,"touchstart",o=>{s.current.x=o.touches[0].clientX,s.current.y=o.touches[0].clientY},!0),ng(t,"touchend",o=>{let l={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(l.x-s.current.x)>=Ez||Math.abs(l.y-s.current.y)>=Ez))return i(o,()=>Xc(o.target)?o.target:null)},!0),Fte(t,"blur",o=>i(o,()=>bke(window.document.activeElement)?window.document.activeElement:null),!0)}function hw(...t){return k.useMemo(()=>pp(...t),[...t])}var fIe=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(fIe||{});const bx={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},hIe=200,_z=5;function pIe(t,{trigger:e,action:n,close:r,select:i}){let a=k.useRef(null),s=k.useRef(null),o=k.useRef(null);ng(t&&e!==null,"pointerdown",l=>{vte(l?.target)&&e!=null&&e.contains(l.target)&&(s.current=l.x,o.current=l.y,a.current=l.timeStamp)}),ng(t&&e!==null,"pointerup",l=>{var u,d;let h=a.current;if(h===null||(a.current=null,!Xc(l.target))||Math.abs(l.x-((u=s.current)!=null?u:l.x))<_z&&Math.abs(l.y-((d=o.current)!=null?d:l.y))<_z)return;let g=n(l);switch(g.kind){case 0:return;case 1:{l.timeStamp-h>hIe&&(i(g.target),r());break}case 2:{r();break}}},{capture:!0})}function Wte(t,e,n,r){let i=mp(n);k.useEffect(()=>{t=t??window;function a(s){i.current(s)}return t.addEventListener(e,a,r),()=>t.removeEventListener(e,a,r)},[t,e,r])}function gIe(t,e){return k.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function mIe(t){return k.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function yIe(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...a){let s=e[i].call(n,...a);s&&(n=s,r.forEach(o=>o()))}}}function bIe(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),a=Math.max(0,t-i);n.style(r,"paddingRight",`${a}px`)}}}function wIe(){return Lte()?{before({doc:t,d:e,meta:n}){function r(i){for(let a of n().containers)for(let s of a())if(s.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=Ms();o.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>o.dispose()))}let a=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;e.addEventListener(t,"click",o=>{if(Xc(o.target))try{let l=o.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=t.querySelector(u);Xc(d)&&!r(d)&&(s=d)}catch{}},!0),e.group(o=>{e.addEventListener(t,"touchstart",l=>{if(o.dispose(),Xc(l.target)&&yke(l.target))if(r(l.target)){let u=l.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;o.style(u,"overscrollBehavior","contain")}else o.style(l.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",o=>{if(Xc(o.target)){if(xte(o.target))return;if(r(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),e.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;a!==l&&window.scrollTo(0,a),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function vIe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Az(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let v0=yIe(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Ms(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=Az(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=Az(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[wIe(),bIe(),vIe()];n.forEach(({before:r})=>r?.(e)),n.forEach(({after:r})=>r?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});v0.subscribe(()=>{let t=v0.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&v0.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&v0.dispatch("TEARDOWN",n)}});function xIe(t,e,n=()=>({containers:[]})){let r=mIe(v0),i=e?r.get(e):void 0,a=i?i.count>0:!1;return Nr(()=>{if(!(!e||!t))return v0.dispatch("PUSH",e,n),()=>v0.dispatch("POP",e,n)},[t,e]),a}function Hte(t,e,n=()=>[document.body]){let r=sv(t,"scroll-lock");xIe(r,e,i=>{var a;return{containers:[...(a=i.containers)!=null?a:[],n]}})}function Cz(t){return[t.screenX,t.screenY]}function EIe(){let t=k.useRef([-1,-1]);return{wasMoved(e){let n=Cz(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=Cz(e)}}}function _Ie(t=0){let[e,n]=k.useState(t),r=k.useCallback(l=>n(l),[]),i=k.useCallback(l=>n(u=>u|l),[]),a=k.useCallback(l=>(e&l)===l,[e]),s=k.useCallback(l=>n(u=>u&~l),[]),o=k.useCallback(l=>n(u=>u^l),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:a,removeFlag:s,toggleFlag:o}}var AIe={},Sz,kz;typeof Er<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Sz=Er==null?void 0:AIe)==null?void 0:Sz.NODE_ENV)==="test"&&typeof((kz=Element?.prototype)==null?void 0:kz.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var CIe=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(CIe||{});function qte(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Vte(t,e,n,r){let[i,a]=k.useState(n),{hasFlag:s,addFlag:o,removeFlag:l}=_Ie(t&&i?3:0),u=k.useRef(!1),d=k.useRef(!1),h=gp();return Nr(()=>{var g;if(t){if(n&&a(!0),!e){n&&o(3);return}return(g=r?.start)==null||g.call(r,n),SIe(e,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(o(3),l(4)):(o(4),l(2)))},run(){d.current?n?(l(3),o(4)):(l(4),o(3)):n?l(1):o(1)},done(){var m;d.current&&TIe(e)||(u.current=!1,l(7),n||a(!1),(m=r?.end)==null||m.call(r,n))}})}},[t,n,e,h]),t?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function SIe(t,{prepare:e,run:n,done:r,inFlight:i}){let a=Ms();return IIe(t,{prepare:e,inFlight:i}),a.nextFrame(()=>{n(),a.requestAnimationFrame(()=>{a.add(kIe(t,r))})}),a.dispose}function kIe(t,e){var n,r;let i=Ms();if(!t)return i.dispose;let a=!1;i.add(()=>{a=!0});let s=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(o=>o instanceof CSSTransition))!=null?r:[];return s.length===0?(e(),i.dispose):(Promise.allSettled(s.map(o=>o.finished)).then(()=>{a||e()}),i.dispose)}function IIe(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function TIe(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function $Ie(t,{container:e,accept:n,walk:r}){let i=k.useRef(n),a=k.useRef(r);k.useEffect(()=>{i.current=n,a.current=r},[n,r]),Nr(()=>{if(!e||!t)return;let s=pp(e);if(!s)return;let o=i.current,l=a.current,u=Object.assign(h=>o(h),{acceptNode:o}),d=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[e,t,i,a])}function cP(t,e){let n=k.useRef([]),r=Jt(t);k.useEffect(()=>{let i=[...n.current];for(let[a,s]of e.entries())if(n.current[a]!==s){let o=r(e,i);return n.current=e,o}},[r,...e])}function v8(){return typeof window<"u"}function Sm(t){return Gte(t)?(t.nodeName||"").toLowerCase():"#document"}function co(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mu(t){var e;return(e=(Gte(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Gte(t){return v8()?t instanceof Node||t instanceof co(t).Node:!1}function Ga(t){return v8()?t instanceof Element||t instanceof co(t).Element:!1}function lu(t){return v8()?t instanceof HTMLElement||t instanceof co(t).HTMLElement:!1}function Iz(t){return!v8()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof co(t).ShadowRoot}const NIe=new Set(["inline","contents"]);function ov(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=lc(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!NIe.has(i)}const PIe=new Set(["table","td","th"]);function OIe(t){return PIe.has(Sm(t))}const RIe=[":popover-open",":modal"];function x8(t){return RIe.some(e=>{try{return t.matches(e)}catch{return!1}})}const MIe=["transform","translate","scale","rotate","perspective"],jIe=["transform","translate","scale","rotate","perspective","filter"],DIe=["paint","layout","strict","content"];function uP(t){const e=dP(),n=Ga(t)?lc(t):t;return MIe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||jIe.some(r=>(n.willChange||"").includes(r))||DIe.some(r=>(n.contain||"").includes(r))}function BIe(t){let e=ch(t);for(;lu(e)&&!Zg(e);){if(uP(e))return e;if(x8(e))return null;e=ch(e)}return null}function dP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const UIe=new Set(["html","body","#document"]);function Zg(t){return UIe.has(Sm(t))}function lc(t){return co(t).getComputedStyle(t)}function E8(t){return Ga(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ch(t){if(Sm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Iz(t)&&t.host||mu(t);return Iz(e)?e.host:e}function Kte(t){const e=ch(t);return Zg(e)?t.ownerDocument?t.ownerDocument.body:t.body:lu(e)&&ov(e)?e:Kte(e)}function pw(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Kte(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),s=co(i);if(a){const o=EI(s);return e.concat(s,s.visualViewport||[],ov(i)?i:[],o&&n?pw(o):[])}return e.concat(i,pw(i,[],n))}function EI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LIe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const K0=Math.min,$a=Math.max,gw=Math.round,wx=Math.floor,ru=t=>({x:t,y:t}),FIe={left:"right",right:"left",bottom:"top",top:"bottom"},zIe={start:"end",end:"start"};function Tz(t,e,n){return $a(t,K0(e,n))}function km(t,e){return typeof t=="function"?t(e):t}function uh(t){return t.split("-")[0]}function lv(t){return t.split("-")[1]}function Yte(t){return t==="x"?"y":"x"}function Zte(t){return t==="y"?"height":"width"}const WIe=new Set(["top","bottom"]);function od(t){return WIe.has(uh(t))?"y":"x"}function Jte(t){return Yte(od(t))}function HIe(t,e,n){n===void 0&&(n=!1);const r=lv(t),i=Jte(t),a=Zte(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=A6(s)),[s,A6(s)]}function qIe(t){const e=A6(t);return[_I(t),e,_I(e)]}function _I(t){return t.replace(/start|end/g,e=>zIe[e])}const $z=["left","right"],Nz=["right","left"],VIe=["top","bottom"],GIe=["bottom","top"];function KIe(t,e,n){switch(t){case"top":case"bottom":return n?e?Nz:$z:e?$z:Nz;case"left":case"right":return e?VIe:GIe;default:return[]}}function YIe(t,e,n,r){const i=lv(t);let a=KIe(uh(t),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(_I)))),a}function A6(t){return t.replace(/left|right|bottom|top/g,e=>FIe[e])}function ZIe(t){return{top:0,right:0,bottom:0,left:0,...t}}function JIe(t){return typeof t!="number"?ZIe(t):{top:t,right:t,bottom:t,left:t}}function C6(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Pz(t,e,n){let{reference:r,floating:i}=t;const a=od(e),s=Jte(e),o=Zte(s),l=uh(e),u=a==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,g=r[o]/2-i[o]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(lv(e)){case"start":m[s]-=g*(n&&u?-1:1);break;case"end":m[s]+=g*(n&&u?-1:1);break}return m}const XIe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=Pz(u,r,l),g=r,m={},b=0;for(let w=0;w<o.length;w++){const{name:x,fn:E}=o[w],{x:I,y:C,data:N,reset:A}=await E({x:d,y:h,initialPlacement:r,placement:g,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:t,floating:e}});d=I??d,h=C??h,m={...m,[x]:{...m[x],...N}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(u=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:d,y:h}=Pz(u,g,l)),w=-1)}return{x:d,y:h,placement:g,strategy:i,middlewareData:m}};async function _8(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:g=!1,padding:m=0}=km(e,t),b=JIe(m),x=o[g?h==="floating"?"reference":"floating":h],E=C6(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),I=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),N=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},A=C6(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:I,offsetParent:C,strategy:l}):I);return{top:(E.top-A.top+b.top)/N.y,bottom:(A.bottom-E.bottom+b.bottom)/N.y,left:(E.left-A.left+b.left)/N.x,right:(A.right-E.right+b.right)/N.x}}const QIe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...x}=km(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const E=uh(i),I=od(o),C=uh(o)===o,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),A=g||(C||!w?[A6(o)]:qIe(o)),T=b!=="none";!g&&T&&A.push(...YIe(o,w,b,N));const O=[o,...A],H=await _8(e,x),U=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&U.push(H[E]),h){const _=HIe(i,s,N);U.push(H[_[0]],H[_[1]])}if(L=[...L,{placement:i,overflows:U}],!U.every(_=>_<=0)){var G,R;const _=(((G=a.flip)==null?void 0:G.index)||0)+1,S=O[_];if(S&&(!(h==="alignment"?I!==od(S):!1)||L.every(z=>od(z.placement)===I?z.overflows[0]>0:!0)))return{data:{index:_,overflows:L},reset:{placement:S}};let $=(R=L.filter(D=>D.overflows[0]<=0).sort((D,z)=>D.overflows[1]-z.overflows[1])[0])==null?void 0:R.placement;if(!$)switch(m){case"bestFit":{var F;const D=(F=L.filter(z=>{if(T){const Y=od(z.placement);return Y===I||Y==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(Y=>Y>0).reduce((Y,J)=>Y+J,0)]).sort((z,Y)=>z[1]-Y[1])[0])==null?void 0:F[0];D&&($=D);break}case"initialPlacement":$=o;break}if(i!==$)return{reset:{placement:$}}}return{}}}},eTe=new Set(["left","top"]);async function tTe(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=uh(n),o=lv(n),l=od(n)==="y",u=eTe.has(s)?-1:1,d=a&&l?-1:1,h=km(e,t);let{mainAxis:g,crossAxis:m,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof b=="number"&&(m=o==="end"?b*-1:b),l?{x:m*d,y:g*u}:{x:g*u,y:m*d}}const nTe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await tTe(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},rTe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:x=>{let{x:E,y:I}=x;return{x:E,y:I}}},...l}=km(t,e),u={x:n,y:r},d=await _8(e,l),h=od(uh(i)),g=Yte(h);let m=u[g],b=u[h];if(a){const x=g==="y"?"top":"left",E=g==="y"?"bottom":"right",I=m+d[x],C=m-d[E];m=Tz(I,m,C)}if(s){const x=h==="y"?"top":"left",E=h==="y"?"bottom":"right",I=b+d[x],C=b-d[E];b=Tz(I,b,C)}const w=o.fn({...e,[g]:m,[h]:b});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:a,[h]:s}}}}}},iTe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...u}=km(t,e),d=await _8(e,u),h=uh(i),g=lv(i),m=od(i)==="y",{width:b,height:w}=a.floating;let x,E;h==="top"||h==="bottom"?(x=h,E=g===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(E=h,x=g==="end"?"top":"bottom");const I=w-d.top-d.bottom,C=b-d.left-d.right,N=K0(w-d[x],I),A=K0(b-d[E],C),T=!e.middlewareData.shift;let O=N,H=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(H=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=I),T&&!g){const L=$a(d.left,0),G=$a(d.right,0),R=$a(d.top,0),F=$a(d.bottom,0);m?H=b-2*(L!==0||G!==0?L+G:$a(d.left,d.right)):O=w-2*(R!==0||F!==0?R+F:$a(d.top,d.bottom))}await l({...e,availableWidth:H,availableHeight:O});const U=await s.getDimensions(o.floating);return b!==U.width||w!==U.height?{reset:{rects:!0}}:{}}}};function Xte(t){const e=lc(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=lu(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=gw(n)!==a||gw(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function fP(t){return Ga(t)?t:t.contextElement}function Cg(t){const e=fP(t);if(!lu(e))return ru(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=Xte(e);let s=(a?gw(n.width):n.width)/r,o=(a?gw(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const aTe=ru(0);function Qte(t){const e=co(t);return!dP()||!e.visualViewport?aTe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sTe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==co(t)?!1:e}function Y0(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=fP(t);let s=ru(1);e&&(r?Ga(r)&&(s=Cg(r)):s=Cg(t));const o=sTe(a,n,r)?Qte(a):ru(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(a){const g=co(a),m=r&&Ga(r)?co(r):r;let b=g,w=EI(b);for(;w&&r&&m!==b;){const x=Cg(w),E=w.getBoundingClientRect(),I=lc(w),C=E.left+(w.clientLeft+parseFloat(I.paddingLeft))*x.x,N=E.top+(w.clientTop+parseFloat(I.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,h*=x.y,l+=C,u+=N,b=co(w),w=EI(b)}}return C6({width:d,height:h,x:l,y:u})}function A8(t,e){const n=E8(t).scrollLeft;return e?e.left+n:Y0(mu(t)).left+n}function ene(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-A8(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function oTe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",s=mu(r),o=e?x8(e.floating):!1;if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},u=ru(1);const d=ru(0),h=lu(r);if((h||!h&&!a)&&((Sm(r)!=="body"||ov(s))&&(l=E8(r)),lu(r))){const m=Y0(r);u=Cg(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const g=s&&!h&&!a?ene(s,l):ru(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-l.scrollTop*u.y+d.y+g.y}}function lTe(t){return Array.from(t.getClientRects())}function cTe(t){const e=mu(t),n=E8(t),r=t.ownerDocument.body,i=$a(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=$a(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+A8(t);const o=-n.scrollTop;return lc(r).direction==="rtl"&&(s+=$a(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}const Oz=25;function uTe(t,e){const n=co(t),r=mu(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const d=dP();(!d||d&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const u=A8(r);if(u<=0){const d=r.ownerDocument,h=d.body,g=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-h.clientWidth-m);b<=Oz&&(a-=b)}else u<=Oz&&(a+=u);return{width:a,height:s,x:o,y:l}}const dTe=new Set(["absolute","fixed"]);function fTe(t,e){const n=Y0(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=lu(t)?Cg(t):ru(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,u=r*a.y;return{width:s,height:o,x:l,y:u}}function Rz(t,e,n){let r;if(e==="viewport")r=uTe(t,n);else if(e==="document")r=cTe(mu(t));else if(Ga(e))r=fTe(e,n);else{const i=Qte(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return C6(r)}function tne(t,e){const n=ch(t);return n===e||!Ga(n)||Zg(n)?!1:lc(n).position==="fixed"||tne(n,e)}function hTe(t,e){const n=e.get(t);if(n)return n;let r=pw(t,[],!1).filter(o=>Ga(o)&&Sm(o)!=="body"),i=null;const a=lc(t).position==="fixed";let s=a?ch(t):t;for(;Ga(s)&&!Zg(s);){const o=lc(s),l=uP(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&dTe.has(i.position)||ov(s)&&!l&&tne(t,s))?r=r.filter(d=>d!==s):i=o,s=ch(s)}return e.set(t,r),r}function pTe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?x8(e)?[]:hTe(e,this._c):[].concat(n),r],o=s[0],l=s.reduce((u,d)=>{const h=Rz(e,d,i);return u.top=$a(h.top,u.top),u.right=K0(h.right,u.right),u.bottom=K0(h.bottom,u.bottom),u.left=$a(h.left,u.left),u},Rz(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gTe(t){const{width:e,height:n}=Xte(t);return{width:e,height:n}}function mTe(t,e,n){const r=lu(e),i=mu(e),a=n==="fixed",s=Y0(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=ru(0);function u(){l.x=A8(i)}if(r||!r&&!a)if((Sm(e)!=="body"||ov(i))&&(o=E8(e)),r){const m=Y0(e,!0,a,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&u();a&&!r&&i&&u();const d=i&&!r&&!a?ene(i,o):ru(0),h=s.left+o.scrollLeft-l.x-d.x,g=s.top+o.scrollTop-l.y-d.y;return{x:h,y:g,width:s.width,height:s.height}}function AA(t){return lc(t).position==="static"}function Mz(t,e){if(!lu(t)||lc(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return mu(t)===n&&(n=n.ownerDocument.body),n}function nne(t,e){const n=co(t);if(x8(t))return n;if(!lu(t)){let i=ch(t);for(;i&&!Zg(i);){if(Ga(i)&&!AA(i))return i;i=ch(i)}return n}let r=Mz(t,e);for(;r&&OIe(r)&&AA(r);)r=Mz(r,e);return r&&Zg(r)&&AA(r)&&!uP(r)?n:r||BIe(t)||n}const yTe=async function(t){const e=this.getOffsetParent||nne,n=this.getDimensions,r=await n(t.floating);return{reference:mTe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bTe(t){return lc(t).direction==="rtl"}const wTe={convertOffsetParentRelativeRectToViewportRelativeRect:oTe,getDocumentElement:mu,getClippingRect:pTe,getOffsetParent:nne,getElementRects:yTe,getClientRects:lTe,getDimensions:gTe,getScale:Cg,isElement:Ga,isRTL:bTe};function rne(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function vTe(t,e){let n=null,r;const i=mu(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const u=t.getBoundingClientRect(),{left:d,top:h,width:g,height:m}=u;if(o||e(),!g||!m)return;const b=wx(h),w=wx(i.clientWidth-(d+g)),x=wx(i.clientHeight-(h+m)),E=wx(d),C={rootMargin:-b+"px "+-w+"px "+-x+"px "+-E+"px",threshold:$a(0,K0(1,l))||1};let N=!0;function A(T){const O=T[0].intersectionRatio;if(O!==l){if(!N)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!rne(u,t.getBoundingClientRect())&&s(),N=!1}try{n=new IntersectionObserver(A,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,C)}n.observe(t)}return s(!0),a}function xTe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=fP(t),d=i||a?[...u?pw(u):[],...pw(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),a&&E.addEventListener("resize",n)});const h=u&&o?vTe(u,n):null;let g=-1,m=null;s&&(m=new ResizeObserver(E=>{let[I]=E;I&&I.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let b,w=l?Y0(t):null;l&&x();function x(){const E=Y0(t);w&&!rne(w,E)&&n(),w=E,b=requestAnimationFrame(x)}return n(),()=>{var E;d.forEach(I=>{i&&I.removeEventListener("scroll",n),a&&I.removeEventListener("resize",n)}),h?.(),(E=m)==null||E.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const CA=_8,ETe=nTe,_Te=rTe,ATe=QIe,CTe=iTe,STe=(t,e,n)=>{const r=new Map,i={platform:wTe,...n},a={...i.platform,_c:r};return XIe(t,e,{...i,platform:a})};var kTe=typeof document<"u",ITe=function(){},C5=kTe?k.useLayoutEffect:ITe;function S6(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!S6(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!S6(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function ine(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function jz(t,e){const n=ine(t);return Math.round(e*n)/n}function SA(t){const e=k.useRef(t);return C5(()=>{e.current=t}),e}function TTe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,h]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=k.useState(r);S6(g,r)||m(r);const[b,w]=k.useState(null),[x,E]=k.useState(null),I=k.useCallback(z=>{z!==T.current&&(T.current=z,w(z))},[]),C=k.useCallback(z=>{z!==O.current&&(O.current=z,E(z))},[]),N=a||b,A=s||x,T=k.useRef(null),O=k.useRef(null),H=k.useRef(d),U=l!=null,L=SA(l),G=SA(i),R=SA(u),F=k.useCallback(()=>{if(!T.current||!O.current)return;const z={placement:e,strategy:n,middleware:g};G.current&&(z.platform=G.current),STe(T.current,O.current,z).then(Y=>{const J={...Y,isPositioned:R.current!==!1};_.current&&!S6(H.current,J)&&(H.current=J,yd.flushSync(()=>{h(J)}))})},[g,e,n,G,R]);C5(()=>{u===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[u]);const _=k.useRef(!1);C5(()=>(_.current=!0,()=>{_.current=!1}),[]),C5(()=>{if(N&&(T.current=N),A&&(O.current=A),N&&A){if(L.current)return L.current(N,A,F);F()}},[N,A,F,L,U]);const S=k.useMemo(()=>({reference:T,floating:O,setReference:I,setFloating:C}),[I,C]),$=k.useMemo(()=>({reference:N,floating:A}),[N,A]),D=k.useMemo(()=>{const z={position:n,left:0,top:0};if(!$.floating)return z;const Y=jz($.floating,d.x),J=jz($.floating,d.y);return o?{...z,transform:"translate("+Y+"px, "+J+"px)",...ine($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:J}},[n,o,$.floating,d.x,d.y]);return k.useMemo(()=>({...d,update:F,refs:S,elements:$,floatingStyles:D}),[d,F,S,$,D])}const ane=(t,e)=>({...ETe(t),options:[t,e]}),$Te=(t,e)=>({..._Te(t),options:[t,e]}),NTe=(t,e)=>({...ATe(t),options:[t,e]}),PTe=(t,e)=>({...CTe(t),options:[t,e]}),sne={...zS},OTe=sne.useInsertionEffect,RTe=OTe||(t=>t());function one(t){const e=k.useRef(()=>{});return RTe(()=>{e.current=t}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var AI=typeof document<"u"?k.useLayoutEffect:k.useEffect;let Dz=!1,MTe=0;const Bz=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+MTe++;function jTe(){const[t,e]=k.useState(()=>Dz?Bz():void 0);return AI(()=>{t==null&&e(Bz())},[]),k.useEffect(()=>{Dz=!0},[]),t}const DTe=sne.useId,BTe=DTe||jTe;function UTe(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const LTe=k.createContext(null),FTe=k.createContext(null),zTe=()=>{var t;return((t=k.useContext(LTe))==null?void 0:t.id)||null},WTe=()=>k.useContext(FTe),HTe="data-floating-ui-focusable";function qTe(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=BTe(),a=k.useRef({}),[s]=k.useState(()=>UTe()),o=zTe()!=null,[l,u]=k.useState(r.reference),d=one((m,b,w)=>{a.current.openEvent=m?b:void 0,s.emit("openchange",{open:m,event:b,reason:w,nested:o}),n?.(m,b,w)}),h=k.useMemo(()=>({setPositionReference:u}),[]),g=k.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return k.useMemo(()=>({dataRef:a,open:e,onOpenChange:d,elements:g,events:s,floatingId:i,refs:h}),[e,d,g,s,i,h])}function VTe(t){t===void 0&&(t={});const{nodeId:e}=t,n=qTe({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[a,s]=k.useState(null),[o,l]=k.useState(null),d=i?.domReference||a,h=k.useRef(null),g=WTe();AI(()=>{d&&(h.current=d)},[d]);const m=TTe({...t,elements:{...i,...o&&{reference:o}}}),b=k.useCallback(C=>{const N=Ga(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;l(N),m.refs.setReference(N)},[m.refs]),w=k.useCallback(C=>{(Ga(C)||C===null)&&(h.current=C,s(C)),(Ga(m.refs.reference.current)||m.refs.reference.current===null||C!==null&&!Ga(C))&&m.refs.setReference(C)},[m.refs]),x=k.useMemo(()=>({...m.refs,setReference:w,setPositionReference:b,domReference:h}),[m.refs,w,b]),E=k.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),I=k.useMemo(()=>({...m,...r,refs:x,elements:E,nodeId:e}),[m,x,E,e,r]);return AI(()=>{r.dataRef.current.floatingContext=I;const C=g?.nodesRef.current.find(N=>N.id===e);C&&(C.context=I)}),k.useMemo(()=>({...m,context:I,refs:x,elements:E}),[m,x,E,I])}const Uz="active",Lz="selected";function kA(t,e,n){const r=new Map,i=n==="item";let a=t;if(i&&t){const{[Uz]:s,[Lz]:o,...l}=t;a=l}return{...n==="floating"&&{tabIndex:-1,[HTe]:""},...a,...e.map(s=>{const o=s?s[n]:null;return typeof o=="function"?t?o(t):null:o}).concat(t).reduce((s,o)=>(o&&Object.entries(o).forEach(l=>{let[u,d]=l;if(!(i&&[Uz,Lz].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof d=="function"){var h;(h=r.get(u))==null||h.push(d),s[u]=function(){for(var g,m=arguments.length,b=new Array(m),w=0;w<m;w++)b[w]=arguments[w];return(g=r.get(u))==null?void 0:g.map(x=>x(...b)).find(x=>x!==void 0)}}}else s[u]=d}),s),{})}}function GTe(t){t===void 0&&(t=[]);const e=t.map(o=>o?.reference),n=t.map(o=>o?.floating),r=t.map(o=>o?.item),i=k.useCallback(o=>kA(o,t,"reference"),e),a=k.useCallback(o=>kA(o,t,"floating"),n),s=k.useCallback(o=>kA(o,t,"item"),r);return k.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:s}),[i,a,s])}function Fz(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const KTe=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:a=0,index:s=0,minItemsVisible:o=4,referenceOverflowThreshold:l=0,scrollRef:u,...d}=km(t,e),{rects:h,elements:{floating:g}}=e,m=n.current[s],b=u?.current||g,w=g.clientTop||b.clientTop,x=g.clientTop!==0,E=b.clientTop!==0,I=g===b;if(!m)return{};const C={...e,...await ane(-m.offsetTop-g.clientTop-h.reference.height/2-m.offsetHeight/2-a).fn(e)},N=await CA(Fz(C,b.scrollHeight+w+g.clientTop),d),A=await CA(C,{...d,elementContext:"reference"}),T=$a(0,N.top),O=C.y+T,L=(b.scrollHeight>b.clientHeight?G=>G:gw)($a(0,b.scrollHeight+(x&&I||E?w*2:0)-T-$a(0,N.bottom)));if(b.style.maxHeight=L+"px",b.scrollTop=T,i){const G=b.offsetHeight<m.offsetHeight*K0(o,n.current.length)-1||A.top>=-l||A.bottom>=-l;yd.flushSync(()=>i(G))}return r&&(r.current=await CA(Fz({...C,y:O},b.offsetHeight+w+g.clientTop),d)),{y:O}}});function YTe(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:a,scrollRef:s,onChange:o}=e,l=one(o),u=k.useRef(!1),d=k.useRef(null),h=k.useRef(null);k.useEffect(()=>{if(!i)return;function m(w){if(w.ctrlKey||!b||a.current==null)return;const x=w.deltaY,E=a.current.top>=-.5,I=a.current.bottom>=-.5,C=b.scrollHeight-b.clientHeight,N=x<0?-1:1,A=x<0?"max":"min";b.scrollHeight<=b.clientHeight||(!E&&x>0||!I&&x<0?(w.preventDefault(),yd.flushSync(()=>{l(T=>T+Math[A](x,C*N))})):/firefox/i.test(LIe())&&(b.scrollTop+=x))}const b=s?.current||r.floating;if(n&&b)return b.addEventListener("wheel",m),requestAnimationFrame(()=>{d.current=b.scrollTop,a.current!=null&&(h.current={...a.current})}),()=>{d.current=null,h.current=null,b.removeEventListener("wheel",m)}},[i,n,r.floating,a,s,l]);const g=k.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const m=s?.current||r.floating;if(!(!a.current||!m||!u.current)){if(d.current!==null){const b=m.scrollTop-d.current;(a.current.bottom<-.5&&b<-1||a.current.top<-.5&&b>1)&&yd.flushSync(()=>l(w=>w+b))}requestAnimationFrame(()=>{d.current=m.scrollTop})}}}),[r.floating,l,a,s]);return k.useMemo(()=>i?{floating:g}:{},[i,g])}let Im=k.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Im.displayName="FloatingContext";let hP=k.createContext(null);hP.displayName="PlacementContext";function ZTe(t){return k.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function JTe(){return k.useContext(Im).setReference}function XTe(){return k.useContext(Im).getReferenceProps}function QTe(){let{getFloatingProps:t,slot:e}=k.useContext(Im);return k.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function e$e(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=k.useContext(hP),n=k.useMemo(()=>t,[JSON.stringify(t,(i,a)=>{var s;return(s=a?.outerHTML)!=null?s:a})]);Nr(()=>{e?.(n??null)},[e,n]);let r=k.useContext(Im);return k.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let zz=4;function t$e({children:t,enabled:e=!0}){let[n,r]=k.useState(null),[i,a]=k.useState(0),s=k.useRef(null),[o,l]=k.useState(null);n$e(o);let u=e&&n!==null&&o!==null,{to:d="bottom",gap:h=0,offset:g=0,padding:m=0,inner:b}=r$e(n,o),[w,x="center"]=d.split(" ");Nr(()=>{u&&a(0)},[u]);let{refs:E,floatingStyles:I,context:C}=VTe({open:u,placement:w==="selection"?x==="center"?"bottom":`bottom-${x}`:x==="center"?`${w}`:`${w}-${x}`,strategy:"absolute",transform:!1,middleware:[ane({mainAxis:w==="selection"?0:h,crossAxis:g}),$Te({padding:m}),w!=="selection"&&NTe({padding:m}),w==="selection"&&b?KTe({...b,padding:m,overflowRef:s,offset:i,minItemsVisible:zz,referenceOverflowThreshold:m,onFallbackChange(G){var R,F;if(!G)return;let _=C.elements.floating;if(!_)return;let S=parseFloat(getComputedStyle(_).scrollPaddingBottom)||0,$=Math.min(zz,_.childElementCount),D=0,z=0;for(let Y of(F=(R=C.elements.floating)==null?void 0:R.childNodes)!=null?F:[])if(po(Y)){let J=Y.offsetTop,V=J+Y.clientHeight+S,M=_.scrollTop,Q=M+_.clientHeight;if(J>=M&&V<=Q)$--;else{z=Math.max(0,Math.min(V,Q)-Math.max(J,M)),D=Y.clientHeight;break}}$>=1&&a(Y=>{let J=D*$-z+S;return Y>=J?Y:J})}}):null,PTe({padding:m,apply({availableWidth:G,availableHeight:R,elements:F}){Object.assign(F.floating.style,{overflow:"auto",maxWidth:`${G}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${R}px)`})}})].filter(Boolean),whileElementsMounted:xTe}),[N=w,A=x]=C.placement.split("-");w==="selection"&&(N="selection");let T=k.useMemo(()=>({anchor:[N,A].filter(Boolean).join(" ")}),[N,A]),O=YTe(C,{overflowRef:s,onChange:a}),{getReferenceProps:H,getFloatingProps:U}=GTe([O]),L=Jt(G=>{l(G),E.setFloating(G)});return k.createElement(hP.Provider,{value:r},k.createElement(Im.Provider,{value:{setFloating:L,setReference:E.setReference,styles:I,getReferenceProps:H,getFloatingProps:U,slot:T}},t))}function n$e(t){Nr(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function r$e(t,e){var n,r,i;let a=IA((n=t?.gap)!=null?n:"var(--anchor-gap, 0)",e),s=IA((r=t?.offset)!=null?r:"var(--anchor-offset, 0)",e),o=IA((i=t?.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:a,offset:s,padding:o}}function IA(t,e,n=void 0){let r=gp(),i=Jt((l,u)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[n,null];let d=Wz(l,u);return[d,h=>{let g=lne(l);{let m=g.map(b=>window.getComputedStyle(u).getPropertyValue(b));r.requestAnimationFrame(function b(){r.nextFrame(b);let w=!1;for(let[E,I]of g.entries()){let C=window.getComputedStyle(u).getPropertyValue(I);if(m[E]!==C){m[E]=C,w=!0;break}}if(!w)return;let x=Wz(l,u);d!==x&&(h(x),d=x)})}return r.dispose}]}return[n,null]}),a=k.useMemo(()=>i(t,e)[0],[t,e]),[s=a,o]=k.useState();return Nr(()=>{let[l,u]=i(t,e);if(o(l),!!u)return u(o)},[t,e]),s}function lne(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...lne(i)]:[r]}return[]}function Wz(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let C8=k.createContext(null);C8.displayName="OpenClosedContext";var Ka=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ka||{});function cv(){return k.useContext(C8)}function cne({value:t,children:e}){return at.createElement(C8.Provider,{value:t},e)}function i$e({children:t}){return at.createElement(C8.Provider,{value:null},t)}function a$e(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let qf=[];a$e(()=>{function t(e){if(!Xc(e.target)||e.target===document.body||qf[0]===e.target)return;let n=e.target;n=n.closest(_6),qf.unshift(n??e.target),qf=qf.filter(r=>r!=null&&r.isConnected),qf.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function s$e(t){throw new Error("Unexpected object: "+t)}var yi=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(yi||{});function vx(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let a=0;a<n.length;++a)if(!e.resolveDisabled(n[a],a,n))return a;return r}case 1:{i===-1&&(i=n.length);for(let a=i-1;a>=0;--a)if(!e.resolveDisabled(n[a],a,n))return a;return r}case 2:{for(let a=i+1;a<n.length;++a)if(!e.resolveDisabled(n[a],a,n))return a;return r}case 3:{for(let a=n.length-1;a>=0;--a)if(!e.resolveDisabled(n[a],a,n))return a;return r}case 4:{for(let a=0;a<n.length;++a)if(e.resolveId(n[a],a,n)===t.id)return a;return r}case 5:return null;default:s$e(t)}}function pP(t){let e=Jt(t),n=k.useRef(!1);k.useEffect(()=>(n.current=!1,()=>{n.current=!0,y8(()=>{n.current&&e()})}),[e])}let une=k.createContext(!1);function o$e(){return k.useContext(une)}function Hz(t){return at.createElement(une.Provider,{value:t.force},t.children)}function l$e(t){let e=o$e(),n=k.useContext(fne),[r,i]=k.useState(()=>{var a;if(!e&&n!==null)return(a=n.current)!=null?a:null;if(tu.isServer)return null;let s=t?.getElementById("headlessui-portal-root");if(s)return s;if(t===null)return null;let o=t.createElement("div");return o.setAttribute("id","headlessui-portal-root"),t.body.appendChild(o)});return k.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),k.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let dne=k.Fragment,c$e=Gr(function(t,e){let{ownerDocument:n=null,...r}=t,i=k.useRef(null),a=es(Eke(g=>{i.current=g}),e),s=hw(i.current),o=n??s,l=l$e(o),u=k.useContext(CI),d=gp(),h=Ei();return pP(()=>{var g;l&&l.childNodes.length<=0&&((g=l.parentElement)==null||g.removeChild(l))}),l?yd.createPortal(at.createElement("div",{"data-headlessui-portal":"",ref:g=>{d.dispose(),u&&g&&d.add(u.register(g))}},h({ourProps:{ref:a},theirProps:r,slot:{},defaultTag:dne,name:"Portal"})),l):null});function u$e(t,e){let n=es(e),{enabled:r=!0,ownerDocument:i,...a}=t,s=Ei();return r?at.createElement(c$e,{...a,ownerDocument:i,ref:n}):s({ourProps:{ref:n},theirProps:a,slot:{},defaultTag:dne,name:"Portal"})}let d$e=k.Fragment,fne=k.createContext(null);function f$e(t,e){let{target:n,...r}=t,i={ref:es(e)},a=Ei();return at.createElement(fne.Provider,{value:n},a({ourProps:i,theirProps:r,defaultTag:d$e,name:"Popover.Group"}))}let CI=k.createContext(null);function h$e(){let t=k.useContext(CI),e=k.useRef([]),n=Jt(a=>(e.current.push(a),t&&t.register(a),()=>r(a))),r=Jt(a=>{let s=e.current.indexOf(a);s!==-1&&e.current.splice(s,1),t&&t.unregister(a)}),i=k.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,k.useMemo(()=>function({children:a}){return at.createElement(CI.Provider,{value:i},a)},[i])]}let p$e=Gr(u$e),hne=Gr(f$e),pne=Object.assign(p$e,{Group:hne});const S5={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function gne(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function g$e(t,e,n){let r=Ms();if(e.kind==="Tracked"){let i=function(){a!==gne(t)&&(r.dispose(),n())},{position:a}=e,s=new ResizeObserver(i);s.observe(t),r.add(()=>s.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function m$e(t,e=typeof document<"u"?document.defaultView:null,n){let r=sv(t,"escape");Wte(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===Wi.Escape&&n(i))})}function y$e(){var t;let[e]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=k.useState((t=e?.matches)!=null?t:!1);return Nr(()=>{if(!e)return;function i(a){r(a.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function b$e({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Jt(()=>{var i,a;let s=pp(n),o=[];for(let l of t)l!==null&&(fd(l)?o.push(l):"current"in l&&fd(l.current)&&o.push(l.current));if(e!=null&&e.current)for(let l of e.current)o.push(l);for(let l of(i=s?.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&fd(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((a=n?.getRootNode())==null?void 0:a.host))||o.some(u=>l.contains(u))||o.push(l));return o});return{resolveContainers:r,contains:Jt(i=>r().some(a=>a.contains(i)))}}let mne=k.createContext(null);function qz({children:t,node:e}){let[n,r]=k.useState(null),i=yne(e??n);return at.createElement(mne.Provider,{value:i},t,i===null&&at.createElement(wI,{features:E6.Hidden,ref:a=>{var s,o;if(a){for(let l of(o=(s=pp(a))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?o:[])if(l!==document.body&&l!==document.head&&fd(l)&&l!=null&&l.contains(a)){r(l);break}}}}))}function yne(t=null){var e;return(e=k.useContext(mne))!=null?e:t}function w$e(){let t=typeof document>"u";return"useSyncExternalStore"in zS?(e=>e.useSyncExternalStore)(zS)(()=>()=>{},()=>!1,()=>!t):!1}function S8(){let t=w$e(),[e,n]=k.useState(tu.isHandoffComplete);return e&&tu.isHandoffComplete===!1&&n(!1),k.useEffect(()=>{e!==!0&&n(!0)},[e]),k.useEffect(()=>tu.handoff(),[]),t?!1:e}function gP(){let t=k.useRef(!1);return Nr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var j2=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(j2||{});function v$e(){let t=k.useRef(0);return Fte(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function bne(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)fd(n.current)&&e.add(n.current);return e}let x$e="div";var o0=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(o0||{});function E$e(t,e){let n=k.useRef(null),r=es(n,e),{initialFocus:i,initialFocusFallback:a,containers:s,features:o=15,...l}=t;S8()||(o=0);let u=hw(n.current);S$e(o,{ownerDocument:u});let d=k$e(o,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:a});I$e(o,{ownerDocument:u,container:n,containers:s,previousActiveElement:d});let h=v$e(),g=Jt(I=>{if(!po(n.current))return;let C=n.current;(N=>N())(()=>{oc(h.current,{[j2.Forwards]:()=>{Ag(C,ql.First,{skipElements:[I.relatedTarget,a]})},[j2.Backwards]:()=>{Ag(C,ql.Last,{skipElements:[I.relatedTarget,a]})}})})}),m=sv(!!(o&2),"focus-trap#tab-lock"),b=gp(),w=k.useRef(!1),x={ref:r,onKeyDown(I){I.key=="Tab"&&(w.current=!0,b.requestAnimationFrame(()=>{w.current=!1}))},onBlur(I){if(!(o&4))return;let C=bne(s);po(n.current)&&C.add(n.current);let N=I.relatedTarget;Xc(N)&&N.dataset.headlessuiFocusGuard!=="true"&&(wne(C,N)||(w.current?Ag(n.current,oc(h.current,{[j2.Forwards]:()=>ql.Next,[j2.Backwards]:()=>ql.Previous})|ql.WrapAround,{relativeTo:I.target}):Xc(I.target)&&nu(I.target)))}},E=Ei();return at.createElement(at.Fragment,null,m&&at.createElement(wI,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:E6.Focusable}),E({ourProps:x,theirProps:l,defaultTag:x$e,name:"FocusTrap"}),m&&at.createElement(wI,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:E6.Focusable}))}let _$e=Gr(E$e),A$e=Object.assign(_$e,{features:o0});function C$e(t=!0){let e=k.useRef(qf.slice());return cP(([n],[r])=>{r===!0&&n===!1&&y8(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=qf.slice())},[t,qf,e]),Jt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function S$e(t,{ownerDocument:e}){let n=!!(t&8),r=C$e(n);cP(()=>{n||mte(e?.body)&&nu(r())},[n]),pP(()=>{n&&nu(r())})}function k$e(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let a=k.useRef(null),s=sv(!!(t&1),"focus-trap#initial-focus"),o=gP();return cP(()=>{if(t===0)return;if(!s){i!=null&&i.current&&nu(i.current);return}let l=n.current;l&&y8(()=>{if(!o.current)return;let u=e?.activeElement;if(r!=null&&r.current){if(r?.current===u){a.current=u;return}}else if(l.contains(u)){a.current=u;return}if(r!=null&&r.current)nu(r.current);else{if(t&16){if(Ag(l,ql.First|ql.AutoFocus)!==xI.Error)return}else if(Ag(l,ql.First)!==xI.Error)return;if(i!=null&&i.current&&(nu(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=e?.activeElement})},[i,s,t]),a}function I$e(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let a=gP(),s=!!(t&4);Wte(e?.defaultView,"focus",o=>{if(!s||!a.current)return;let l=bne(r);po(n.current)&&l.add(n.current);let u=i.current;if(!u)return;let d=o.target;po(d)?wne(l,d)?(i.current=d,nu(d)):(o.preventDefault(),o.stopPropagation(),nu(u)):nu(i.current)},!0)}function wne(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function vne(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!eb((e=t.as)!=null?e:Ene)||at.Children.count(t.children)===1}let k8=k.createContext(null);k8.displayName="TransitionContext";var T$e=(t=>(t.Visible="visible",t.Hidden="hidden",t))(T$e||{});function $$e(){let t=k.useContext(k8);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function N$e(){let t=k.useContext(I8);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let I8=k.createContext(null);I8.displayName="NestingContext";function T8(t){return"children"in t?T8(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function xne(t,e){let n=mp(t),r=k.useRef([]),i=gP(),a=gp(),s=Jt((m,b=Jf.Hidden)=>{let w=r.current.findIndex(({el:x})=>x===m);w!==-1&&(oc(b,{[Jf.Unmount](){r.current.splice(w,1)},[Jf.Hidden](){r.current[w].state="hidden"}}),a.microTask(()=>{var x;!T8(r)&&i.current&&((x=n.current)==null||x.call(n))}))}),o=Jt(m=>{let b=r.current.find(({el:w})=>w===m);return b?b.state!=="visible"&&(b.state="visible"):r.current.push({el:m,state:"visible"}),()=>s(m,Jf.Unmount)}),l=k.useRef([]),u=k.useRef(Promise.resolve()),d=k.useRef({enter:[],leave:[]}),h=Jt((m,b,w)=>{l.current.splice(0),e&&(e.chains.current[b]=e.chains.current[b].filter(([x])=>x!==m)),e?.chains.current[b].push([m,new Promise(x=>{l.current.push(x)})]),e?.chains.current[b].push([m,new Promise(x=>{Promise.all(d.current[b].map(([E,I])=>I)).then(()=>x())})]),b==="enter"?u.current=u.current.then(()=>e?.wait.current).then(()=>w(b)):w(b)}),g=Jt((m,b,w)=>{Promise.all(d.current[b].splice(0).map(([x,E])=>E)).then(()=>{var x;(x=l.current.shift())==null||x()}).then(()=>w(b))});return k.useMemo(()=>({children:r,register:o,unregister:s,onStart:h,onStop:g,wait:u,chains:d}),[o,s,r,h,g,d,u])}let Ene=k.Fragment,_ne=Yg.RenderStrategy;function P$e(t,e){var n,r;let{transition:i=!0,beforeEnter:a,afterEnter:s,beforeLeave:o,afterLeave:l,enter:u,enterFrom:d,enterTo:h,entered:g,leave:m,leaveFrom:b,leaveTo:w,...x}=t,[E,I]=k.useState(null),C=k.useRef(null),N=vne(t),A=es(...N?[C,e,I]:e===null?[]:[e]),T=(n=x.unmount)==null||n?Jf.Unmount:Jf.Hidden,{show:O,appear:H,initial:U}=$$e(),[L,G]=k.useState(O?"visible":"hidden"),R=N$e(),{register:F,unregister:_}=R;Nr(()=>F(C),[F,C]),Nr(()=>{if(T===Jf.Hidden&&C.current){if(O&&L!=="visible"){G("visible");return}return oc(L,{hidden:()=>_(C),visible:()=>F(C)})}},[L,C,F,_,O,T]);let S=S8();Nr(()=>{if(N&&S&&L==="visible"&&C.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[C,L,S,N]);let $=U&&!H,D=H&&O&&U,z=k.useRef(!1),Y=xne(()=>{z.current||(G("hidden"),_(C))},R),J=Jt(le=>{z.current=!0;let de=le?"enter":"leave";Y.onStart(C,de,he=>{he==="enter"?a?.():he==="leave"&&o?.()})}),V=Jt(le=>{let de=le?"enter":"leave";z.current=!1,Y.onStop(C,de,he=>{he==="enter"?s?.():he==="leave"&&l?.()}),de==="leave"&&!T8(Y)&&(G("hidden"),_(C))});k.useEffect(()=>{N&&i||(J(O),V(O))},[O,N,i]);let M=!(!i||!N||!S||$),[,Q]=Vte(M,E,O,{start:J,end:V}),ne=e0({ref:A,className:((r=bI(x.className,D&&u,D&&d,Q.enter&&u,Q.enter&&Q.closed&&d,Q.enter&&!Q.closed&&h,Q.leave&&m,Q.leave&&!Q.closed&&b,Q.leave&&Q.closed&&w,!Q.transition&&O&&g))==null?void 0:r.trim())||void 0,...qte(Q)}),K=0;L==="visible"&&(K|=Ka.Open),L==="hidden"&&(K|=Ka.Closed),O&&L==="hidden"&&(K|=Ka.Opening),!O&&L==="visible"&&(K|=Ka.Closing);let se=Ei();return at.createElement(I8.Provider,{value:Y},at.createElement(cne,{value:K},se({ourProps:ne,theirProps:x,defaultTag:Ene,features:_ne,visible:L==="visible",name:"Transition.Child"})))}function O$e(t,e){let{show:n,appear:r=!1,unmount:i=!0,...a}=t,s=k.useRef(null),o=vne(t),l=es(...o?[s,e]:e===null?[]:[e]);S8();let u=cv();if(n===void 0&&u!==null&&(n=(u&Ka.Open)===Ka.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,h]=k.useState(n?"visible":"hidden"),g=xne(()=>{n||h("hidden")}),[m,b]=k.useState(!0),w=k.useRef([n]);Nr(()=>{m!==!1&&w.current[w.current.length-1]!==n&&(w.current.push(n),b(!1))},[w,n]);let x=k.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);Nr(()=>{n?h("visible"):!T8(g)&&s.current!==null&&h("hidden")},[n,g]);let E={unmount:i},I=Jt(()=>{var A;m&&b(!1),(A=t.beforeEnter)==null||A.call(t)}),C=Jt(()=>{var A;m&&b(!1),(A=t.beforeLeave)==null||A.call(t)}),N=Ei();return at.createElement(I8.Provider,{value:g},at.createElement(k8.Provider,{value:x},N({ourProps:{...E,as:k.Fragment,children:at.createElement(Ane,{ref:l,...E,...a,beforeEnter:I,beforeLeave:C})},theirProps:{},defaultTag:k.Fragment,features:_ne,visible:d==="visible",name:"Transition"})))}function R$e(t,e){let n=k.useContext(k8)!==null,r=cv()!==null;return at.createElement(at.Fragment,null,!n&&r?at.createElement(SI,{ref:e,...t}):at.createElement(Ane,{ref:e,...t}))}let SI=Gr(O$e),Ane=Gr(P$e),mw=Gr(R$e),Cne=Object.assign(SI,{Child:mw,Root:SI});var M$e=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(M$e||{}),j$e=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(j$e||{});let D$e={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},mP=k.createContext(null);mP.displayName="DialogContext";function $8(t){let e=k.useContext(mP);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$8),n}return e}function B$e(t,e){return oc(e.type,D$e,t,e)}let Vz=Gr(function(t,e){let n=k.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:a,initialFocus:s,role:o="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:d=!1,...h}=t,g=k.useRef(!1);o=(function(){return o==="dialog"||o==="alertdialog"?o:(g.current||(g.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let m=cv();i===void 0&&m!==null&&(i=(m&Ka.Open)===Ka.Open);let b=k.useRef(null),w=es(b,e),x=hw(b.current),E=i?0:1,[I,C]=k.useReducer(B$e,{titleId:null,descriptionId:null,panelRef:k.createRef()}),N=Jt(()=>a(!1)),A=Jt(Q=>C({type:0,id:Q})),T=S8()?E===0:!1,[O,H]=h$e(),U={get current(){var Q;return(Q=I.panelRef.current)!=null?Q:b.current}},L=yne(),{resolveContainers:G}=b$e({mainTreeNode:L,portals:O,defaultContainers:[U]}),R=m!==null?(m&Ka.Closing)===Ka.Closing:!1;Mte(u||R?!1:T,{allowed:Jt(()=>{var Q,ne;return[(ne=(Q=b.current)==null?void 0:Q.closest("[data-headlessui-portal]"))!=null?ne:null]}),disallowed:Jt(()=>{var Q;return[(Q=L?.closest("body > *:not(#headlessui-portal-root)"))!=null?Q:null]})});let F=w8.get(null);Nr(()=>{if(T)return F.actions.push(r),()=>F.actions.pop(r)},[F,r,T]);let _=tl(F,k.useCallback(Q=>F.selectors.isTop(Q,r),[F,r]));zte(_,G,Q=>{Q.preventDefault(),N()}),m$e(_,x?.defaultView,Q=>{Q.preventDefault(),Q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),N()}),Hte(u||R?!1:T,x,G),jte(T,b,N);let[S,$]=Cte(),D=k.useMemo(()=>[{dialogState:E,close:N,setTitleId:A,unmount:d},I],[E,N,A,d,I]),z=gu({open:E===0}),Y={ref:w,id:r,role:o,tabIndex:-1,"aria-modal":u?void 0:E===0?!0:void 0,"aria-labelledby":I.titleId,"aria-describedby":S,unmount:d},J=!y$e(),V=o0.None;T&&!u&&(V|=o0.RestoreFocus,V|=o0.TabLock,l&&(V|=o0.AutoFocus),J&&(V|=o0.InitialFocus));let M=Ei();return at.createElement(i$e,null,at.createElement(Hz,{force:!0},at.createElement(pne,null,at.createElement(mP.Provider,{value:D},at.createElement(hne,{target:b},at.createElement(Hz,{force:!1},at.createElement($,{slot:z},at.createElement(H,null,at.createElement(A$e,{initialFocus:s,initialFocusFallback:b,containers:G,features:V},at.createElement(Pke,{value:N},M({ourProps:Y,theirProps:h,slot:z,defaultTag:U$e,features:L$e,visible:E===0,name:"Dialog"})))))))))))}),U$e="div",L$e=Yg.RenderStrategy|Yg.Static;function F$e(t,e){let{transition:n=!1,open:r,...i}=t,a=cv(),s=t.hasOwnProperty("open")||a!==null,o=t.hasOwnProperty("onClose");if(!s&&!o)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?at.createElement(qz,null,at.createElement(Cne,{show:r,transition:n,unmount:i.unmount},at.createElement(Vz,{ref:e,...i}))):at.createElement(qz,null,at.createElement(Vz,{ref:e,open:r,...i}))}let z$e="div";function W$e(t,e){let n=k.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...a}=t,[{dialogState:s,unmount:o},l]=$8("Dialog.Panel"),u=es(e,l.panelRef),d=gu({open:s===0}),h=Jt(x=>{x.stopPropagation()}),g={ref:u,id:r,onClick:h},m=i?mw:k.Fragment,b=i?{unmount:o}:{},w=Ei();return at.createElement(m,{...b},w({ourProps:g,theirProps:a,slot:d,defaultTag:z$e,name:"Dialog.Panel"}))}let H$e="div";function q$e(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:a}]=$8("Dialog.Backdrop"),s=gu({open:i===0}),o={ref:e,"aria-hidden":!0},l=n?mw:k.Fragment,u=n?{unmount:a}:{},d=Ei();return at.createElement(l,{...u},d({ourProps:o,theirProps:r,slot:s,defaultTag:H$e,name:"Dialog.Backdrop"}))}let V$e="h2";function G$e(t,e){let n=k.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:a,setTitleId:s}]=$8("Dialog.Title"),o=es(e);k.useEffect(()=>(s(r),()=>s(null)),[r,s]);let l=gu({open:a===0}),u={ref:o,id:r};return Ei()({ourProps:u,theirProps:i,slot:l,defaultTag:V$e,name:"Dialog.Title"})}let K$e=Gr(F$e),Sne=Gr(W$e);Gr(q$e);let Y$e=Gr(G$e),Z$e=Object.assign(K$e,{Panel:Sne,Title:Y$e,Description:Ske}),Gz=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Kz(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!po(i))return r;let a=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),a=!0;let s=a?(n=i.innerText)!=null?n:"":r;return Gz.test(s)&&(s=s.replace(Gz,"")),s}function J$e(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let a=document.getElementById(i);if(a){let s=a.getAttribute("aria-label");return typeof s=="string"?s.trim():Kz(a).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Kz(t).trim()}function X$e(t){let e=k.useRef(""),n=k.useRef("");return Jt(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let a=J$e(r).trim().toLowerCase();return e.current=i,n.current=a,a})}var Q$e=Object.defineProperty,eNe=(t,e,n)=>e in t?Q$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yz=(t,e,n)=>(eNe(t,typeof e!="symbol"?e+"":e,n),n),Ia=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ia||{}),k6=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(k6||{}),mr=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(mr||{});function Zz(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=Ute(e(t.items.slice()),a=>a.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let tNe={1(t){if(t.menuState===1)return t;let e=t.buttonElement?S5.Tracked(gne(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:yi.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:S5.Idle}},2:(t,e)=>{var n,r,i,a,s;if(t.menuState===1)return t;let o={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===yi.Nothing)return{...o,activeItemIndex:null};if(e.focus===yi.Specific)return{...o,activeItemIndex:t.items.findIndex(d=>d.id===e.id)};if(e.focus===yi.Previous){let d=t.activeItemIndex;if(d!==null){let h=t.items[d].dataRef.current.domRef,g=vx(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(g!==null){let m=t.items[g].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===m.current||((i=m.current)==null?void 0:i.previousElementSibling)===null)return{...o,activeItemIndex:g}}}}else if(e.focus===yi.Next){let d=t.activeItemIndex;if(d!==null){let h=t.items[d].dataRef.current.domRef,g=vx(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(g!==null){let m=t.items[g].dataRef.current.domRef;if(((a=h.current)==null?void 0:a.nextElementSibling)===m.current||((s=m.current)==null?void 0:s.nextElementSibling)===null)return{...o,activeItemIndex:g}}}}let l=Zz(t),u=vx(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...o,...l,activeItemIndex:u}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(s=>{var o;return((o=s.dataRef.current.textValue)==null?void 0:o.startsWith(r))&&!s.dataRef.current.disabled}),a=i?t.items.indexOf(i):-1;return a===-1||a===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:a,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=t.items.concat(e.items.map(i=>i)),r=t.activeItemIndex;return t.pendingFocus.focus!==yi.Nothing&&(r=vx(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:n,activeItemIndex:r,pendingFocus:{focus:yi.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.items,r=[],i=new Set(e.items);for(let[a,s]of n.entries())if(i.has(s.id)&&(r.push(a),i.delete(s.id),i.size===0))break;if(r.length>0){n=n.slice();for(let a of r.reverse())n.splice(a,1)}return{...t,items:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...Zz(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:S5.Moved}}},nNe=class kne extends Nte{constructor(e){super(e),Yz(this,"actions",{registerItem:gz(()=>{let n=[],r=new Set;return[(i,a)=>{r.has(a)||(r.add(a),n.push({id:i,dataRef:a}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:gz(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),Yz(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,a=n.items;return i===null||(r=a[i])==null?void 0:r.id},isActive(n,r){var i;let a=n.activeItemIndex,s=n.items;return a!==null?((i=s[a])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=w8.get(null);this.disposables.add(r.on(Ote.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(g$e(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:n=!1}){return new kne({id:e,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:yi.Nothing},buttonPositionState:S5.Idle})}reduce(e,n){return oc(n.type,tNe,e,n)}};const Ine=k.createContext(null);function yP(t){let e=k.useContext(Ine);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Tne),n}return e}function Tne({id:t,__demoMode:e=!1}){let n=k.useMemo(()=>nNe.new({id:t,__demoMode:e}),[]);return pP(()=>n.dispose()),n}let rNe=k.Fragment;function iNe(t,e){let n=k.useId(),{__demoMode:r=!1,...i}=t,a=Tne({id:n,__demoMode:r}),[s,o,l]=tl(a,x=>[x.menuState,x.itemsElement,x.buttonElement]),u=es(e),d=w8.get(null),h=tl(d,k.useCallback(x=>d.selectors.isTop(x,n),[d,n]));zte(h,[l,o],(x,E)=>{var I;a.send({type:mr.CloseMenu}),lP(E,oP.Loose)||(x.preventDefault(),(I=a.state.buttonElement)==null||I.focus())});let g=Jt(()=>{a.send({type:mr.CloseMenu})}),m=gu({open:s===Ia.Open,close:g}),b={ref:u},w=Ei();return at.createElement(t$e,null,at.createElement(Ine.Provider,{value:a},at.createElement(cne,{value:oc(s,{[Ia.Open]:Ka.Open,[Ia.Closed]:Ka.Closed})},w({ourProps:b,theirProps:i,slot:m,defaultTag:rNe,name:"Menu"}))))}let aNe="button";function sNe(t,e){let n=yP("Menu.Button"),r=k.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:a=!1,autoFocus:s=!1,...o}=t,l=k.useRef(null),u=XTe(),d=es(e,l,JTe(),Jt(L=>n.send({type:mr.SetButtonElement,element:L}))),h=Jt(L=>{switch(L.key){case Wi.Space:case Wi.Enter:case Wi.ArrowDown:L.preventDefault(),L.stopPropagation(),n.send({type:mr.OpenMenu,focus:{focus:yi.First}});break;case Wi.ArrowUp:L.preventDefault(),L.stopPropagation(),n.send({type:mr.OpenMenu,focus:{focus:yi.Last}});break}}),g=Jt(L=>{switch(L.key){case Wi.Space:L.preventDefault();break}}),[m,b,w]=tl(n,L=>[L.menuState,L.buttonElement,L.itemsElement]),x=m===Ia.Open;pIe(x,{trigger:b,action:k.useCallback(L=>{if(b!=null&&b.contains(L.target))return bx.Ignore;let G=L.target.closest('[role="menuitem"]:not([data-disabled])');return po(G)?bx.Select(G):w!=null&&w.contains(L.target)?bx.Ignore:bx.Close},[b,w]),close:k.useCallback(()=>n.send({type:mr.CloseMenu}),[]),select:k.useCallback(L=>L.click(),[])});let E=Vke(L=>{var G;a||(m===Ia.Open?(yd.flushSync(()=>n.send({type:mr.CloseMenu})),(G=l.current)==null||G.focus({preventScroll:!0})):(L.preventDefault(),n.send({type:mr.OpenMenu,focus:{focus:yi.Nothing},trigger:k6.Pointer})))}),{isFocusVisible:I,focusProps:C}=eke({autoFocus:s}),{isHovered:N,hoverProps:A}=QSe({isDisabled:a}),{pressed:T,pressProps:O}=ske({disabled:a}),H=gu({open:m===Ia.Open,active:T||m===Ia.Open,disabled:a,hover:N,focus:I,autofocus:s}),U=wte(u(),{ref:d,id:i,type:gIe(t,l.current),"aria-haspopup":"menu","aria-controls":w?.id,"aria-expanded":m===Ia.Open,disabled:a||void 0,autoFocus:s,onKeyDown:h,onKeyUp:g},E,C,A,O);return Ei()({ourProps:U,theirProps:o,slot:H,defaultTag:aNe,name:"Menu.Button"})}let oNe="div",lNe=Yg.RenderStrategy|Yg.Static;function cNe(t,e){let n=k.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:a=!1,modal:s=!0,transition:o=!1,...l}=t,u=ZTe(i),d=yP("Menu.Items"),[h,g]=e$e(u),m=QTe(),[b,w]=k.useState(null),x=es(e,u?h:null,Jt(z=>d.send({type:mr.SetItemsElement,element:z})),w),[E,I]=tl(d,z=>[z.menuState,z.buttonElement]),C=hw(I),N=hw(b);u&&(a=!0);let A=cv(),[T,O]=Vte(o,b,A!==null?(A&Ka.Open)===Ka.Open:E===Ia.Open);jte(T,I,()=>{d.send({type:mr.CloseMenu})});let H=tl(d,z=>z.__demoMode),U=H?!1:s&&E===Ia.Open;Hte(U,N);let L=H?!1:s&&E===Ia.Open;Mte(L,{allowed:k.useCallback(()=>[I,b],[I,b])});let G=tl(d,d.selectors.didButtonMove)?!1:T;k.useEffect(()=>{let z=b;z&&E===Ia.Open&&(mte(z)||z.focus({preventScroll:!0}))},[E,b]),$Ie(E===Ia.Open,{container:b,accept(z){return z.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:z.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(z){z.setAttribute("role","none")}});let R=gp(),F=Jt(z=>{var Y,J,V;switch(R.dispose(),z.key){case Wi.Space:if(d.state.searchQuery!=="")return z.preventDefault(),z.stopPropagation(),d.send({type:mr.Search,value:z.key});case Wi.Enter:if(z.preventDefault(),z.stopPropagation(),d.state.activeItemIndex!==null){let{dataRef:M}=d.state.items[d.state.activeItemIndex];(J=(Y=M.current)==null?void 0:Y.domRef.current)==null||J.click()}d.send({type:mr.CloseMenu}),Bte(d.state.buttonElement);break;case Wi.ArrowDown:return z.preventDefault(),z.stopPropagation(),d.send({type:mr.GoToItem,focus:yi.Next});case Wi.ArrowUp:return z.preventDefault(),z.stopPropagation(),d.send({type:mr.GoToItem,focus:yi.Previous});case Wi.Home:case Wi.PageUp:return z.preventDefault(),z.stopPropagation(),d.send({type:mr.GoToItem,focus:yi.First});case Wi.End:case Wi.PageDown:return z.preventDefault(),z.stopPropagation(),d.send({type:mr.GoToItem,focus:yi.Last});case Wi.Escape:z.preventDefault(),z.stopPropagation(),yd.flushSync(()=>d.send({type:mr.CloseMenu})),(V=d.state.buttonElement)==null||V.focus({preventScroll:!0});break;case Wi.Tab:z.preventDefault(),z.stopPropagation(),yd.flushSync(()=>d.send({type:mr.CloseMenu})),uIe(d.state.buttonElement,z.shiftKey?ql.Previous:ql.Next);break;default:z.key.length===1&&(d.send({type:mr.Search,value:z.key}),R.setTimeout(()=>d.send({type:mr.ClearSearch}),350));break}}),_=Jt(z=>{switch(z.key){case Wi.Space:z.preventDefault();break}}),S=gu({open:E===Ia.Open}),$=wte(u?m():{},{"aria-activedescendant":tl(d,d.selectors.activeDescendantId),"aria-labelledby":tl(d,z=>{var Y;return(Y=z.buttonElement)==null?void 0:Y.id}),id:r,onKeyDown:F,onKeyUp:_,role:"menu",tabIndex:E===Ia.Open?0:void 0,ref:x,style:{...l.style,...g,"--button-width":qke(T,I,!0).width},...qte(O)}),D=Ei();return at.createElement(pne,{enabled:a?t.static||T:!1,ownerDocument:C},D({ourProps:$,theirProps:l,slot:S,defaultTag:oNe,features:lNe,visible:G,name:"Menu.Items"}))}let uNe=k.Fragment;function dNe(t,e){let n=k.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...a}=t,s=yP("Menu.Item"),o=tl(s,G=>s.selectors.isActive(G,r)),l=k.useRef(null),u=es(e,l),d=tl(s,G=>s.selectors.shouldScrollIntoView(G,r));Nr(()=>{if(d)return Ms().requestAnimationFrame(()=>{var G,R;(R=(G=l.current)==null?void 0:G.scrollIntoView)==null||R.call(G,{block:"nearest"})})},[d,l]);let h=X$e(l),g=k.useRef({disabled:i,domRef:l,get textValue(){return h()}});Nr(()=>{g.current.disabled=i},[g,i]),Nr(()=>(s.actions.registerItem(r,g),()=>s.actions.unregisterItem(r)),[g,r]);let m=Jt(()=>{s.send({type:mr.CloseMenu})}),b=Jt(G=>{if(i)return G.preventDefault();s.send({type:mr.CloseMenu}),Bte(s.state.buttonElement)}),w=Jt(()=>{if(i)return s.send({type:mr.GoToItem,focus:yi.Nothing});s.send({type:mr.GoToItem,focus:yi.Specific,id:r})}),x=EIe(),E=Jt(G=>x.update(G)),I=Jt(G=>{x.wasMoved(G)&&(i||o||s.send({type:mr.GoToItem,focus:yi.Specific,id:r,trigger:k6.Pointer}))}),C=Jt(G=>{x.wasMoved(G)&&(i||o&&s.state.activationTrigger===k6.Pointer&&s.send({type:mr.GoToItem,focus:yi.Nothing}))}),[N,A]=Ste(),[T,O]=Cte(),H=gu({active:o,focus:o,disabled:i,close:m}),U={id:r,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":N,"aria-describedby":T,disabled:void 0,onClick:b,onFocus:w,onPointerEnter:E,onMouseEnter:E,onPointerMove:I,onMouseMove:I,onPointerLeave:C,onMouseLeave:C},L=Ei();return at.createElement(A,null,at.createElement(O,null,L({ourProps:U,theirProps:a,slot:H,defaultTag:uNe,name:"Menu.Item"})))}let fNe="div";function hNe(t,e){let[n,r]=Ste(),i=t,a={ref:e,"aria-labelledby":n,role:"group"},s=Ei();return at.createElement(r,null,s({ourProps:a,theirProps:i,slot:{},defaultTag:fNe,name:"Menu.Section"}))}let pNe="header";function gNe(t,e){let n=k.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,a=sP();Nr(()=>a.register(r),[r,a.register]);let s={id:r,ref:e,role:"presentation",...a.props};return Ei()({ourProps:s,theirProps:i,slot:{},defaultTag:pNe,name:"Menu.Heading"})}let mNe="div";function yNe(t,e){let n=t,r={ref:e,role:"separator"};return Ei()({ourProps:r,theirProps:n,slot:{},defaultTag:mNe,name:"Menu.Separator"})}let bNe=Gr(iNe),$ne=Gr(sNe),Nne=Gr(cNe),Pne=Gr(dNe),wNe=Gr(hNe),vNe=Gr(gNe),xNe=Gr(yNe),ENe=Object.assign(bNe,{Button:$ne,Items:Nne,Item:Pne,Section:wNe,Heading:vNe,Separator:xNe});const _Ne=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),One=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var ANe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CNe=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>k.createElement("svg",{ref:l,...ANe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:One("lucide",i),...o},[...s.map(([u,d])=>k.createElement(u,d)),...Array.isArray(a)?a:[a]]));const Kr=(t,e)=>{const n=k.forwardRef(({className:r,...i},a)=>k.createElement(CNe,{ref:a,iconNode:e,className:One(`lucide-${_Ne(t)}`,r),...i}));return n.displayName=`${t}`,n};const SNe=Kr("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);const kNe=Kr("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);const yw=Kr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Rne=Kr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const uv=Kr("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const INe=Kr("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const TNe=Kr("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const N8=Kr("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const $Ne=Kr("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);const I6=Kr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const kI=Kr("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const NNe=Kr("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);const T6=Kr("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);const bP=Kr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const wP=Kr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const PNe=Kr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Mne=Kr("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const ONe=Kr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const RNe=Kr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Vs=Kr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const MNe=Kr("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const jNe=Kr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var xx={exports:{}},Jz;function DNe(){if(Jz)return xx.exports;Jz=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(A,T,O){return Function.prototype.apply.call(A,T,O)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:n=function(A){return Object.getOwnPropertyNames(A)};function r(N){console&&console.warn&&console.warn(N)}var i=Number.isNaN||function(A){return A!==A};function a(){a.init.call(this)}xx.exports=a,xx.exports.once=E,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(N){if(typeof N!="number"||N<0||i(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");s=N}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function l(N){return N._maxListeners===void 0?a.defaultMaxListeners:N._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(A){for(var T=[],O=1;O<arguments.length;O++)T.push(arguments[O]);var H=A==="error",U=this._events;if(U!==void 0)H=H&&U.error===void 0;else if(!H)return!1;if(H){var L;if(T.length>0&&(L=T[0]),L instanceof Error)throw L;var G=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw G.context=L,G}var R=U[A];if(R===void 0)return!1;if(typeof R=="function")e(R,this,T);else for(var F=R.length,_=b(R,F),O=0;O<F;++O)e(_[O],this,T);return!0};function u(N,A,T,O){var H,U,L;if(o(T),U=N._events,U===void 0?(U=N._events=Object.create(null),N._eventsCount=0):(U.newListener!==void 0&&(N.emit("newListener",A,T.listener?T.listener:T),U=N._events),L=U[A]),L===void 0)L=U[A]=T,++N._eventsCount;else if(typeof L=="function"?L=U[A]=O?[T,L]:[L,T]:O?L.unshift(T):L.push(T),H=l(N),H>0&&L.length>H&&!L.warned){L.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=N,G.type=A,G.count=L.length,r(G)}return N}a.prototype.addListener=function(A,T){return u(this,A,T,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(A,T){return u(this,A,T,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(N,A,T){var O={fired:!1,wrapFn:void 0,target:N,type:A,listener:T},H=d.bind(O);return H.listener=T,O.wrapFn=H,H}a.prototype.once=function(A,T){return o(T),this.on(A,h(this,A,T)),this},a.prototype.prependOnceListener=function(A,T){return o(T),this.prependListener(A,h(this,A,T)),this},a.prototype.removeListener=function(A,T){var O,H,U,L,G;if(o(T),H=this._events,H===void 0)return this;if(O=H[A],O===void 0)return this;if(O===T||O.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete H[A],H.removeListener&&this.emit("removeListener",A,O.listener||T));else if(typeof O!="function"){for(U=-1,L=O.length-1;L>=0;L--)if(O[L]===T||O[L].listener===T){G=O[L].listener,U=L;break}if(U<0)return this;U===0?O.shift():w(O,U),O.length===1&&(H[A]=O[0]),H.removeListener!==void 0&&this.emit("removeListener",A,G||T)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(A){var T,O,H;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[A]),this;if(arguments.length===0){var U=Object.keys(O),L;for(H=0;H<U.length;++H)L=U[H],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=O[A],typeof T=="function")this.removeListener(A,T);else if(T!==void 0)for(H=T.length-1;H>=0;H--)this.removeListener(A,T[H]);return this};function g(N,A,T){var O=N._events;if(O===void 0)return[];var H=O[A];return H===void 0?[]:typeof H=="function"?T?[H.listener||H]:[H]:T?x(H):b(H,H.length)}a.prototype.listeners=function(A){return g(this,A,!0)},a.prototype.rawListeners=function(A){return g(this,A,!1)},a.listenerCount=function(N,A){return typeof N.listenerCount=="function"?N.listenerCount(A):m.call(N,A)},a.prototype.listenerCount=m;function m(N){var A=this._events;if(A!==void 0){var T=A[N];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(N,A){for(var T=new Array(A),O=0;O<A;++O)T[O]=N[O];return T}function w(N,A){for(;A+1<N.length;A++)N[A]=N[A+1];N.pop()}function x(N){for(var A=new Array(N.length),T=0;T<A.length;++T)A[T]=N[T].listener||N[T];return A}function E(N,A){return new Promise(function(T,O){function H(L){N.removeListener(A,U),O(L)}function U(){typeof N.removeListener=="function"&&N.removeListener("error",H),T([].slice.call(arguments))}C(N,A,U,{once:!0}),A!=="error"&&I(N,H,{once:!0})})}function I(N,A,T){typeof N.on=="function"&&C(N,"error",A,T)}function C(N,A,T,O){if(typeof N.on=="function")O.once?N.once(A,T):N.on(A,T);else if(typeof N.addEventListener=="function")N.addEventListener(A,function H(U){O.once&&N.removeEventListener(A,H),T(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return xx.exports}var wo=DNe();const vP=ja(wo);var Xz=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},BNe=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t})(),UNe=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=Er.platform}return t})(),LNe=(function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t})(),FNe=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),zNe=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),WNe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,HNe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Qz=3,qNe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",WNe]],eW=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function VNe(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new zNe:typeof navigator<"u"?KNe(navigator.userAgent):ZNe()}function GNe(t){return t!==""&&qNe.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var a=i.exec(t);return!!a&&[r,a]},!1)}function KNe(t){var e=GNe(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new FNe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<Qz&&(i=Xz(Xz([],i,!0),JNe(Qz-i.length),!0)):i=[];var a=i.join("."),s=YNe(t),o=HNe.exec(t);return o&&o[1]?new LNe(n,a,s,o[1]):new BNe(n,a,s)}function YNe(t){for(var e=0,n=eW.length;e<n;e++){var r=eW[e],i=r[0],a=r[1],s=a.exec(t);if(s)return i}return null}function ZNe(){var t=typeof Er<"u"&&Er.version;return t?new UNe(Er.version.slice(1)):null}function JNe(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var TA={};var II=function(t,e){return II=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},II(t,e)};function XNe(t,e){II(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var TI=function(){return TI=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},TI.apply(this,arguments)};function QNe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ePe(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function tPe(t,e){return function(n,r){e(n,r,t)}}function nPe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function rPe(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}function iPe(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function aPe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function sPe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $I(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jne(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function oPe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jne(arguments[e]));return t}function lPe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function bw(t){return this instanceof bw?(this.v=t,this):new bw(t)}function cPe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(m){return new Promise(function(b,w){a.push([g,m,b,w])>1||o(g,m)})})}function o(g,m){try{l(r[g](m))}catch(b){h(a[0][3],b)}}function l(g){g.value instanceof bw?Promise.resolve(g.value.v).then(u,d):h(a[0][2],g)}function u(g){o("next",g)}function d(g){o("throw",g)}function h(g,m){g(m),a.shift(),a.length&&o(a[0][0],a[0][1])}}function uPe(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=t[i]?function(s){return(n=!n)?{value:bw(t[i](s)),done:i==="return"}:a?a(s):s}:a}}function dPe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $I=="function"?$I(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(u){a({value:u,done:o})},s)}}function fPe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function hPe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function pPe(t){return t&&t.__esModule?t:{default:t}}function gPe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function mPe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const yPe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return TI},__asyncDelegator:uPe,__asyncGenerator:cPe,__asyncValues:dPe,__await:bw,__awaiter:rPe,__classPrivateFieldGet:gPe,__classPrivateFieldSet:mPe,__createBinding:aPe,__decorate:ePe,__exportStar:sPe,__extends:XNe,__generator:iPe,__importDefault:pPe,__importStar:hPe,__makeTemplateObject:fPe,__metadata:nPe,__param:tPe,__read:jne,__rest:QNe,__spread:oPe,__spreadArrays:lPe,__values:$I},Symbol.toStringTag,{value:"Module"})),P8=ZK(yPe);var $A={},e2={},tW;function bPe(){if(tW)return e2;tW=1,Object.defineProperty(e2,"__esModule",{value:!0}),e2.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return e2.delay=t,e2}var Yh={},NA={},Zh={},nW;function wPe(){return nW||(nW=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.ONE_THOUSAND=Zh.ONE_HUNDRED=void 0,Zh.ONE_HUNDRED=100,Zh.ONE_THOUSAND=1e3),Zh}var PA={},rW;function vPe(){return rW||(rW=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(PA)),PA}var iW;function Dne(){return iW||(iW=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=P8;e.__exportStar(wPe(),t),e.__exportStar(vPe(),t)})(NA)),NA}var aW;function xPe(){if(aW)return Yh;aW=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.fromMiliseconds=Yh.toMiliseconds=void 0;const t=Dne();function e(r){return r*t.ONE_THOUSAND}Yh.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Yh.fromMiliseconds=n,Yh}var sW;function EPe(){return sW||(sW=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=P8;e.__exportStar(bPe(),t),e.__exportStar(xPe(),t)})($A)),$A}var v1={},oW;function _Pe(){if(oW)return v1;oW=1,Object.defineProperty(v1,"__esModule",{value:!0}),v1.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return v1.Watch=t,v1.default=t,v1}var OA={},t2={},lW;function APe(){if(lW)return t2;lW=1,Object.defineProperty(t2,"__esModule",{value:!0}),t2.IWatch=void 0;class t{}return t2.IWatch=t,t2}var cW;function CPe(){return cW||(cW=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),P8.__exportStar(APe(),t)})(OA)),OA}var uW;function SPe(){return uW||(uW=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=P8;e.__exportStar(EPe(),t),e.__exportStar(_Pe(),t),e.__exportStar(CPe(),t),e.__exportStar(Dne(),t)})(TA)),TA}var dt=SPe(),pr={},dW;function Bne(){if(dW)return pr;dW=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.getLocalStorage=pr.getLocalStorageOrThrow=pr.getCrypto=pr.getCryptoOrThrow=pr.getLocation=pr.getLocationOrThrow=pr.getNavigator=pr.getNavigatorOrThrow=pr.getDocument=pr.getDocumentOrThrow=pr.getFromWindowOrThrow=pr.getFromWindow=void 0;function t(g){let m;return typeof window<"u"&&typeof window[g]<"u"&&(m=window[g]),m}pr.getFromWindow=t;function e(g){const m=t(g);if(!m)throw new Error(`${g} is not defined in Window`);return m}pr.getFromWindowOrThrow=e;function n(){return e("document")}pr.getDocumentOrThrow=n;function r(){return t("document")}pr.getDocument=r;function i(){return e("navigator")}pr.getNavigatorOrThrow=i;function a(){return t("navigator")}pr.getNavigator=a;function s(){return e("location")}pr.getLocationOrThrow=s;function o(){return t("location")}pr.getLocation=o;function l(){return e("crypto")}pr.getCryptoOrThrow=l;function u(){return t("crypto")}pr.getCrypto=u;function d(){return e("localStorage")}pr.getLocalStorageOrThrow=d;function h(){return t("localStorage")}return pr.getLocalStorage=h,pr}var Cd=Bne(),n2={},fW;function kPe(){if(fW)return n2;fW=1,Object.defineProperty(n2,"__esModule",{value:!0}),n2.getWindowMetadata=void 0;const t=Bne();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const m=n.getElementsByTagName("link"),b=[];for(let w=0;w<m.length;w++){const x=m[w],E=x.getAttribute("rel");if(E&&E.toLowerCase().indexOf("icon")>-1){const I=x.getAttribute("href");if(I)if(I.toLowerCase().indexOf("https:")===-1&&I.toLowerCase().indexOf("http:")===-1&&I.indexOf("//")!==0){let C=r.protocol+"//"+r.host;if(I.indexOf("/")===0)C+=I;else{const N=r.pathname.split("/");N.pop();const A=N.join("/");C+=A+"/"+I}b.push(C)}else if(I.indexOf("//")===0){const C=r.protocol+I;b.push(C)}else b.push(I)}}return b}function a(...m){const b=n.getElementsByTagName("meta");for(let w=0;w<b.length;w++){const x=b[w],E=["itemprop","property","name"].map(I=>x.getAttribute(I)).filter(I=>I?m.includes(I):!1);if(E.length&&E){const I=x.getAttribute("content");if(I)return I}}return""}function s(){let m=a("name","og:site_name","og:title","twitter:title");return m||(m=n.title),m}function o(){return a("description","og:description","twitter:description","keywords")}const l=s(),u=o(),d=r.origin,h=i();return{description:u,url:d,icons:h,name:l}}return n2.getWindowMetadata=e,n2}var IPe=kPe();function ww(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function NI(t){return ww(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Une="2.31.0";let RA={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Une}`};class Z0 extends Error{constructor(e,n={}){const r=n.cause instanceof Z0?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Z0&&n.cause.docsPath||n.docsPath,a=RA.getDocsUrl?.({...n,docsPath:i}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...RA.version?[`Version: ${RA.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Une}walk(e){return Lne(this,e)}}function Lne(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Lne(t.cause,e):e?null:t}class Fne extends Z0{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Tm(t,{dir:e,size:n=32}={}){return typeof t=="string"?TPe(t,{dir:e,size:n}):$Pe(t,{dir:e,size:n})}function TPe(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Fne({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function $Pe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Fne({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const a=e==="right";r[a?i:n-i-1]=t[a?i:t.length-i-1]}return r}class NPe extends Z0{constructor({max:e,min:n,signed:r,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class PPe extends Z0{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function $m(t,{size:e}){if(NI(t)>e)throw new PPe({givenSize:NI(t),maxSize:e})}function PI(t,e={}){const{signed:n}=e;e.size&&$m(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,a=(1n<<BigInt(i)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function OPe(t,e={}){return Number(PI(t,e))}const RPe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function OI(t,e={}){return typeof t=="number"||typeof t=="bigint"?Wne(t,e):typeof t=="string"?DPe(t,e):typeof t=="boolean"?MPe(t,e):zne(t,e)}function MPe(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?($m(n,{size:e.size}),Tm(n,{size:e.size})):n}function zne(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=RPe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?($m(r,{size:e.size}),Tm(r,{dir:"right",size:e.size})):r}function Wne(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof a=="bigint"&&n?-a-1n:0;if(a&&i>a||i<s){const l=typeof t=="bigint"?"n":"";throw new NPe({max:a?`${a}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${t}${l}`})}const o=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Tm(o,{size:r}):o}const jPe=new TextEncoder;function DPe(t,e={}){const n=jPe.encode(t);return zne(n,e)}const BPe=new TextEncoder;function UPe(t,e={}){return typeof t=="number"||typeof t=="bigint"?FPe(t,e):typeof t=="boolean"?LPe(t,e):ww(t)?Hne(t,e):qne(t,e)}function LPe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?($m(n,{size:e.size}),Tm(n,{size:e.size})):n}const Bu={zero:48,nine:57,A:65,F:70,a:97,f:102};function hW(t){if(t>=Bu.zero&&t<=Bu.nine)return t-Bu.zero;if(t>=Bu.A&&t<=Bu.F)return t-(Bu.A-10);if(t>=Bu.a&&t<=Bu.f)return t-(Bu.a-10)}function Hne(t,e={}){let n=t;e.size&&($m(n,{size:e.size}),n=Tm(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,a=new Uint8Array(i);for(let s=0,o=0;s<i;s++){const l=hW(r.charCodeAt(o++)),u=hW(r.charCodeAt(o++));if(l===void 0||u===void 0)throw new Z0(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);a[s]=l*16+u}return a}function FPe(t,e){const n=Wne(t,e);return Hne(n)}function qne(t,e={}){const n=BPe.encode(t);return typeof e.size=="number"?($m(n,{size:e.size}),Tm(n,{dir:"right",size:e.size})):n}const Ex=BigInt(2**32-1),pW=BigInt(32);function zPe(t,e=!1){return e?{h:Number(t&Ex),l:Number(t>>pW&Ex)}:{h:Number(t>>pW&Ex)|0,l:Number(t&Ex)|0}}function WPe(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){const{h:s,l:o}=zPe(t[a],e);[r[a],i[a]]=[s,o]}return[r,i]}const HPe=(t,e,n)=>t<<n|e>>>32-n,qPe=(t,e,n)=>e<<n|t>>>32-n,VPe=(t,e,n)=>e<<n-32|t>>>64-n,GPe=(t,e,n)=>t<<n-32|e>>>64-n,x1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function KPe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $6(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function vw(t,...e){if(!KPe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Zht(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");$6(t.outputLen),$6(t.blockLen)}function gW(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function YPe(t,e){vw(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ZPe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Vne(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Jht(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Xht(t,e){return t<<32-e|t>>>e}const JPe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function XPe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function QPe(t){for(let e=0;e<t.length;e++)t[e]=XPe(t[e]);return t}const mW=JPe?t=>t:QPe;function eOe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Gne(t){return typeof t=="string"&&(t=eOe(t)),vw(t),t}function Qht(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];vw(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const a=t[r];n.set(a,i),i+=a.length}return n}let tOe=class{};function nOe(t){const e=r=>t().update(Gne(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function t0t(t=32){if(x1&&typeof x1.getRandomValues=="function")return x1.getRandomValues(new Uint8Array(t));if(x1&&typeof x1.randomBytes=="function")return Uint8Array.from(x1.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const rOe=BigInt(0),r2=BigInt(1),iOe=BigInt(2),aOe=BigInt(7),sOe=BigInt(256),oOe=BigInt(113),Kne=[],Yne=[],Zne=[];for(let t=0,e=r2,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Kne.push(2*(5*r+n)),Yne.push((t+1)*(t+2)/2%64);let i=rOe;for(let a=0;a<7;a++)e=(e<<r2^(e>>aOe)*oOe)%sOe,e&iOe&&(i^=r2<<(r2<<BigInt(a))-r2);Zne.push(i)}const Jne=WPe(Zne,!0),lOe=Jne[0],cOe=Jne[1],yW=(t,e,n)=>n>32?VPe(t,e,n):HPe(t,e,n),bW=(t,e,n)=>n>32?GPe(t,e,n):qPe(t,e,n);function uOe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,l=(s+2)%10,u=n[l],d=n[l+1],h=yW(u,d,1)^n[o],g=bW(u,d,1)^n[o+1];for(let m=0;m<50;m+=10)t[s+m]^=h,t[s+m+1]^=g}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=Yne[s],l=yW(i,a,o),u=bW(i,a,o),d=Kne[s];i=t[d],a=t[d+1],t[d]=l,t[d+1]=u}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)n[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=lOe[r],t[1]^=cOe[r]}Vne(n)}let dOe=class Xne extends tOe{constructor(e,n,r,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=a,$6(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ZPe(this.state)}clone(){return this._cloneInto()}keccak(){mW(this.state32),uOe(this.state32,this.rounds),mW(this.state32),this.posOut=0,this.pos=0}update(e){gW(this),e=Gne(e),vw(e);const{blockLen:n,state:r}=this,i=e.length;for(let a=0;a<i;){const s=Math.min(n-this.pos,i-a);for(let o=0;o<s;o++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){gW(this,!1),vw(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return $6(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(YPe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Vne(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new Xne(n,r,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const fOe=(t,e,n)=>nOe(()=>new dOe(e,t,n)),hOe=fOe(1,136,256/8);function Qne(t,e){const n=e||"hex",r=hOe(ww(t,{strict:!1})?UPe(t):t);return n==="bytes"?r:OI(r)}class pOe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const MA=new pOe(8192);function gOe(t,e){if(MA.has(`${t}.${e}`))return MA.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Qne(qne(n),"bytes"),i=n.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const a=`0x${i.join("")}`;return MA.set(`${t}.${e}`,a),a}function mOe(t){const e=Qne(`0x${t.substring(4)}`).substring(26);return gOe(`0x${e}`)}async function yOe({hash:t,signature:e}){const n=ww(t)?t:OI(t),{secp256k1:r}=await lo(async()=>{const{secp256k1:s}=await import("./secp256k1.C8LYLAPa.js");return{secp256k1:s}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:d,v:h,yParity:g}=e,m=Number(g??h),b=wW(m);return new r.Signature(PI(u),PI(d)).addRecoveryBit(b)}const s=ww(e)?e:OI(e);if(NI(s)!==65)throw new Error("invalid signature length");const o=OPe(`0x${s.slice(130)}`),l=wW(o);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function wW(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function bOe({hash:t,signature:e}){return mOe(await yOe({hash:t,signature:e}))}function wOe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const d=t.charAt(u),h=d.charCodeAt(0);if(e[h]!==255)throw new TypeError(d+" is ambiguous");e[h]=u}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function s(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let d=0,h=0,g=0;const m=u.length;for(;g!==m&&u[g]===0;)g++,d++;const b=(m-g)*a+1>>>0,w=new Uint8Array(b);for(;g!==m;){let I=u[g],C=0;for(let N=b-1;(I!==0||C<h)&&N!==-1;N--,C++)I+=256*w[N]>>>0,w[N]=I%n>>>0,I=I/n>>>0;if(I!==0)throw new Error("Non-zero carry");h=C,g++}let x=b-h;for(;x!==b&&w[x]===0;)x++;let E=r.repeat(d);for(;x<b;++x)E+=t.charAt(w[x]);return E}function o(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let d=0,h=0,g=0;for(;u[d]===r;)h++,d++;const m=(u.length-d)*i+1>>>0,b=new Uint8Array(m);for(;d<u.length;){const I=u.charCodeAt(d);if(I>255)return;let C=e[I];if(C===255)return;let N=0;for(let A=m-1;(C!==0||N<g)&&A!==-1;A--,N++)C+=n*b[A]>>>0,b[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");g=N,d++}let w=m-g;for(;w!==m&&b[w]===0;)w++;const x=new Uint8Array(h+(m-w));let E=h;for(;w!==m;)x[E++]=b[w++];return x}function l(u){const d=o(u);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:s,decodeUnsafe:o,decode:l}}var vOe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const dv=wOe(vOe);function xOe(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){const a=t.charCodeAt(r);(a&64512)===56320&&(++r,i=((i&1023)<<10)+(a&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function EOe(t,e,n){const r=t.length;let i=n,a=0;for(;a<r;){let s=t.charCodeAt(a++);if((s&4294967168)===0){e[i++]=s;continue}else if((s&4294965248)===0)e[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&a<r){const o=t.charCodeAt(a);(o&64512)===56320&&(++a,s=((s&1023)<<10)+(o&1023)+65536)}(s&4294901760)===0?(e[i++]=s>>12&15|224,e[i++]=s>>6&63|128):(e[i++]=s>>18&7|240,e[i++]=s>>12&63|128,e[i++]=s>>6&63|128)}e[i++]=s&63|128}}const _Oe=new TextEncoder,AOe=50;function COe(t,e,n){_Oe.encodeInto(t,e.subarray(n))}function SOe(t,e,n){t.length>AOe?COe(t,e,n):EOe(t,e,n)}const kOe=4096;function ere(t,e,n){let r=e;const i=r+n,a=[];let s="";for(;r<i;){const o=t[r++];if((o&128)===0)a.push(o);else if((o&224)===192){const l=t[r++]&63;a.push((o&31)<<6|l)}else if((o&240)===224){const l=t[r++]&63,u=t[r++]&63;a.push((o&31)<<12|l<<6|u)}else if((o&248)===240){const l=t[r++]&63,u=t[r++]&63,d=t[r++]&63;let h=(o&7)<<18|l<<12|u<<6|d;h>65535&&(h-=65536,a.push(h>>>10&1023|55296),h=56320|h&1023),a.push(h)}else a.push(o);a.length>=kOe&&(s+=String.fromCharCode(...a),a.length=0)}return a.length>0&&(s+=String.fromCharCode(...a)),s}const IOe=new TextDecoder,TOe=200;function $Oe(t,e,n){const r=t.subarray(e,e+n);return IOe.decode(r)}function NOe(t,e,n){return n>TOe?$Oe(t,e,n):ere(t,e,n)}class _x{constructor(e,n){this.type=e,this.data=n}}class Qs extends Error{constructor(e){super(e);const n=Object.create(Qs.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Qs.name})}}const i2=4294967295;function POe(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function tre(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function nre(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function OOe(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const ROe=-1,MOe=4294967296-1,jOe=17179869184-1;function DOe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=jOe)if(e===0&&t<=MOe){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),a=new DataView(i.buffer);return a.setUint32(0,e<<2|n&3),a.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),tre(r,4,t),n}}function BOe(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function UOe(t){if(t instanceof Date){const e=BOe(t);return DOe(e)}else return null}function LOe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,a=n>>>2;return{sec:i,nsec:a}}case 12:{const n=nre(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Qs(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function FOe(t){const e=LOe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const zOe={type:ROe,encode:UOe,decode:FOe};class N6{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(zOe)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const a=i(e,n);if(a!=null){const s=-1-r;return new _x(s,a)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const a=i(e,n);if(a!=null){const s=r;return new _x(s,a)}}}return e instanceof _x?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new _x(n,e)}}N6.defaultCodec=new N6;function WOe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function RI(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):WOe(t)?new Uint8Array(t):Uint8Array.from(t)}const HOe=100,qOe=2048;let VOe=class rre{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??N6.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??HOe,this.initialBufferSize=e?.initialBufferSize??qOe,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new rre({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=xOe(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),SOe(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=RI(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const a of r){const s=e[a];this.ignoreUndefined&&s===void 0||(this.encodeString(a),this.doEncode(s,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),POe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),tre(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function GOe(t,e){return new VOe(e).encodeSharedRef(t)}function jA(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const KOe=16,YOe=16;class ZOe{constructor(e=KOe,n=YOe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const a of i){const s=a.bytes;for(let o=0;o<r;o++)if(s[o]!==e[n+o])continue e;return a.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const a=ere(e,n,r),s=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(s,a),a}}const MI="array",nb="map_key",ire="map_value",JOe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Qs("The type of key must be string or number but "+typeof t)};class XOe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=MI,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=nb,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===MI){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===nb||e.type===ire){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const a2=-1,xP=new DataView(new ArrayBuffer(0)),QOe=new Uint8Array(xP.buffer);try{xP.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const vW=new RangeError("Insufficient data"),eRe=new ZOe;let tRe=class are{constructor(e){this.totalPos=0,this.pos=0,this.view=xP,this.bytes=QOe,this.headByte=a2,this.stack=new XOe,this.entered=!1,this.extensionCodec=e?.extensionCodec??N6.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??i2,this.maxBinLength=e?.maxBinLength??i2,this.maxArrayLength=e?.maxArrayLength??i2,this.maxMapLength=e?.maxMapLength??i2,this.maxExtLength=e?.maxExtLength??i2,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:eRe,this.mapKeyConverter=e?.mapKeyConverter??JOe}clone(){return new are({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=a2,this.stack.reset()}setBuffer(e){const n=RI(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===a2&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=RI(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const o of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(o);try{r=this.doDecodeSync(),n=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:a,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${jA(i)} at ${s} (${a} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const a of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(s){if(!(s instanceof RangeError))throw s}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Qs(`Unrecognized type byte: ${jA(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===MI)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===nb){if(n==="__proto__")throw new Qs("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=ire;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=nb;continue e}}return n}}readHeadByte(){return this.headByte===a2&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=a2}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Qs(`Unrecognized array type byte: ${jA(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Qs(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Qs(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new Qs(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw vW;const r=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,r,e):i=NOe(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===nb:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Qs(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw vW;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Qs(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=OOe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=nre(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function nRe(t,e){return new tRe(e).decode(t)}function rRe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sre(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function P6(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function EP(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function jI(t){if(!Array.isArray(t))throw new Error("array expected")}function O6(t,e){if(!sre(!0,e))throw new Error(`${t}: array of strings expected`)}function iRe(t,e){if(!sre(!1,e))throw new Error(`${t}: array of numbers expected`)}function aRe(...t){const e=a=>a,n=(a,s)=>o=>a(s(o)),r=t.map(a=>a.encode).reduceRight(n,e),i=t.map(a=>a.decode).reduce(n,e);return{encode:r,decode:i}}function sRe(t){const e=typeof t=="string"?t.split(""):t,n=e.length;O6("alphabet",e);const r=new Map(e.map((i,a)=>[i,a]));return{encode:i=>(jI(i),i.map(a=>{if(!Number.isSafeInteger(a)||a<0||a>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${a}". Allowed: ${t}`);return e[a]})),decode:i=>(jI(i),i.map(a=>{P6("alphabet.decode",a);const s=r.get(a);if(s===void 0)throw new Error(`Unknown letter: "${a}". Allowed: ${t}`);return s}))}}function oRe(t=""){return P6("join",t),{encode:e=>(O6("join.decode",e),e.join(t)),decode:e=>(P6("join.decode",e),e.split(t))}}function lRe(t,e="="){return EP(t),P6("padding",e),{encode(n){for(O6("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){O6("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const ore=(t,e)=>e===0?t:ore(e,t%e),R6=(t,e)=>t+(e-ore(t,e)),DA=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function xW(t,e,n,r){if(jI(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(R6(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${R6(e,n)}`);let i=0,a=0;const s=DA[e],o=DA[n]-1,l=[];for(const u of t){if(EP(u),u>=s)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(i=i<<e|u,a+e>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${e}`);for(a+=e;a>=n;a-=n)l.push((i>>a-n&o)>>>0);const d=DA[a];if(d===void 0)throw new Error("invalid carry");i&=d-1}if(i=i<<n-a&o,!r&&a>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&a>0&&l.push(i>>>0),l}function cRe(t,e=!1){if(EP(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(R6(8,t)>32||R6(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!rRe(n))throw new Error("radix2.encode input should be Uint8Array");return xW(Array.from(n),8,t,!e)},decode:n=>(iRe("radix2.decode",n),Uint8Array.from(xW(n,t,8,e)))}}const uRe=aRe(cRe(5),sRe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),lRe(5),oRe("")),dRe=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),fRe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function J0(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return fRe(t)}catch{return t}}function cc(t){return typeof t=="string"?t:dRe(t)||""}function hRe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function lre(t,...e){if(!hRe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function EW(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pRe(t,e){lre(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const E1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const BA=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function gRe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function cre(t){return typeof t=="string"&&(t=gRe(t)),lre(t),t}let mRe=class{clone(){return this._cloneInto()}};function yRe(t){const e=r=>t().update(cre(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ure(t=32){if(E1&&typeof E1.getRandomValues=="function")return E1.getRandomValues(new Uint8Array(t));if(E1&&typeof E1.randomBytes=="function")return E1.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function bRe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a),l=r?4:0,u=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+u,o,r)}let wRe=class extends mRe{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=BA(this.buffer)}update(e){EW(this);const{view:n,buffer:r,blockLen:i}=this;e=cre(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const l=BA(e);for(;i<=a-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){EW(this),pRe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:a}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let h=s;h<i;h++)n[h]=0;bRe(r,i-8,BigInt(this.length*8),a),this.process(r,0);const o=BA(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)o.setUint32(4*h,d[h],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%n&&e.buffer.set(r),e}};const Ax=BigInt(2**32-1),DI=BigInt(32);function dre(t,e=!1){return e?{h:Number(t&Ax),l:Number(t>>DI&Ax)}:{h:Number(t>>DI&Ax)|0,l:Number(t&Ax)|0}}function vRe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:s}=dre(t[i],e);[n[i],r[i]]=[a,s]}return[n,r]}const xRe=(t,e)=>BigInt(t>>>0)<<DI|BigInt(e>>>0),ERe=(t,e,n)=>t>>>n,_Re=(t,e,n)=>t<<32-n|e>>>n,ARe=(t,e,n)=>t>>>n|e<<32-n,CRe=(t,e,n)=>t<<32-n|e>>>n,SRe=(t,e,n)=>t<<64-n|e>>>n-32,kRe=(t,e,n)=>t>>>n-32|e<<64-n,IRe=(t,e)=>e,TRe=(t,e)=>t,$Re=(t,e,n)=>t<<n|e>>>32-n,NRe=(t,e,n)=>e<<n|t>>>32-n,PRe=(t,e,n)=>e<<n-32|t>>>64-n,ORe=(t,e,n)=>t<<n-32|e>>>64-n;function RRe(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const MRe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),jRe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,DRe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),BRe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,URe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),LRe=(t,e,n,r,i,a)=>e+n+r+i+a+(t/2**32|0)|0,fn={fromBig:dre,split:vRe,toBig:xRe,shrSH:ERe,shrSL:_Re,rotrSH:ARe,rotrSL:CRe,rotrBH:SRe,rotrBL:kRe,rotr32H:IRe,rotr32L:TRe,rotlSH:$Re,rotlSL:NRe,rotlBH:PRe,rotlBL:ORe,add:RRe,add3L:MRe,add3H:jRe,add4L:DRe,add4H:BRe,add5H:LRe,add5L:URe},[FRe,zRe]=fn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),vf=new Uint32Array(80),xf=new Uint32Array(80);let WRe=class extends wRe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:a,Cl:s,Dh:o,Dl:l,Eh:u,El:d,Fh:h,Fl:g,Gh:m,Gl:b,Hh:w,Hl:x}=this;return[e,n,r,i,a,s,o,l,u,d,h,g,m,b,w,x]}set(e,n,r,i,a,s,o,l,u,d,h,g,m,b,w,x){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=a|0,this.Cl=s|0,this.Dh=o|0,this.Dl=l|0,this.Eh=u|0,this.El=d|0,this.Fh=h|0,this.Fl=g|0,this.Gh=m|0,this.Gl=b|0,this.Hh=w|0,this.Hl=x|0}process(e,n){for(let C=0;C<16;C++,n+=4)vf[C]=e.getUint32(n),xf[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){const N=vf[C-15]|0,A=xf[C-15]|0,T=fn.rotrSH(N,A,1)^fn.rotrSH(N,A,8)^fn.shrSH(N,A,7),O=fn.rotrSL(N,A,1)^fn.rotrSL(N,A,8)^fn.shrSL(N,A,7),H=vf[C-2]|0,U=xf[C-2]|0,L=fn.rotrSH(H,U,19)^fn.rotrBH(H,U,61)^fn.shrSH(H,U,6),G=fn.rotrSL(H,U,19)^fn.rotrBL(H,U,61)^fn.shrSL(H,U,6),R=fn.add4L(O,G,xf[C-7],xf[C-16]),F=fn.add4H(R,T,L,vf[C-7],vf[C-16]);vf[C]=F|0,xf[C]=R|0}let{Ah:r,Al:i,Bh:a,Bl:s,Ch:o,Cl:l,Dh:u,Dl:d,Eh:h,El:g,Fh:m,Fl:b,Gh:w,Gl:x,Hh:E,Hl:I}=this;for(let C=0;C<80;C++){const N=fn.rotrSH(h,g,14)^fn.rotrSH(h,g,18)^fn.rotrBH(h,g,41),A=fn.rotrSL(h,g,14)^fn.rotrSL(h,g,18)^fn.rotrBL(h,g,41),T=h&m^~h&w,O=g&b^~g&x,H=fn.add5L(I,A,O,zRe[C],xf[C]),U=fn.add5H(H,E,N,T,FRe[C],vf[C]),L=H|0,G=fn.rotrSH(r,i,28)^fn.rotrBH(r,i,34)^fn.rotrBH(r,i,39),R=fn.rotrSL(r,i,28)^fn.rotrBL(r,i,34)^fn.rotrBL(r,i,39),F=r&a^r&o^a&o,_=i&s^i&l^s&l;E=w|0,I=x|0,w=m|0,x=b|0,m=h|0,b=g|0,{h,l:g}=fn.add(u|0,d|0,U|0,L|0),u=o|0,d=l|0,o=a|0,l=s|0,a=r|0,s=i|0;const S=fn.add3L(L,R,_);r=fn.add3H(S,U,G,F),i=S|0}({h:r,l:i}=fn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:a,l:s}=fn.add(this.Bh|0,this.Bl|0,a|0,s|0),{h:o,l}=fn.add(this.Ch|0,this.Cl|0,o|0,l|0),{h:u,l:d}=fn.add(this.Dh|0,this.Dl|0,u|0,d|0),{h,l:g}=fn.add(this.Eh|0,this.El|0,h|0,g|0),{h:m,l:b}=fn.add(this.Fh|0,this.Fl|0,m|0,b|0),{h:w,l:x}=fn.add(this.Gh|0,this.Gl|0,w|0,x|0),{h:E,l:I}=fn.add(this.Hh|0,this.Hl|0,E|0,I|0),this.set(r,i,a,s,o,l,u,d,h,g,m,b,w,x,E,I)}roundClean(){vf.fill(0),xf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const HRe=yRe(()=>new WRe);const _P=BigInt(0),fre=BigInt(1),qRe=BigInt(2);function AP(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function CP(t){if(!AP(t))throw new Error("Uint8Array expected")}function UA(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const VRe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function SP(t){CP(t);let e="";for(let n=0;n<t.length;n++)e+=VRe[t[n]];return e}function hre(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?_P:BigInt("0x"+t)}const Uu={_0:48,_9:57,A:65,F:70,a:97,f:102};function _W(t){if(t>=Uu._0&&t<=Uu._9)return t-Uu._0;if(t>=Uu.A&&t<=Uu.F)return t-(Uu.A-10);if(t>=Uu.a&&t<=Uu.f)return t-(Uu.a-10)}function pre(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){const s=_W(t.charCodeAt(a)),o=_W(t.charCodeAt(a+1));if(s===void 0||o===void 0){const l=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+a)}r[i]=s*16+o}return r}function GRe(t){return hre(SP(t))}function k5(t){return CP(t),hre(SP(Uint8Array.from(t).reverse()))}function gre(t,e){return pre(t.toString(16).padStart(e*2,"0"))}function BI(t,e){return gre(t,e).reverse()}function Lu(t,e,n){let r;if(typeof e=="string")try{r=pre(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(AP(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function AW(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];CP(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const a=t[r];n.set(a,i),i+=a.length}return n}const LA=t=>typeof t=="bigint"&&_P<=t;function KRe(t,e,n){return LA(t)&&LA(e)&&LA(n)&&e<=t&&t<n}function s2(t,e,n,r){if(!KRe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function YRe(t){let e;for(e=0;t>_P;t>>=fre,e+=1);return e}const ZRe=t=>(qRe<<BigInt(t-1))-fre,JRe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||AP(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function kP(t,e,n={}){const r=(i,a,s)=>{const o=JRe[a];if(typeof o!="function")throw new Error("invalid validator function");const l=t[i];if(!(s&&l===void 0)&&!o(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+a+", got "+l)};for(const[i,a]of Object.entries(e))r(i,a,!1);for(const[i,a]of Object.entries(n))r(i,a,!0);return t}function CW(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const a=t(n,...r);return e.set(n,a),a}}const Vi=BigInt(0),ii=BigInt(1),l0=BigInt(2),XRe=BigInt(3),UI=BigInt(4),SW=BigInt(5),kW=BigInt(8);function $i(t,e){const n=t%e;return n>=Vi?n:e+n}function QRe(t,e,n){if(e<Vi)throw new Error("invalid exponent, negatives unsupported");if(n<=Vi)throw new Error("invalid modulus");if(n===ii)return Vi;let r=ii;for(;e>Vi;)e&ii&&(r=r*t%n),t=t*t%n,e>>=ii;return r}function Ic(t,e,n){let r=t;for(;e-- >Vi;)r*=r,r%=n;return r}function IW(t,e){if(t===Vi)throw new Error("invert: expected non-zero number");if(e<=Vi)throw new Error("invert: expected positive modulus, got "+e);let n=$i(t,e),r=e,i=Vi,a=ii;for(;n!==Vi;){const s=r/n,o=r%n,l=i-a*s;r=n,n=o,i=a,a=l}if(r!==ii)throw new Error("invert: does not exist");return $i(i,e)}function eMe(t){const e=(t-ii)/l0;let n,r,i;for(n=t-ii,r=0;n%l0===Vi;n/=l0,r++);for(i=l0;i<t&&QRe(i,e,t)!==t-ii;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(t+ii)/UI;return function(o,l){const u=o.pow(l,s);if(!o.eql(o.sqr(u),l))throw new Error("Cannot find square root");return u}}const a=(n+ii)/l0;return function(s,o){if(s.pow(o,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=r,u=s.pow(s.mul(s.ONE,i),n),d=s.pow(o,a),h=s.pow(o,n);for(;!s.eql(h,s.ONE);){if(s.eql(h,s.ZERO))return s.ZERO;let g=1;for(let b=s.sqr(h);g<l&&!s.eql(b,s.ONE);g++)b=s.sqr(b);const m=s.pow(u,ii<<BigInt(l-g-1));u=s.sqr(m),d=s.mul(d,m),h=s.mul(h,u),l=g}return d}}function tMe(t){if(t%UI===XRe){const e=(t+ii)/UI;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%kW===SW){const e=(t-SW)/kW;return function(n,r){const i=n.mul(r,l0),a=n.pow(i,e),s=n.mul(r,a),o=n.mul(n.mul(s,l0),a),l=n.mul(s,n.sub(o,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return eMe(t)}const nMe=(t,e)=>($i(t,e)&ii)===ii,rMe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function iMe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=rMe.reduce((r,i)=>(r[i]="function",r),e);return kP(t,n)}function aMe(t,e,n){if(n<Vi)throw new Error("invalid exponent, negatives unsupported");if(n===Vi)return t.ONE;if(n===ii)return e;let r=t.ONE,i=e;for(;n>Vi;)n&ii&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ii;return r}function sMe(t,e){const n=new Array(e.length),r=e.reduce((a,s,o)=>t.is0(s)?a:(n[o]=a,t.mul(a,s)),t.ONE),i=t.inv(r);return e.reduceRight((a,s,o)=>t.is0(s)?a:(n[o]=t.mul(a,n[o]),t.mul(a,s)),i),n}function mre(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function yre(t,e,n=!1,r={}){if(t<=Vi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:a}=mre(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const o=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:a,MASK:ZRe(i),ZERO:Vi,ONE:ii,create:l=>$i(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Vi<=l&&l<t},is0:l=>l===Vi,isOdd:l=>(l&ii)===ii,neg:l=>$i(-l,t),eql:(l,u)=>l===u,sqr:l=>$i(l*l,t),add:(l,u)=>$i(l+u,t),sub:(l,u)=>$i(l-u,t),mul:(l,u)=>$i(l*u,t),pow:(l,u)=>aMe(o,l,u),div:(l,u)=>$i(l*IW(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>IW(l,t),sqrt:r.sqrt||(l=>(s||(s=tMe(t)),s(o,l))),invertBatch:l=>sMe(o,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>n?BI(l,a):gre(l,a),fromBytes:l=>{if(l.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+l.length);return n?k5(l):GRe(l)}});return Object.freeze(o)}const TW=BigInt(0),Cx=BigInt(1);function FA(t,e){const n=e.negate();return t?n:e}function bre(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function zA(t,e){bre(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function oMe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function lMe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const WA=new WeakMap,wre=new WeakMap;function HA(t){return wre.get(t)||1}function cMe(t,e){return{constTimeNegate:FA,hasPrecomputes(n){return HA(n)!==1},unsafeLadder(n,r,i=t.ZERO){let a=n;for(;r>TW;)r&Cx&&(i=i.add(a)),a=a.double(),r>>=Cx;return i},precomputeWindow(n,r){const{windows:i,windowSize:a}=zA(r,e),s=[];let o=n,l=o;for(let u=0;u<i;u++){l=o,s.push(l);for(let d=1;d<a;d++)l=l.add(o),s.push(l);o=l.double()}return s},wNAF(n,r,i){const{windows:a,windowSize:s}=zA(n,e);let o=t.ZERO,l=t.BASE;const u=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let g=0;g<a;g++){const m=g*s;let b=Number(i&u);i>>=h,b>s&&(b-=d,i+=Cx);const w=m,x=m+Math.abs(b)-1,E=g%2!==0,I=b<0;b===0?l=l.add(FA(E,r[w])):o=o.add(FA(I,r[x]))}return{p:o,f:l}},wNAFUnsafe(n,r,i,a=t.ZERO){const{windows:s,windowSize:o}=zA(n,e),l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const g=h*o;if(i===TW)break;let m=Number(i&l);if(i>>=d,m>o&&(m-=u,i+=Cx),m===0)continue;let b=r[g+Math.abs(m)-1];m<0&&(b=b.negate()),a=a.add(b)}return a},getPrecomputes(n,r,i){let a=WA.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&WA.set(r,i(a))),a},wNAFCached(n,r,i){const a=HA(n);return this.wNAF(a,this.getPrecomputes(a,n,i),r)},wNAFCachedUnsafe(n,r,i,a){const s=HA(n);return s===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,a)},setWindowSize(n,r){bre(r,e),wre.set(n,r),WA.delete(n)}}}function uMe(t,e,n,r){if(oMe(n,t),lMe(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,a=YRe(BigInt(n.length)),s=a>12?a-3:a>4?a-2:a?2:1,o=(1<<s)-1,l=new Array(o+1).fill(i),u=Math.floor((e.BITS-1)/s)*s;let d=i;for(let h=u;h>=0;h-=s){l.fill(i);for(let m=0;m<r.length;m++){const b=r[m],w=Number(b>>BigInt(h)&BigInt(o));l[w]=l[w].add(n[m])}let g=i;for(let m=l.length-1,b=i;m>0;m--)b=b.add(l[m]),g=g.add(b);if(d=d.add(g),h!==0)for(let m=0;m<s;m++)d=d.double()}return d}function dMe(t){return iMe(t.Fp),kP(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mre(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Tl=BigInt(0),us=BigInt(1),Sx=BigInt(2),fMe=BigInt(8),hMe={zip215:!0};function pMe(t){const e=dMe(t);return kP(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function gMe(t){const e=pMe(t),{Fp:n,n:r,prehash:i,hash:a,randomBytes:s,nByteLength:o,h:l}=e,u=Sx<<BigInt(o*8)-us,d=n.create,h=yre(e.n,e.nBitLength),g=e.uvRatio||((S,$)=>{try{return{isValid:!0,value:n.sqrt(S*n.inv($))}}catch{return{isValid:!1,value:Tl}}}),m=e.adjustScalarBytes||(S=>S),b=e.domain||((S,$,D)=>{if(UA("phflag",D),$.length||D)throw new Error("Contexts/pre-hash are not supported");return S});function w(S,$){s2("coordinate "+S,$,Tl,u)}function x(S){if(!(S instanceof C))throw new Error("ExtendedPoint expected")}const E=CW((S,$)=>{const{ex:D,ey:z,ez:Y}=S,J=S.is0();$==null&&($=J?fMe:n.inv(Y));const V=d(D*$),M=d(z*$),Q=d(Y*$);if(J)return{x:Tl,y:us};if(Q!==us)throw new Error("invZ was invalid");return{x:V,y:M}}),I=CW(S=>{const{a:$,d:D}=e;if(S.is0())throw new Error("bad point: ZERO");const{ex:z,ey:Y,ez:J,et:V}=S,M=d(z*z),Q=d(Y*Y),ne=d(J*J),K=d(ne*ne),se=d(M*$),le=d(ne*d(se+Q)),de=d(K+d(D*d(M*Q)));if(le!==de)throw new Error("bad point: equation left != right (1)");const he=d(z*Y),Ce=d(J*V);if(he!==Ce)throw new Error("bad point: equation left != right (2)");return!0});class C{constructor($,D,z,Y){this.ex=$,this.ey=D,this.ez=z,this.et=Y,w("x",$),w("y",D),w("z",z),w("t",Y),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine($){if($ instanceof C)throw new Error("extended point not allowed");const{x:D,y:z}=$||{};return w("x",D),w("y",z),new C(D,z,us,d(D*z))}static normalizeZ($){const D=n.invertBatch($.map(z=>z.ez));return $.map((z,Y)=>z.toAffine(D[Y])).map(C.fromAffine)}static msm($,D){return uMe(C,h,$,D)}_setWindowSize($){T.setWindowSize(this,$)}assertValidity(){I(this)}equals($){x($);const{ex:D,ey:z,ez:Y}=this,{ex:J,ey:V,ez:M}=$,Q=d(D*M),ne=d(J*Y),K=d(z*M),se=d(V*Y);return Q===ne&&K===se}is0(){return this.equals(C.ZERO)}negate(){return new C(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:$}=e,{ex:D,ey:z,ez:Y}=this,J=d(D*D),V=d(z*z),M=d(Sx*d(Y*Y)),Q=d($*J),ne=D+z,K=d(d(ne*ne)-J-V),se=Q+V,le=se-M,de=Q-V,he=d(K*le),Ce=d(se*de),ke=d(K*de),Ie=d(le*se);return new C(he,Ce,Ie,ke)}add($){x($);const{a:D,d:z}=e,{ex:Y,ey:J,ez:V,et:M}=this,{ex:Q,ey:ne,ez:K,et:se}=$;if(D===BigInt(-1)){const xt=d((J-Y)*(ne+Q)),Ue=d((J+Y)*(ne-Q)),Ge=d(Ue-xt);if(Ge===Tl)return this.double();const rt=d(V*Sx*se),pt=d(M*Sx*K),qe=pt+rt,ht=Ue+xt,Ot=pt-rt,Ct=d(qe*Ge),gt=d(ht*Ot),yt=d(qe*Ot),re=d(Ge*ht);return new C(Ct,gt,re,yt)}const le=d(Y*Q),de=d(J*ne),he=d(M*z*se),Ce=d(V*K),ke=d((Y+J)*(Q+ne)-le-de),Ie=Ce-he,De=Ce+he,Ne=d(de-D*le),We=d(ke*Ie),tt=d(De*Ne),Ee=d(ke*Ne),Ze=d(Ie*De);return new C(We,tt,Ze,Ee)}subtract($){return this.add($.negate())}wNAF($){return T.wNAFCached(this,$,C.normalizeZ)}multiply($){const D=$;s2("scalar",D,us,r);const{p:z,f:Y}=this.wNAF(D);return C.normalizeZ([z,Y])[0]}multiplyUnsafe($,D=C.ZERO){const z=$;return s2("scalar",z,Tl,r),z===Tl?A:this.is0()||z===us?this:T.wNAFCachedUnsafe(this,z,C.normalizeZ,D)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine($){return E(this,$)}clearCofactor(){const{h:$}=e;return $===us?this:this.multiplyUnsafe($)}static fromHex($,D=!1){const{d:z,a:Y}=e,J=n.BYTES;$=Lu("pointHex",$,J),UA("zip215",D);const V=$.slice(),M=$[J-1];V[J-1]=M&-129;const Q=k5(V),ne=D?u:n.ORDER;s2("pointHex.y",Q,Tl,ne);const K=d(Q*Q),se=d(K-us),le=d(z*K-Y);let{isValid:de,value:he}=g(se,le);if(!de)throw new Error("Point.fromHex: invalid y coordinate");const Ce=(he&us)===us,ke=(M&128)!==0;if(!D&&he===Tl&&ke)throw new Error("Point.fromHex: x=0 and x_0=1");return ke!==Ce&&(he=d(-he)),C.fromAffine({x:he,y:Q})}static fromPrivateKey($){return U($).point}toRawBytes(){const{x:$,y:D}=this.toAffine(),z=BI(D,n.BYTES);return z[z.length-1]|=$&us?128:0,z}toHex(){return SP(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,us,d(e.Gx*e.Gy)),C.ZERO=new C(Tl,us,us,Tl);const{BASE:N,ZERO:A}=C,T=cMe(C,o*8);function O(S){return $i(S,r)}function H(S){return O(k5(S))}function U(S){const $=n.BYTES;S=Lu("private key",S,$);const D=Lu("hashed private key",a(S),2*$),z=m(D.slice(0,$)),Y=D.slice($,2*$),J=H(z),V=N.multiply(J),M=V.toRawBytes();return{head:z,prefix:Y,scalar:J,point:V,pointBytes:M}}function L(S){return U(S).pointBytes}function G(S=new Uint8Array,...$){const D=AW(...$);return H(a(b(D,Lu("context",S),!!i)))}function R(S,$,D={}){S=Lu("message",S),i&&(S=i(S));const{prefix:z,scalar:Y,pointBytes:J}=U($),V=G(D.context,z,S),M=N.multiply(V).toRawBytes(),Q=G(D.context,M,J,S),ne=O(V+Q*Y);s2("signature.s",ne,Tl,r);const K=AW(M,BI(ne,n.BYTES));return Lu("result",K,n.BYTES*2)}const F=hMe;function _(S,$,D,z=F){const{context:Y,zip215:J}=z,V=n.BYTES;S=Lu("signature",S,2*V),$=Lu("message",$),D=Lu("publicKey",D,V),J!==void 0&&UA("zip215",J),i&&($=i($));const M=k5(S.slice(V,2*V));let Q,ne,K;try{Q=C.fromHex(D,J),ne=C.fromHex(S.slice(0,V),J),K=N.multiplyUnsafe(M)}catch{return!1}if(!J&&Q.isSmallOrder())return!1;const se=G(Y,ne.toRawBytes(),Q.toRawBytes(),$);return ne.add(Q.multiplyUnsafe(se)).subtract(K).clearCofactor().equals(C.ZERO)}return N._setWindowSize(8),{CURVE:e,getPublicKey:L,sign:R,verify:_,ExtendedPoint:C,utils:{getExtendedPublicKey:U,randomPrivateKey:()=>s(n.BYTES),precompute(S=8,$=C.BASE){return $._setWindowSize(S),$.multiply(BigInt(3)),$}}}}BigInt(0),BigInt(1);const IP=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),$W=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const mMe=BigInt(1),NW=BigInt(2);BigInt(3);const yMe=BigInt(5),bMe=BigInt(8);function wMe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),a=IP,s=t*t%a*t%a,o=Ic(s,NW,a)*s%a,l=Ic(o,mMe,a)*t%a,u=Ic(l,yMe,a)*l%a,d=Ic(u,e,a)*u%a,h=Ic(d,n,a)*d%a,g=Ic(h,r,a)*h%a,m=Ic(g,i,a)*g%a,b=Ic(m,i,a)*g%a,w=Ic(b,e,a)*u%a;return{pow_p_5_8:Ic(w,NW,a)*t%a,b2:s}}function vMe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function xMe(t,e){const n=IP,r=$i(e*e*e,n),i=$i(r*r*e,n),a=wMe(t*i).pow_p_5_8;let s=$i(t*r*a,n);const o=$i(e*s*s,n),l=s,u=$i(s*$W,n),d=o===t,h=o===$i(-t,n),g=o===$i(-t*$W,n);return d&&(s=l),(h||g)&&(s=u),nMe(s,n)&&(s=$i(-s,n)),{isValid:d||h,value:s}}const EMe=yre(IP,void 0,!0),_Me={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:EMe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:bMe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:HRe,randomBytes:ure,adjustScalarBytes:vMe,uvRatio:xMe},vre=gMe(_Me),AMe="EdDSA",CMe="JWT",M6=".",O8="base64url",xre="utf8",Ere="utf8",SMe=":",kMe="did",IMe="key",PW="base58btc",TMe="z",$Me="K36",NMe=32;function TP(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function _re(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?TP(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Are(t,e){e||(e=t.reduce((i,a)=>i+a.length,0));const n=_re(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return TP(n)}function PMe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),s=a.charCodeAt(0);if(n[s]!==255)throw new TypeError(a+" is ambiguous");n[s]=i}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var w=0,x=0,E=0,I=b.length;E!==I&&b[E]===0;)E++,w++;for(var C=(I-E)*d+1>>>0,N=new Uint8Array(C);E!==I;){for(var A=b[E],T=0,O=C-1;(A!==0||T<x)&&O!==-1;O--,T++)A+=256*N[O]>>>0,N[O]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");x=T,E++}for(var H=C-x;H!==C&&N[H]===0;)H++;for(var U=l.repeat(w);H<C;++H)U+=t.charAt(N[H]);return U}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var w=0;if(b[w]!==" "){for(var x=0,E=0;b[w]===l;)x++,w++;for(var I=(b.length-w)*u+1>>>0,C=new Uint8Array(I);b[w];){var N=n[b.charCodeAt(w)];if(N===255)return;for(var A=0,T=I-1;(N!==0||A<E)&&T!==-1;T--,A++)N+=o*C[T]>>>0,C[T]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");E=A,w++}if(b[w]!==" "){for(var O=I-E;O!==I&&C[O]===0;)O++;for(var H=new Uint8Array(x+(I-O)),U=x;O!==I;)H[U++]=C[O++];return H}}}function m(b){var w=g(b);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:g,decode:m}}var OMe=PMe,RMe=OMe;const Cre=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},MMe=t=>new TextEncoder().encode(t),jMe=t=>new TextDecoder().decode(t);let DMe=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},BMe=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Sre(this,e)}},UMe=class{constructor(e){this.decoders=e}or(e){return Sre(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Sre=(t,e)=>new UMe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let LMe=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new DMe(e,n,r),this.decoder=new BMe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const R8=({name:t,prefix:e,encode:n,decode:r})=>new LMe(t,e,n,r),fv=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=RMe(n,e);return R8({prefix:t,name:e,encode:r,decode:a=>Cre(i(a))})},FMe=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let a=t.length;for(;t[a-1]==="=";)--a;const s=new Uint8Array(a*n/8|0);let o=0,l=0,u=0;for(let d=0;d<a;++d){const h=i[t[d]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,o+=n,o>=8&&(o-=8,s[u++]=255&l>>o)}if(o>=n||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return s},zMe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let a="",s=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],s+=8;s>n;)s-=n,a+=e[i&o>>s];if(s&&(a+=e[i&o<<n-s]),r)for(;a.length*n&7;)a+="=";return a},ma=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>R8({prefix:e,name:t,encode(i){return zMe(i,r,n)},decode(i){return FMe(i,r,n,t)}}),WMe=R8({prefix:"\0",name:"identity",encode:t=>jMe(t),decode:t=>MMe(t)});var HMe=Object.freeze({__proto__:null,identity:WMe});const qMe=ma({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var VMe=Object.freeze({__proto__:null,base2:qMe});const GMe=ma({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var KMe=Object.freeze({__proto__:null,base8:GMe});const YMe=fv({prefix:"9",name:"base10",alphabet:"0123456789"});var ZMe=Object.freeze({__proto__:null,base10:YMe});const JMe=ma({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),XMe=ma({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var QMe=Object.freeze({__proto__:null,base16:JMe,base16upper:XMe});const eje=ma({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tje=ma({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nje=ma({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rje=ma({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ije=ma({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),aje=ma({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sje=ma({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oje=ma({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lje=ma({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var cje=Object.freeze({__proto__:null,base32:eje,base32upper:tje,base32pad:nje,base32padupper:rje,base32hex:ije,base32hexupper:aje,base32hexpad:sje,base32hexpadupper:oje,base32z:lje});const uje=fv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dje=fv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var fje=Object.freeze({__proto__:null,base36:uje,base36upper:dje});const hje=fv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),pje=fv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var gje=Object.freeze({__proto__:null,base58btc:hje,base58flickr:pje});const mje=ma({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),yje=ma({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),bje=ma({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wje=ma({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var vje=Object.freeze({__proto__:null,base64:mje,base64pad:yje,base64url:bje,base64urlpad:wje});const kre=Array.from(""),xje=kre.reduce((t,e,n)=>(t[n]=e,t),[]),Eje=kre.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function _je(t){return t.reduce((e,n)=>(e+=xje[n],e),"")}function Aje(t){const e=[];for(const n of t){const r=Eje[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Cje=R8({prefix:"",name:"base256emoji",encode:_je,decode:Aje});var Sje=Object.freeze({__proto__:null,base256emoji:Cje}),kje=Ire,OW=128,Ije=-128,Tje=Math.pow(2,31);function Ire(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Tje;)e[n++]=t&255|OW,t/=128;for(;t&Ije;)e[n++]=t&255|OW,t>>>=7;return e[n]=t|0,Ire.bytes=n-r+1,e}var $je=LI,Nje=128,RW=127;function LI(t,r){var n=0,r=r||0,i=0,a=r,s,o=t.length;do{if(a>=o)throw LI.bytes=0,new RangeError("Could not decode varint");s=t[a++],n+=i<28?(s&RW)<<i:(s&RW)*Math.pow(2,i),i+=7}while(s>=Nje);return LI.bytes=a-r,n}var Pje=Math.pow(2,7),Oje=Math.pow(2,14),Rje=Math.pow(2,21),Mje=Math.pow(2,28),jje=Math.pow(2,35),Dje=Math.pow(2,42),Bje=Math.pow(2,49),Uje=Math.pow(2,56),Lje=Math.pow(2,63),Fje=function(t){return t<Pje?1:t<Oje?2:t<Rje?3:t<Mje?4:t<jje?5:t<Dje?6:t<Bje?7:t<Uje?8:t<Lje?9:10},zje={encode:kje,decode:$je,encodingLength:Fje},Tre=zje;const MW=(t,e,n=0)=>(Tre.encode(t,e,n),e),jW=t=>Tre.encodingLength(t),FI=(t,e)=>{const n=e.byteLength,r=jW(t),i=r+jW(n),a=new Uint8Array(i+n);return MW(t,a,0),MW(n,a,r),a.set(e,i),new Wje(t,n,e,a)};let Wje=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const $re=({name:t,code:e,encode:n})=>new Hje(t,e,n);let Hje=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?FI(this.code,n):n.then(r=>FI(this.code,r))}else throw Error("Unknown type, must be binary type")}};const Nre=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),qje=$re({name:"sha2-256",code:18,encode:Nre("SHA-256")}),Vje=$re({name:"sha2-512",code:19,encode:Nre("SHA-512")});var Gje=Object.freeze({__proto__:null,sha256:qje,sha512:Vje});const Pre=0,Kje="identity",Ore=Cre,Yje=t=>FI(Pre,Ore(t)),Zje={code:Pre,name:Kje,encode:Ore,digest:Yje};var Jje=Object.freeze({__proto__:null,identity:Zje});new TextEncoder,new TextDecoder;const DW={...HMe,...VMe,...KMe,...ZMe,...QMe,...cje,...fje,...gje,...vje,...Sje};({...Gje,...Jje});function Rre(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const BW=Rre("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),qA=Rre("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=_re(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Mre={utf8:BW,"utf-8":BW,hex:DW.base16,latin1:qA,ascii:qA,binary:qA,...DW};function M8(t,e="utf8"){const n=Mre[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Nm(t,e="utf8"){const n=Mre[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?TP(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function UW(t){return J0(M8(Nm(t,O8),xre))}function j6(t){return M8(Nm(cc(t),xre),O8)}function jre(t){const e=Nm($Me,PW),n=TMe+M8(Are([e,t]),PW);return[kMe,IMe,n].join(SMe)}function Xje(t){return M8(t,O8)}function Qje(t){return Nm(t,O8)}function eDe(t){return Nm([j6(t.header),j6(t.payload)].join(M6),Ere)}function tDe(t){return[j6(t.header),j6(t.payload),Xje(t.signature)].join(M6)}function zI(t){const e=t.split(M6),n=UW(e[0]),r=UW(e[1]),i=Qje(e[2]),a=Nm(e.slice(0,2).join(M6),Ere);return{header:n,payload:r,signature:i,data:a}}function LW(t=ure(NMe)){const e=vre.getPublicKey(t);return{secretKey:Are([t,e]),publicKey:e}}async function nDe(t,e,n,r,i=dt.fromMiliseconds(Date.now())){const a={alg:AMe,typ:CMe},s=jre(r.publicKey),o=i+n,l={iss:s,sub:t,aud:e,iat:i,exp:o},u=eDe({header:a,payload:l}),d=vre.sign(u,r.secretKey.slice(0,32));return tDe({header:a,payload:l,signature:d})}function $P(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Dre(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?$P(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function rb(t,e){e||(e=t.reduce((i,a)=>i+a.length,0));const n=Dre(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return $P(n)}function rDe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),s=a.charCodeAt(0);if(n[s]!==255)throw new TypeError(a+" is ambiguous");n[s]=i}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var w=0,x=0,E=0,I=b.length;E!==I&&b[E]===0;)E++,w++;for(var C=(I-E)*d+1>>>0,N=new Uint8Array(C);E!==I;){for(var A=b[E],T=0,O=C-1;(A!==0||T<x)&&O!==-1;O--,T++)A+=256*N[O]>>>0,N[O]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");x=T,E++}for(var H=C-x;H!==C&&N[H]===0;)H++;for(var U=l.repeat(w);H<C;++H)U+=t.charAt(N[H]);return U}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var w=0;if(b[w]!==" "){for(var x=0,E=0;b[w]===l;)x++,w++;for(var I=(b.length-w)*u+1>>>0,C=new Uint8Array(I);b[w];){var N=n[b.charCodeAt(w)];if(N===255)return;for(var A=0,T=I-1;(N!==0||A<E)&&T!==-1;T--,A++)N+=o*C[T]>>>0,C[T]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");E=A,w++}if(b[w]!==" "){for(var O=I-E;O!==I&&C[O]===0;)O++;for(var H=new Uint8Array(x+(I-O)),U=x;O!==I;)H[U++]=C[O++];return H}}}function m(b){var w=g(b);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:g,decode:m}}var iDe=rDe,aDe=iDe;const sDe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},oDe=t=>new TextEncoder().encode(t),lDe=t=>new TextDecoder().decode(t);class cDe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class uDe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Bre(this,e)}}class dDe{constructor(e){this.decoders=e}or(e){return Bre(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Bre=(t,e)=>new dDe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class fDe{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new cDe(e,n,r),this.decoder=new uDe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const j8=({name:t,prefix:e,encode:n,decode:r})=>new fDe(t,e,n,r),hv=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=aDe(n,e);return j8({prefix:t,name:e,encode:r,decode:a=>sDe(i(a))})},hDe=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let a=t.length;for(;t[a-1]==="=";)--a;const s=new Uint8Array(a*n/8|0);let o=0,l=0,u=0;for(let d=0;d<a;++d){const h=i[t[d]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,o+=n,o>=8&&(o-=8,s[u++]=255&l>>o)}if(o>=n||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return s},pDe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let a="",s=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],s+=8;s>n;)s-=n,a+=e[i&o>>s];if(s&&(a+=e[i&o<<n-s]),r)for(;a.length*n&7;)a+="=";return a},ya=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>j8({prefix:e,name:t,encode(i){return pDe(i,r,n)},decode(i){return hDe(i,r,n,t)}}),gDe=j8({prefix:"\0",name:"identity",encode:t=>lDe(t),decode:t=>oDe(t)}),mDe=Object.freeze(Object.defineProperty({__proto__:null,identity:gDe},Symbol.toStringTag,{value:"Module"})),yDe=ya({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),bDe=Object.freeze(Object.defineProperty({__proto__:null,base2:yDe},Symbol.toStringTag,{value:"Module"})),wDe=ya({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),vDe=Object.freeze(Object.defineProperty({__proto__:null,base8:wDe},Symbol.toStringTag,{value:"Module"})),xDe=hv({prefix:"9",name:"base10",alphabet:"0123456789"}),EDe=Object.freeze(Object.defineProperty({__proto__:null,base10:xDe},Symbol.toStringTag,{value:"Module"})),_De=ya({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ADe=ya({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),CDe=Object.freeze(Object.defineProperty({__proto__:null,base16:_De,base16upper:ADe},Symbol.toStringTag,{value:"Module"})),SDe=ya({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),kDe=ya({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),IDe=ya({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),TDe=ya({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$De=ya({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),NDe=ya({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),PDe=ya({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ODe=ya({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),RDe=ya({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),MDe=Object.freeze(Object.defineProperty({__proto__:null,base32:SDe,base32hex:$De,base32hexpad:PDe,base32hexpadupper:ODe,base32hexupper:NDe,base32pad:IDe,base32padupper:TDe,base32upper:kDe,base32z:RDe},Symbol.toStringTag,{value:"Module"})),jDe=hv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),DDe=hv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),BDe=Object.freeze(Object.defineProperty({__proto__:null,base36:jDe,base36upper:DDe},Symbol.toStringTag,{value:"Module"})),UDe=hv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),LDe=hv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),FDe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:UDe,base58flickr:LDe},Symbol.toStringTag,{value:"Module"})),zDe=ya({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),WDe=ya({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),HDe=ya({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qDe=ya({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),VDe=Object.freeze(Object.defineProperty({__proto__:null,base64:zDe,base64pad:WDe,base64url:HDe,base64urlpad:qDe},Symbol.toStringTag,{value:"Module"})),Ure=Array.from(""),GDe=Ure.reduce((t,e,n)=>(t[n]=e,t),[]),KDe=Ure.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function YDe(t){return t.reduce((e,n)=>(e+=GDe[n],e),"")}function ZDe(t){const e=[];for(const n of t){const r=KDe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const JDe=j8({prefix:"",name:"base256emoji",encode:YDe,decode:ZDe}),XDe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:JDe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const FW={...mDe,...bDe,...vDe,...EDe,...CDe,...MDe,...BDe,...FDe,...VDe,...XDe};function Lre(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const zW=Lre("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),VA=Lre("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Dre(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Fre={utf8:zW,"utf-8":zW,hex:FW.base16,latin1:VA,ascii:VA,binary:VA,...FW};function il(t,e="utf8"){const n=Fre[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?$P(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Ss(t,e="utf8"){const n=Fre[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const QDe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var GA,WW;function zre(){if(WW)return GA;WW=1;const t="Input must be an string, Buffer or Uint8Array";function e(s){let o;if(s instanceof Uint8Array)o=s;else if(typeof s=="string")o=new TextEncoder().encode(s);else throw new Error(t);return o}function n(s){return Array.prototype.map.call(s,function(o){return(o<16?"0":"")+o.toString(16)}).join("")}function r(s){return(4294967296+s).toString(16).substring(1)}function i(s,o,l){let u=`
`+s+" = ";for(let d=0;d<o.length;d+=2){if(l===32)u+=r(o[d]).toUpperCase(),u+=" ",u+=r(o[d+1]).toUpperCase();else if(l===64)u+=r(o[d+1]).toUpperCase(),u+=r(o[d]).toUpperCase();else throw new Error("Invalid size "+l);d%6===4?u+=`
`+new Array(s.length+4).join(" "):d<o.length-2&&(u+=" ")}console.log(u)}function a(s,o,l){let u=new Date().getTime();const d=new Uint8Array(o);for(let g=0;g<o;g++)d[g]=g%256;const h=new Date().getTime();console.log("Generated random input in "+(h-u)+"ms"),u=h;for(let g=0;g<l;g++){const m=s(d),b=new Date().getTime(),w=b-u;u=b,console.log("Hashed in "+w+"ms: "+m.substring(0,20)+"..."),console.log(Math.round(o/(1<<20)/(w/1e3)*100)/100+" MB PER SECOND")}}return GA={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:a},GA}var KA,HW;function eBe(){if(HW)return KA;HW=1;const t=zre();function e(E,I,C){const N=E[I]+E[C];let A=E[I+1]+E[C+1];N>=4294967296&&A++,E[I]=N,E[I+1]=A}function n(E,I,C,N){let A=E[I]+C;C<0&&(A+=4294967296);let T=E[I+1]+N;A>=4294967296&&T++,E[I]=A,E[I+1]=T}function r(E,I){return E[I]^E[I+1]<<8^E[I+2]<<16^E[I+3]<<24}function i(E,I,C,N,A,T){const O=u[A],H=u[A+1],U=u[T],L=u[T+1];e(l,E,I),n(l,E,O,H);let G=l[N]^l[E],R=l[N+1]^l[E+1];l[N]=R,l[N+1]=G,e(l,C,N),G=l[I]^l[C],R=l[I+1]^l[C+1],l[I]=G>>>24^R<<8,l[I+1]=R>>>24^G<<8,e(l,E,I),n(l,E,U,L),G=l[N]^l[E],R=l[N+1]^l[E+1],l[N]=G>>>16^R<<16,l[N+1]=R>>>16^G<<16,e(l,C,N),G=l[I]^l[C],R=l[I+1]^l[C+1],l[I]=R>>>31^G<<1,l[I+1]=G>>>31^R<<1}const a=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],o=new Uint8Array(s.map(function(E){return E*2})),l=new Uint32Array(32),u=new Uint32Array(32);function d(E,I){let C=0;for(C=0;C<16;C++)l[C]=E.h[C],l[C+16]=a[C];for(l[24]=l[24]^E.t,l[25]=l[25]^E.t/4294967296,I&&(l[28]=~l[28],l[29]=~l[29]),C=0;C<32;C++)u[C]=r(E.b,4*C);for(C=0;C<12;C++)i(0,8,16,24,o[C*16+0],o[C*16+1]),i(2,10,18,26,o[C*16+2],o[C*16+3]),i(4,12,20,28,o[C*16+4],o[C*16+5]),i(6,14,22,30,o[C*16+6],o[C*16+7]),i(0,10,20,30,o[C*16+8],o[C*16+9]),i(2,12,22,24,o[C*16+10],o[C*16+11]),i(4,14,16,26,o[C*16+12],o[C*16+13]),i(6,8,18,28,o[C*16+14],o[C*16+15]);for(C=0;C<16;C++)E.h[C]=E.h[C]^l[C]^l[C+16]}const h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function g(E,I,C,N){if(E===0||E>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(I&&I.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(C&&C.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(N&&N.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const A={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:E};h.fill(0),h[0]=E,I&&(h[1]=I.length),h[2]=1,h[3]=1,C&&h.set(C,32),N&&h.set(N,48);for(let T=0;T<16;T++)A.h[T]=a[T]^r(h,T*4);return I&&(m(A,I),A.c=128),A}function m(E,I){for(let C=0;C<I.length;C++)E.c===128&&(E.t+=E.c,d(E,!1),E.c=0),E.b[E.c++]=I[C]}function b(E){for(E.t+=E.c;E.c<128;)E.b[E.c++]=0;d(E,!0);const I=new Uint8Array(E.outlen);for(let C=0;C<E.outlen;C++)I[C]=E.h[C>>2]>>8*(C&3);return I}function w(E,I,C,N,A){C=C||64,E=t.normalizeInput(E),N&&(N=t.normalizeInput(N)),A&&(A=t.normalizeInput(A));const T=g(C,I,N,A);return m(T,E),b(T)}function x(E,I,C,N,A){const T=w(E,I,C,N,A);return t.toHex(T)}return KA={blake2b:w,blake2bHex:x,blake2bInit:g,blake2bUpdate:m,blake2bFinal:b},KA}var YA,qW;function tBe(){if(qW)return YA;qW=1;const t=zre();function e(b,w){return b[w]^b[w+1]<<8^b[w+2]<<16^b[w+3]<<24}function n(b,w,x,E,I,C){s[b]=s[b]+s[w]+I,s[E]=r(s[E]^s[b],16),s[x]=s[x]+s[E],s[w]=r(s[w]^s[x],12),s[b]=s[b]+s[w]+C,s[E]=r(s[E]^s[b],8),s[x]=s[x]+s[E],s[w]=r(s[w]^s[x],7)}function r(b,w){return b>>>w^b<<32-w}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),s=new Uint32Array(16),o=new Uint32Array(16);function l(b,w){let x=0;for(x=0;x<8;x++)s[x]=b.h[x],s[x+8]=i[x];for(s[12]^=b.t,s[13]^=b.t/4294967296,w&&(s[14]=~s[14]),x=0;x<16;x++)o[x]=e(b.b,4*x);for(x=0;x<10;x++)n(0,4,8,12,o[a[x*16+0]],o[a[x*16+1]]),n(1,5,9,13,o[a[x*16+2]],o[a[x*16+3]]),n(2,6,10,14,o[a[x*16+4]],o[a[x*16+5]]),n(3,7,11,15,o[a[x*16+6]],o[a[x*16+7]]),n(0,5,10,15,o[a[x*16+8]],o[a[x*16+9]]),n(1,6,11,12,o[a[x*16+10]],o[a[x*16+11]]),n(2,7,8,13,o[a[x*16+12]],o[a[x*16+13]]),n(3,4,9,14,o[a[x*16+14]],o[a[x*16+15]]);for(x=0;x<8;x++)b.h[x]^=s[x]^s[x+8]}function u(b,w){if(!(b>0&&b<=32))throw new Error("Incorrect output length, should be in [1, 32]");const x=w?w.length:0;if(w&&!(x>0&&x<=32))throw new Error("Incorrect key length, should be in [1, 32]");const E={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:b};return E.h[0]^=16842752^x<<8^b,x>0&&(d(E,w),E.c=64),E}function d(b,w){for(let x=0;x<w.length;x++)b.c===64&&(b.t+=b.c,l(b,!1),b.c=0),b.b[b.c++]=w[x]}function h(b){for(b.t+=b.c;b.c<64;)b.b[b.c++]=0;l(b,!0);const w=new Uint8Array(b.outlen);for(let x=0;x<b.outlen;x++)w[x]=b.h[x>>2]>>8*(x&3)&255;return w}function g(b,w,x){x=x||32,b=t.normalizeInput(b);const E=u(x,w);return d(E,b),h(E)}function m(b,w,x){const E=g(b,w,x);return t.toHex(E)}return YA={blake2s:g,blake2sHex:m,blake2sInit:u,blake2sUpdate:d,blake2sFinal:h},YA}var ZA,VW;function nBe(){if(VW)return ZA;VW=1;const t=eBe(),e=tBe();return ZA={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},ZA}var rBe=nBe(),iBe={};const aBe=":";function N0(t){const[e,n]=t.split(aBe);return{namespace:e,reference:n}}function GW(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function Wre(t,e){return t.includes(":")?[t]:e.chains||[]}var sBe=Object.defineProperty,oBe=Object.defineProperties,lBe=Object.getOwnPropertyDescriptors,KW=Object.getOwnPropertySymbols,cBe=Object.prototype.hasOwnProperty,uBe=Object.prototype.propertyIsEnumerable,WI=(t,e,n)=>e in t?sBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YW=(t,e)=>{for(var n in e||(e={}))cBe.call(e,n)&&WI(t,n,e[n]);if(KW)for(var n of KW(e))uBe.call(e,n)&&WI(t,n,e[n]);return t},dBe=(t,e)=>oBe(t,lBe(e)),ZW=(t,e,n)=>WI(t,typeof e!="symbol"?e+"":e,n);const fBe="ReactNative",oo={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},hBe="js";function D6(){return typeof Er<"u"&&typeof Er.versions<"u"&&typeof Er.versions.node<"u"}function xh(){return!Cd.getDocument()&&!!Cd.getNavigator()&&navigator.product===fBe}function pBe(){return xh()&&typeof Kt<"u"&&typeof Kt?.Platform<"u"&&Kt?.Platform.OS==="android"}function gBe(){return xh()&&typeof Kt<"u"&&typeof Kt?.Platform<"u"&&Kt?.Platform.OS==="ios"}function Pm(){return!D6()&&!!Cd.getNavigator()&&!!Cd.getDocument()}function pv(){return xh()?oo.reactNative:D6()?oo.node:Pm()?oo.browser:oo.unknown}function JW(){var t;try{return xh()&&typeof Kt<"u"&&typeof Kt?.Application<"u"?(t=Kt.Application)==null?void 0:t.applicationId:void 0}catch{return}}function mBe(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function yBe(t){var e,n;const r=Hre();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),dBe(YW(YW({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function Hre(){return IPe.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function bBe(){if(pv()===oo.reactNative&&typeof Kt<"u"&&typeof Kt?.Platform<"u"){const{OS:n,Version:r}=Kt.Platform;return[n,r].join("-")}const t=VNe();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function wBe(){var t;const e=pv();return e===oo.browser?[e,((t=Cd.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function qre(t,e,n){const r=bBe(),i=wBe();return[[t,e].join("-"),[hBe,n].join("-"),r,i].join("/")}function vBe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:a,useOnCloseEvent:s,bundleId:o,packageName:l}){const u=n.split("?"),d=qre(t,e,r),h={auth:i,ua:d,projectId:a,useOnCloseEvent:s,packageName:l||void 0,bundleId:o||void 0},g=mBe(u[1]||"",h);return u[0]+"?"+g}function x0(t,e){return t.filter(n=>e.includes(n)).length===t.length}function HI(t){return Object.fromEntries(t.entries())}function qI(t){return new Map(Object.entries(t))}function t0(t=dt.FIVE_MINUTES,e){const n=dt.toMiliseconds(t||dt.FIVE_MINUTES);let r,i,a,s;return{resolve:o=>{a&&r&&(clearTimeout(a),r(o),s=Promise.resolve(o))},reject:o=>{a&&i&&(clearTimeout(a),i(o))},done:()=>new Promise((o,l)=>{if(s)return o(s);a=setTimeout(()=>{const u=new Error(e);s=Promise.reject(u),l(u)},n),r=o,i=l})}}function Qc(t,e,n){return new Promise(async(r,i)=>{const a=setTimeout(()=>i(new Error(n)),e);try{const s=await t;r(s)}catch(s){i(s)}clearTimeout(a)})}function Vre(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function xBe(t){return Vre("topic",t)}function EBe(t){return Vre("id",t)}function Gre(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ii(t,e){return dt.fromMiliseconds(Date.now()+dt.toMiliseconds(t))}function Df(t){return Date.now()>=dt.toMiliseconds(t)}function Zn(t,e){return`${t}${e?`:${e}`:""}`}function iu(t=[],e=[]){return[...new Set([...t,...e])]}async function _Be({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,a=i?.href;if(typeof a!="string")return;const s=ABe(a,t,e),o=pv();if(o===oo.browser){if(!((r=Cd.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}CBe(s)}else o===oo.reactNative&&typeof Kt?.Linking<"u"&&await Kt.Linking.openURL(s)}catch(i){console.error(i)}}function ABe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const a=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${a}${TBe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function CBe(t){let e="_self";IBe()?e="_top":(kBe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function SBe(t,e){let n="";try{if(Pm()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function XW(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function QW(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function NP(){return typeof Er<"u"&&iBe.IS_VITEST==="true"}function kBe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function IBe(){try{return window.self!==window.top}catch{return!1}}function TBe(t,e=!1){const n=_t.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function Kre(t){return _t.from(t,"base64").toString("utf-8")}function $Be(t){return new Promise(e=>setTimeout(e,t))}let NBe=class{constructor({limit:e}){ZW(this,"limit"),ZW(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const kx=BigInt(2**32-1),eH=BigInt(32);function Yre(t,e=!1){return e?{h:Number(t&kx),l:Number(t>>eH&kx)}:{h:Number(t>>eH&kx)|0,l:Number(t&kx)|0}}function Zre(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){const{h:s,l:o}=Yre(t[a],e);[r[a],i[a]]=[s,o]}return[r,i]}const tH=(t,e,n)=>t>>>n,nH=(t,e,n)=>t<<32-n|e>>>n,Bf=(t,e,n)=>t>>>n|e<<32-n,Uf=(t,e,n)=>t<<32-n|e>>>n,D2=(t,e,n)=>t<<64-n|e>>>n-32,B2=(t,e,n)=>t>>>n-32|e<<64-n,PBe=(t,e)=>e,OBe=(t,e)=>t,RBe=(t,e,n)=>t<<n|e>>>32-n,MBe=(t,e,n)=>e<<n|t>>>32-n,jBe=(t,e,n)=>e<<n-32|t>>>64-n,DBe=(t,e,n)=>t<<n-32|e>>>64-n;function Dl(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const PP=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),OP=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,BBe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),UBe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,LBe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),FBe=(t,e,n,r,i,a)=>e+n+r+i+a+(t/2**32|0)|0,_1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function RP(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Sd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function dl(t,...e){if(!RP(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function MP(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Sd(t.outputLen),Sd(t.blockLen)}function dh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function jP(t,e){dl(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function xw(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function fl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function JA(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Tc(t,e){return t<<32-e|t>>>e}const Jre=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Xre(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const qu=Jre?t=>t:t=>Xre(t);function zBe(t){for(let e=0;e<t.length;e++)t[e]=Xre(t[e]);return t}const Lf=Jre?t=>t:zBe,Qre=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",WBe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ew(t){if(dl(t),Qre)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=WBe[t[n]];return e}const Fu={_0:48,_9:57,A:65,F:70,a:97,f:102};function rH(t){if(t>=Fu._0&&t<=Fu._9)return t-Fu._0;if(t>=Fu.A&&t<=Fu.F)return t-(Fu.A-10);if(t>=Fu.a&&t<=Fu.f)return t-(Fu.a-10)}function DP(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Qre)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){const s=rH(t.charCodeAt(a)),o=rH(t.charCodeAt(a+1));if(s===void 0||o===void 0){const l=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+a)}r[i]=s*16+o}return r}function HBe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Zl(t){return typeof t=="string"&&(t=HBe(t)),dl(t),t}function E0(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];dl(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const a=t[r];n.set(a,i),i+=a.length}return n}let D8=class{};function gv(t){const e=r=>t().update(Zl(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function qBe(t){const e=(r,i)=>t(i).update(Zl(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Om(t=32){if(_1&&typeof _1.getRandomValues=="function")return _1.getRandomValues(new Uint8Array(t));if(_1&&typeof _1.randomBytes=="function")return Uint8Array.from(_1.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const VBe=BigInt(0),o2=BigInt(1),GBe=BigInt(2),KBe=BigInt(7),YBe=BigInt(256),ZBe=BigInt(113),eie=[],tie=[],nie=[];for(let t=0,e=o2,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],eie.push(2*(5*r+n)),tie.push((t+1)*(t+2)/2%64);let i=VBe;for(let a=0;a<7;a++)e=(e<<o2^(e>>KBe)*ZBe)%YBe,e&GBe&&(i^=o2<<(o2<<BigInt(a))-o2);nie.push(i)}const rie=Zre(nie,!0),JBe=rie[0],XBe=rie[1],iH=(t,e,n)=>n>32?jBe(t,e,n):RBe(t,e,n),aH=(t,e,n)=>n>32?DBe(t,e,n):MBe(t,e,n);function QBe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,l=(s+2)%10,u=n[l],d=n[l+1],h=iH(u,d,1)^n[o],g=aH(u,d,1)^n[o+1];for(let m=0;m<50;m+=10)t[s+m]^=h,t[s+m+1]^=g}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=tie[s],l=iH(i,a,o),u=aH(i,a,o),d=eie[s];i=t[d],a=t[d+1],t[d]=l,t[d+1]=u}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)n[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=JBe[r],t[1]^=XBe[r]}fl(n)}let eUe=class iie extends D8{constructor(e,n,r,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=a,Sd(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=xw(this.state)}clone(){return this._cloneInto()}keccak(){Lf(this.state32),QBe(this.state32,this.rounds),Lf(this.state32),this.posOut=0,this.pos=0}update(e){dh(this),e=Zl(e),dl(e);const{blockLen:n,state:r}=this,i=e.length;for(let a=0;a<i;){const s=Math.min(n-this.pos,i-a);for(let o=0;o<s;o++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){dh(this,!1),dl(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Sd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(jP(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,fl(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new iie(n,r,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const tUe=(t,e,n)=>gv(()=>new eUe(e,t,n)),nUe=tUe(1,136,256/8);function rUe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a),l=r?4:0,u=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+u,o,r)}function iUe(t,e,n){return t&e^~t&n}function aUe(t,e,n){return t&e^t&n^e&n}let aie=class extends D8{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=JA(this.buffer)}update(e){dh(this),e=Zl(e),dl(e);const{view:n,buffer:r,blockLen:i}=this,a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const l=JA(e);for(;i<=a-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){dh(this),jP(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:a}=this;let{pos:s}=this;n[s++]=128,fl(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let h=s;h<i;h++)n[h]=0;rUe(r,i-8,BigInt(this.length*8),a),this.process(r,0);const o=JA(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)o.setUint32(4*h,d[h],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:a,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=a,e.length=i,e.pos=o,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Ef=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ea=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),_a=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),sUe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_f=new Uint32Array(64);let oUe=class extends aie{constructor(e=32){super(64,e,8,!1),this.A=Ef[0]|0,this.B=Ef[1]|0,this.C=Ef[2]|0,this.D=Ef[3]|0,this.E=Ef[4]|0,this.F=Ef[5]|0,this.G=Ef[6]|0,this.H=Ef[7]|0}get(){const{A:e,B:n,C:r,D:i,E:a,F:s,G:o,H:l}=this;return[e,n,r,i,a,s,o,l]}set(e,n,r,i,a,s,o,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)_f[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const g=_f[h-15],m=_f[h-2],b=Tc(g,7)^Tc(g,18)^g>>>3,w=Tc(m,17)^Tc(m,19)^m>>>10;_f[h]=w+_f[h-7]+b+_f[h-16]|0}let{A:r,B:i,C:a,D:s,E:o,F:l,G:u,H:d}=this;for(let h=0;h<64;h++){const g=Tc(o,6)^Tc(o,11)^Tc(o,25),m=d+g+iUe(o,l,u)+sUe[h]+_f[h]|0,b=(Tc(r,2)^Tc(r,13)^Tc(r,22))+aUe(r,i,a)|0;d=u,u=l,l=o,o=s+m|0,s=a,a=i,i=r,r=m+b|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,a,s,o,l,u,d)}roundClean(){fl(_f)}destroy(){this.set(0,0,0,0,0,0,0,0),fl(this.buffer)}};const sie=Zre(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),lUe=sie[0],cUe=sie[1],Af=new Uint32Array(80),Cf=new Uint32Array(80);let BP=class extends aie{constructor(e=64){super(128,e,16,!1),this.Ah=_a[0]|0,this.Al=_a[1]|0,this.Bh=_a[2]|0,this.Bl=_a[3]|0,this.Ch=_a[4]|0,this.Cl=_a[5]|0,this.Dh=_a[6]|0,this.Dl=_a[7]|0,this.Eh=_a[8]|0,this.El=_a[9]|0,this.Fh=_a[10]|0,this.Fl=_a[11]|0,this.Gh=_a[12]|0,this.Gl=_a[13]|0,this.Hh=_a[14]|0,this.Hl=_a[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:a,Cl:s,Dh:o,Dl:l,Eh:u,El:d,Fh:h,Fl:g,Gh:m,Gl:b,Hh:w,Hl:x}=this;return[e,n,r,i,a,s,o,l,u,d,h,g,m,b,w,x]}set(e,n,r,i,a,s,o,l,u,d,h,g,m,b,w,x){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=a|0,this.Cl=s|0,this.Dh=o|0,this.Dl=l|0,this.Eh=u|0,this.El=d|0,this.Fh=h|0,this.Fl=g|0,this.Gh=m|0,this.Gl=b|0,this.Hh=w|0,this.Hl=x|0}process(e,n){for(let C=0;C<16;C++,n+=4)Af[C]=e.getUint32(n),Cf[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){const N=Af[C-15]|0,A=Cf[C-15]|0,T=Bf(N,A,1)^Bf(N,A,8)^tH(N,A,7),O=Uf(N,A,1)^Uf(N,A,8)^nH(N,A,7),H=Af[C-2]|0,U=Cf[C-2]|0,L=Bf(H,U,19)^D2(H,U,61)^tH(H,U,6),G=Uf(H,U,19)^B2(H,U,61)^nH(H,U,6),R=BBe(O,G,Cf[C-7],Cf[C-16]),F=UBe(R,T,L,Af[C-7],Af[C-16]);Af[C]=F|0,Cf[C]=R|0}let{Ah:r,Al:i,Bh:a,Bl:s,Ch:o,Cl:l,Dh:u,Dl:d,Eh:h,El:g,Fh:m,Fl:b,Gh:w,Gl:x,Hh:E,Hl:I}=this;for(let C=0;C<80;C++){const N=Bf(h,g,14)^Bf(h,g,18)^D2(h,g,41),A=Uf(h,g,14)^Uf(h,g,18)^B2(h,g,41),T=h&m^~h&w,O=g&b^~g&x,H=LBe(I,A,O,cUe[C],Cf[C]),U=FBe(H,E,N,T,lUe[C],Af[C]),L=H|0,G=Bf(r,i,28)^D2(r,i,34)^D2(r,i,39),R=Uf(r,i,28)^B2(r,i,34)^B2(r,i,39),F=r&a^r&o^a&o,_=i&s^i&l^s&l;E=w|0,I=x|0,w=m|0,x=b|0,m=h|0,b=g|0,{h,l:g}=Dl(u|0,d|0,U|0,L|0),u=o|0,d=l|0,o=a|0,l=s|0,a=r|0,s=i|0;const S=PP(L,R,_);r=OP(S,U,G,F),i=S|0}({h:r,l:i}=Dl(this.Ah|0,this.Al|0,r|0,i|0)),{h:a,l:s}=Dl(this.Bh|0,this.Bl|0,a|0,s|0),{h:o,l}=Dl(this.Ch|0,this.Cl|0,o|0,l|0),{h:u,l:d}=Dl(this.Dh|0,this.Dl|0,u|0,d|0),{h,l:g}=Dl(this.Eh|0,this.El|0,h|0,g|0),{h:m,l:b}=Dl(this.Fh|0,this.Fl|0,m|0,b|0),{h:w,l:x}=Dl(this.Gh|0,this.Gl|0,w|0,x|0),{h:E,l:I}=Dl(this.Hh|0,this.Hl|0,E|0,I|0),this.set(r,i,a,s,o,l,u,d,h,g,m,b,w,x,E,I)}roundClean(){fl(Af,Cf)}destroy(){fl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},uUe=class extends BP{constructor(){super(48),this.Ah=Ea[0]|0,this.Al=Ea[1]|0,this.Bh=Ea[2]|0,this.Bl=Ea[3]|0,this.Ch=Ea[4]|0,this.Cl=Ea[5]|0,this.Dh=Ea[6]|0,this.Dl=Ea[7]|0,this.Eh=Ea[8]|0,this.El=Ea[9]|0,this.Fh=Ea[10]|0,this.Fl=Ea[11]|0,this.Gh=Ea[12]|0,this.Gl=Ea[13]|0,this.Hh=Ea[14]|0,this.Hl=Ea[15]|0}};const Aa=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let dUe=class extends BP{constructor(){super(32),this.Ah=Aa[0]|0,this.Al=Aa[1]|0,this.Bh=Aa[2]|0,this.Bl=Aa[3]|0,this.Ch=Aa[4]|0,this.Cl=Aa[5]|0,this.Dh=Aa[6]|0,this.Dl=Aa[7]|0,this.Eh=Aa[8]|0,this.El=Aa[9]|0,this.Fh=Aa[10]|0,this.Fl=Aa[11]|0,this.Gh=Aa[12]|0,this.Gl=Aa[13]|0,this.Hh=Aa[14]|0,this.Hl=Aa[15]|0}};const B8=gv(()=>new oUe),fUe=gv(()=>new BP),hUe=gv(()=>new uUe),pUe=gv(()=>new dUe),gUe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Ci=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),wt=new Uint32Array(32);function Sf(t,e,n,r,i,a){const s=i[a],o=i[a+1];let l=wt[2*t],u=wt[2*t+1],d=wt[2*e],h=wt[2*e+1],g=wt[2*n],m=wt[2*n+1],b=wt[2*r],w=wt[2*r+1],x=PP(l,d,s);u=OP(x,u,h,o),l=x|0,{Dh:w,Dl:b}={Dh:w^u,Dl:b^l},{Dh:w,Dl:b}={Dh:PBe(w,b),Dl:OBe(w)},{h:m,l:g}=Dl(m,g,w,b),{Bh:h,Bl:d}={Bh:h^m,Bl:d^g},{Bh:h,Bl:d}={Bh:Bf(h,d,24),Bl:Uf(h,d,24)},wt[2*t]=l,wt[2*t+1]=u,wt[2*e]=d,wt[2*e+1]=h,wt[2*n]=g,wt[2*n+1]=m,wt[2*r]=b,wt[2*r+1]=w}function kf(t,e,n,r,i,a){const s=i[a],o=i[a+1];let l=wt[2*t],u=wt[2*t+1],d=wt[2*e],h=wt[2*e+1],g=wt[2*n],m=wt[2*n+1],b=wt[2*r],w=wt[2*r+1],x=PP(l,d,s);u=OP(x,u,h,o),l=x|0,{Dh:w,Dl:b}={Dh:w^u,Dl:b^l},{Dh:w,Dl:b}={Dh:Bf(w,b,16),Dl:Uf(w,b,16)},{h:m,l:g}=Dl(m,g,w,b),{Bh:h,Bl:d}={Bh:h^m,Bl:d^g},{Bh:h,Bl:d}={Bh:D2(h,d,63),Bl:B2(h,d,63)},wt[2*t]=l,wt[2*t+1]=u,wt[2*e]=d,wt[2*e+1]=h,wt[2*n]=g,wt[2*n+1]=m,wt[2*r]=b,wt[2*r+1]=w}function mUe(t,e={},n,r,i){if(Sd(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:a,salt:s,personalization:o}=e;if(a!==void 0&&(a.length<1||a.length>n))throw new Error("key length must be undefined or 1.."+n);if(s!==void 0&&s.length!==r)throw new Error("salt must be undefined or "+r);if(o!==void 0&&o.length!==i)throw new Error("personalization must be undefined or "+i)}let yUe=class extends D8{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Sd(e),Sd(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=xw(this.buffer)}update(e){dh(this),e=Zl(e),dl(e);const{blockLen:n,buffer:r,buffer32:i}=this,a=e.length,s=e.byteOffset,o=e.buffer;for(let l=0;l<a;){this.pos===n&&(Lf(i),this.compress(i,0,!1),Lf(i),this.pos=0);const u=Math.min(n-this.pos,a-l),d=s+l;if(u===n&&!(d%4)&&l+u<a){const h=new Uint32Array(o,d,Math.floor((a-l)/4));Lf(h);for(let g=0;l+n<a;g+=i.length,l+=n)this.length+=n,this.compress(h,g,!1);Lf(h);continue}r.set(e.subarray(l,l+u),this.pos),this.pos+=u,this.length+=u,l+=u}return this}digestInto(e){dh(this),jP(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,fl(this.buffer.subarray(n)),Lf(r),this.compress(r,0,!0),Lf(r);const i=xw(e);this.get().forEach((a,s)=>i[s]=qu(a))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:a,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(n),e.destroyed=a,e.finished=i,e.length=r,e.pos=o,e.outputLen=s,e}clone(){return this._cloneInto()}},bUe=class extends yUe{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Ci[0]|0,this.v0h=Ci[1]|0,this.v1l=Ci[2]|0,this.v1h=Ci[3]|0,this.v2l=Ci[4]|0,this.v2h=Ci[5]|0,this.v3l=Ci[6]|0,this.v3h=Ci[7]|0,this.v4l=Ci[8]|0,this.v4h=Ci[9]|0,this.v5l=Ci[10]|0,this.v5h=Ci[11]|0,this.v6l=Ci[12]|0,this.v6h=Ci[13]|0,this.v7l=Ci[14]|0,this.v7h=Ci[15]|0,mUe(n,e,64,16,16);let{key:r,personalization:i,salt:a}=e,s=0;if(r!==void 0&&(r=Zl(r),s=r.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,a!==void 0){a=Zl(a);const o=xw(a);this.v4l^=qu(o[0]),this.v4h^=qu(o[1]),this.v5l^=qu(o[2]),this.v5h^=qu(o[3])}if(i!==void 0){i=Zl(i);const o=xw(i);this.v6l^=qu(o[0]),this.v6h^=qu(o[1]),this.v7l^=qu(o[2]),this.v7h^=qu(o[3])}if(r!==void 0){const o=new Uint8Array(this.blockLen);o.set(r),this.update(o)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:a,v2h:s,v3l:o,v3h:l,v4l:u,v4h:d,v5l:h,v5h:g,v6l:m,v6h:b,v7l:w,v7h:x}=this;return[e,n,r,i,a,s,o,l,u,d,h,g,m,b,w,x]}set(e,n,r,i,a,s,o,l,u,d,h,g,m,b,w,x){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=a|0,this.v2h=s|0,this.v3l=o|0,this.v3h=l|0,this.v4l=u|0,this.v4h=d|0,this.v5l=h|0,this.v5h=g|0,this.v6l=m|0,this.v6h=b|0,this.v7l=w|0,this.v7h=x|0}compress(e,n,r){this.get().forEach((l,u)=>wt[u]=l),wt.set(Ci,16);let{h:i,l:a}=Yre(BigInt(this.length));wt[24]=Ci[8]^a,wt[25]=Ci[9]^i,r&&(wt[28]=~wt[28],wt[29]=~wt[29]);let s=0;const o=gUe;for(let l=0;l<12;l++)Sf(0,4,8,12,e,n+2*o[s++]),kf(0,4,8,12,e,n+2*o[s++]),Sf(1,5,9,13,e,n+2*o[s++]),kf(1,5,9,13,e,n+2*o[s++]),Sf(2,6,10,14,e,n+2*o[s++]),kf(2,6,10,14,e,n+2*o[s++]),Sf(3,7,11,15,e,n+2*o[s++]),kf(3,7,11,15,e,n+2*o[s++]),Sf(0,5,10,15,e,n+2*o[s++]),kf(0,5,10,15,e,n+2*o[s++]),Sf(1,6,11,12,e,n+2*o[s++]),kf(1,6,11,12,e,n+2*o[s++]),Sf(2,7,8,13,e,n+2*o[s++]),kf(2,7,8,13,e,n+2*o[s++]),Sf(3,4,9,14,e,n+2*o[s++]),kf(3,4,9,14,e,n+2*o[s++]);this.v0l^=wt[0]^wt[16],this.v0h^=wt[1]^wt[17],this.v1l^=wt[2]^wt[18],this.v1h^=wt[3]^wt[19],this.v2l^=wt[4]^wt[20],this.v2h^=wt[5]^wt[21],this.v3l^=wt[6]^wt[22],this.v3h^=wt[7]^wt[23],this.v4l^=wt[8]^wt[24],this.v4h^=wt[9]^wt[25],this.v5l^=wt[10]^wt[26],this.v5h^=wt[11]^wt[27],this.v6l^=wt[12]^wt[28],this.v6h^=wt[13]^wt[29],this.v7l^=wt[14]^wt[30],this.v7h^=wt[15]^wt[31],fl(wt)}destroy(){this.destroyed=!0,fl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const wUe=qBe(t=>new bUe(t)),vUe="https://rpc.walletconnect.org/v1";function oie(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+_t.from(nUe(n)).toString("hex")}async function xUe(t,e,n,r,i,a){switch(n.t){case"eip191":return await EUe(t,e,n.s);case"eip1271":return await _Ue(t,e,n.s,r,i,a);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function EUe(t,e,n){return(await bOe({hash:oie(e),signature:n})).toLowerCase()===t.toLowerCase()}async function _Ue(t,e,n,r,i,a){const s=N0(r);if(!s.namespace||!s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const o="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",u=n.substring(2),d=(u.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:oie(e)).substring(2),g=o+h+l+d+u,m=await fetch(`${a||vUe}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:AUe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:g},"latest"]})}),{result:b}=await m.json();return b?b.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function AUe(){return Date.now()+Math.floor(Math.random()*1e3)}function CUe(t){const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const a=_t.from(t,"base64").slice(1,65);return dv.encode(a)}function SUe(t){const e=new Uint8Array(_t.from(t,"base64")),n=Array.from("TransactionData::").map(a=>a.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=wUe(r,{dkLen:32});return dv.encode(i)}function sH(t){const e=new Uint8Array(B8(kUe(t)));return dv.encode(e)}function kUe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function oH(t){const e=_t.from(t,"base64"),n=nRe(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=GOe(n),i=_t.from("TX"),a=_t.concat([i,_t.from(r)]),s=pUe(a);return uRe.encode(s).replace(/=+$/,"")}function XA(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),_t.from(e)}function IUe(t){const e=_t.from(t.signed.bodyBytes,"base64"),n=_t.from(t.signed.authInfoBytes,"base64"),r=_t.from(t.signature.signature,"base64"),i=[];i.push(_t.from([10])),i.push(XA(e.length)),i.push(e),i.push(_t.from([18])),i.push(XA(n.length)),i.push(n),i.push(_t.from([26])),i.push(XA(r.length)),i.push(r);const a=_t.concat(i),s=B8(a);return _t.from(s).toString("hex").toUpperCase()}var TUe=Object.defineProperty,$Ue=Object.defineProperties,NUe=Object.getOwnPropertyDescriptors,lH=Object.getOwnPropertySymbols,PUe=Object.prototype.hasOwnProperty,OUe=Object.prototype.propertyIsEnumerable,cH=(t,e,n)=>e in t?TUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RUe=(t,e)=>{for(var n in e||(e={}))PUe.call(e,n)&&cH(t,n,e[n]);if(lH)for(var n of lH(e))OUe.call(e,n)&&cH(t,n,e[n]);return t},MUe=(t,e)=>$Ue(t,NUe(e));const jUe="did:pkh:",UP=t=>t?.split(":"),DUe=t=>{const e=t&&UP(t);if(e)return t.includes(jUe)?e[3]:e[1]},VI=t=>{const e=t&&UP(t);if(e)return e[2]+":"+e[3]},B6=t=>{const e=t&&UP(t);if(e)return e.pop()};async function uH(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,a=lie(i,i.iss),s=B6(i.iss);return await xUe(s,a,r,VI(i.iss),n)}const lie=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=B6(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const a=`URI: ${t.aud||t.uri}`,s=`Version: ${t.version}`,o=`Chain ID: ${DUe(e)}`,l=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,d=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,g=t.requestId?`Request ID: ${t.requestId}`:void 0,m=t.resources?`Resources:${t.resources.map(w=>`
- ${w}`).join("")}`:void 0,b=I5(t.resources);if(b){const w=_w(b);i=VUe(i,w)}return[n,r,"",i,"",a,s,o,l,u,d,h,g,m].filter(w=>w!=null).join(`
`)};function BUe(t){return _t.from(JSON.stringify(t)).toString("base64")}function UUe(t){return JSON.parse(_t.from(t,"base64").toString("utf-8"))}function X0(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const a=r[i];if(!Array.isArray(a))throw new Error(`Ability limits ${i} must be an array of objects, found: ${a}`);if(!a.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);a.forEach(s=>{if(typeof s!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${s}`)})})})}function LUe(t,e,n,r={}){return n?.sort((i,a)=>i.localeCompare(a)),{att:{[t]:FUe(e,n,r)}}}function FUe(t,e,n={}){e=e?.sort((i,a)=>i.localeCompare(a));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function cie(t){return X0(t),`urn:recap:${BUe(t).replace(/=/g,"")}`}function _w(t){const e=UUe(t.replace("urn:recap:",""));return X0(e),e}function zUe(t,e,n){const r=LUe(t,e,n);return cie(r)}function WUe(t){return t&&t.includes("urn:recap:")}function HUe(t,e){const n=_w(t),r=_w(e),i=qUe(n,r);return cie(i)}function qUe(t,e){X0(t),X0(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,a)=>i.localeCompare(a)),r={att:{}};return n.forEach(i=>{var a,s;Object.keys(((a=t.att)==null?void 0:a[i])||{}).concat(Object.keys(((s=e.att)==null?void 0:s[i])||{})).sort((o,l)=>o.localeCompare(l)).forEach(o=>{var l,u;r.att[i]=MUe(RUe({},r.att[i]),{[o]:((l=t.att[i])==null?void 0:l[o])||((u=e.att[i])==null?void 0:u[o])})})}),r}function VUe(t="",e){X0(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(o=>{const l=Object.keys(e.att[o]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));l.sort((h,g)=>h.action.localeCompare(g.action));const u={};l.forEach(h=>{u[h.ability]||(u[h.ability]=[]),u[h.ability].push(h.action)});const d=Object.keys(u).map(h=>(i++,`(${i}) '${h}': '${u[h].join("', '")}' for '${o}'.`));r.push(d.join(", ").replace(".,","."))});const a=r.join(" "),s=`${n}${a}`;return`${t?t+" ":""}${s}`}function dH(t){var e;const n=_w(t);X0(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function fH(t){const e=_w(t);X0(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var a;(a=i?.[0])!=null&&a.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function I5(t){if(!t)return;const e=t?.[t.length-1];return WUe(e)?e:void 0}function uie(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function GI(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function QA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ys(t,...e){if(!uie(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function hH(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GUe(t,e){ys(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function nh(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Jg(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function KUe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const YUe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ZUe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function KI(t){if(typeof t=="string")t=ZUe(t);else if(uie(t))t=YI(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function JUe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function XUe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const QUe=(t,e)=>{function n(r,...i){if(ys(r),!YUe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?ys(u):ys(u,t.nonceLength)}const a=t.tagLength;a&&i[1]!==void 0&&ys(i[1]);const s=e(r,...i),o=(u,d)=>{if(d!==void 0){if(u!==2)throw new Error("cipher output not supported");ys(d)}};let l=!1;return{encrypt(u,d){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,ys(u),o(s.encrypt.length,d),s.encrypt(u,d)},decrypt(u,d){if(ys(u),a&&u.length<a)throw new Error("invalid ciphertext length: smaller than tagLength="+a);return o(s.decrypt.length,d),s.decrypt(u,d)}}}return Object.assign(n,t),n};function pH(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!tLe(e))throw new Error("invalid output, must be aligned");return e}function gH(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a);t.setUint32(e+4,s,r),t.setUint32(e+0,o,r)}function eLe(t,e,n){GI(n);const r=new Uint8Array(16),i=KUe(r);return gH(i,0,BigInt(e),n),gH(i,8,BigInt(t),n),r}function tLe(t){return t.byteOffset%4===0}function YI(t){return Uint8Array.from(t)}const die=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),nLe=die("expand 16-byte k"),rLe=die("expand 32-byte k"),iLe=nh(nLe),aLe=nh(rLe);function Ln(t,e){return t<<e|t>>>32-e}function ZI(t){return t.byteOffset%4===0}const Ix=64,sLe=16,fie=2**32-1,mH=new Uint32Array;function oLe(t,e,n,r,i,a,s,o){const l=i.length,u=new Uint8Array(Ix),d=nh(u),h=ZI(i)&&ZI(a),g=h?nh(i):mH,m=h?nh(a):mH;for(let b=0;b<l;s++){if(t(e,n,r,d,s,o),s>=fie)throw new Error("arx: counter overflow");const w=Math.min(Ix,l-b);if(h&&w===Ix){const x=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let E=0,I;E<sLe;E++)I=x+E,m[I]=g[I]^d[E];b+=Ix;continue}for(let x=0,E;x<w;x++)E=b+x,a[E]=i[E]^u[x];b+=w}}function lLe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:a,rounds:s}=JUe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return QA(i),QA(s),GI(a),GI(n),(o,l,u,d,h=0)=>{ys(o),ys(l),ys(u);const g=u.length;if(d===void 0&&(d=new Uint8Array(g)),ys(d),QA(h),h<0||h>=fie)throw new Error("arx: counter overflow");if(d.length<g)throw new Error(`arx: output (${d.length}) is shorter than data (${g})`);const m=[];let b=o.length,w,x;if(b===32)m.push(w=YI(o)),x=aLe;else if(b===16&&n)w=new Uint8Array(32),w.set(o),w.set(o,16),x=iLe,m.push(w);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);ZI(l)||m.push(l=YI(l));const E=nh(w);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(x,E,nh(l.subarray(0,16)),E),l=l.subarray(16)}const I=16-i;if(I!==l.length)throw new Error(`arx: nonce must be ${I} or 16 bytes`);if(I!==12){const N=new Uint8Array(12);N.set(l,a?0:12-l.length),l=N,m.push(l)}const C=nh(l);return oLe(t,x,E,C,u,d,h,s),Jg(...m),d}}const ea=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let cLe=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=KI(e),ys(e,32);const n=ea(e,0),r=ea(e,2),i=ea(e,4),a=ea(e,6),s=ea(e,8),o=ea(e,10),l=ea(e,12),u=ea(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|a<<9)&8191,this.r[4]=(a>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|o<<2)&8191,this.r[7]=(o>>>11|l<<5)&8065,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let d=0;d<8;d++)this.pad[d]=ea(e,16+2*d)}process(e,n,r=!1){const i=r?0:2048,{h:a,r:s}=this,o=s[0],l=s[1],u=s[2],d=s[3],h=s[4],g=s[5],m=s[6],b=s[7],w=s[8],x=s[9],E=ea(e,n+0),I=ea(e,n+2),C=ea(e,n+4),N=ea(e,n+6),A=ea(e,n+8),T=ea(e,n+10),O=ea(e,n+12),H=ea(e,n+14);let U=a[0]+(E&8191),L=a[1]+((E>>>13|I<<3)&8191),G=a[2]+((I>>>10|C<<6)&8191),R=a[3]+((C>>>7|N<<9)&8191),F=a[4]+((N>>>4|A<<12)&8191),_=a[5]+(A>>>1&8191),S=a[6]+((A>>>14|T<<2)&8191),$=a[7]+((T>>>11|O<<5)&8191),D=a[8]+((O>>>8|H<<8)&8191),z=a[9]+(H>>>5|i),Y=0,J=Y+U*o+L*(5*x)+G*(5*w)+R*(5*b)+F*(5*m);Y=J>>>13,J&=8191,J+=_*(5*g)+S*(5*h)+$*(5*d)+D*(5*u)+z*(5*l),Y+=J>>>13,J&=8191;let V=Y+U*l+L*o+G*(5*x)+R*(5*w)+F*(5*b);Y=V>>>13,V&=8191,V+=_*(5*m)+S*(5*g)+$*(5*h)+D*(5*d)+z*(5*u),Y+=V>>>13,V&=8191;let M=Y+U*u+L*l+G*o+R*(5*x)+F*(5*w);Y=M>>>13,M&=8191,M+=_*(5*b)+S*(5*m)+$*(5*g)+D*(5*h)+z*(5*d),Y+=M>>>13,M&=8191;let Q=Y+U*d+L*u+G*l+R*o+F*(5*x);Y=Q>>>13,Q&=8191,Q+=_*(5*w)+S*(5*b)+$*(5*m)+D*(5*g)+z*(5*h),Y+=Q>>>13,Q&=8191;let ne=Y+U*h+L*d+G*u+R*l+F*o;Y=ne>>>13,ne&=8191,ne+=_*(5*x)+S*(5*w)+$*(5*b)+D*(5*m)+z*(5*g),Y+=ne>>>13,ne&=8191;let K=Y+U*g+L*h+G*d+R*u+F*l;Y=K>>>13,K&=8191,K+=_*o+S*(5*x)+$*(5*w)+D*(5*b)+z*(5*m),Y+=K>>>13,K&=8191;let se=Y+U*m+L*g+G*h+R*d+F*u;Y=se>>>13,se&=8191,se+=_*l+S*o+$*(5*x)+D*(5*w)+z*(5*b),Y+=se>>>13,se&=8191;let le=Y+U*b+L*m+G*g+R*h+F*d;Y=le>>>13,le&=8191,le+=_*u+S*l+$*o+D*(5*x)+z*(5*w),Y+=le>>>13,le&=8191;let de=Y+U*w+L*b+G*m+R*g+F*h;Y=de>>>13,de&=8191,de+=_*d+S*u+$*l+D*o+z*(5*x),Y+=de>>>13,de&=8191;let he=Y+U*x+L*w+G*b+R*m+F*g;Y=he>>>13,he&=8191,he+=_*h+S*d+$*u+D*l+z*o,Y+=he>>>13,he&=8191,Y=(Y<<2)+Y|0,Y=Y+J|0,J=Y&8191,Y=Y>>>13,V+=Y,a[0]=J,a[1]=V,a[2]=M,a[3]=Q,a[4]=ne,a[5]=K,a[6]=se,a[7]=le,a[8]=de,a[9]=he}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=i,i=e[o]>>>13,e[o]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let o=1;o<10;o++)r[o]=e[o]+i,i=r[o]>>>13,r[o]&=8191;r[9]-=8192;let a=(i^1)-1;for(let o=0;o<10;o++)r[o]&=a;a=~a;for(let o=0;o<10;o++)e[o]=e[o]&a|r[o];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+n[0];e[0]=s&65535;for(let o=1;o<8;o++)s=(e[o]+n[o]|0)+(s>>>16)|0,e[o]=s&65535;Jg(r)}update(e){hH(this),e=KI(e),ys(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);if(s===r){for(;r<=i-a;a+=r)this.process(e,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Jg(this.h,this.r,this.buffer,this.pad)}digestInto(e){hH(this),GUe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let s=0;s<8;s++)e[a++]=r[s]>>>0,e[a++]=r[s]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function uLe(t){const e=(r,i)=>t(i).update(KI(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const dLe=uLe(t=>new cLe(t));function fLe(t,e,n,r,i,a=20){let s=t[0],o=t[1],l=t[2],u=t[3],d=e[0],h=e[1],g=e[2],m=e[3],b=e[4],w=e[5],x=e[6],E=e[7],I=i,C=n[0],N=n[1],A=n[2],T=s,O=o,H=l,U=u,L=d,G=h,R=g,F=m,_=b,S=w,$=x,D=E,z=I,Y=C,J=N,V=A;for(let Q=0;Q<a;Q+=2)T=T+L|0,z=Ln(z^T,16),_=_+z|0,L=Ln(L^_,12),T=T+L|0,z=Ln(z^T,8),_=_+z|0,L=Ln(L^_,7),O=O+G|0,Y=Ln(Y^O,16),S=S+Y|0,G=Ln(G^S,12),O=O+G|0,Y=Ln(Y^O,8),S=S+Y|0,G=Ln(G^S,7),H=H+R|0,J=Ln(J^H,16),$=$+J|0,R=Ln(R^$,12),H=H+R|0,J=Ln(J^H,8),$=$+J|0,R=Ln(R^$,7),U=U+F|0,V=Ln(V^U,16),D=D+V|0,F=Ln(F^D,12),U=U+F|0,V=Ln(V^U,8),D=D+V|0,F=Ln(F^D,7),T=T+G|0,V=Ln(V^T,16),$=$+V|0,G=Ln(G^$,12),T=T+G|0,V=Ln(V^T,8),$=$+V|0,G=Ln(G^$,7),O=O+R|0,z=Ln(z^O,16),D=D+z|0,R=Ln(R^D,12),O=O+R|0,z=Ln(z^O,8),D=D+z|0,R=Ln(R^D,7),H=H+F|0,Y=Ln(Y^H,16),_=_+Y|0,F=Ln(F^_,12),H=H+F|0,Y=Ln(Y^H,8),_=_+Y|0,F=Ln(F^_,7),U=U+L|0,J=Ln(J^U,16),S=S+J|0,L=Ln(L^S,12),U=U+L|0,J=Ln(J^U,8),S=S+J|0,L=Ln(L^S,7);let M=0;r[M++]=s+T|0,r[M++]=o+O|0,r[M++]=l+H|0,r[M++]=u+U|0,r[M++]=d+L|0,r[M++]=h+G|0,r[M++]=g+R|0,r[M++]=m+F|0,r[M++]=b+_|0,r[M++]=w+S|0,r[M++]=x+$|0,r[M++]=E+D|0,r[M++]=I+z|0,r[M++]=C+Y|0,r[M++]=N+J|0,r[M++]=A+V|0}const hLe=lLe(fLe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),pLe=new Uint8Array(16),yH=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(pLe.subarray(n))},gLe=new Uint8Array(32);function bH(t,e,n,r,i){const a=t(e,n,gLe),s=dLe.create(a);i&&yH(s,i),yH(s,r);const o=eLe(r.length,i?i.length:0,!0);s.update(o);const l=s.digest();return Jg(a,o),l}const mLe=t=>(e,n,r)=>({encrypt(i,a){const s=i.length;a=pH(s+16,a,!1),a.set(i);const o=a.subarray(0,-16);t(e,n,o,o,1);const l=bH(t,e,n,o,r);return a.set(l,s),Jg(l),a},decrypt(i,a){a=pH(i.length-16,a,!1);const s=i.subarray(0,-16),o=i.subarray(-16),l=bH(t,e,n,s,r);if(!XUe(o,l))throw new Error("invalid tag");return a.set(i.subarray(0,-16)),t(e,n,a,a,1),Jg(l),a}}),hie=QUe({blockSize:64,nonceLength:12,tagLength:16},mLe(hLe));let pie=class extends D8{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,MP(e);const r=Zl(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),fl(a)}update(e){return dh(this),this.iHash.update(e),this}digestInto(e){dh(this),dl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const U8=(t,e,n)=>new pie(t,e).update(n).digest();U8.create=(t,e)=>new pie(t,e);function yLe(t,e,n){return MP(t),n===void 0&&(n=new Uint8Array(t.outputLen)),U8(t,Zl(n),Zl(e))}const eC=Uint8Array.from([0]),wH=Uint8Array.of();function bLe(t,e,n,r=32){MP(t),Sd(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const a=Math.ceil(r/i);n===void 0&&(n=wH);const s=new Uint8Array(a*i),o=U8.create(t,e),l=o._cloneInto(),u=new Uint8Array(o.outputLen);for(let d=0;d<a;d++)eC[0]=d+1,l.update(d===0?wH:u).update(n).update(eC).digestInto(u),s.set(u,i*d),o._cloneInto(l);return o.destroy(),l.destroy(),fl(u,eC),s.slice(0,r)}const wLe=(t,e,n,r,i)=>bLe(t,yLe(t,e,n),r,i),L8=B8,LP=BigInt(0),JI=BigInt(1);function U6(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Tx(t){const e=t.toString(16);return e.length&1?"0"+e:e}function gie(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?LP:BigInt("0x"+t)}function F8(t){return gie(Ew(t))}function L6(t){return dl(t),gie(Ew(Uint8Array.from(t).reverse()))}function FP(t,e){return DP(t.toString(16).padStart(e*2,"0"))}function zP(t,e){return FP(t,e).reverse()}function gs(t,e,n){let r;if(typeof e=="string")try{r=DP(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(RP(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const tC=t=>typeof t=="bigint"&&LP<=t;function vLe(t,e,n){return tC(t)&&tC(e)&&tC(n)&&e<=t&&t<n}function XI(t,e,n,r){if(!vLe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function xLe(t){let e;for(e=0;t>LP;t>>=JI,e+=1);return e}const z8=t=>(JI<<BigInt(t))-JI;function ELe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=g=>new Uint8Array(g),i=g=>Uint8Array.of(g);let a=r(t),s=r(t),o=0;const l=()=>{a.fill(1),s.fill(0),o=0},u=(...g)=>n(s,a,...g),d=(g=r(0))=>{s=u(i(0),g),a=u(),g.length!==0&&(s=u(i(1),g),a=u())},h=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const m=[];for(;g<e;){a=u();const b=a.slice();m.push(b),g+=a.length}return E0(...m)};return(g,m)=>{l(),d(g);let b;for(;!(b=m(h()));)d();return l(),b}}function W8(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,a,s){const o=t[i];if(s&&o===void 0)return;const l=typeof o;if(l!==a||o===null)throw new Error(`param "${i}" is invalid: expected ${a}, got ${l}`)}Object.entries(e).forEach(([i,a])=>r(i,a,!1)),Object.entries(n).forEach(([i,a])=>r(i,a,!0))}function vH(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const a=t(n,...r);return e.set(n,a),a}}const As=BigInt(0),Ja=BigInt(1),_0=BigInt(2),_Le=BigInt(3),mie=BigInt(4),yie=BigInt(5),bie=BigInt(8);function el(t,e){const n=t%e;return n>=As?n:e+n}function Ml(t,e,n){let r=t;for(;e-- >As;)r*=r,r%=n;return r}function xH(t,e){if(t===As)throw new Error("invert: expected non-zero number");if(e<=As)throw new Error("invert: expected positive modulus, got "+e);let n=el(t,e),r=e,i=As,a=Ja;for(;n!==As;){const s=r/n,o=r%n,l=i-a*s;r=n,n=o,i=a,a=l}if(r!==Ja)throw new Error("invert: does not exist");return el(i,e)}function wie(t,e){const n=(t.ORDER+Ja)/mie,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function ALe(t,e){const n=(t.ORDER-yie)/bie,r=t.mul(e,_0),i=t.pow(r,n),a=t.mul(e,i),s=t.mul(t.mul(a,_0),i),o=t.mul(a,t.sub(s,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function CLe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ja,n=0;for(;e%_0===As;)e/=_0,n++;let r=_0;const i=Rm(t);for(;EH(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return wie;let a=i.pow(r,e);const s=(e+Ja)/_0;return function(o,l){if(o.is0(l))return l;if(EH(o,l)!==1)throw new Error("Cannot find square root");let u=n,d=o.mul(o.ONE,a),h=o.pow(l,e),g=o.pow(l,s);for(;!o.eql(h,o.ONE);){if(o.is0(h))return o.ZERO;let m=1,b=o.sqr(h);for(;!o.eql(b,o.ONE);)if(m++,b=o.sqr(b),m===u)throw new Error("Cannot find square root");const w=Ja<<BigInt(u-m-1),x=o.pow(d,w);u=m,d=o.sqr(x),h=o.mul(h,d),g=o.mul(g,x)}return g}}function SLe(t){return t%mie===_Le?wie:t%bie===yie?ALe:CLe(t)}const kLe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ILe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=kLe.reduce((r,i)=>(r[i]="function",r),e);return W8(t,n),t}function TLe(t,e,n){if(n<As)throw new Error("invalid exponent, negatives unsupported");if(n===As)return t.ONE;if(n===Ja)return e;let r=t.ONE,i=e;for(;n>As;)n&Ja&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ja;return r}function vie(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,o,l)=>t.is0(o)?s:(r[l]=s,t.mul(s,o)),t.ONE),a=t.inv(i);return e.reduceRight((s,o,l)=>t.is0(o)?s:(r[l]=t.mul(s,r[l]),t.mul(s,o)),a),r}function EH(t,e){const n=(t.ORDER-Ja)/_0,r=t.pow(e,n),i=t.eql(r,t.ONE),a=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!a&&!s)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function $Le(t,e){e!==void 0&&Sd(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Rm(t,e,n=!1,r={}){if(t<=As)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=e;d.BITS&&(i=d.BITS),d.sqrt&&(a=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(a=r.sqrt);const{nBitLength:s,nByteLength:o}=$Le(t,i);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const u=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:o,MASK:z8(s),ZERO:As,ONE:Ja,create:d=>el(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return As<=d&&d<t},is0:d=>d===As,isValidNot0:d=>!u.is0(d)&&u.isValid(d),isOdd:d=>(d&Ja)===Ja,neg:d=>el(-d,t),eql:(d,h)=>d===h,sqr:d=>el(d*d,t),add:(d,h)=>el(d+h,t),sub:(d,h)=>el(d-h,t),mul:(d,h)=>el(d*h,t),pow:(d,h)=>TLe(u,d,h),div:(d,h)=>el(d*xH(h,t),t),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>xH(d,t),sqrt:a||(d=>(l||(l=SLe(t)),l(u,d))),toBytes:d=>n?zP(d,o):FP(d,o),fromBytes:d=>{if(d.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+d.length);return n?L6(d):F8(d)},invertBatch:d=>vie(u,d),cmov:(d,h,g)=>g?h:d});return Object.freeze(u)}function xie(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Eie(t){const e=xie(t);return e+Math.ceil(e/2)}function NLe(t,e,n=!1){const r=t.length,i=xie(e),a=Eie(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const s=n?L6(t):F8(t),o=el(s,e-Ja)+Ja;return n?zP(o,i):FP(o,i)}const Xg=BigInt(0),A0=BigInt(1);function ib(t,e){const n=e.negate();return t?n:e}function PLe(t,e,n){const r=a=>a.pz,i=vie(t.Fp,n.map(r));return n.map((a,s)=>a.toAffine(i[s])).map(t.fromAffine)}function _ie(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function nC(t,e){_ie(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,a=z8(t),s=BigInt(t);return{windows:n,windowSize:r,mask:a,maxNumber:i,shiftBy:s}}function _H(t,e,n){const{windowSize:r,mask:i,maxNumber:a,shiftBy:s}=n;let o=Number(t&i),l=t>>s;o>r&&(o-=a,l+=A0);const u=e*r,d=u+Math.abs(o)-1,h=o===0,g=o<0,m=e%2!==0;return{nextN:l,offset:d,isZero:h,isNeg:g,isNegF:m,offsetF:u}}function OLe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function RLe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const rC=new WeakMap,Aie=new WeakMap;function iC(t){return Aie.get(t)||1}function AH(t){if(t!==Xg)throw new Error("invalid wNAF")}function MLe(t,e){return{constTimeNegate:ib,hasPrecomputes(n){return iC(n)!==1},unsafeLadder(n,r,i=t.ZERO){let a=n;for(;r>Xg;)r&A0&&(i=i.add(a)),a=a.double(),r>>=A0;return i},precomputeWindow(n,r){const{windows:i,windowSize:a}=nC(r,e),s=[];let o=n,l=o;for(let u=0;u<i;u++){l=o,s.push(l);for(let d=1;d<a;d++)l=l.add(o),s.push(l);o=l.double()}return s},wNAF(n,r,i){let a=t.ZERO,s=t.BASE;const o=nC(n,e);for(let l=0;l<o.windows;l++){const{nextN:u,offset:d,isZero:h,isNeg:g,isNegF:m,offsetF:b}=_H(i,l,o);i=u,h?s=s.add(ib(m,r[b])):a=a.add(ib(g,r[d]))}return AH(i),{p:a,f:s}},wNAFUnsafe(n,r,i,a=t.ZERO){const s=nC(n,e);for(let o=0;o<s.windows&&i!==Xg;o++){const{nextN:l,offset:u,isZero:d,isNeg:h}=_H(i,o,s);if(i=l,!d){const g=r[u];a=a.add(h?g.negate():g)}}return AH(i),a},getPrecomputes(n,r,i){let a=rC.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(a=i(a)),rC.set(r,a))),a},wNAFCached(n,r,i){const a=iC(n);return this.wNAF(a,this.getPrecomputes(a,n,i),r)},wNAFCachedUnsafe(n,r,i,a){const s=iC(n);return s===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,a)},setWindowSize(n,r){_ie(r,e),Aie.set(n,r),rC.delete(n)}}}function jLe(t,e,n,r){let i=e,a=t.ZERO,s=t.ZERO;for(;n>Xg||r>Xg;)n&A0&&(a=a.add(i)),r&A0&&(s=s.add(i)),i=i.double(),n>>=A0,r>>=A0;return{p1:a,p2:s}}function DLe(t,e,n,r){OLe(n,t),RLe(r,e);const i=n.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,o=xLe(BigInt(i));let l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);const u=z8(l),d=new Array(Number(u)+1).fill(s),h=Math.floor((e.BITS-1)/l)*l;let g=s;for(let m=h;m>=0;m-=l){d.fill(s);for(let w=0;w<a;w++){const x=r[w],E=Number(x>>BigInt(m)&u);d[E]=d[E].add(n[w])}let b=s;for(let w=d.length-1,x=s;w>0;w--)x=x.add(d[w]),b=b.add(x);if(g=g.add(b),m!==0)for(let w=0;w<l;w++)g=g.double()}return g}function CH(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return ILe(e),e}else return Rm(t)}function BLe(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const s of["p","n","h"]){const o=e[s];if(!(typeof o=="bigint"&&o>Xg))throw new Error(`CURVE.${s} must be positive bigint`)}const r=CH(e.p,n.Fp),i=CH(e.n,n.Fn),a=["Gx","Gy","a","b"];for(const s of a)if(!r.isValid(e[s]))throw new Error(`CURVE.${s} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const l2=BigInt(0),A1=BigInt(1),$x=BigInt(2);function ULe(t){return W8(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function LLe(t){const e=ULe(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:a,randomBytes:s}=e,o=r==="x25519";if(!o&&r!=="x448")throw new Error("invalid type");const l=s||Om,u=o?255:448,d=o?32:56,h=BigInt(o?9:5),g=BigInt(o?121665:39081),m=o?$x**BigInt(254):$x**BigInt(447),b=o?BigInt(8)*$x**BigInt(251)-A1:BigInt(4)*$x**BigInt(445)-A1,w=m+b+A1,x=U=>el(U,n),E=I(h);function I(U){return zP(x(U),d)}function C(U){const L=gs("u coordinate",U,d);return o&&(L[31]&=127),x(L6(L))}function N(U){return L6(i(gs("scalar",U,d)))}function A(U,L){const G=H(C(L),N(U));if(G===l2)throw new Error("invalid private or public key received");return I(G)}function T(U){return A(U,E)}function O(U,L,G){const R=x(U*(L-G));return L=x(L-R),G=x(G+R),{x_2:L,x_3:G}}function H(U,L){XI("u",U,l2,n),XI("scalar",L,m,w);const G=L,R=U;let F=A1,_=l2,S=U,$=A1,D=l2;for(let Y=BigInt(u-1);Y>=l2;Y--){const J=G>>Y&A1;D^=J,{x_2:F,x_3:S}=O(D,F,S),{x_2:_,x_3:$}=O(D,_,$),D=J;const V=F+_,M=x(V*V),Q=F-_,ne=x(Q*Q),K=M-ne,se=S+$,le=S-$,de=x(le*V),he=x(se*Q),Ce=de+he,ke=de-he;S=x(Ce*Ce),$=x(R*x(ke*ke)),F=x(M*ne),_=x(K*(M+x(g*K)))}({x_2:F,x_3:S}=O(D,F,S)),{x_2:_,x_3:$}=O(D,_,$);const z=a(_);return x(F*z)}return{scalarMult:A,scalarMultBase:T,getSharedSecret:(U,L)=>A(U,L),getPublicKey:U=>T(U),utils:{randomPrivateKey:()=>l(d)},GuBytes:E.slice()}}BigInt(0);const FLe=BigInt(1),SH=BigInt(2),zLe=BigInt(3),WLe=BigInt(5);BigInt(8);const Cie={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function HLe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),a=Cie.p,s=t*t%a*t%a,o=Ml(s,SH,a)*s%a,l=Ml(o,FLe,a)*t%a,u=Ml(l,WLe,a)*l%a,d=Ml(u,e,a)*u%a,h=Ml(d,n,a)*d%a,g=Ml(h,r,a)*h%a,m=Ml(g,i,a)*g%a,b=Ml(m,i,a)*g%a,w=Ml(b,e,a)*u%a;return{pow_p_5_8:Ml(w,SH,a)*t%a,b2:s}}function qLe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const QI=(()=>{const t=Cie.p;return LLe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=HLe(e);return el(Ml(n,zLe,t)*r,t)},adjustScalarBytes:qLe})})();function kH(t){t.lowS!==void 0&&U6("lowS",t.lowS),t.prehash!==void 0&&U6("prehash",t.prehash)}let VLe=class extends Error{constructor(e=""){super(e)}};const td={Err:VLe,_tlv:{encode:(t,e)=>{const{Err:n}=td;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Tx(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Tx(i.length/2|128):"";return Tx(t)+a+i+e},decode(t,e){const{Err:n}=td;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],a=!!(i&128);let s=0;if(!a)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+l);if(u.length!==l)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=td;if(t<ab)throw new e("integer: negative integers are not allowed");let n=Tx(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=td;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return F8(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=td,i=gs("signature",t),{v:a,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l}=r.decode(2,a),{v:u,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=td,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),a=r+i;return e.encode(48,a)}},ab=BigInt(0),sb=BigInt(1),GLe=BigInt(2),Nx=BigInt(3),KLe=BigInt(4);function YLe(t,e,n){function r(i){const a=t.sqr(i),s=t.mul(a,i);return t.add(t.add(s,t.mul(i,e)),n)}return r}function Sie(t,e,n){const{BYTES:r}=t;function i(a){let s;if(typeof a=="bigint")s=a;else{let o=gs("private key",a);if(e){if(!e.includes(o.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(o,l.length-o.length),o=l}try{s=t.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof a}`)}}if(n&&(s=t.create(s)),!t.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function ZLe(t,e={}){const{Fp:n,Fn:r}=BLe("weierstrass",t,e),{h:i,n:a}=t;W8(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!n.is0(t.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function o(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(H,U,L){const{x:G,y:R}=U.toAffine(),F=n.toBytes(G);if(U6("isCompressed",L),L){o();const _=!n.isOdd(R);return E0(kie(_),F)}else return E0(Uint8Array.of(4),F,n.toBytes(R))}function u(H){dl(H);const U=n.BYTES,L=U+1,G=2*U+1,R=H.length,F=H[0],_=H.subarray(1);if(R===L&&(F===2||F===3)){const S=n.fromBytes(_);if(!n.isValid(S))throw new Error("bad point: is not on curve, wrong x");const $=g(S);let D;try{D=n.sqrt($)}catch(Y){const J=Y instanceof Error?": "+Y.message:"";throw new Error("bad point: is not on curve, sqrt error"+J)}o();const z=n.isOdd(D);return(F&1)===1!==z&&(D=n.neg(D)),{x:S,y:D}}else if(R===G&&F===4){const S=n.fromBytes(_.subarray(U*0,U*1)),$=n.fromBytes(_.subarray(U*1,U*2));if(!m(S,$))throw new Error("bad point: is not on curve");return{x:S,y:$}}else throw new Error(`bad point: got length ${R}, expected compressed=${L} or uncompressed=${G}`)}const d=e.toBytes||l,h=e.fromBytes||u,g=YLe(n,t.a,t.b);function m(H,U){const L=n.sqr(U),G=g(H);return n.eql(L,G)}if(!m(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const b=n.mul(n.pow(t.a,Nx),KLe),w=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(b,w)))throw new Error("bad curve params: a or b");function x(H,U,L=!1){if(!n.isValid(U)||L&&n.is0(U))throw new Error(`bad point coordinate ${H}`);return U}function E(H){if(!(H instanceof A))throw new Error("ProjectivePoint expected")}const I=vH((H,U)=>{const{px:L,py:G,pz:R}=H;if(n.eql(R,n.ONE))return{x:L,y:G};const F=H.is0();U==null&&(U=F?n.ONE:n.inv(R));const _=n.mul(L,U),S=n.mul(G,U),$=n.mul(R,U);if(F)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:_,y:S}}),C=vH(H=>{if(H.is0()){if(e.allowInfinityPoint&&!n.is0(H.py))return;throw new Error("bad point: ZERO")}const{x:U,y:L}=H.toAffine();if(!n.isValid(U)||!n.isValid(L))throw new Error("bad point: x or y not field elements");if(!m(U,L))throw new Error("bad point: equation left != right");if(!H.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function N(H,U,L,G,R){return L=new A(n.mul(L.px,H),L.py,L.pz),U=ib(G,U),L=ib(R,L),U.add(L)}class A{constructor(U,L,G){this.px=x("x",U),this.py=x("y",L,!0),this.pz=x("z",G),Object.freeze(this)}static fromAffine(U){const{x:L,y:G}=U||{};if(!U||!n.isValid(L)||!n.isValid(G))throw new Error("invalid affine point");if(U instanceof A)throw new Error("projective point not allowed");return n.is0(L)&&n.is0(G)?A.ZERO:new A(L,G,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(U){return PLe(A,"pz",U)}static fromBytes(U){return dl(U),A.fromHex(U)}static fromHex(U){const L=A.fromAffine(h(gs("pointHex",U)));return L.assertValidity(),L}static fromPrivateKey(U){const L=Sie(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return A.BASE.multiply(L(U))}static msm(U,L){return DLe(A,r,U,L)}precompute(U=8,L=!0){return O.setWindowSize(this,U),L||this.multiply(Nx),this}_setWindowSize(U){this.precompute(U)}assertValidity(){C(this)}hasEvenY(){const{y:U}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(U)}equals(U){E(U);const{px:L,py:G,pz:R}=this,{px:F,py:_,pz:S}=U,$=n.eql(n.mul(L,S),n.mul(F,R)),D=n.eql(n.mul(G,S),n.mul(_,R));return $&&D}negate(){return new A(this.px,n.neg(this.py),this.pz)}double(){const{a:U,b:L}=t,G=n.mul(L,Nx),{px:R,py:F,pz:_}=this;let S=n.ZERO,$=n.ZERO,D=n.ZERO,z=n.mul(R,R),Y=n.mul(F,F),J=n.mul(_,_),V=n.mul(R,F);return V=n.add(V,V),D=n.mul(R,_),D=n.add(D,D),S=n.mul(U,D),$=n.mul(G,J),$=n.add(S,$),S=n.sub(Y,$),$=n.add(Y,$),$=n.mul(S,$),S=n.mul(V,S),D=n.mul(G,D),J=n.mul(U,J),V=n.sub(z,J),V=n.mul(U,V),V=n.add(V,D),D=n.add(z,z),z=n.add(D,z),z=n.add(z,J),z=n.mul(z,V),$=n.add($,z),J=n.mul(F,_),J=n.add(J,J),z=n.mul(J,V),S=n.sub(S,z),D=n.mul(J,Y),D=n.add(D,D),D=n.add(D,D),new A(S,$,D)}add(U){E(U);const{px:L,py:G,pz:R}=this,{px:F,py:_,pz:S}=U;let $=n.ZERO,D=n.ZERO,z=n.ZERO;const Y=t.a,J=n.mul(t.b,Nx);let V=n.mul(L,F),M=n.mul(G,_),Q=n.mul(R,S),ne=n.add(L,G),K=n.add(F,_);ne=n.mul(ne,K),K=n.add(V,M),ne=n.sub(ne,K),K=n.add(L,R);let se=n.add(F,S);return K=n.mul(K,se),se=n.add(V,Q),K=n.sub(K,se),se=n.add(G,R),$=n.add(_,S),se=n.mul(se,$),$=n.add(M,Q),se=n.sub(se,$),z=n.mul(Y,K),$=n.mul(J,Q),z=n.add($,z),$=n.sub(M,z),z=n.add(M,z),D=n.mul($,z),M=n.add(V,V),M=n.add(M,V),Q=n.mul(Y,Q),K=n.mul(J,K),M=n.add(M,Q),Q=n.sub(V,Q),Q=n.mul(Y,Q),K=n.add(K,Q),V=n.mul(M,K),D=n.add(D,V),V=n.mul(se,K),$=n.mul(ne,$),$=n.sub($,V),V=n.mul(ne,M),z=n.mul(se,z),z=n.add(z,V),new A($,D,z)}subtract(U){return this.add(U.negate())}is0(){return this.equals(A.ZERO)}multiply(U){const{endo:L}=e;if(!r.isValidNot0(U))throw new Error("invalid scalar: out of range");let G,R;const F=_=>O.wNAFCached(this,_,A.normalizeZ);if(L){const{k1neg:_,k1:S,k2neg:$,k2:D}=L.splitScalar(U),{p:z,f:Y}=F(S),{p:J,f:V}=F(D);R=Y.add(V),G=N(L.beta,z,J,_,$)}else{const{p:_,f:S}=F(U);G=_,R=S}return A.normalizeZ([G,R])[0]}multiplyUnsafe(U){const{endo:L}=e,G=this;if(!r.isValid(U))throw new Error("invalid scalar: out of range");if(U===ab||G.is0())return A.ZERO;if(U===sb)return G;if(O.hasPrecomputes(this))return this.multiply(U);if(L){const{k1neg:R,k1:F,k2neg:_,k2:S}=L.splitScalar(U),{p1:$,p2:D}=jLe(A,G,F,S);return N(L.beta,$,D,R,_)}else return O.wNAFCachedUnsafe(G,U)}multiplyAndAddUnsafe(U,L,G){const R=this.multiplyUnsafe(L).add(U.multiplyUnsafe(G));return R.is0()?void 0:R}toAffine(U){return I(this,U)}isTorsionFree(){const{isTorsionFree:U}=e;return i===sb?!0:U?U(A,this):O.wNAFCachedUnsafe(this,a).is0()}clearCofactor(){const{clearCofactor:U}=e;return i===sb?this:U?U(A,this):this.multiplyUnsafe(i)}toBytes(U=!0){return U6("isCompressed",U),this.assertValidity(),d(A,this,U)}toRawBytes(U=!0){return this.toBytes(U)}toHex(U=!0){return Ew(this.toBytes(U))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}A.BASE=new A(t.Gx,t.Gy,n.ONE),A.ZERO=new A(n.ZERO,n.ONE,n.ZERO),A.Fp=n,A.Fn=r;const T=r.BITS,O=MLe(A,e.endo?Math.ceil(T/2):T);return A}function kie(t){return Uint8Array.of(t?2:3)}function JLe(t,e,n={}){W8(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||Om,i=e.hmac||((G,...R)=>U8(e.hash,G,E0(...R))),{Fp:a,Fn:s}=t,{ORDER:o,BITS:l}=s;function u(G){const R=o>>sb;return G>R}function d(G){return u(G)?s.neg(G):G}function h(G,R){if(!s.isValidNot0(R))throw new Error(`invalid signature ${G}: out of range 1..CURVE.n`)}class g{constructor(R,F,_){h("r",R),h("s",F),this.r=R,this.s=F,_!=null&&(this.recovery=_),Object.freeze(this)}static fromCompact(R){const F=s.BYTES,_=gs("compactSignature",R,F*2);return new g(s.fromBytes(_.subarray(0,F)),s.fromBytes(_.subarray(F,F*2)))}static fromDER(R){const{r:F,s:_}=td.toSig(gs("DER",R));return new g(F,_)}assertValidity(){}addRecoveryBit(R){return new g(this.r,this.s,R)}recoverPublicKey(R){const F=a.ORDER,{r:_,s:S,recovery:$}=this;if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");if(o*GLe<F&&$>1)throw new Error("recovery id is ambiguous for h>1 curve");const D=$===2||$===3?_+o:_;if(!a.isValid(D))throw new Error("recovery id 2 or 3 invalid");const z=a.toBytes(D),Y=t.fromHex(E0(kie(($&1)===0),z)),J=s.inv(D),V=C(gs("msgHash",R)),M=s.create(-V*J),Q=s.create(S*J),ne=t.BASE.multiplyUnsafe(M).add(Y.multiplyUnsafe(Q));if(ne.is0())throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s.neg(this.s),this.recovery):this}toBytes(R){if(R==="compact")return E0(s.toBytes(this.r),s.toBytes(this.s));if(R==="der")return DP(td.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Ew(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Ew(this.toBytes("compact"))}}const m=Sie(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),b={isValidPrivateKey(G){try{return m(G),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const G=o;return NLe(r(Eie(G)),G)},precompute(G=8,R=t.BASE){return R.precompute(G,!1)}};function w(G,R=!0){return t.fromPrivateKey(G).toBytes(R)}function x(G){if(typeof G=="bigint")return!1;if(G instanceof t)return!0;const R=gs("key",G).length,F=a.BYTES,_=F+1,S=2*F+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===_))return R===_||R===S}function E(G,R,F=!0){if(x(G)===!0)throw new Error("first arg must be private key");if(x(R)===!1)throw new Error("second arg must be public key");return t.fromHex(R).multiply(m(G)).toBytes(F)}const I=e.bits2int||function(G){if(G.length>8192)throw new Error("input is too large");const R=F8(G),F=G.length*8-l;return F>0?R>>BigInt(F):R},C=e.bits2int_modN||function(G){return s.create(I(G))},N=z8(l);function A(G){return XI("num < 2^"+l,G,ab,N),s.toBytes(G)}function T(G,R,F=O){if(["recovered","canonical"].some(ne=>ne in F))throw new Error("sign() legacy options not supported");const{hash:_}=e;let{lowS:S,prehash:$,extraEntropy:D}=F;S==null&&(S=!0),G=gs("msgHash",G),kH(F),$&&(G=gs("prehashed msgHash",_(G)));const z=C(G),Y=m(R),J=[A(Y),A(z)];if(D!=null&&D!==!1){const ne=D===!0?r(a.BYTES):D;J.push(gs("extraEntropy",ne))}const V=E0(...J),M=z;function Q(ne){const K=I(ne);if(!s.isValidNot0(K))return;const se=s.inv(K),le=t.BASE.multiply(K).toAffine(),de=s.create(le.x);if(de===ab)return;const he=s.create(se*s.create(M+de*Y));if(he===ab)return;let Ce=(le.x===de?0:2)|Number(le.y&sb),ke=he;return S&&u(he)&&(ke=d(he),Ce^=1),new g(de,ke,Ce)}return{seed:V,k2sig:Q}}const O={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function U(G,R,F=O){const{seed:_,k2sig:S}=T(G,R,F);return ELe(e.hash.outputLen,s.BYTES,i)(_,S)}t.BASE.precompute(8);function L(G,R,F,_=H){const S=G;R=gs("msgHash",R),F=gs("publicKey",F),kH(_);const{lowS:$,prehash:D,format:z}=_;if("strict"in _)throw new Error("options.strict was renamed to lowS");if(z!==void 0&&!["compact","der","js"].includes(z))throw new Error('format must be "compact", "der" or "js"');const Y=typeof S=="string"||RP(S),J=!Y&&!z&&typeof S=="object"&&S!==null&&typeof S.r=="bigint"&&typeof S.s=="bigint";if(!Y&&!J)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let V,M;try{if(J)if(z===void 0||z==="js")V=new g(S.r,S.s);else throw new Error("invalid format");if(Y){try{z!=="compact"&&(V=g.fromDER(S))}catch(Ce){if(!(Ce instanceof td.Err))throw Ce}!V&&z!=="der"&&(V=g.fromCompact(S))}M=t.fromHex(F)}catch{return!1}if(!V||$&&V.hasHighS())return!1;D&&(R=e.hash(R));const{r:Q,s:ne}=V,K=C(R),se=s.inv(ne),le=s.create(K*se),de=s.create(Q*se),he=t.BASE.multiplyUnsafe(le).add(M.multiplyUnsafe(de));return he.is0()?!1:s.create(he.x)===Q}return Object.freeze({getPublicKey:w,getSharedSecret:E,sign:U,verify:L,utils:b,Point:t,Signature:g})}function XLe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Rm(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function QLe(t){const{CURVE:e,curveOpts:n}=XLe(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function eFe(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function tFe(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=QLe(t),i=ZLe(e,n),a=JLe(i,r,n);return eFe(t,a)}function eT(t,e){const n=r=>tFe({...t,hash:r});return{...n(e),create:n}}const Iie={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Tie={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},$ie={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},nFe=Rm(Iie.p),rFe=Rm(Tie.p),iFe=Rm($ie.p),aFe=eT({...Iie,Fp:nFe,lowS:!1},B8);eT({...Tie,Fp:rFe,lowS:!1},hUe),eT({...$ie,Fp:iFe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},fUe);const sFe=aFe,Nie="base10",Xa="base16",bs="base64pad",Vf="base64url",mv="utf8",Pie=0,hd=1,yv=2,oFe=0,IH=1,ob=12,WP=32;function lFe(){const t=QI.utils.randomPrivateKey(),e=QI.getPublicKey(t);return{privateKey:Ss(t,Xa),publicKey:Ss(e,Xa)}}function tT(){const t=Om(WP);return Ss(t,Xa)}function cFe(t,e){const n=QI.getSharedSecret(il(t,Xa),il(e,Xa)),r=wLe(L8,n,void 0,void 0,WP);return Ss(r,Xa)}function T5(t){const e=L8(il(t,Xa));return Ss(e,Xa)}function Yo(t){const e=L8(il(t,mv));return Ss(e,Xa)}function Oie(t){return il(`${t}`,Nie)}function Q0(t){return Number(Ss(t,Nie))}function Rie(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Mie(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function uFe(t){const e=Oie(typeof t.type<"u"?t.type:Pie);if(Q0(e)===hd&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?il(t.senderPublicKey,Xa):void 0,r=typeof t.iv<"u"?il(t.iv,Xa):Om(ob),i=il(t.symKey,Xa),a=hie(i,r).encrypt(il(t.message,mv)),s=jie({type:e,sealed:a,iv:r,senderPublicKey:n});return t.encoding===Vf?Rie(s):s}function dFe(t){const e=il(t.symKey,Xa),{sealed:n,iv:r}=Aw({encoded:t.encoded,encoding:t.encoding}),i=hie(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Ss(i,mv)}function fFe(t,e){const n=Oie(yv),r=Om(ob),i=il(t,mv),a=jie({type:n,sealed:i,iv:r});return e===Vf?Rie(a):a}function hFe(t,e){const{sealed:n}=Aw({encoded:t,encoding:e});return Ss(n,mv)}function jie(t){if(Q0(t.type)===yv)return Ss(rb([t.type,t.sealed]),bs);if(Q0(t.type)===hd){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ss(rb([t.type,t.senderPublicKey,t.iv,t.sealed]),bs)}return Ss(rb([t.type,t.iv,t.sealed]),bs)}function Aw(t){const e=(t.encoding||bs)===Vf?Mie(t.encoded):t.encoded,n=il(e,bs),r=n.slice(oFe,IH),i=IH;if(Q0(r)===hd){const l=i+WP,u=l+ob,d=n.slice(i,l),h=n.slice(l,u),g=n.slice(u);return{type:r,sealed:g,iv:h,senderPublicKey:d}}if(Q0(r)===yv){const l=n.slice(i),u=Om(ob);return{type:r,sealed:l,iv:u}}const a=i+ob,s=n.slice(i,a),o=n.slice(a);return{type:r,sealed:o,iv:s}}function pFe(t,e){const n=Aw({encoded:t,encoding:e?.encoding});return Die({type:Q0(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Ss(n.senderPublicKey,Xa):void 0,receiverPublicKey:e?.receiverPublicKey})}function Die(t){const e=t?.type||Pie;if(e===hd){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function TH(t){return t.type===hd&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function $H(t){return t.type===yv}function gFe(t){const e=_t.from(t.x,"base64"),n=_t.from(t.y,"base64");return rb([new Uint8Array([4]),e,n])}function mFe(t,e){const[n,r,i]=t.split("."),a=_t.from(Mie(i),"base64");if(a.length!==64)throw new Error("Invalid signature length");const s=a.slice(0,32),o=a.slice(32,64),l=`${n}.${r}`,u=L8(l),d=gFe(e);if(!sFe.verify(rb([s,o]),u,d))throw new Error("Invalid signature");return zI(t).payload}const yFe="irn";function F6(t){return t?.relay||{protocol:yFe}}function rg(t){const e=QDe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function bFe(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const a=i.replace(r,""),s=t[i];n[a]=s}}),n}function NH(t){if(!t.includes("wc:")){const u=Kre(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),a=typeof n<"u"?t.substring(n):"",s=new URLSearchParams(a),o={};s.forEach((u,d)=>{o[d]=u});const l=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:r,topic:wFe(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:bFe(o),methods:l,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function wFe(t){return t.startsWith("//")?t.substring(2):t}function vFe(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const a=i,s=n+e+a;t[a]&&(r[s]=t[a])}),r}function PH(t){const e=new URLSearchParams,n=vFe(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Px(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var xFe=Object.defineProperty,EFe=Object.defineProperties,_Fe=Object.getOwnPropertyDescriptors,OH=Object.getOwnPropertySymbols,AFe=Object.prototype.hasOwnProperty,CFe=Object.prototype.propertyIsEnumerable,RH=(t,e,n)=>e in t?xFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SFe=(t,e)=>{for(var n in e||(e={}))AFe.call(e,n)&&RH(t,n,e[n]);if(OH)for(var n of OH(e))CFe.call(e,n)&&RH(t,n,e[n]);return t},kFe=(t,e)=>EFe(t,_Fe(e));function Mm(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function IFe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Mm(n.accounts))}),e}function TFe(t,e){const n=[];return Object.values(t).forEach(r=>{Mm(r.accounts).includes(e)&&n.push(...r.methods)}),n}function $Fe(t,e){const n=[];return Object.values(t).forEach(r=>{Mm(r.accounts).includes(e)&&n.push(...r.events)}),n}function H8(t){return t.includes(":")}function ig(t){return H8(t)?t.split(":")[0]:t}function MH(t){var e,n,r;const i={};if(!au(t))return i;for(const[a,s]of Object.entries(t)){const o=H8(a)?[a]:s.chains,l=s.methods||[],u=s.events||[],d=ig(a);i[d]=kFe(SFe({},i[d]),{chains:iu(o,(e=i[d])==null?void 0:e.chains),methods:iu(l,(n=i[d])==null?void 0:n.methods),events:iu(u,(r=i[d])==null?void 0:r.events)})}return i}function NFe(t){const e={};return t?.forEach(n=>{var r;const[i,a]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${a}`)}),e}function jH(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=NFe(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=iu(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function PFe(t,e){var n,r,i,a,s,o;const l=MH(t),u=MH(e),d={},h=Object.keys(l).concat(Object.keys(u));for(const g of h)d[g]={chains:iu((n=l[g])==null?void 0:n.chains,(r=u[g])==null?void 0:r.chains),methods:iu((i=l[g])==null?void 0:i.methods,(a=u[g])==null?void 0:a.methods),events:iu((s=l[g])==null?void 0:s.events,(o=u[g])==null?void 0:o.events)};return d}const OFe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},RFe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ut(t,e){const{message:n,code:r}=RFe[t];return{message:e?`${n} ${e}`:n,code:r}}function Tr(t,e){const{message:n,code:r}=OFe[t];return{message:e?`${n} ${e}`:n,code:r}}function al(t,e){return!!Array.isArray(t)}function au(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Ni(t){return typeof t>"u"}function bi(t,e){return e&&Ni(t)?!0:typeof t=="string"&&!!t.trim().length}function HP(t,e){return e&&Ni(t)?!0:typeof t=="number"&&!isNaN(t)}function MFe(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let a=!0;return x0(i,r)?(r.forEach(s=>{const{accounts:o,methods:l,events:u}=t.namespaces[s],d=Mm(o),h=n[s];(!x0(Wre(s,h),d)||!x0(h.methods,l)||!x0(h.events,u))&&(a=!1)}),a):!1}function z6(t){return bi(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function jFe(t){if(bi(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&z6(n)}}return!1}function DFe(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(bi(t,!1)){if(e(t))return!0;const n=Kre(t);return e(n)}}catch{}return!1}function BFe(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function UFe(t){return t?.topic}function LFe(t,e){let n=null;return bi(t?.publicKey,!1)||(n=ut("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function DH(t){let e=!0;return al(t)?t.length&&(e=t.every(n=>bi(n,!1))):e=!1,e}function FFe(t,e,n){let r=null;return al(e)&&e.length?e.forEach(i=>{r||z6(i)||(r=Tr("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):z6(t)||(r=Tr("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function zFe(t,e,n){let r=null;return Object.entries(t).forEach(([i,a])=>{if(r)return;const s=FFe(i,Wre(i,a),`${e} ${n}`);s&&(r=s)}),r}function WFe(t,e){let n=null;return al(t)?t.forEach(r=>{n||jFe(r)||(n=Tr("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Tr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function HFe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=WFe(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function qFe(t,e){let n=null;return DH(t?.methods)?DH(t?.events)||(n=Tr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Tr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function Bie(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=qFe(r,`${e}, namespace`);i&&(n=i)}),n}function VFe(t,e,n){let r=null;if(t&&au(t)){const i=Bie(t,e);i&&(r=i);const a=zFe(t,e,n);a&&(r=a)}else r=ut("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function aC(t,e){let n=null;if(t&&au(t)){const r=Bie(t,e);r&&(n=r);const i=HFe(t,e);i&&(n=i)}else n=ut("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function Uie(t){return bi(t.protocol,!0)}function GFe(t,e){let n=!1;return t?t&&al(t)&&t.length&&t.forEach(r=>{n=Uie(r)}):n=!0,n}function KFe(t){return typeof t=="number"}function hs(t){return typeof t<"u"&&typeof t!==null}function YFe(t){return!(!t||typeof t!="object"||!t.code||!HP(t.code,!1)||!t.message||!bi(t.message,!1))}function ZFe(t){return!(Ni(t)||!bi(t.method,!1))}function JFe(t){return!(Ni(t)||Ni(t.result)&&Ni(t.error)||!HP(t.id,!1)||!bi(t.jsonrpc,!1))}function XFe(t){return!(Ni(t)||!bi(t.name,!1))}function BH(t,e){return!(!z6(e)||!IFe(t).includes(e))}function QFe(t,e,n){return bi(n,!1)?TFe(t,e).includes(n):!1}function eze(t,e,n){return bi(n,!1)?$Fe(t,e).includes(n):!1}function UH(t,e,n){let r=null;const i=tze(t),a=nze(e),s=Object.keys(i),o=Object.keys(a),l=LH(Object.keys(t)),u=LH(Object.keys(e)),d=l.filter(h=>!u.includes(h));return d.length&&(r=ut("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(e).toString()}`)),x0(s,o)||(r=ut("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;const g=Mm(e[h].accounts);g.includes(h)||(r=ut("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${g.toString()}`))}),s.forEach(h=>{r||(x0(i[h].methods,a[h].methods)?x0(i[h].events,a[h].events)||(r=ut("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=ut("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function tze(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function LH(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function nze(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:Mm(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(a=>a.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function rze(t,e){return HP(t,!1)&&t<=e.max&&t>=e.min}function FH(){const t=pv();return new Promise(e=>{switch(t){case oo.browser:e(ize());break;case oo.reactNative:e(aze());break;case oo.node:e(sze());break;default:e(!0)}})}function ize(){return Pm()&&navigator?.onLine}async function aze(){return xh()&&typeof Kt<"u"&&Kt!=null&&Kt.NetInfo?(await Kt?.NetInfo.fetch())?.isConnected:!0}function sze(){return!0}function oze(t){switch(pv()){case oo.browser:lze(t);break;case oo.reactNative:cze(t);break}}function lze(t){!xh()&&Pm()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function cze(t){xh()&&typeof Kt<"u"&&Kt!=null&&Kt.NetInfo&&Kt?.NetInfo.addEventListener(e=>t(e?.isConnected))}function uze(){var t;return Pm()&&Cd.getDocument()?((t=Cd.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const sC={};let c2=class{static get(e){return sC[e]}static set(e,n){sC[e]=n}static delete(e){delete sC[e]}};function dze(t){const e=dv.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function fze({publicKey:t,signature:e,payload:n}){var r;const i=nT(n.method),a=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),s=gze(n.address),o=n.era==="00"?new Uint8Array([0]):nT(n.era);if(o.length!==1&&o.length!==2)throw new Error("Invalid era length");const l=parseInt(n.nonce,16),u=new Uint8Array([l&255,l>>8&255]),d=BigInt(`0x${pze(n.tip)}`),h=yze(d),g=new Uint8Array([0,...t,s,...e,...o,...u,...h,...i]),m=mze(g.length+1);return new Uint8Array([...m,a,...g])}function hze(t){const e=nT(t),n=rBe.blake2b(e,void 0,32);return"0x"+_t.from(n).toString("hex")}function nT(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function pze(t){return t.startsWith("0x")?t.slice(2):t}function gze(t){const e=dv.decode(t)[0];return e===42?0:e===60?2:1}function mze(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function yze(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function bze(t){const e=Uint8Array.from(_t.from(t.signature,"hex")),n=dze(t.transaction.address),r=fze({publicKey:n,signature:e,payload:t.transaction}),i=_t.from(r).toString("hex");return hze(i)}class yp{}let wze=class extends yp{constructor(e){super()}};const zH=dt.FIVE_SECONDS,bp={pulse:"heartbeat_pulse"};let vze=class Lie extends wze{constructor(e){super(e),this.events=new wo.EventEmitter,this.interval=zH,this.interval=e?.interval||zH}static async init(e){const n=new Lie(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),dt.toMiliseconds(this.interval))}pulse(){this.events.emit(bp.pulse)}};function xze(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Li(t,...e){try{return xze(t(...e))}catch(n){return Promise.reject(n)}}function Eze(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function _ze(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function $5(t){if(Eze(t))return String(t);if(_ze(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return $5(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const rT="base64:";function Aze(t){return typeof t=="string"?t:rT+kze(t)}function Cze(t){return typeof t!="string"||!t.startsWith(rT)?t:Sze(t.slice(rT.length))}function Sze(t){return globalThis.Buffer?_t.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function kze(t){return globalThis.Buffer?_t.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function fs(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function Ize(...t){return fs(t.join(":"))}function Ox(t){return t=fs(t),t?t+":":""}function Tze(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function $ze(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Nze="memory",Pze=()=>{const t=new Map;return{name:Nze,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Oze(t={}){const e={mounts:{"":t.driver||Pze()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=u=>{for(const d of e.mountpoints)if(u.startsWith(d))return{base:d,relativeKey:u.slice(d.length),driver:e.mounts[d]};return{base:"",relativeKey:u,driver:e.mounts[""]}},r=(u,d)=>e.mountpoints.filter(h=>h.startsWith(u)||d&&u.startsWith(h)).map(h=>({relativeBase:u.length>h.length?u.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(u,d)=>{if(e.watching){d=fs(d);for(const h of e.watchListeners)h(u,d)}},a=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await WH(e.mounts[u],i,u)}},s=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},o=(u,d,h)=>{const g=new Map,m=b=>{let w=g.get(b.base);return w||(w={driver:b.driver,base:b.base,items:[]},g.set(b.base,w)),w};for(const b of u){const w=typeof b=="string",x=fs(w?b:b.key),E=w?void 0:b.value,I=w||!b.options?d:{...d,...b.options},C=n(x);m(C).items.push({key:x,value:E,relativeKey:C.relativeKey,options:I})}return Promise.all([...g.values()].map(b=>h(b))).then(b=>b.flat())},l={hasItem(u,d={}){u=fs(u);const{relativeKey:h,driver:g}=n(u);return Li(g.hasItem,h,d)},getItem(u,d={}){u=fs(u);const{relativeKey:h,driver:g}=n(u);return Li(g.getItem,h,d).then(m=>N2(m))},getItems(u,d={}){return o(u,d,h=>h.driver.getItems?Li(h.driver.getItems,h.items.map(g=>({key:g.relativeKey,options:g.options})),d).then(g=>g.map(m=>({key:Ize(h.base,m.key),value:N2(m.value)}))):Promise.all(h.items.map(g=>Li(h.driver.getItem,g.relativeKey,g.options).then(m=>({key:g.key,value:N2(m)})))))},getItemRaw(u,d={}){u=fs(u);const{relativeKey:h,driver:g}=n(u);return g.getItemRaw?Li(g.getItemRaw,h,d):Li(g.getItem,h,d).then(m=>Cze(m))},async setItem(u,d,h={}){if(d===void 0)return l.removeItem(u);u=fs(u);const{relativeKey:g,driver:m}=n(u);m.setItem&&(await Li(m.setItem,g,$5(d),h),m.watch||i("update",u))},async setItems(u,d){await o(u,d,async h=>{if(h.driver.setItems)return Li(h.driver.setItems,h.items.map(g=>({key:g.relativeKey,value:$5(g.value),options:g.options})),d);h.driver.setItem&&await Promise.all(h.items.map(g=>Li(h.driver.setItem,g.relativeKey,$5(g.value),g.options)))})},async setItemRaw(u,d,h={}){if(d===void 0)return l.removeItem(u,h);u=fs(u);const{relativeKey:g,driver:m}=n(u);if(m.setItemRaw)await Li(m.setItemRaw,g,d,h);else if(m.setItem)await Li(m.setItem,g,Aze(d),h);else return;m.watch||i("update",u)},async removeItem(u,d={}){typeof d=="boolean"&&(d={removeMeta:d}),u=fs(u);const{relativeKey:h,driver:g}=n(u);g.removeItem&&(await Li(g.removeItem,h,d),(d.removeMeta||d.removeMata)&&await Li(g.removeItem,h+"$",d),g.watch||i("remove",u))},async getMeta(u,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),u=fs(u);const{relativeKey:h,driver:g}=n(u),m=Object.create(null);if(g.getMeta&&Object.assign(m,await Li(g.getMeta,h,d)),!d.nativeOnly){const b=await Li(g.getItem,h+"$",d).then(w=>N2(w));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(m,b))}return m},setMeta(u,d,h={}){return this.setItem(u+"$",d,h)},removeMeta(u,d={}){return this.removeItem(u+"$",d)},async getKeys(u,d={}){u=Ox(u);const h=r(u,!0);let g=[];const m=[];let b=!0;for(const x of h){x.driver.flags?.maxDepth||(b=!1);const E=await Li(x.driver.getKeys,x.relativeBase,d);for(const I of E){const C=x.mountpoint+fs(I);g.some(N=>C.startsWith(N))||m.push(C)}g=[x.mountpoint,...g.filter(I=>!I.startsWith(x.mountpoint))]}const w=d.maxDepth!==void 0&&!b;return m.filter(x=>(!w||Tze(x,d.maxDepth))&&$ze(x,u))},async clear(u,d={}){u=Ox(u),await Promise.all(r(u,!1).map(async h=>{if(h.driver.clear)return Li(h.driver.clear,h.relativeBase,d);if(h.driver.removeItem){const g=await h.driver.getKeys(h.relativeBase||"",d);return Promise.all(g.map(m=>h.driver.removeItem(m,d)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>HH(u)))},async watch(u){return await a(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(d=>d!==u),e.watchListeners.length===0&&await s()}},async unwatch(){e.watchListeners=[],await s()},mount(u,d){if(u=Ox(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((h,g)=>g.length-h.length)),e.mounts[u]=d,e.watching&&Promise.resolve(WH(d,i,u)).then(h=>{e.unwatch[u]=h}).catch(console.error),l},async unmount(u,d=!0){u=Ox(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&(e.unwatch[u]?.(),delete e.unwatch[u]),d&&await HH(e.mounts[u]),e.mountpoints=e.mountpoints.filter(h=>h!==u),delete e.mounts[u])},getMount(u=""){u=fs(u)+":";const d=n(u);return{driver:d.driver,base:d.base}},getMounts(u="",d={}){return u=fs(u),r(u,d.parents).map(g=>({driver:g.driver,base:g.mountpoint}))},keys:(u,d={})=>l.getKeys(u,d),get:(u,d={})=>l.getItem(u,d),set:(u,d,h={})=>l.setItem(u,d,h),has:(u,d={})=>l.hasItem(u,d),del:(u,d={})=>l.removeItem(u,d),remove:(u,d={})=>l.removeItem(u,d)};return l}function WH(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function HH(t){typeof t.dispose=="function"&&await Li(t.dispose)}function wp(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Fie(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=wp(n);return(i,a)=>r.then(s=>a(s.transaction(e,i).objectStore(e)))}let oC;function bv(){return oC||(oC=Fie("keyval-store","keyval")),oC}function qH(t,e=bv()){return e("readonly",n=>wp(n.get(t)))}function Rze(t,e,n=bv()){return n("readwrite",r=>(r.put(e,t),wp(r.transaction)))}function Mze(t,e=bv()){return e("readwrite",n=>(n.delete(t),wp(n.transaction)))}function jze(t=bv()){return t("readwrite",e=>(e.clear(),wp(e.transaction)))}function Dze(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},wp(t.transaction)}function Bze(t=bv()){return t("readonly",e=>{if(e.getAllKeys)return wp(e.getAllKeys());const n=[];return Dze(e,r=>n.push(r.key)).then(()=>n)})}const Uze="idb-keyval";var Lze=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=Fie(t.dbName,t.storeName)),{name:Uze,options:t,async hasItem(i){return!(typeof await qH(n(i),r)>"u")},async getItem(i){return await qH(n(i),r)??null},setItem(i,a){return Rze(n(i),a,r)},removeItem(i){return Mze(n(i),r)},getKeys(){return Bze(r)},clear(){return jze(r)}}};const Fze="WALLET_CONNECT_V2_INDEXED_DB",zze="keyvaluestorage";let Wze=class{constructor(){this.indexedDb=Oze({driver:Lze({dbName:Fze,storeName:zze})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,cc(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var lC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Kt<"u"?Kt:typeof self<"u"?self:{},N5={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof lC<"u"&&lC.localStorage?N5.exports=lC.localStorage:typeof window<"u"&&window.localStorage?N5.exports=window.localStorage:N5.exports=new e})();function Hze(t){var e;return[t[0],J0((e=t[1])!=null?e:"")]}let qze=class{constructor(){this.localStorage=N5.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Hze)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return J0(n)}async setItem(e,n){this.localStorage.setItem(e,cc(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Vze="wc_storage_version",VH=1,Gze=async(t,e,n)=>{const r=Vze,i=await e.getItem(r);if(i&&i>=VH){n(e);return}const a=await t.getKeys();if(!a.length){n(e);return}const s=[];for(;a.length;){const o=a.shift();if(!o)continue;const l=o.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const u=await t.getItem(o);await e.setItem(o,u),s.push(o)}}await e.setItem(r,VH),n(e),Kze(t,s)},Kze=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Yze=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new qze;this.storage=e;try{const n=new Wze;Gze(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var cC,GH;function qP(){if(GH)return cC;GH=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}cC=e;function e(n,r,i){var a=i&&i.stringify||t,s=1;if(typeof n=="object"&&n!==null){var o=r.length+s;if(o===1)return n;var l=new Array(o);l[0]=a(n);for(var u=1;u<o;u++)l[u]=a(r[u]);return l.join(" ")}if(typeof n!="string")return n;var d=r.length;if(d===0)return n;for(var h="",g=1-s,m=-1,b=n&&n.length||0,w=0;w<b;){if(n.charCodeAt(w)===37&&w+1<b){switch(m=m>-1?m:0,n.charCodeAt(w+1)){case 100:case 102:if(g>=d||r[g]==null)break;m<w&&(h+=n.slice(m,w)),h+=Number(r[g]),m=w+2,w++;break;case 105:if(g>=d||r[g]==null)break;m<w&&(h+=n.slice(m,w)),h+=Math.floor(Number(r[g])),m=w+2,w++;break;case 79:case 111:case 106:if(g>=d||r[g]===void 0)break;m<w&&(h+=n.slice(m,w));var x=typeof r[g];if(x==="string"){h+="'"+r[g]+"'",m=w+2,w++;break}if(x==="function"){h+=r[g].name||"<anonymous>",m=w+2,w++;break}h+=a(r[g]),m=w+2,w++;break;case 115:if(g>=d)break;m<w&&(h+=n.slice(m,w)),h+=String(r[g]),m=w+2,w++;break;case 37:m<w&&(h+=n.slice(m,w)),h+="%",m=w+2,w++,g--;break}++g}++w}return m===-1?n:(m<b&&(h+=n.slice(m)),h)}return cC}var uC,KH;function Zze(){if(KH)return uC;KH=1;const t=qP();uC=i;const e=A().console||{},n={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:b,res:b,err:g};function r(T,O){return Array.isArray(T)?T.filter(function(U){return U!=="!stdSerializers.err"}):T===!0?Object.keys(O):!1}function i(T){T=T||{},T.browser=T.browser||{};const O=T.browser.transmit;if(O&&typeof O.send!="function")throw Error("pino: transmit option must have a send function");const H=T.browser.write||e;T.browser.write&&(T.browser.asObject=!0);const U=T.serializers||{},L=r(T.browser.serialize,U);let G=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(G=!1);const R=["error","fatal","warn","info","debug","trace"];typeof H=="function"&&(H.error=H.fatal=H.warn=H.info=H.debug=H.trace=H),T.enabled===!1&&(T.level="silent");const F=T.level||"info",_=Object.create(H);_.log||(_.log=x),Object.defineProperty(_,"levelVal",{get:$}),Object.defineProperty(_,"level",{get:D,set:z});const S={transmit:O,serialize:L,asObject:T.browser.asObject,levels:R,timestamp:m(T)};_.levels=i.levels,_.level=F,_.setMaxListeners=_.getMaxListeners=_.emit=_.addListener=_.on=_.prependListener=_.once=_.prependOnceListener=_.removeListener=_.removeAllListeners=_.listeners=_.listenerCount=_.eventNames=_.write=_.flush=x,_.serializers=U,_._serialize=L,_._stdErrSerialize=G,_.child=Y,O&&(_._logEvent=h());function $(){return this.level==="silent"?1/0:this.levels.values[this.level]}function D(){return this._level}function z(J){if(J!=="silent"&&!this.levels.values[J])throw Error("unknown level "+J);this._level=J,a(S,_,"error","log"),a(S,_,"fatal","error"),a(S,_,"warn","error"),a(S,_,"info","log"),a(S,_,"debug","log"),a(S,_,"trace","log")}function Y(J,V){if(!J)throw new Error("missing bindings for child Pino");V=V||{},L&&J.serializers&&(V.serializers=J.serializers);const M=V.serializers;if(L&&M){var Q=Object.assign({},U,M),ne=T.browser.serialize===!0?Object.keys(Q):L;delete J.serializers,l([J],ne,Q,this._stdErrSerialize)}function K(se){this._childLevel=(se._childLevel|0)+1,this.error=u(se,J,"error"),this.fatal=u(se,J,"fatal"),this.warn=u(se,J,"warn"),this.info=u(se,J,"info"),this.debug=u(se,J,"debug"),this.trace=u(se,J,"trace"),Q&&(this.serializers=Q,this._serialize=ne),O&&(this._logEvent=h([].concat(se._logEvent.bindings,J)))}return K.prototype=this,new K(this)}return _}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:E,epochTime:I,unixTime:C,isoTime:N});function a(T,O,H,U){const L=Object.getPrototypeOf(O);O[H]=O.levelVal>O.levels.values[H]?x:L[H]?L[H]:e[H]||e[U]||x,s(T,O,H)}function s(T,O,H){!T.transmit&&O[H]===x||(O[H]=(function(U){return function(){const G=T.timestamp(),R=new Array(arguments.length),F=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var _=0;_<R.length;_++)R[_]=arguments[_];if(T.serialize&&!T.asObject&&l(R,this._serialize,this.serializers,this._stdErrSerialize),T.asObject?U.call(F,o(this,H,R,G)):U.apply(F,R),T.transmit){const S=T.transmit.level||O.level,$=i.levels.values[S],D=i.levels.values[H];if(D<$)return;d(this,{ts:G,methodLevel:H,methodValue:D,transmitValue:i.levels.values[T.transmit.level||O.level],send:T.transmit.send,val:O.levelVal},R)}}})(O[H]))}function o(T,O,H,U){T._serialize&&l(H,T._serialize,T.serializers,T._stdErrSerialize);const L=H.slice();let G=L[0];const R={};U&&(R.time=U),R.level=i.levels.values[O];let F=(T._childLevel|0)+1;if(F<1&&(F=1),G!==null&&typeof G=="object"){for(;F--&&typeof L[0]=="object";)Object.assign(R,L.shift());G=L.length?t(L.shift(),L):void 0}else typeof G=="string"&&(G=t(L.shift(),L));return G!==void 0&&(R.msg=G),R}function l(T,O,H,U){for(const L in T)if(U&&T[L]instanceof Error)T[L]=i.stdSerializers.err(T[L]);else if(typeof T[L]=="object"&&!Array.isArray(T[L]))for(const G in T[L])O&&O.indexOf(G)>-1&&G in H&&(T[L][G]=H[G](T[L][G]))}function u(T,O,H){return function(){const U=new Array(1+arguments.length);U[0]=O;for(var L=1;L<U.length;L++)U[L]=arguments[L-1];return T[H].apply(this,U)}}function d(T,O,H){const U=O.send,L=O.ts,G=O.methodLevel,R=O.methodValue,F=O.val,_=T._logEvent.bindings;l(H,T._serialize||Object.keys(T.serializers),T.serializers,T._stdErrSerialize===void 0?!0:T._stdErrSerialize),T._logEvent.ts=L,T._logEvent.messages=H.filter(function(S){return _.indexOf(S)===-1}),T._logEvent.level.label=G,T._logEvent.level.value=R,U(G,T._logEvent,F),T._logEvent=h(_)}function h(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function g(T){const O={type:T.constructor.name,msg:T.message,stack:T.stack};for(const H in T)O[H]===void 0&&(O[H]=T[H]);return O}function m(T){return typeof T.timestamp=="function"?T.timestamp:T.timestamp===!1?E:I}function b(){return{}}function w(T){return T}function x(){}function E(){return!1}function I(){return Date.now()}function C(){return Math.round(Date.now()/1e3)}function N(){return new Date(Date.now()).toISOString()}function A(){function T(O){return typeof O<"u"&&O}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}return uC}var G1=Zze();const VP=ja(G1),Jze={level:"info"},wv="custom_context",GP=1e3*1024;let Xze=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},YH=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new Xze(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},zie=class{constructor(e,n=GP){this.level=e??"error",this.levelValue=G1.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new YH(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===G1.levels.values.error?console.error(e):n===G1.levels.values.warn?console.warn(e):n===G1.levels.values.debug?console.debug(e):n===G1.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(cc({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new YH(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(cc({extraMetadata:e})),new Blob(n,{type:"application/json"})}},Qze=class{constructor(e,n=GP){this.baseChunkLogger=new zie(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},eWe=class{constructor(e,n=GP){this.baseChunkLogger=new zie(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var tWe=Object.defineProperty,nWe=Object.defineProperties,rWe=Object.getOwnPropertyDescriptors,ZH=Object.getOwnPropertySymbols,iWe=Object.prototype.hasOwnProperty,aWe=Object.prototype.propertyIsEnumerable,JH=(t,e,n)=>e in t?tWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,W6=(t,e)=>{for(var n in e||(e={}))iWe.call(e,n)&&JH(t,n,e[n]);if(ZH)for(var n of ZH(e))aWe.call(e,n)&&JH(t,n,e[n]);return t},H6=(t,e)=>nWe(t,rWe(e));function Wie(t){return H6(W6({},t),{level:t?.level||Jze.level})}function sWe(t,e=wv){return t[e]||""}function oWe(t,e,n=wv){return t[n]=e,t}function vo(t,e=wv){let n="";return typeof t.bindings>"u"?n=sWe(t,e):n=t.bindings().context||"",n}function lWe(t,e,n=wv){const r=vo(t,n);return r.trim()?`${r}/${e}`:e}function js(t,e,n=wv){const r=lWe(t,e,n),i=t.child({context:r});return oWe(i,r,n)}function cWe(t){var e,n;const r=new Qze((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:VP(H6(W6({},t.opts),{level:"trace",browser:H6(W6({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function uWe(t){var e;const n=new eWe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:VP(H6(W6({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function dWe(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?cWe(t):uWe(t)}var fWe=Object.defineProperty,hWe=(t,e,n)=>e in t?fWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XH=(t,e,n)=>hWe(t,typeof e!="symbol"?e+"":e,n);let pWe=class extends yp{constructor(e){super(),this.opts=e,XH(this,"protocol","wc"),XH(this,"version",2)}};var gWe=Object.defineProperty,mWe=(t,e,n)=>e in t?gWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yWe=(t,e,n)=>mWe(t,e+"",n);let bWe=class extends yp{constructor(e,n){super(),this.core=e,this.logger=n,yWe(this,"records",new Map)}},wWe=class{constructor(e,n){this.logger=e,this.core=n}},vWe=class extends yp{constructor(e,n){super(),this.relayer=e,this.logger=n}},xWe=class extends yp{constructor(e){super()}},EWe=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},_We=class extends yp{constructor(e,n){super(),this.relayer=e,this.logger=n}},AWe=class extends yp{constructor(e,n){super(),this.core=e,this.logger=n}},CWe=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},SWe=class{constructor(e,n){this.projectId=e,this.logger=n}},kWe=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var IWe=Object.defineProperty,TWe=(t,e,n)=>e in t?IWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QH=(t,e,n)=>TWe(t,typeof e!="symbol"?e+"":e,n);let $We=class{constructor(e){this.opts=e,QH(this,"protocol","wc"),QH(this,"version",2)}},NWe=class{constructor(e){this.client=e}};const PWe="PARSE_ERROR",OWe="INVALID_REQUEST",RWe="METHOD_NOT_FOUND",MWe="INVALID_PARAMS",Hie="INTERNAL_ERROR",KP="SERVER_ERROR",jWe=[-32700,-32600,-32601,-32602,-32603],lb={[PWe]:{code:-32700,message:"Parse error"},[OWe]:{code:-32600,message:"Invalid Request"},[RWe]:{code:-32601,message:"Method not found"},[MWe]:{code:-32602,message:"Invalid params"},[Hie]:{code:-32603,message:"Internal error"},[KP]:{code:-32e3,message:"Server error"}},qie=KP;function DWe(t){return jWe.includes(t)}function eq(t){return Object.keys(lb).includes(t)?lb[t]:lb[qie]}function BWe(t){const e=Object.values(lb).find(n=>n.code===t);return e||lb[qie]}function Vie(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var dC={};var iT=function(t,e){return iT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},iT(t,e)};function UWe(t,e){iT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var aT=function(){return aT=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},aT.apply(this,arguments)};function LWe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function FWe(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function zWe(t,e){return function(n,r){e(n,r,t)}}function WWe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function HWe(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}function qWe(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function VWe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function GWe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function sT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gie(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function KWe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Gie(arguments[e]));return t}function YWe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function Cw(t){return this instanceof Cw?(this.v=t,this):new Cw(t)}function ZWe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(m){return new Promise(function(b,w){a.push([g,m,b,w])>1||o(g,m)})})}function o(g,m){try{l(r[g](m))}catch(b){h(a[0][3],b)}}function l(g){g.value instanceof Cw?Promise.resolve(g.value.v).then(u,d):h(a[0][2],g)}function u(g){o("next",g)}function d(g){o("throw",g)}function h(g,m){g(m),a.shift(),a.length&&o(a[0][0],a[0][1])}}function JWe(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=t[i]?function(s){return(n=!n)?{value:Cw(t[i](s)),done:i==="return"}:a?a(s):s}:a}}function XWe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sT=="function"?sT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(u){a({value:u,done:o})},s)}}function QWe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function eHe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function tHe(t){return t&&t.__esModule?t:{default:t}}function nHe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function rHe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const iHe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return aT},__asyncDelegator:JWe,__asyncGenerator:ZWe,__asyncValues:XWe,__await:Cw,__awaiter:HWe,__classPrivateFieldGet:nHe,__classPrivateFieldSet:rHe,__createBinding:VWe,__decorate:FWe,__exportStar:GWe,__extends:UWe,__generator:qWe,__importDefault:tHe,__importStar:eHe,__makeTemplateObject:QWe,__metadata:WWe,__param:zWe,__read:Gie,__rest:LWe,__spread:KWe,__spreadArrays:YWe,__values:sT},Symbol.toStringTag,{value:"Module"})),aHe=ZK(iHe);var zu={},tq;function sHe(){if(tq)return zu;tq=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.isBrowserCryptoAvailable=zu.getSubtleCrypto=zu.getBrowerCrypto=void 0;function t(){return zl?.crypto||zl?.msCrypto||{}}zu.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}zu.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return zu.isBrowserCryptoAvailable=n,zu}var Wu={},nq;function oHe(){if(nq)return Wu;nq=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.isBrowser=Wu.isNode=Wu.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Wu.isReactNative=t;function e(){return typeof Er<"u"&&typeof Er.versions<"u"&&typeof Er.versions.node<"u"}Wu.isNode=e;function n(){return!t()&&!e()}return Wu.isBrowser=n,Wu}var rq;function lHe(){return rq||(rq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=aHe;e.__exportStar(sHe(),t),e.__exportStar(oHe(),t)})(dC)),dC}var cHe=lHe();function Fc(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Xf(t=6){return BigInt(Fc(t))}function Yc(t,e,n){return{id:n||Fc(),jsonrpc:"2.0",method:t,params:e}}function Sw(t,e){return{id:t,jsonrpc:"2.0",result:e}}function q8(t,e,n){return{id:t,jsonrpc:"2.0",error:uHe(e)}}function uHe(t,e){return typeof t>"u"?eq(Hie):(typeof t=="string"&&(t=Object.assign(Object.assign({},eq(KP)),{message:t})),DWe(t.code)&&(t=BWe(t.code)),t)}class dHe{}let fHe=class extends dHe{constructor(){super()}};class hHe extends fHe{constructor(e){super()}}const pHe="^https?:",gHe="^wss?:";function mHe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Kie(t,e){const n=mHe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function iq(t){return Kie(t,pHe)}function aq(t){return Kie(t,gHe)}function yHe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Yie(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function YP(t){return Yie(t)&&"method"in t}function V8(t){return Yie(t)&&(zc(t)||Zo(t))}function zc(t){return"result"in t}function Zo(t){return"error"in t}let xl=class extends hHe{constructor(e){super(e),this.events=new wo.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Yc(e.method,e.params||[],e.id||Xf().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(a){i(a)}this.events.on(`${e.id}`,a=>{Zo(a)?i(a.error):r(a.result)});try{await this.connection.send(e,n)}catch(a){i(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),V8(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const bHe=()=>typeof WebSocket<"u"?WebSocket:typeof Kt<"u"&&typeof Kt.WebSocket<"u"?Kt.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),wHe=()=>typeof WebSocket<"u"||typeof Kt<"u"&&typeof Kt.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",sq=t=>t.split("?")[0],oq=10,vHe=bHe();let xHe=class{constructor(e){if(this.url=e,this.events=new wo.EventEmitter,this.registering=!1,!aq(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(cc(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!aq(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),i(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=cHe.isReactNative()?void 0:{rejectUnauthorized:!yHe(e)},a=new vHe(e,[],i);wHe()?a.onerror=s=>{const o=s;r(this.emitError(o.error))}:a.on("error",s=>{r(this.emitError(s))}),a.onopen=()=>{this.onOpen(a),n(a)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?J0(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),a=q8(e,i);this.events.emit("payload",a)}parseError(e,n=this.url){return Vie(e,sq(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>oq&&this.events.setMaxListeners(oq)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${sq(this.url)}`));return this.events.emit("register_error",n),n}};var EHe={};const Zie="wc",Jie=2,oT="core",cu=`${Zie}@2:${oT}:`,_He={logger:"error"},AHe={database:":memory:"},CHe="crypto",lq="client_ed25519_seed",SHe=dt.ONE_DAY,kHe="keychain",IHe="0.3",THe="messages",$He="0.3",NHe=dt.SIX_HOURS,PHe="publisher",Xie="irn",OHe="error",Qie="wss://relay.walletconnect.org",RHe="relayer",ti={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},MHe="_subscription",Mo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},jHe=.1,lT="2.21.7",Ir={link_mode:"link_mode",relay:"relay"},P5={inbound:"inbound",outbound:"outbound"},DHe="0.3",BHe="WALLETCONNECT_CLIENT_ID",cq="WALLETCONNECT_LINK_MODE_APPS",Zs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},UHe="subscription",LHe="0.3",FHe="pairing",zHe="0.3",u2={wc_pairingDelete:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:dt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:dt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:dt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:0},res:{ttl:dt.ONE_DAY,prompt:!1,tag:0}}},c0={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},$l={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},WHe="history",HHe="0.3",qHe="expirer",Vo={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},VHe="0.3",GHe="verify-api",KHe="https://verify.walletconnect.com",eae="https://verify.walletconnect.org",cb=eae,YHe=`${cb}/v3`,ZHe=[KHe,eae],JHe="echo",XHe="https://echo.walletconnect.com",Bc={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Vu={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},If={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},d2={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Jh={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},f2={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},QHe=.1,eqe="event-client",tqe=86400,nqe="https://pulse.walletconnect.org/batch";function rqe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),s=a.charCodeAt(0);if(n[s]!==255)throw new TypeError(a+" is ambiguous");n[s]=i}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var w=0,x=0,E=0,I=b.length;E!==I&&b[E]===0;)E++,w++;for(var C=(I-E)*d+1>>>0,N=new Uint8Array(C);E!==I;){for(var A=b[E],T=0,O=C-1;(A!==0||T<x)&&O!==-1;O--,T++)A+=256*N[O]>>>0,N[O]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");x=T,E++}for(var H=C-x;H!==C&&N[H]===0;)H++;for(var U=l.repeat(w);H<C;++H)U+=t.charAt(N[H]);return U}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var w=0;if(b[w]!==" "){for(var x=0,E=0;b[w]===l;)x++,w++;for(var I=(b.length-w)*u+1>>>0,C=new Uint8Array(I);b[w];){var N=n[b.charCodeAt(w)];if(N===255)return;for(var A=0,T=I-1;(N!==0||A<E)&&T!==-1;T--,A++)N+=o*C[T]>>>0,C[T]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");E=A,w++}if(b[w]!==" "){for(var O=I-E;O!==I&&C[O]===0;)O++;for(var H=new Uint8Array(x+(I-O)),U=x;O!==I;)H[U++]=C[O++];return H}}}function m(b){var w=g(b);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:g,decode:m}}var iqe=rqe,aqe=iqe;const tae=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},sqe=t=>new TextEncoder().encode(t),oqe=t=>new TextDecoder().decode(t);class lqe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class cqe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return nae(this,e)}}class uqe{constructor(e){this.decoders=e}or(e){return nae(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const nae=(t,e)=>new uqe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class dqe{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new lqe(e,n,r),this.decoder=new cqe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const G8=({name:t,prefix:e,encode:n,decode:r})=>new dqe(t,e,n,r),vv=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=aqe(n,e);return G8({prefix:t,name:e,encode:r,decode:a=>tae(i(a))})},fqe=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let a=t.length;for(;t[a-1]==="=";)--a;const s=new Uint8Array(a*n/8|0);let o=0,l=0,u=0;for(let d=0;d<a;++d){const h=i[t[d]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,o+=n,o>=8&&(o-=8,s[u++]=255&l>>o)}if(o>=n||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return s},hqe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let a="",s=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],s+=8;s>n;)s-=n,a+=e[i&o>>s];if(s&&(a+=e[i&o<<n-s]),r)for(;a.length*n&7;)a+="=";return a},ba=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>G8({prefix:e,name:t,encode(i){return hqe(i,r,n)},decode(i){return fqe(i,r,n,t)}}),pqe=G8({prefix:"\0",name:"identity",encode:t=>oqe(t),decode:t=>sqe(t)});var gqe=Object.freeze({__proto__:null,identity:pqe});const mqe=ba({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var yqe=Object.freeze({__proto__:null,base2:mqe});const bqe=ba({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var wqe=Object.freeze({__proto__:null,base8:bqe});const vqe=vv({prefix:"9",name:"base10",alphabet:"0123456789"});var xqe=Object.freeze({__proto__:null,base10:vqe});const Eqe=ba({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),_qe=ba({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Aqe=Object.freeze({__proto__:null,base16:Eqe,base16upper:_qe});const Cqe=ba({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Sqe=ba({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),kqe=ba({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Iqe=ba({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Tqe=ba({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$qe=ba({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Nqe=ba({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Pqe=ba({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Oqe=ba({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Rqe=Object.freeze({__proto__:null,base32:Cqe,base32upper:Sqe,base32pad:kqe,base32padupper:Iqe,base32hex:Tqe,base32hexupper:$qe,base32hexpad:Nqe,base32hexpadupper:Pqe,base32z:Oqe});const Mqe=vv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),jqe=vv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Dqe=Object.freeze({__proto__:null,base36:Mqe,base36upper:jqe});const Bqe=vv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Uqe=vv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Lqe=Object.freeze({__proto__:null,base58btc:Bqe,base58flickr:Uqe});const Fqe=ba({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zqe=ba({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Wqe=ba({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Hqe=ba({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var qqe=Object.freeze({__proto__:null,base64:Fqe,base64pad:zqe,base64url:Wqe,base64urlpad:Hqe});const rae=Array.from(""),Vqe=rae.reduce((t,e,n)=>(t[n]=e,t),[]),Gqe=rae.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Kqe(t){return t.reduce((e,n)=>(e+=Vqe[n],e),"")}function Yqe(t){const e=[];for(const n of t){const r=Gqe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Zqe=G8({prefix:"",name:"base256emoji",encode:Kqe,decode:Yqe});var Jqe=Object.freeze({__proto__:null,base256emoji:Zqe}),Xqe=iae,uq=128,Qqe=-128,eVe=Math.pow(2,31);function iae(t,e,n){e=e||[],n=n||0;for(var r=n;t>=eVe;)e[n++]=t&255|uq,t/=128;for(;t&Qqe;)e[n++]=t&255|uq,t>>>=7;return e[n]=t|0,iae.bytes=n-r+1,e}var tVe=cT,nVe=128,dq=127;function cT(t,r){var n=0,r=r||0,i=0,a=r,s,o=t.length;do{if(a>=o)throw cT.bytes=0,new RangeError("Could not decode varint");s=t[a++],n+=i<28?(s&dq)<<i:(s&dq)*Math.pow(2,i),i+=7}while(s>=nVe);return cT.bytes=a-r,n}var rVe=Math.pow(2,7),iVe=Math.pow(2,14),aVe=Math.pow(2,21),sVe=Math.pow(2,28),oVe=Math.pow(2,35),lVe=Math.pow(2,42),cVe=Math.pow(2,49),uVe=Math.pow(2,56),dVe=Math.pow(2,63),fVe=function(t){return t<rVe?1:t<iVe?2:t<aVe?3:t<sVe?4:t<oVe?5:t<lVe?6:t<cVe?7:t<uVe?8:t<dVe?9:10},hVe={encode:Xqe,decode:tVe,encodingLength:fVe},aae=hVe;const fq=(t,e,n=0)=>(aae.encode(t,e,n),e),hq=t=>aae.encodingLength(t),uT=(t,e)=>{const n=e.byteLength,r=hq(t),i=r+hq(n),a=new Uint8Array(i+n);return fq(t,a,0),fq(n,a,r),a.set(e,i),new pVe(t,n,e,a)};class pVe{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const sae=({name:t,code:e,encode:n})=>new gVe(t,e,n);class gVe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?uT(this.code,n):n.then(r=>uT(this.code,r))}else throw Error("Unknown type, must be binary type")}}const oae=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),mVe=sae({name:"sha2-256",code:18,encode:oae("SHA-256")}),yVe=sae({name:"sha2-512",code:19,encode:oae("SHA-512")});var bVe=Object.freeze({__proto__:null,sha256:mVe,sha512:yVe});const lae=0,wVe="identity",cae=tae,vVe=t=>uT(lae,cae(t)),xVe={code:lae,name:wVe,encode:cae,digest:vVe};var EVe=Object.freeze({__proto__:null,identity:xVe});new TextEncoder,new TextDecoder;const pq={...gqe,...yqe,...wqe,...xqe,...Aqe,...Rqe,...Dqe,...Lqe,...qqe,...Jqe};({...bVe,...EVe});function uae(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function _Ve(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?uae(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function dae(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const gq=dae("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),fC=dae("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=_Ve(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),AVe={utf8:gq,"utf-8":gq,hex:pq.base16,latin1:fC,ascii:fC,binary:fC,...pq};function CVe(t,e="utf8"){const n=AVe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?uae(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var SVe=Object.defineProperty,kVe=(t,e,n)=>e in t?SVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$c=(t,e,n)=>kVe(t,typeof e!="symbol"?e+"":e,n);let IVe=class{constructor(e,n){this.core=e,this.logger=n,$c(this,"keychain",new Map),$c(this,"name",kHe),$c(this,"version",IHe),$c(this,"initialized",!1),$c(this,"storagePrefix",cu),$c(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),$c(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),$c(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),$c(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:a}=ut("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(a)}return i}),$c(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=js(n,this.name)}get context(){return vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,HI(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?qI(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}};var TVe=Object.defineProperty,$Ve=(t,e,n)=>e in t?TVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ta=(t,e,n)=>$Ve(t,typeof e!="symbol"?e+"":e,n);let NVe=class{constructor(e,n,r){this.core=e,this.logger=n,ta(this,"name",CHe),ta(this,"keychain"),ta(this,"randomSessionIdentifier",tT()),ta(this,"initialized",!1),ta(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ta(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),ta(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),a=LW(i);return jre(a.publicKey)}),ta(this,"generateKeyPair",()=>{this.isInitialized();const i=lFe();return this.setPrivateKey(i.publicKey,i.privateKey)}),ta(this,"signJWT",async i=>{this.isInitialized();const a=await this.getClientSeed(),s=LW(a),o=this.randomSessionIdentifier;return await nDe(o,i,SHe,s)}),ta(this,"generateSharedKey",(i,a,s)=>{this.isInitialized();const o=this.getPrivateKey(i),l=cFe(o,a);return this.setSymKey(l,s)}),ta(this,"setSymKey",async(i,a)=>{this.isInitialized();const s=a||T5(i);return await this.keychain.set(s,i),s}),ta(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),ta(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),ta(this,"encode",async(i,a,s)=>{this.isInitialized();const o=Die(s),l=cc(a);if($H(o))return fFe(l,s?.encoding);if(TH(o)){const g=o.senderPublicKey,m=o.receiverPublicKey;i=await this.generateSharedKey(g,m)}const u=this.getSymKey(i),{type:d,senderPublicKey:h}=o;return uFe({type:d,symKey:u,message:l,senderPublicKey:h,encoding:s?.encoding})}),ta(this,"decode",async(i,a,s)=>{this.isInitialized();const o=pFe(a,s);if($H(o)){const l=hFe(a,s?.encoding);return J0(l)}if(TH(o)){const l=o.receiverPublicKey,u=o.senderPublicKey;i=await this.generateSharedKey(l,u)}try{const l=this.getSymKey(i),u=dFe({symKey:l,encoded:a,encoding:s?.encoding});return J0(u)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),ta(this,"getPayloadType",(i,a=bs)=>{const s=Aw({encoded:i,encoding:a});return Q0(s.type)}),ta(this,"getPayloadSenderPublicKey",(i,a=bs)=>{const s=Aw({encoded:i,encoding:a});return s.senderPublicKey?Ss(s.senderPublicKey,Xa):void 0}),this.core=e,this.logger=js(n,this.name),this.keychain=r||new IVe(this.core,this.logger)}get context(){return vo(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(lq)}catch{e=tT(),await this.keychain.set(lq,e)}return CVe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}};var PVe=Object.defineProperty,OVe=Object.defineProperties,RVe=Object.getOwnPropertyDescriptors,mq=Object.getOwnPropertySymbols,MVe=Object.prototype.hasOwnProperty,jVe=Object.prototype.propertyIsEnumerable,dT=(t,e,n)=>e in t?PVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DVe=(t,e)=>{for(var n in e||(e={}))MVe.call(e,n)&&dT(t,n,e[n]);if(mq)for(var n of mq(e))jVe.call(e,n)&&dT(t,n,e[n]);return t},BVe=(t,e)=>OVe(t,RVe(e)),Gs=(t,e,n)=>dT(t,typeof e!="symbol"?e+"":e,n);let UVe=class extends wWe{constructor(e,n){super(e,n),this.logger=e,this.core=n,Gs(this,"messages",new Map),Gs(this,"messagesWithoutClientAck",new Map),Gs(this,"name",THe),Gs(this,"version",$He),Gs(this,"initialized",!1),Gs(this,"storagePrefix",cu),Gs(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Gs(this,"set",async(r,i,a)=>{this.isInitialized();const s=Yo(i);let o=this.messages.get(r);if(typeof o>"u"&&(o={}),typeof o[s]<"u")return s;if(o[s]=i,this.messages.set(r,o),a===P5.inbound){const l=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,BVe(DVe({},l),{[s]:i}))}return await this.persist(),s}),Gs(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Gs(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const a of r){const s=this.messagesWithoutClientAck.get(a)||{};i[a]=Object.values(s)}return i}),Gs(this,"has",(r,i)=>{this.isInitialized();const a=this.get(r),s=Yo(i);return typeof a[s]<"u"}),Gs(this,"ack",async(r,i)=>{this.isInitialized();const a=this.messagesWithoutClientAck.get(r);if(typeof a>"u")return;const s=Yo(i);delete a[s],Object.keys(a).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,a),await this.persist()}),Gs(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=js(e,this.name),this.core=n}get context(){return vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,HI(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,HI(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?qI(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?qI(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}};var LVe=Object.defineProperty,FVe=Object.defineProperties,zVe=Object.getOwnPropertyDescriptors,yq=Object.getOwnPropertySymbols,WVe=Object.prototype.hasOwnProperty,HVe=Object.prototype.propertyIsEnumerable,fT=(t,e,n)=>e in t?LVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C1=(t,e)=>{for(var n in e||(e={}))WVe.call(e,n)&&fT(t,n,e[n]);if(yq)for(var n of yq(e))HVe.call(e,n)&&fT(t,n,e[n]);return t},bq=(t,e)=>FVe(t,zVe(e)),jo=(t,e,n)=>fT(t,typeof e!="symbol"?e+"":e,n);class qVe extends vWe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,jo(this,"events",new wo.EventEmitter),jo(this,"name",PHe),jo(this,"queue",new Map),jo(this,"publishTimeout",dt.toMiliseconds(dt.ONE_MINUTE)),jo(this,"initialPublishTimeout",dt.toMiliseconds(dt.ONE_SECOND*15)),jo(this,"needsTransportRestart",!1),jo(this,"publish",async(r,i,a)=>{var s,o,l,u,d;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:a}});const h=a?.ttl||NHe,g=a?.prompt||!1,m=a?.tag||0,b=a?.id||Xf().toString(),w=rg(F6().protocol),x={id:b,method:a?.publishMethod||w.publish,params:C1({topic:r,message:i,ttl:h,prompt:g,tag:m,attestation:a?.attestation},a?.tvf&&{tvf:a.tvf})},E=`Failed to publish payload, please try again. id:${b} tag:${m}`;try{Ni((s=x.params)==null?void 0:s.prompt)&&((o=x.params)==null||delete o.prompt),Ni((l=x.params)==null?void 0:l.tag)&&((u=x.params)==null||delete u.tag);const I=new Promise(async C=>{const N=({id:T})=>{var O;((O=x.id)==null?void 0:O.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(ti.publish,N),C())};this.relayer.events.on(ti.publish,N);const A=Qc(new Promise((T,O)=>{this.rpcPublish(x,a).then(T).catch(H=>{this.logger.warn(H,H?.message),O(H)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${b} tag:${m}`);try{await A,this.events.removeListener(ti.publish,N)}catch(T){this.queue.set(b,{request:x,opts:a,attempt:1}),this.logger.warn(T,T?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,topic:r,message:i,opts:a}}),await Qc(I,this.publishTimeout,E)}catch(I){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(I),(d=a?.internal)!=null&&d.throwOnFailedPublish)throw I}finally{this.queue.delete(b)}}),jo(this,"publishCustom",async r=>{var i,a,s,o,l;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:u,opts:d={}}=r,{attestation:h,tvf:g,publishMethod:m,prompt:b,tag:w,ttl:x=dt.FIVE_MINUTES}=d,E=d.id||Xf().toString(),I=rg(F6().protocol),C=m||I.publish,N={id:E,method:C,params:C1(bq(C1({},u),{ttl:x,prompt:b,tag:w,attestation:h}),g)},A=`Failed to publish custom payload, please try again. id:${E} tag:${w}`;try{Ni((i=N.params)==null?void 0:i.prompt)&&((a=N.params)==null||delete a.prompt),Ni((s=N.params)==null?void 0:s.tag)&&((o=N.params)==null||delete o.tag);const T=new Promise(async O=>{const H=({id:L})=>{var G;((G=N.id)==null?void 0:G.toString())===L.toString()&&(this.removeRequestFromQueue(L),this.relayer.events.removeListener(ti.publish,H),O())};this.relayer.events.on(ti.publish,H);const U=Qc(new Promise((L,G)=>{this.rpcPublish(N,d).then(L).catch(R=>{this.logger.warn(R,R?.message),G(R)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${C} id:${E} tag:${w}`);try{await U,this.events.removeListener(ti.publish,H)}catch(L){this.queue.set(E,{request:N,opts:d,attempt:1}),this.logger.warn(L,L?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:E,payload:u,opts:d}}),await Qc(T,this.publishTimeout,A)}catch(T){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(T),(l=d?.internal)!=null&&l.throwOnFailedPublish)throw T}finally{this.queue.delete(E)}}),jo(this,"on",(r,i)=>{this.events.on(r,i)}),jo(this,"once",(r,i)=>{this.events.once(r,i)}),jo(this,"off",(r,i)=>{this.events.off(r,i)}),jo(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=js(n,this.name),this.registerEventListeners()}get context(){return vo(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(ti.publish,C1(C1({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,bq(C1({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(bp.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ti.connection_stalled);return}this.checkQueue()}),this.relayer.on(ti.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var VVe=Object.defineProperty,GVe=(t,e,n)=>e in t?VVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S1=(t,e,n)=>GVe(t,typeof e!="symbol"?e+"":e,n);class KVe{constructor(){S1(this,"map",new Map),S1(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),S1(this,"get",e=>this.map.get(e)||[]),S1(this,"exists",(e,n)=>this.get(e).includes(n)),S1(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(a=>a!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),S1(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var YVe=Object.defineProperty,ZVe=Object.defineProperties,JVe=Object.getOwnPropertyDescriptors,wq=Object.getOwnPropertySymbols,XVe=Object.prototype.hasOwnProperty,QVe=Object.prototype.propertyIsEnumerable,hT=(t,e,n)=>e in t?YVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h2=(t,e)=>{for(var n in e||(e={}))XVe.call(e,n)&&hT(t,n,e[n]);if(wq)for(var n of wq(e))QVe.call(e,n)&&hT(t,n,e[n]);return t},hC=(t,e)=>ZVe(t,JVe(e)),gr=(t,e,n)=>hT(t,typeof e!="symbol"?e+"":e,n);let eGe=class extends _We{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,gr(this,"subscriptions",new Map),gr(this,"topicMap",new KVe),gr(this,"events",new wo.EventEmitter),gr(this,"name",UHe),gr(this,"version",LHe),gr(this,"pending",new Map),gr(this,"cached",[]),gr(this,"initialized",!1),gr(this,"storagePrefix",cu),gr(this,"subscribeTimeout",dt.toMiliseconds(dt.ONE_MINUTE)),gr(this,"initialSubscribeTimeout",dt.toMiliseconds(dt.ONE_SECOND*15)),gr(this,"clientId"),gr(this,"batchSubscribeTopicsLimit",500),gr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),gr(this,"subscribe",async(r,i)=>{var a;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=F6(i),o={topic:r,relay:s,transportType:i?.transportType};(a=i?.internal)!=null&&a.skipSubscribe||this.pending.set(r,o);const l=await this.rpcSubscribe(r,s,i);return typeof l=="string"&&(this.onSubscribe(l,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),l}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),gr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),gr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),gr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(a=>a.topic===r))})),gr(this,"on",(r,i)=>{this.events.on(r,i)}),gr(this,"once",(r,i)=>{this.events.once(r,i)}),gr(this,"off",(r,i)=>{this.events.off(r,i)}),gr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),gr(this,"start",async()=>{await this.onConnect()}),gr(this,"stop",async()=>{await this.onDisconnect()}),gr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),gr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),gr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(bp.pulse,async()=>{await this.checkPending()}),this.events.on(Zs.created,async r=>{const i=Zs.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Zs.deleted,async r=>{const i=Zs.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=js(n,this.name),this.clientId=""}get context(){return vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=F6(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const a=Tr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,a;const s=await this.getSubscriptionId(e);if((i=r?.internal)!=null&&i.skipSubscribe)return s;(!r||r?.transportType===Ir.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const o={method:rg(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const l=(a=r?.internal)==null?void 0:a.throwOnFailedPublish;try{if(r?.transportType===Ir.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(h=>this.logger.warn(h))},dt.toMiliseconds(dt.ONE_SECOND)),s;const u=new Promise(async h=>{const g=m=>{m.topic===e&&(this.events.removeListener(Zs.created,g),h(m.id))};this.events.on(Zs.created,g);try{const m=await Qc(new Promise((b,w)=>{this.relayer.request(o).catch(x=>{this.logger.warn(x,x?.message),w(x)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Zs.created,g),h(m)}catch{}}),d=await Qc(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!d&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return d?s:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ti.connection_stalled),l)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:rg(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Qc(new Promise(i=>{this.relayer.request(r).catch(a=>this.logger.warn(a)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(ti.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:rg(n.protocol).batchFetchMessages,params:{topics:e.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Qc(new Promise((a,s)=>{this.relayer.request(r).catch(o=>{this.logger.warn(o),s(o)}).then(a)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(ti.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:rg(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,hC(h2({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,h2({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,h2({},n)),this.topicMap.set(n.topic,e),this.events.emit(Zs.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=ut("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Zs.deleted,hC(h2({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Zs.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Zs.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=ut("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>hC(h2({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await $Be(dt.toMiliseconds(dt.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Yo(e+await this.getClientId())}};var tGe=Object.defineProperty,vq=Object.getOwnPropertySymbols,nGe=Object.prototype.hasOwnProperty,rGe=Object.prototype.propertyIsEnumerable,pT=(t,e,n)=>e in t?tGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xq=(t,e)=>{for(var n in e||(e={}))nGe.call(e,n)&&pT(t,n,e[n]);if(vq)for(var n of vq(e))rGe.call(e,n)&&pT(t,n,e[n]);return t},Fn=(t,e,n)=>pT(t,typeof e!="symbol"?e+"":e,n);let iGe=class extends xWe{constructor(e){super(e),Fn(this,"protocol","wc"),Fn(this,"version",2),Fn(this,"core"),Fn(this,"logger"),Fn(this,"events",new wo.EventEmitter),Fn(this,"provider"),Fn(this,"messages"),Fn(this,"subscriber"),Fn(this,"publisher"),Fn(this,"name",RHe),Fn(this,"transportExplicitlyClosed",!1),Fn(this,"initialized",!1),Fn(this,"connectionAttemptInProgress",!1),Fn(this,"relayUrl"),Fn(this,"projectId"),Fn(this,"packageName"),Fn(this,"bundleId"),Fn(this,"hasExperiencedNetworkDisruption",!1),Fn(this,"pingTimeout"),Fn(this,"heartBeatTimeout",dt.toMiliseconds(dt.THIRTY_SECONDS+dt.FIVE_SECONDS)),Fn(this,"reconnectTimeout"),Fn(this,"connectPromise"),Fn(this,"reconnectInProgress",!1),Fn(this,"requestsInFlight",[]),Fn(this,"connectTimeout",dt.toMiliseconds(dt.ONE_SECOND*15)),Fn(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const a=n.id||Xf().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const s=`${a}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(s);const o=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==s),o}catch(s){throw this.logger.debug(`Failed to Publish Request: ${a}`),s}}),Fn(this,"resetPingTimeout",()=>{D6()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||a.call(i)}catch(s){this.logger.warn(s,s?.message)}},this.heartBeatTimeout))}),Fn(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Fn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(ti.connect)}),Fn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Fn(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(ti.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Fn(this,"registerProviderListeners",()=>{this.provider.on(Mo.payload,this.onPayloadHandler),this.provider.on(Mo.connect,this.onConnectHandler),this.provider.on(Mo.disconnect,this.onDisconnectHandler),this.provider.on(Mo.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?js(e.logger,this.name):VP(Wie({level:e.logger||OHe})),this.messages=new UVe(this.logger,e.core),this.subscriber=new eGe(this,this.logger),this.publisher=new qVe(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Qie,pBe()?this.packageName=JW():gBe()&&(this.bundleId=JW()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return vo(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ir.relay},P5.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,a;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const s=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let o=((a=this.subscriber.topicMap.get(e))==null?void 0:a[0])||"",l;const u=d=>{d.topic===e&&(this.subscriber.off(Zs.created,u),l())};return await Promise.all([new Promise(d=>{l=d,this.subscriber.on(Zs.created,u)}),new Promise(async(d,h)=>{o=await this.subscriber.subscribe(e,xq({internal:{throwOnFailedPublish:s}},n)).catch(g=>{s&&h(g)})||o,d()})]),o}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Qc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await FH())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Ii(dt.FIVE_MINUTES),a={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,a)}this.events.emit(ti.message,e),await this.recordMessageEvent(e,P5.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const a=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Mo.disconnect,a),await Qc(new Promise((s,o)=>{this.provider.connect().then(s).catch(o)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{i(s)}).finally(()=>{this.provider.off(Mo.disconnect,a),clearTimeout(this.reconnectTimeout)}),await new Promise(async(s,o)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Mo.disconnect,l),await this.subscriber.start().then(s).catch(o).finally(()=>{this.provider.off(Mo.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,dt.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,a;if(D6())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((a=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||a.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(s){this.logger.warn(s,s?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new xl(new xHe(vBe({sdkVersion:lT,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),YP(e)){if(!e.method.endsWith(MHe))return;const n=e.params,{topic:r,message:i,publishedAt:a,attestation:s}=n.data,o={topic:r,message:i,publishedAt:a,transportType:Ir.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(xq({type:"event",event:n.id},o)),this.events.emit(n.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else V8(e)&&this.events.emit(ti.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,P5.inbound),this.events.emit(ti.message,e))}async acknowledgePayload(e){const n=Sw(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Mo.payload,this.onPayloadHandler),this.provider.off(Mo.connect,this.onConnectHandler),this.provider.off(Mo.disconnect,this.onDisconnectHandler),this.provider.off(Mo.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await FH();oze(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(bp.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&uze())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(ti.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},dt.toMiliseconds(jHe)))))}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function aGe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Eq(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function _q(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const sGe="[object RegExp]",oGe="[object String]",lGe="[object Number]",cGe="[object Boolean]",Aq="[object Arguments]",uGe="[object Symbol]",dGe="[object Date]",fGe="[object Map]",hGe="[object Set]",pGe="[object Array]",gGe="[object Function]",mGe="[object ArrayBuffer]",pC="[object Object]",yGe="[object Error]",bGe="[object DataView]",wGe="[object Uint8Array]",vGe="[object Uint8ClampedArray]",xGe="[object Uint16Array]",EGe="[object Uint32Array]",_Ge="[object BigUint64Array]",AGe="[object Int8Array]",CGe="[object Int16Array]",SGe="[object Int32Array]",kGe="[object BigInt64Array]",IGe="[object Float32Array]",TGe="[object Float64Array]";function $Ge(){}function Cq(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function NGe(t,e,n){return U2(t,e,void 0,void 0,void 0,void 0,n)}function U2(t,e,n,r,i,a,s){const o=s(t,e,n,r,i,a);if(o!==void 0)return o;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return ub(t,e,a,s)}return ub(t,e,a,s)}function ub(t,e,n,r){if(Object.is(t,e))return!0;let i=_q(t),a=_q(e);if(i===Aq&&(i=pC),a===Aq&&(a=pC),i!==a)return!1;switch(i){case oGe:return t.toString()===e.toString();case lGe:{const l=t.valueOf(),u=e.valueOf();return aGe(l,u)}case cGe:case dGe:case uGe:return Object.is(t.valueOf(),e.valueOf());case sGe:return t.source===e.source&&t.flags===e.flags;case gGe:return t===e}n=n??new Map;const s=n.get(t),o=n.get(e);if(s!=null&&o!=null)return s===e;n.set(t,e),n.set(e,t);try{switch(i){case fGe:{if(t.size!==e.size)return!1;for(const[l,u]of t.entries())if(!e.has(l)||!U2(u,e.get(l),l,t,e,n,r))return!1;return!0}case hGe:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),u=Array.from(e.values());for(let d=0;d<l.length;d++){const h=l[d],g=u.findIndex(m=>U2(h,m,void 0,t,e,n,r));if(g===-1)return!1;u.splice(g,1)}return!0}case pGe:case wGe:case vGe:case xGe:case EGe:case _Ge:case AGe:case CGe:case SGe:case kGe:case IGe:case TGe:{if(typeof _t<"u"&&_t.isBuffer(t)!==_t.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!U2(t[l],e[l],l,t,e,n,r))return!1;return!0}case mGe:return t.byteLength!==e.byteLength?!1:ub(new Uint8Array(t),new Uint8Array(e),n,r);case bGe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:ub(new Uint8Array(t),new Uint8Array(e),n,r);case yGe:return t.name===e.name&&t.message===e.message;case pC:{if(!(ub(t.constructor,e.constructor,n,r)||Cq(t)&&Cq(e)))return!1;const l=[...Object.keys(t),...Eq(t)],u=[...Object.keys(e),...Eq(e)];if(l.length!==u.length)return!1;for(let d=0;d<l.length;d++){const h=l[d],g=t[h];if(!Object.hasOwn(e,h))return!1;const m=e[h];if(!U2(g,m,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function PGe(t,e){return NGe(t,e,$Ge)}var OGe=Object.defineProperty,Sq=Object.getOwnPropertySymbols,RGe=Object.prototype.hasOwnProperty,MGe=Object.prototype.propertyIsEnumerable,gT=(t,e,n)=>e in t?OGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kq=(t,e)=>{for(var n in e||(e={}))RGe.call(e,n)&&gT(t,n,e[n]);if(Sq)for(var n of Sq(e))MGe.call(e,n)&&gT(t,n,e[n]);return t},ds=(t,e,n)=>gT(t,typeof e!="symbol"?e+"":e,n);let vp=class extends EWe{constructor(e,n,r,i=cu,a=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,ds(this,"map",new Map),ds(this,"version",DHe),ds(this,"cached",[]),ds(this,"initialized",!1),ds(this,"getKey"),ds(this,"storagePrefix",cu),ds(this,"recentlyDeleted",[]),ds(this,"recentlyDeletedLimit",200),ds(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>{this.getKey&&s!==null&&!Ni(s)?this.map.set(this.getKey(s),s):BFe(s)?this.map.set(s.id,s):UFe(s)&&this.map.set(s.topic,s)}),this.cached=[],this.initialized=!0)}),ds(this,"set",async(s,o)=>{this.isInitialized(),this.map.has(s)?await this.update(s,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:s,value:o}),this.map.set(s,o),await this.persist())}),ds(this,"get",s=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:s}),this.getData(s))),ds(this,"getAll",s=>(this.isInitialized(),s?this.values.filter(o=>Object.keys(s).every(l=>PGe(o[l],s[l]))):this.values)),ds(this,"update",async(s,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:s,update:o});const l=kq(kq({},this.getData(s)),o);this.map.set(s,l),await this.persist()}),ds(this,"delete",async(s,o)=>{this.isInitialized(),this.map.has(s)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:s,reason:o}),this.map.delete(s),this.addToRecentlyDeleted(s),await this.persist())}),this.logger=js(n,this.name),this.storagePrefix=i,this.getKey=a}get context(){return vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=ut("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=ut("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=ut("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}};var jGe=Object.defineProperty,DGe=(t,e,n)=>e in t?jGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tn=(t,e,n)=>DGe(t,typeof e!="symbol"?e+"":e,n);let BGe=class{constructor(e,n){this.core=e,this.logger=n,Tn(this,"name",FHe),Tn(this,"version",zHe),Tn(this,"events",new vP),Tn(this,"pairings"),Tn(this,"initialized",!1),Tn(this,"storagePrefix",cu),Tn(this,"ignoredPayloadTypes",[hd]),Tn(this,"registeredMethods",[]),Tn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Tn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Tn(this,"create",async r=>{this.isInitialized();const i=tT(),a=await this.core.crypto.setSymKey(i),s=Ii(dt.FIVE_MINUTES),o={protocol:Xie},l={topic:a,expiry:s,relay:o,active:!1,methods:r?.methods},u=PH({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:i,relay:o,expiryTimestamp:s,methods:r?.methods});return this.events.emit(c0.create,l),this.core.expirer.set(a,s),await this.pairings.set(a,l),await this.core.relayer.subscribe(a,{transportType:r?.transportType,internal:r?.internal}),{topic:a,uri:u}}),Tn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[Bc.pairing_started]}});this.isValidPair(r,i);const{topic:a,symKey:s,relay:o,expiryTimestamp:l,methods:u}=NH(r.uri);i.props.properties.topic=a,i.addTrace(Bc.pairing_uri_validation_success),i.addTrace(Bc.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(a)){if(d=this.pairings.get(a),i.addTrace(Bc.existing_pairing),d.active)throw i.setError(Vu.active_pairing_already_exists),new Error(`Pairing already exists: ${a}. Please try again with a new connection URI.`);i.addTrace(Bc.pairing_not_expired)}const h=l||Ii(dt.FIVE_MINUTES),g={topic:a,relay:o,expiry:h,active:!1,methods:u};this.core.expirer.set(a,h),await this.pairings.set(a,g),i.addTrace(Bc.store_new_pairing),r.activatePairing&&await this.activate({topic:a}),this.events.emit(c0.create,g),i.addTrace(Bc.emit_inactive_pairing),this.core.crypto.keychain.has(a)||await this.core.crypto.setSymKey(s,a),i.addTrace(Bc.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Vu.no_internet_connection)}try{await this.core.relayer.subscribe(a,{relay:o})}catch(m){throw i.setError(Vu.subscribe_pairing_topic_failure),m}return i.addTrace(Bc.subscribe_pairing_topic_success),g}),Tn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Ii(dt.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Tn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const a=await this.sendRequest(i,"wc_pairingPing",{}),{done:s,resolve:o,reject:l}=t0();this.events.once(Zn("pairing_ping",a),({error:u})=>{u?l(u):o()}),await s()}}),Tn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Tn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Tn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Tn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Tr("USER_DISCONNECTED")),await this.deletePairing(i))}),Tn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:a,expiry:s,methods:o}=r,l=this.core.crypto.keychain.get(i);return PH({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:a,expiryTimestamp:s,methods:o})}),Tn(this,"sendRequest",async(r,i,a)=>{const s=Yc(i,a),o=await this.core.crypto.encode(r,s),l=u2[i].req;return this.core.history.set(r,s),this.core.relayer.publish(r,o,l),s.id}),Tn(this,"sendResult",async(r,i,a)=>{const s=Sw(r,a),o=await this.core.crypto.encode(i,s),l=(await this.core.history.get(i,r)).request.method,u=u2[l].res;await this.core.relayer.publish(i,o,u),await this.core.history.resolve(s)}),Tn(this,"sendError",async(r,i,a)=>{const s=q8(r,a),o=await this.core.crypto.encode(i,s),l=(await this.core.history.get(i,r)).request.method,u=u2[l]?u2[l].res:u2.unregistered_method.res;await this.core.relayer.publish(i,o,u),await this.core.history.resolve(s)}),Tn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Tr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Tn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Df(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Tn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:a}=r;switch(a.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,a);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,a);default:return await this.onUnknownRpcMethodRequest(i,a)}}),Tn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:a}=r,s=(await this.core.history.get(i,a.id)).request.method;switch(s){case"wc_pairingPing":return this.onPairingPingResponse(i,a);default:return this.onUnknownRpcMethodResponse(s)}}),Tn(this,"onPairingPingRequest",async(r,i)=>{const{id:a}=i;try{this.isValidPing({topic:r}),await this.sendResult(a,r,!0),this.events.emit(c0.ping,{id:a,topic:r})}catch(s){await this.sendError(a,r,s),this.logger.error(s)}}),Tn(this,"onPairingPingResponse",(r,i)=>{const{id:a}=i;setTimeout(()=>{zc(i)?this.events.emit(Zn("pairing_ping",a),{}):Zo(i)&&this.events.emit(Zn("pairing_ping",a),{error:i.error})},500)}),Tn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:a}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(c0.delete,{id:a,topic:r})}catch(s){await this.sendError(a,r,s),this.logger.error(s)}}),Tn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:a,method:s}=i;try{if(this.registeredMethods.includes(s))return;const o=Tr("WC_METHOD_UNSUPPORTED",s);await this.sendError(a,r,o),this.logger.error(o)}catch(o){await this.sendError(a,r,o),this.logger.error(o)}}),Tn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Tr("WC_METHOD_UNSUPPORTED",r))}),Tn(this,"isValidPair",(r,i)=>{var a;if(!hs(r)){const{message:o}=ut("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Vu.malformed_pairing_uri),new Error(o)}if(!DFe(r.uri)){const{message:o}=ut("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Vu.malformed_pairing_uri),new Error(o)}const s=NH(r?.uri);if(!((a=s?.relay)!=null&&a.protocol)){const{message:o}=ut("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Vu.malformed_pairing_uri),new Error(o)}if(!(s!=null&&s.symKey)){const{message:o}=ut("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Vu.malformed_pairing_uri),new Error(o)}if(s!=null&&s.expiryTimestamp&&dt.toMiliseconds(s?.expiryTimestamp)<Date.now()){i.setError(Vu.pairing_expired);const{message:o}=ut("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}}),Tn(this,"isValidPing",async r=>{if(!hs(r)){const{message:a}=ut("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(a)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Tn(this,"isValidDisconnect",async r=>{if(!hs(r)){const{message:a}=ut("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(a)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Tn(this,"isValidPairingTopic",async r=>{if(!bi(r,!1)){const{message:i}=ut("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=ut("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Df(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=ut("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=js(n,this.name),this.pairings=new vp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return vo(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(ti.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Ir.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const a=await this.core.crypto.decode(n,r);YP(a)?(this.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a})):V8(a)&&(await this.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a}),this.core.history.delete(n,a.id)),await this.core.relayer.messages.ack(n,r)}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(Vo.expired,async e=>{const{topic:n}=Gre(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(c0.expire,{topic:n}))})}};var UGe=Object.defineProperty,LGe=(t,e,n)=>e in t?UGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,na=(t,e,n)=>LGe(t,typeof e!="symbol"?e+"":e,n);let FGe=class extends bWe{constructor(e,n){super(e,n),this.core=e,this.logger=n,na(this,"records",new Map),na(this,"events",new wo.EventEmitter),na(this,"name",WHe),na(this,"version",HHe),na(this,"cached",[]),na(this,"initialized",!1),na(this,"storagePrefix",cu),na(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),na(this,"set",(r,i,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:a}),this.records.has(i.id))return;const s={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:a,expiry:Ii(dt.THIRTY_DAYS)};this.records.set(s.id,s),this.persist(),this.events.emit($l.created,s)}),na(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Zo(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit($l.updated,i))}),na(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),na(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(a=>{if(a.topic===r){if(typeof i<"u"&&a.id!==i)return;this.records.delete(a.id),this.events.emit($l.deleted,a)}}),this.persist()}),na(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),na(this,"on",(r,i)=>{this.events.on(r,i)}),na(this,"once",(r,i)=>{this.events.once(r,i)}),na(this,"off",(r,i)=>{this.events.off(r,i)}),na(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=js(n,this.name)}get context(){return vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Yc(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=ut("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit($l.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=ut("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on($l.created,e=>{const n=$l.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on($l.updated,e=>{const n=$l.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on($l.deleted,e=>{const n=$l.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(bp.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{dt.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit($l.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}};var zGe=Object.defineProperty,WGe=(t,e,n)=>e in t?zGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ca=(t,e,n)=>WGe(t,typeof e!="symbol"?e+"":e,n);let HGe=class extends AWe{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ca(this,"expirations",new Map),Ca(this,"events",new wo.EventEmitter),Ca(this,"name",qHe),Ca(this,"version",VHe),Ca(this,"cached",[]),Ca(this,"initialized",!1),Ca(this,"storagePrefix",cu),Ca(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ca(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Ca(this,"set",(r,i)=>{this.isInitialized();const a=this.formatTarget(r),s={target:a,expiry:i};this.expirations.set(a,s),this.checkExpiry(a,s),this.events.emit(Vo.created,{target:a,expiration:s})}),Ca(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Ca(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),a=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Vo.deleted,{target:i,expiration:a})}}),Ca(this,"on",(r,i)=>{this.events.on(r,i)}),Ca(this,"once",(r,i)=>{this.events.once(r,i)}),Ca(this,"off",(r,i)=>{this.events.off(r,i)}),Ca(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=js(n,this.name)}get context(){return vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return xBe(e);if(typeof e=="number")return EBe(e);const{message:n}=ut("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Vo.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=ut("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=ut("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;dt.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Vo.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(bp.pulse,()=>this.checkExpirations()),this.events.on(Vo.created,e=>{const n=Vo.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Vo.expired,e=>{const n=Vo.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Vo.deleted,e=>{const n=Vo.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}};var qGe=Object.defineProperty,VGe=(t,e,n)=>e in t?qGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fi=(t,e,n)=>VGe(t,typeof e!="symbol"?e+"":e,n);let GGe=class extends CWe{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,fi(this,"name",GHe),fi(this,"abortController"),fi(this,"isDevEnv"),fi(this,"verifyUrlV3",YHe),fi(this,"storagePrefix",cu),fi(this,"version",Jie),fi(this,"publicKey"),fi(this,"fetchPromise"),fi(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&dt.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),fi(this,"register",async i=>{if(!Pm()||this.isDevEnv)return;const a=window.location.origin,{id:s,decryptedId:o}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${s}&decryptedId=${o}`;try{const u=Cd.getDocument(),d=this.startAbortTimer(dt.ONE_SECOND*5),h=await new Promise((g,m)=>{const b=()=>{window.removeEventListener("message",x),u.body.removeChild(w),m("attestation aborted")};this.abortController.signal.addEventListener("abort",b);const w=u.createElement("iframe");w.src=l,w.style.display="none",w.addEventListener("error",b,{signal:this.abortController.signal});const x=E=>{if(E.data&&typeof E.data=="string")try{const I=JSON.parse(E.data);if(I.type==="verify_attestation"){if(zI(I.attestation).payload.id!==s)return;clearInterval(d),u.body.removeChild(w),this.abortController.signal.removeEventListener("abort",b),window.removeEventListener("message",x),g(I.attestation===null?"":I.attestation)}}catch(I){this.logger.warn(I)}};u.body.appendChild(w),window.addEventListener("message",x,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(u){this.logger.warn(u)}return""}),fi(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:a,hash:s,encryptedId:o}=i;if(a===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(a){if(zI(a).payload.id!==o)return;const u=await this.isValidJwtAttestation(a);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!s)return;const l=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(s,l)}),fi(this,"fetchAttestation",async(i,a)=>{this.logger.debug(`resolving attestation: ${i} from url: ${a}`);const s=this.startAbortTimer(dt.ONE_SECOND*5),o=await fetch(`${a}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(s),o.status===200?await o.json():void 0}),fi(this,"getVerifyUrl",i=>{let a=i||cb;return ZHe.includes(a)||(this.logger.info(`verify url: ${a}, not included in trusted list, assigning default: ${cb}`),a=cb),a}),fi(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(dt.FIVE_SECONDS),a=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await a.json()}catch(i){this.logger.warn(i)}}),fi(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),fi(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),fi(this,"isValidJwtAttestation",async i=>{const a=await this.getPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const s=await this.fetchAndPersistPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}}),fi(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),fi(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async a=>{const s=await this.fetchPublicKey();s&&(await this.persistPublicKey(s),a(s))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),fi(this,"validateAttestation",(i,a)=>{const s=mFe(i,a.publicKey),o={hasExpired:dt.toMiliseconds(s.exp)<Date.now(),payload:s};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}}),this.logger=js(n,this.name),this.abortController=new AbortController,this.isDevEnv=NP(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return vo(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),dt.toMiliseconds(e))}};var KGe=Object.defineProperty,YGe=(t,e,n)=>e in t?KGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Iq=(t,e,n)=>YGe(t,typeof e!="symbol"?e+"":e,n);let ZGe=class extends SWe{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,Iq(this,"context",JHe),Iq(this,"registerDeviceToken",async r=>{const{clientId:i,token:a,notificationType:s,enableEncrypted:o=!1}=r,l=`${XHe}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:s,token:a,always_raw:o})})}),this.logger=js(n,this.context)}};var JGe=Object.defineProperty,Tq=Object.getOwnPropertySymbols,XGe=Object.prototype.hasOwnProperty,QGe=Object.prototype.propertyIsEnumerable,mT=(t,e,n)=>e in t?JGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p2=(t,e)=>{for(var n in e||(e={}))XGe.call(e,n)&&mT(t,n,e[n]);if(Tq)for(var n of Tq(e))QGe.call(e,n)&&mT(t,n,e[n]);return t},Ui=(t,e,n)=>mT(t,typeof e!="symbol"?e+"":e,n);let eKe=class extends kWe{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Ui(this,"context",eqe),Ui(this,"storagePrefix",cu),Ui(this,"storageVersion",QHe),Ui(this,"events",new Map),Ui(this,"shouldPersist",!1),Ui(this,"init",async()=>{if(!NP())try{const i={eventId:QW(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:qre(this.core.relayer.protocol,this.core.relayer.version,lT)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Ui(this,"createEvent",i=>{const{event:a="ERROR",type:s="",properties:{topic:o,trace:l}}=i,u=QW(),d=this.core.projectId||"",h=Date.now(),g=p2({eventId:u,timestamp:h,props:{event:a,type:s,properties:{topic:o,trace:l}},bundleId:d,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,g),this.shouldPersist=!0),g}),Ui(this,"getEvent",i=>{const{eventId:a,topic:s}=i;if(a)return this.events.get(a);const o=Array.from(this.events.values()).find(l=>l.props.properties.topic===s);if(o)return p2(p2({},o),this.setMethods(o.eventId))}),Ui(this,"deleteEvent",i=>{const{eventId:a}=i;this.events.delete(a),this.shouldPersist=!0}),Ui(this,"setEventListeners",()=>{this.core.heartbeat.on(bp.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{dt.fromMiliseconds(Date.now())-dt.fromMiliseconds(i.timestamp)>tqe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Ui(this,"setMethods",i=>({addTrace:a=>this.addTrace(i,a),setError:a=>this.setError(i,a)})),Ui(this,"addTrace",(i,a)=>{const s=this.events.get(i);s&&(s.props.properties.trace.push(a),this.events.set(i,s),this.shouldPersist=!0)}),Ui(this,"setError",(i,a)=>{const s=this.events.get(i);s&&(s.props.type=a,s.timestamp=Date.now(),this.events.set(i,s),this.shouldPersist=!0)}),Ui(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ui(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(a=>{this.events.set(a.eventId,p2(p2({},a),this.setMethods(a.eventId)))})}catch(i){this.logger.warn(i)}}),Ui(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[a,s]of this.events)s.props.type&&i.push(s);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const a of i)this.events.delete(a.eventId),this.shouldPersist=!0}catch(a){this.logger.warn(a)}}),Ui(this,"sendEvent",async i=>{const a=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${nqe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${lT}${a}`,{method:"POST",body:JSON.stringify(i)})}),Ui(this,"getAppDomain",()=>Hre().url),this.logger=js(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var tKe=Object.defineProperty,$q=Object.getOwnPropertySymbols,nKe=Object.prototype.hasOwnProperty,rKe=Object.prototype.propertyIsEnumerable,yT=(t,e,n)=>e in t?tKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nq=(t,e)=>{for(var n in e||(e={}))nKe.call(e,n)&&yT(t,n,e[n]);if($q)for(var n of $q(e))rKe.call(e,n)&&yT(t,n,e[n]);return t},vr=(t,e,n)=>yT(t,typeof e!="symbol"?e+"":e,n);let iKe=class fae extends pWe{constructor(e){var n;super(e),vr(this,"protocol",Zie),vr(this,"version",Jie),vr(this,"name",oT),vr(this,"relayUrl"),vr(this,"projectId"),vr(this,"customStoragePrefix"),vr(this,"events",new wo.EventEmitter),vr(this,"logger"),vr(this,"heartbeat"),vr(this,"relayer"),vr(this,"crypto"),vr(this,"storage"),vr(this,"history"),vr(this,"expirer"),vr(this,"pairing"),vr(this,"verify"),vr(this,"echoClient"),vr(this,"linkModeSupportedApps"),vr(this,"eventClient"),vr(this,"initialized",!1),vr(this,"logChunkController"),vr(this,"on",(o,l)=>this.events.on(o,l)),vr(this,"once",(o,l)=>this.events.once(o,l)),vr(this,"off",(o,l)=>this.events.off(o,l)),vr(this,"removeListener",(o,l)=>this.events.removeListener(o,l)),vr(this,"dispatchEnvelope",({topic:o,message:l,sessionExists:u})=>{if(!o||!l)return;const d={topic:o,message:l,publishedAt:Date.now(),transportType:Ir.link_mode};this.relayer.onLinkMessageEvent(d,{sessionExists:u})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(o){console.warn("Failed to copy global core",o)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Qie,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Wie({level:typeof e?.logger=="string"&&e.logger?e.logger:_He.logger,name:oT}),{logger:a,chunkLoggerController:s}=dWe({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=s,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,l;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=js(a,this.name),this.heartbeat=new vze,this.crypto=new NVe(this,this.logger,e?.keychain),this.history=new FGe(this,this.logger),this.expirer=new HGe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Yze(Nq(Nq({},AHe),e?.storageOptions)),this.relayer=new iGe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new BGe(this,this.logger),this.verify=new GGe(this,this.logger,this.storage),this.echoClient=new ZGe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new eKe(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new fae(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(BHe,r),n}get context(){return vo(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(cq,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(cq)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof Er<"u"&&EHe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const aKe=iKe;var gC,Pq;function sKe(){if(Pq)return gC;Pq=1;const t=qP();gC=i;const e=A().console||{},n={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:b,res:b,err:g};function r(T,O){return Array.isArray(T)?T.filter(function(U){return U!=="!stdSerializers.err"}):T===!0?Object.keys(O):!1}function i(T){T=T||{},T.browser=T.browser||{};const O=T.browser.transmit;if(O&&typeof O.send!="function")throw Error("pino: transmit option must have a send function");const H=T.browser.write||e;T.browser.write&&(T.browser.asObject=!0);const U=T.serializers||{},L=r(T.browser.serialize,U);let G=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(G=!1);const R=["error","fatal","warn","info","debug","trace"];typeof H=="function"&&(H.error=H.fatal=H.warn=H.info=H.debug=H.trace=H),T.enabled===!1&&(T.level="silent");const F=T.level||"info",_=Object.create(H);_.log||(_.log=x),Object.defineProperty(_,"levelVal",{get:$}),Object.defineProperty(_,"level",{get:D,set:z});const S={transmit:O,serialize:L,asObject:T.browser.asObject,levels:R,timestamp:m(T)};_.levels=i.levels,_.level=F,_.setMaxListeners=_.getMaxListeners=_.emit=_.addListener=_.on=_.prependListener=_.once=_.prependOnceListener=_.removeListener=_.removeAllListeners=_.listeners=_.listenerCount=_.eventNames=_.write=_.flush=x,_.serializers=U,_._serialize=L,_._stdErrSerialize=G,_.child=Y,O&&(_._logEvent=h());function $(){return this.level==="silent"?1/0:this.levels.values[this.level]}function D(){return this._level}function z(J){if(J!=="silent"&&!this.levels.values[J])throw Error("unknown level "+J);this._level=J,a(S,_,"error","log"),a(S,_,"fatal","error"),a(S,_,"warn","error"),a(S,_,"info","log"),a(S,_,"debug","log"),a(S,_,"trace","log")}function Y(J,V){if(!J)throw new Error("missing bindings for child Pino");V=V||{},L&&J.serializers&&(V.serializers=J.serializers);const M=V.serializers;if(L&&M){var Q=Object.assign({},U,M),ne=T.browser.serialize===!0?Object.keys(Q):L;delete J.serializers,l([J],ne,Q,this._stdErrSerialize)}function K(se){this._childLevel=(se._childLevel|0)+1,this.error=u(se,J,"error"),this.fatal=u(se,J,"fatal"),this.warn=u(se,J,"warn"),this.info=u(se,J,"info"),this.debug=u(se,J,"debug"),this.trace=u(se,J,"trace"),Q&&(this.serializers=Q,this._serialize=ne),O&&(this._logEvent=h([].concat(se._logEvent.bindings,J)))}return K.prototype=this,new K(this)}return _}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:E,epochTime:I,unixTime:C,isoTime:N});function a(T,O,H,U){const L=Object.getPrototypeOf(O);O[H]=O.levelVal>O.levels.values[H]?x:L[H]?L[H]:e[H]||e[U]||x,s(T,O,H)}function s(T,O,H){!T.transmit&&O[H]===x||(O[H]=(function(U){return function(){const G=T.timestamp(),R=new Array(arguments.length),F=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var _=0;_<R.length;_++)R[_]=arguments[_];if(T.serialize&&!T.asObject&&l(R,this._serialize,this.serializers,this._stdErrSerialize),T.asObject?U.call(F,o(this,H,R,G)):U.apply(F,R),T.transmit){const S=T.transmit.level||O.level,$=i.levels.values[S],D=i.levels.values[H];if(D<$)return;d(this,{ts:G,methodLevel:H,methodValue:D,transmitValue:i.levels.values[T.transmit.level||O.level],send:T.transmit.send,val:O.levelVal},R)}}})(O[H]))}function o(T,O,H,U){T._serialize&&l(H,T._serialize,T.serializers,T._stdErrSerialize);const L=H.slice();let G=L[0];const R={};U&&(R.time=U),R.level=i.levels.values[O];let F=(T._childLevel|0)+1;if(F<1&&(F=1),G!==null&&typeof G=="object"){for(;F--&&typeof L[0]=="object";)Object.assign(R,L.shift());G=L.length?t(L.shift(),L):void 0}else typeof G=="string"&&(G=t(L.shift(),L));return G!==void 0&&(R.msg=G),R}function l(T,O,H,U){for(const L in T)if(U&&T[L]instanceof Error)T[L]=i.stdSerializers.err(T[L]);else if(typeof T[L]=="object"&&!Array.isArray(T[L]))for(const G in T[L])O&&O.indexOf(G)>-1&&G in H&&(T[L][G]=H[G](T[L][G]))}function u(T,O,H){return function(){const U=new Array(1+arguments.length);U[0]=O;for(var L=1;L<U.length;L++)U[L]=arguments[L-1];return T[H].apply(this,U)}}function d(T,O,H){const U=O.send,L=O.ts,G=O.methodLevel,R=O.methodValue,F=O.val,_=T._logEvent.bindings;l(H,T._serialize||Object.keys(T.serializers),T.serializers,T._stdErrSerialize===void 0?!0:T._stdErrSerialize),T._logEvent.ts=L,T._logEvent.messages=H.filter(function(S){return _.indexOf(S)===-1}),T._logEvent.level.label=G,T._logEvent.level.value=R,U(G,T._logEvent,F),T._logEvent=h(_)}function h(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function g(T){const O={type:T.constructor.name,msg:T.message,stack:T.stack};for(const H in T)O[H]===void 0&&(O[H]=T[H]);return O}function m(T){return typeof T.timestamp=="function"?T.timestamp:T.timestamp===!1?E:I}function b(){return{}}function w(T){return T}function x(){}function E(){return!1}function I(){return Date.now()}function C(){return Math.round(Date.now()/1e3)}function N(){return new Date(Date.now()).toISOString()}function A(){function T(O){return typeof O<"u"&&O}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}return gC}var oKe=sKe();const lKe=ja(oKe),cKe={level:"info"},xv="custom_context";var uKe=Object.defineProperty,dKe=Object.defineProperties,fKe=Object.getOwnPropertyDescriptors,Oq=Object.getOwnPropertySymbols,hKe=Object.prototype.hasOwnProperty,pKe=Object.prototype.propertyIsEnumerable,Rq=(t,e,n)=>e in t?uKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gKe=(t,e)=>{for(var n in e||(e={}))hKe.call(e,n)&&Rq(t,n,e[n]);if(Oq)for(var n of Oq(e))pKe.call(e,n)&&Rq(t,n,e[n]);return t},mKe=(t,e)=>dKe(t,fKe(e));function yKe(t){return mKe(gKe({},t),{level:t?.level||cKe.level})}function bKe(t,e=xv){return t[e]||""}function wKe(t,e,n=xv){return t[n]=e,t}function hae(t,e=xv){let n="";return typeof t.bindings>"u"?n=bKe(t,e):n=t.bindings().context||"",n}function vKe(t,e,n=xv){const r=hae(t,n);return r.trim()?`${r}/${e}`:e}function xKe(t,e,n=xv){const r=vKe(t,e,n),i=t.child({context:r});return wKe(i,r,n)}const pae="wc",gae=2,mae="client",ZP=`${pae}@${gae}:${mae}:`,mC={name:mae,logger:"error"},Mq="WALLETCONNECT_DEEPLINK_CHOICE",EKe="proposal",jq="Proposal expired",_Ke="session",k1=dt.SEVEN_DAYS,AKe="engine",ra={wc_sessionPropose:{req:{ttl:dt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:dt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:dt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:dt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:dt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:dt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:dt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:dt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:dt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1119}}},yC={min:dt.FIVE_MINUTES,max:dt.SEVEN_DAYS},Nc={idle:"IDLE",active:"ACTIVE"},CKe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},SKe="request",kKe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],IKe="wc",TKe="auth",$Ke="authKeys",NKe="pairingTopics",PKe="requests",K8=`${IKe}@${1.5}:${TKe}:`,O5=`${K8}:PUB_KEY`;var OKe=Object.defineProperty,RKe=Object.defineProperties,MKe=Object.getOwnPropertyDescriptors,Dq=Object.getOwnPropertySymbols,jKe=Object.prototype.hasOwnProperty,DKe=Object.prototype.propertyIsEnumerable,bT=(t,e,n)=>e in t?OKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tr=(t,e)=>{for(var n in e||(e={}))jKe.call(e,n)&&bT(t,n,e[n]);if(Dq)for(var n of Dq(e))DKe.call(e,n)&&bT(t,n,e[n]);return t},Sa=(t,e)=>RKe(t,MKe(e)),Xe=(t,e,n)=>bT(t,typeof e!="symbol"?e+"":e,n);let BKe=class extends NWe{constructor(e){super(e),Xe(this,"name",AKe),Xe(this,"events",new vP),Xe(this,"initialized",!1),Xe(this,"requestQueue",{state:Nc.idle,queue:[]}),Xe(this,"sessionRequestQueue",{state:Nc.idle,queue:[]}),Xe(this,"emittedSessionRequests",new NBe({limit:500})),Xe(this,"requestQueueDelay",dt.ONE_SECOND),Xe(this,"expectedPairingMethodMap",new Map),Xe(this,"recentlyDeletedMap",new Map),Xe(this,"recentlyDeletedLimit",200),Xe(this,"relayMessageCache",[]),Xe(this,"pendingSessions",new Map),Xe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ra)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},dt.toMiliseconds(this.requestQueueDelay)))}),Xe(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Sa(tr({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=PFe(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:a,optionalNamespaces:s,sessionProperties:o,scopedProperties:l,relays:u}=r;let d=i,h,g=!1;try{if(d){const T=this.client.core.pairing.pairings.get(d);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),g=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),T}if(!d||!g){const{topic:T,uri:O}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});d=T,h=O}if(!d){const{message:T}=ut("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(T)}const m=await this.client.core.crypto.generateKeyPair(),b=ra.wc_sessionPropose.req.ttl||dt.FIVE_MINUTES,w=Ii(b),x=Sa(tr(tr({requiredNamespaces:a,optionalNamespaces:s,relays:u??[{protocol:Xie}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:d},o&&{sessionProperties:o}),l&&{scopedProperties:l}),{id:Fc()}),E=Zn("session_connect",x.id),{reject:I,resolve:C,done:N}=t0(b,jq),A=({id:T})=>{T===x.id&&(this.client.events.off("proposal_expire",A),this.pendingSessions.delete(x.id),this.events.emit(E,{error:{message:jq,code:0}}))};return this.client.events.on("proposal_expire",A),this.events.once(E,({error:T,session:O})=>{this.client.events.off("proposal_expire",A),T?I(T):O&&C(O)}),await this.sendProposeSession({proposal:x,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:x.id}}}),await this.setProposal(x.id,x),{uri:h,approval:N}}),Xe(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),Xe(this,"approve",async n=>{var r,i,a;const s=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[If.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(U){throw s.setError(d2.no_internet_connection),U}try{await this.isValidProposalId(n?.id)}catch(U){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),s.setError(d2.proposal_not_found),U}try{await this.isValidApprove(n)}catch(U){throw this.client.logger.error("approve() -> isValidApprove() failed"),s.setError(d2.session_approve_namespace_validation_failure),U}const{id:o,relayProtocol:l,namespaces:u,sessionProperties:d,scopedProperties:h,sessionConfig:g}=n,m=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:s.eventId});const{pairingTopic:b,proposer:w,requiredNamespaces:x,optionalNamespaces:E}=m;let I=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:b});I||(I=(a=this.client.core.eventClient)==null?void 0:a.createEvent({type:If.session_approve_started,properties:{topic:b,trace:[If.session_approve_started,If.session_namespaces_validation_success]}}));const C=await this.client.core.crypto.generateKeyPair(),N=w.publicKey,A=await this.client.core.crypto.generateSharedKey(C,N),T=tr(tr(tr({relay:{protocol:l??"irn"},namespaces:u,controller:{publicKey:C,metadata:this.client.metadata},expiry:Ii(k1)},d&&{sessionProperties:d}),h&&{scopedProperties:h}),g&&{sessionConfig:g}),O=Ir.relay;I.addTrace(If.subscribing_session_topic);try{await this.client.core.relayer.subscribe(A,{transportType:O,internal:{skipSubscribe:!0}})}catch(U){throw I.setError(d2.subscribe_session_topic_failure),U}I.addTrace(If.subscribe_session_topic_success);const H=Sa(tr({},T),{topic:A,requiredNamespaces:x,optionalNamespaces:E,pairingTopic:b,acknowledged:!1,self:T.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:C,transportType:Ir.relay});await this.client.session.set(A,H),I.addTrace(If.store_session);try{await this.sendApproveSession({sessionTopic:A,proposal:m,pairingProposalResponse:{relay:{protocol:l??"irn"},responderPublicKey:C},sessionSettleRequest:T,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:o}}}),I.addTrace(If.session_approve_publish_success)}catch(U){throw this.client.logger.error(U),this.client.session.delete(A,Tr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(A),U}return this.client.core.eventClient.deleteEvent({eventId:I.eventId}),await this.client.core.pairing.updateMetadata({topic:b,metadata:w.metadata}),await this.deleteProposal(o),await this.client.core.pairing.activate({topic:b}),await this.setExpiry(A,Ii(k1)),{topic:A,acknowledged:()=>Promise.resolve(this.client.session.get(A))}}),Xe(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(s){throw this.client.logger.error("reject() -> isValidReject() failed"),s}const{id:r,reason:i}=n;let a;try{a=this.client.proposal.get(r).pairingTopic}catch(s){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),s}a&&await this.sendError({id:r,topic:a,error:i,rpcOpts:ra.wc_sessionPropose.reject}),await this.deleteProposal(r)}),Xe(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:i}=n,{done:a,resolve:s,reject:o}=t0(),l=Fc(),u=Xf().toString(),d=this.client.session.get(r).namespaces;return this.events.once(Zn("session_update",l),({error:h})=>{h?o(h):s()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:u}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:d}),o(h)}),{acknowledged:a}}),Xe(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:r}=n,i=Fc(),{done:a,resolve:s,reject:o}=t0();return this.events.once(Zn("session_extend",i),({error:l})=>{l?o(l):s()}),await this.setExpiry(r,Ii(k1)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{o(l)}),{acknowledged:a}}),Xe(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(x){throw this.client.logger.error("request() -> isValidRequest() failed"),x}const{chainId:r,request:i,topic:a,expiry:s=ra.wc_sessionRequest.req.ttl}=n,o=this.client.session.get(a);o?.transportType===Ir.relay&&await this.confirmOnlineStateOrThrow();const l=Fc(),u=Xf().toString(),{done:d,resolve:h,reject:g}=t0(s,"Request expired. Please try again.");this.events.once(Zn("session_request",l),({error:x,result:E})=>{x?g(x):h(E)});const m="wc_sessionRequest",b=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(b)return await this.sendRequest({clientRpcId:l,relayRpcId:u,topic:a,method:m,params:{request:Sa(tr({},i),{expiryTimestamp:Ii(s)}),chainId:r},expiry:s,throwOnFailedPublish:!0,appLink:b}).catch(x=>g(x)),this.client.events.emit("session_request_sent",{topic:a,request:i,chainId:r,id:l}),await d();const w={request:Sa(tr({},i),{expiryTimestamp:Ii(s)}),chainId:r};return await Promise.all([new Promise(async x=>{await this.sendRequest({clientRpcId:l,relayRpcId:u,topic:a,method:m,params:w,expiry:s,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,w)}).catch(E=>g(E)),this.client.events.emit("session_request_sent",{topic:a,request:i,chainId:r,id:l}),x()}),new Promise(async x=>{var E;if(!((E=o.sessionConfig)!=null&&E.disableDeepLink)){const I=await SBe(this.client.core.storage,Mq);await _Be({id:l,topic:a,wcDeepLink:I})}x()}),d()]).then(x=>x[2])}),Xe(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:a}=i,s=this.client.session.get(r);s.transportType===Ir.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);zc(i)?await this.sendResult({id:a,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:o}):Zo(i)&&await this.sendError({id:a,topic:r,error:i.error,appLink:o}),this.cleanupAfterResponse(n)}),Xe(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Fc(),a=Xf().toString(),{done:s,resolve:o,reject:l}=t0();this.events.once(Zn("session_ping",i),({error:u})=>{u?l(u):o()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:a}),s()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),Xe(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:a}=n,s=Xf().toString(),o=Fc();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:a},throwOnFailedPublish:!0,relayRpcId:s,clientRpcId:o})}),Xe(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Tr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=ut("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),Xe(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>MFe(r,n)))),Xe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Xe(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const a=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),s=a?Ir.link_mode:Ir.relay;s===Ir.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:l="",uri:u,domain:d,nonce:h,type:g,exp:m,nbf:b,methods:w=[],expiry:x}=n,E=[...n.resources||[]],{topic:I,uri:C}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:s});this.client.logger.info({message:"Generated new pairing",pairing:{topic:I,uri:C}});const N=await this.client.core.crypto.generateKeyPair(),A=T5(N);if(await Promise.all([this.client.auth.authKeys.set(O5,{responseTopic:A,publicKey:N}),this.client.auth.pairingTopics.set(A,{topic:A,pairingTopic:I})]),await this.client.core.relayer.subscribe(A,{transportType:s}),this.client.logger.info(`sending request to new pairing topic: ${I}`),w.length>0){const{namespace:Y}=N0(o[0]);let J=zUe(Y,"request",w);I5(E)&&(J=HUe(J,E.pop())),E.push(J)}const T=x&&x>ra.wc_sessionAuthenticate.req.ttl?x:ra.wc_sessionAuthenticate.req.ttl,O={authPayload:{type:g??"caip122",chains:o,statement:l,aud:u,domain:d,version:"1",nonce:h,iat:new Date().toISOString(),exp:m,nbf:b,resources:E},requester:{publicKey:N,metadata:this.client.metadata},expiryTimestamp:Ii(T)},H={eip155:{chains:o,methods:[...new Set(["personal_sign",...w])],events:["chainChanged","accountsChanged"]}},U={requiredNamespaces:{},optionalNamespaces:H,relays:[{protocol:"irn"}],pairingTopic:I,proposer:{publicKey:N,metadata:this.client.metadata},expiryTimestamp:Ii(ra.wc_sessionPropose.req.ttl),id:Fc()},{done:L,resolve:G,reject:R}=t0(T,"Request expired"),F=Fc(),_=Zn("session_connect",U.id),S=Zn("session_request",F),$=async({error:Y,session:J})=>{this.events.off(S,D),Y?R(Y):J&&G({session:J})},D=async Y=>{var J,V,M;if(await this.deletePendingAuthRequest(F,{message:"fulfilled",code:0}),Y.error){const he=Tr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return Y.error.code===he.code?void 0:(this.events.off(_,$),R(Y.error.message))}await this.deleteProposal(U.id),this.events.off(_,$);const{cacaos:Q,responder:ne}=Y.result,K=[],se=[];for(const he of Q){await uH({cacao:he,projectId:this.client.core.projectId})||(this.client.logger.error(he,"Signature verification failed"),R(Tr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Ce}=he,ke=I5(Ce.resources),Ie=[VI(Ce.iss)],De=B6(Ce.iss);if(ke){const Ne=dH(ke),We=fH(ke);K.push(...Ne),Ie.push(...We)}for(const Ne of Ie)se.push(`${Ne}:${De}`)}const le=await this.client.core.crypto.generateSharedKey(N,ne.publicKey);let de;K.length>0&&(de={topic:le,acknowledged:!0,self:{publicKey:N,metadata:this.client.metadata},peer:ne,controller:ne.publicKey,expiry:Ii(k1),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:I,namespaces:jH([...new Set(K)],[...new Set(se)]),transportType:s},await this.client.core.relayer.subscribe(le,{transportType:s}),await this.client.session.set(le,de),I&&await this.client.core.pairing.updateMetadata({topic:I,metadata:ne.metadata}),de=this.client.session.get(le)),(J=this.client.metadata.redirect)!=null&&J.linkMode&&(V=ne.metadata.redirect)!=null&&V.linkMode&&(M=ne.metadata.redirect)!=null&&M.universal&&r&&(this.client.core.addLinkModeSupportedApp(ne.metadata.redirect.universal),this.client.session.update(le,{transportType:Ir.link_mode})),G({auths:Q,session:de})};this.events.once(_,$),this.events.once(S,D);let z;try{if(a){const Y=Yc("wc_sessionAuthenticate",O,F);this.client.core.history.set(I,Y);const J=await this.client.core.crypto.encode("",Y,{type:yv,encoding:Vf});z=Px(r,I,J)}else await Promise.all([this.sendRequest({topic:I,method:"wc_sessionAuthenticate",params:O,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:F}),this.sendRequest({topic:I,method:"wc_sessionPropose",params:U,expiry:ra.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:U.id})])}catch(Y){throw this.events.off(_,$),this.events.off(S,D),Y}return await this.setProposal(U.id,U),await this.setAuthRequest(F,{request:Sa(tr({},O),{verifyContext:{}}),pairingTopic:I,transportType:s}),{uri:z??C,response:L}}),Xe(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,a=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Jh.authenticated_session_approve_started]}});try{this.isInitialized()}catch(x){throw a.setError(f2.no_internet_connection),x}const s=this.getPendingAuthRequest(r);if(!s)throw a.setError(f2.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const o=s.transportType||Ir.relay;o===Ir.relay&&await this.confirmOnlineStateOrThrow();const l=s.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),d=T5(l),h={type:hd,receiverPublicKey:l,senderPublicKey:u},g=[],m=[];for(const x of i){if(!await uH({cacao:x,projectId:this.client.core.projectId})){a.setError(f2.invalid_cacao);const A=Tr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:d,error:A,encodeOpts:h}),new Error(A.message)}a.addTrace(Jh.cacaos_verified);const{p:E}=x,I=I5(E.resources),C=[VI(E.iss)],N=B6(E.iss);if(I){const A=dH(I),T=fH(I);g.push(...A),C.push(...T)}for(const A of C)m.push(`${A}:${N}`)}const b=await this.client.core.crypto.generateSharedKey(u,l);a.addTrace(Jh.create_authenticated_session_topic);let w;if(g?.length>0){w={topic:b,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:l,metadata:s.requester.metadata},controller:l,expiry:Ii(k1),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:jH([...new Set(g)],[...new Set(m)]),transportType:o},a.addTrace(Jh.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:o})}catch(x){throw a.setError(f2.subscribe_authenticated_session_topic_failure),x}a.addTrace(Jh.subscribe_authenticated_session_topic_success),await this.client.session.set(b,w),a.addTrace(Jh.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})}a.addTrace(Jh.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:r,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(s.requester.metadata,o)})}catch(x){throw a.setError(f2.authenticated_session_approve_publish_failure),x}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:a.eventId}),{session:w}}),Xe(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,a=this.getPendingAuthRequest(r);if(!a)throw new Error(`Could not find pending auth request with id ${r}`);a.transportType===Ir.relay&&await this.confirmOnlineStateOrThrow();const s=a.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),l=T5(s),u={type:hd,receiverPublicKey:s,senderPublicKey:o};await this.sendError({id:r,topic:l,error:i,encodeOpts:u,rpcOpts:ra.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(a.requester.metadata,a.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),Xe(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return lie(r,i)}),Xe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Xe(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(a=>{var s,o;return((s=a.peerMetadata)==null?void 0:s.url)&&((o=a.peerMetadata)==null?void 0:o.url)===n.peer.metadata.url&&a.topic&&a.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),Xe(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:a=!1,emitEvent:s=!0,id:o=0}=n,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Tr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),a||this.client.core.expirer.del(i),this.client.core.storage.removeItem(Mq).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Tr("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Nc.idle),s&&this.client.events.emit("session_delete",{id:o,topic:i})}),Xe(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(d2.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Tr("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),Xe(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==n),i&&(this.sessionRequestQueue.state=Nc.idle,this.client.events.emit("session_request_expire",{id:n}))}),Xe(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),Xe(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Xe(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Ii(ra.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Xe(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:a,transportType:s=Ir.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:a,verifyContext:i.verifyContext,transportType:s})}),Xe(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:a,verifyContext:s}=n,o=a.request.expiryTimestamp||Ii(ra.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,o),await this.client.pendingRequest.set(r,{id:r,topic:i,params:a,verifyContext:s})}),Xe(this,"sendRequest",async n=>{const{topic:r,method:i,params:a,expiry:s,relayRpcId:o,clientRpcId:l,throwOnFailedPublish:u,appLink:d,tvf:h,publishOpts:g={}}=n,m=Yc(i,a,l);let b;const w=!!d;try{const I=w?Vf:bs;b=await this.client.core.crypto.encode(r,m,{encoding:I})}catch(I){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),I}let x;if(kKe.includes(i)){const I=Yo(JSON.stringify(m)),C=Yo(b);x=await this.client.core.verify.register({id:C,decryptedId:I})}const E=tr(tr({},ra[i].req),g);if(E.attestation=x,s&&(E.ttl=s),o&&(E.id=o),this.client.core.history.set(r,m),w){const I=Px(d,r,b);await Kt.Linking.openURL(I,this.client.name)}else E.tvf=Sa(tr({},h),{correlationId:m.id}),u?(E.internal=Sa(tr({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,b,E)):this.client.core.relayer.publish(r,b,E).catch(I=>this.client.logger.error(I));return m.id}),Xe(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,a=Yc("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,a);const s=await this.client.core.crypto.encode(r.pairingTopic,a,{encoding:bs}),o=Yo(JSON.stringify(a)),l=Yo(s),u=await this.client.core.verify.register({id:l,decryptedId:o});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:s},opts:Sa(tr({},i),{publishMethod:"wc_proposeSession",attestation:u})})}),Xe(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:a,sessionSettleRequest:s,publishOpts:o}=n,l=Sw(a.id,i),u=await this.client.core.crypto.encode(a.pairingTopic,l,{encoding:bs}),d=Yc("wc_sessionSettle",s,o?.id),h=await this.client.core.crypto.encode(r,d,{encoding:bs});this.client.core.history.set(r,d),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:a.pairingTopic,sessionProposalResponse:u,sessionSettlementRequest:h},opts:Sa(tr({},o),{publishMethod:"wc_approveSession"})})}),Xe(this,"sendResult",async n=>{const{id:r,topic:i,result:a,throwOnFailedPublish:s,encodeOpts:o,appLink:l}=n,u=Sw(r,a);let d;const h=l&&typeof Kt?.Linking<"u";try{const b=h?Vf:bs;d=await this.client.core.crypto.encode(i,u,Sa(tr({},o||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),b}let g,m;try{g=await this.client.core.history.get(i,r);const b=g.request;try{m=this.getTVFParams(r,b.params,a)}catch(w){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${w?.message}`)}}catch(b){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),b}if(h){const b=Px(l,i,d);await Kt.Linking.openURL(b,this.client.name)}else{const b=g.request.method,w=ra[b].res;w.tvf=Sa(tr({},m),{correlationId:r}),s?(w.internal=Sa(tr({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,d,w)):this.client.core.relayer.publish(i,d,w).catch(x=>this.client.logger.error(x))}await this.client.core.history.resolve(u)}),Xe(this,"sendError",async n=>{const{id:r,topic:i,error:a,encodeOpts:s,rpcOpts:o,appLink:l}=n,u=q8(r,a);let d;const h=l&&typeof Kt?.Linking<"u";try{const m=h?Vf:bs;d=await this.client.core.crypto.encode(i,u,Sa(tr({},s||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),m}let g;try{g=await this.client.core.history.get(i,r)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),m}if(h){const m=Px(l,i,d);await Kt.Linking.openURL(m,this.client.name)}else{const m=g.request.method,b=o||ra[m].res;this.client.core.relayer.publish(i,d,b)}await this.client.core.history.resolve(u)}),Xe(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let a=!1;Df(i.expiry)&&(a=!0),this.client.core.crypto.keychain.has(i.topic)||(a=!0),a&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Df(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),Xe(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Xe(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Xe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Nc.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Nc.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Nc.idle}),Xe(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:a,transportType:s,encryptedId:o}=n,l=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:a,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:a,encryptedId:o,transportType:s});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:a,encryptedId:o,transportType:s});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),Xe(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:a}=n,s=(await this.client.core.history.get(r,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,a);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}}),Xe(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=ut("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Xe(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,a=this.expectedPairingMethodMap.get(r);return!a||a.includes(i)?!1:!!(a.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Xe(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:a,encryptedId:s}=n,{params:o,id:l}=i;try{const u=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u?.setError(Vu.proposal_listener_not_found)),this.isValidConnect(tr({},i.params));const d=o.expiryTimestamp||Ii(ra.wc_sessionPropose.req.ttl),h=tr({id:l,pairingTopic:r,expiryTimestamp:d,attestation:a,encryptedId:s},o);await this.setProposal(l,h);const g=await this.getVerifyContext({attestationId:a,hash:Yo(JSON.stringify(i)),encryptedId:s,metadata:h.proposer.metadata});u?.addTrace(Bc.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:h,verifyContext:g})}catch(u){await this.sendError({id:l,topic:r,error:u,rpcOpts:ra.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),Xe(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:a}=r;if(zc(r)){const{result:s}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const o=this.client.proposal.get(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const l=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const u=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const d=await this.client.core.crypto.generateSharedKey(l,u);this.pendingSessions.set(a,{sessionTopic:d,pairingTopic:n,proposalId:a,publicKey:l});const h=await this.client.core.relayer.subscribe(d,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(Zo(r)){await this.deleteProposal(a);const s=Zn("session_connect",a);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners, 954`);this.events.emit(s,{error:r.error})}}),Xe(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:a}=r;try{this.isValidSessionSettleRequest(a);const{relay:s,controller:o,expiry:l,namespaces:u,sessionProperties:d,scopedProperties:h,sessionConfig:g}=r.params,m=[...this.pendingSessions.values()].find(x=>x.sessionTopic===n);if(!m)return this.client.logger.error(`Pending session not found for topic ${n}`);const b=this.client.proposal.get(m.proposalId),w=Sa(tr(tr(tr({topic:n,relay:s,expiry:l,namespaces:u,acknowledged:!0,pairingTopic:m.pairingTopic,requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces,controller:o.publicKey,self:{publicKey:m.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},d&&{sessionProperties:d}),h&&{scopedProperties:h}),g&&{sessionConfig:g}),{transportType:Ir.relay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:m.pairingTopic,metadata:w.peer.metadata}),this.client.events.emit("session_connect",{session:w}),this.events.emit(Zn("session_connect",m.proposalId),{session:w}),this.pendingSessions.delete(m.proposalId),this.deleteProposal(m.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:r.id,topic:n,result:!0})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Xe(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;zc(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Zn("session_approve",i),{})):Zo(r)&&(await this.client.session.delete(n,Tr("USER_DISCONNECTED")),this.events.emit(Zn("session_approve",i),{error:r.error}))}),Xe(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:a}=r;try{const s=`${n}_session_update`,o=c2.get(s);if(o&&this.isRequestOutOfSync(o,a)){this.client.logger.warn(`Discarding out of sync request - ${a}`),this.sendError({id:a,topic:n,error:Tr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(tr({topic:n},i));try{c2.set(s,a),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:a,topic:n,result:!0})}catch(l){throw c2.delete(s),l}this.client.events.emit("session_update",{id:a,topic:n,params:i})}catch(s){await this.sendError({id:a,topic:n,error:s}),this.client.logger.error(s)}}),Xe(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Xe(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,a=Zn("session_update",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);zc(r)?this.events.emit(Zn("session_update",i),{}):Zo(r)&&this.events.emit(Zn("session_update",i),{error:r.error})}),Xe(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Ii(k1)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),Xe(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,a=Zn("session_extend",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);zc(r)?this.events.emit(Zn("session_extend",i),{}):Zo(r)&&this.events.emit(Zn("session_extend",i),{error:r.error})}),Xe(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),Xe(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,a=Zn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners 2176`);zc(r)?this.events.emit(Zn("session_ping",i),{}):Zo(r)&&this.events.emit(Zn("session_ping",i),{error:r.error})},500)}),Xe(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(a=>{this.client.core.relayer.once(ti.publish,async()=>{a(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Tr("USER_DISCONNECTED")})]).catch(a=>this.client.logger.error(a))}catch(a){this.client.logger.error(a)}}),Xe(this,"onSessionRequest",async n=>{var r,i,a;const{topic:s,payload:o,attestation:l,encryptedId:u,transportType:d}=n,{id:h,params:g}=o;try{await this.isValidRequest(tr({topic:s},g));const m=this.client.session.get(s),b=await this.getVerifyContext({attestationId:l,hash:Yo(JSON.stringify(Yc("wc_sessionRequest",g,h))),encryptedId:u,metadata:m.peer.metadata,transportType:d}),w={id:h,topic:s,params:g,verifyContext:b};await this.setPendingSessionRequest(w),d===Ir.link_mode&&(r=m.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=m.peer.metadata.redirect)==null?void 0:i.universal),(a=this.client.signConfig)!=null&&a.disableRequestQueue?this.emitSessionRequest(w):(this.addSessionRequestToSessionRequestQueue(w),this.processSessionRequestQueue())}catch(m){await this.sendError({id:h,topic:s,error:m}),this.client.logger.error(m)}}),Xe(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,a=Zn("session_request",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);zc(r)?this.events.emit(Zn("session_request",i),{result:r.result}):Zo(r)&&this.events.emit(Zn("session_request",i),{error:r.error})}),Xe(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:a}=r;try{const s=`${n}_session_event_${a.event.name}`,o=c2.get(s);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(tr({topic:n},a)),this.client.events.emit("session_event",{id:i,topic:n,params:a}),c2.set(s,i)}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Xe(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),zc(r)?this.events.emit(Zn("session_request",i),{result:r.result}):Zo(r)&&this.events.emit(Zn("session_request",i),{error:r.error})}),Xe(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:a,attestation:s,encryptedId:o,transportType:l}=n;try{const{requester:u,authPayload:d,expiryTimestamp:h}=a.params,g=await this.getVerifyContext({attestationId:s,hash:Yo(JSON.stringify(a)),encryptedId:o,metadata:u.metadata,transportType:l}),m={requester:u,pairingTopic:i,id:a.id,authPayload:d,verifyContext:g,expiryTimestamp:h};await this.setAuthRequest(a.id,{request:m,pairingTopic:i,transportType:l}),l===Ir.link_mode&&(r=u.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:a.params,id:a.id,verifyContext:g})}catch(u){this.client.logger.error(u);const d=a.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),g=this.getAppLinkIfEnabled(a.params.requester.metadata,l),m={type:hd,receiverPublicKey:d,senderPublicKey:h};await this.sendError({id:a.id,topic:i,error:u,encodeOpts:m,rpcOpts:ra.wc_sessionAuthenticate.autoReject,appLink:g})}}),Xe(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),Xe(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Nc.idle,this.processSessionRequestQueue()},dt.toMiliseconds(this.requestQueueDelay))}),Xe(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(a=>a.topic===n&&a.request.method==="wc_sessionRequest").forEach(a=>{const s=a.request.id,o=Zn("session_request",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(Zn("session_request",a.request.id),{error:r})})}),Xe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Nc.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Xe(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Nc.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),Xe(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Yc("wc_sessionPropose",Sa(tr({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),Xe(this,"isValidConnect",async n=>{if(!hs(n)){const{message:u}=ut("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(u)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:s,scopedProperties:o,relays:l}=n;if(Ni(r)||await this.isValidPairingTopic(r),!GFe(l)){const{message:u}=ut("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(u)}if(!Ni(i)&&au(i)!==0){const u="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(u):this.client.logger.warn(u),this.validateNamespaces(i,"requiredNamespaces")}if(!Ni(a)&&au(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),Ni(s)||this.validateSessionProps(s,"sessionProperties"),!Ni(o)){this.validateSessionProps(o,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(a||{}));if(!Object.keys(o).every(d=>u.includes(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),Xe(this,"validateNamespaces",(n,r)=>{const i=VFe(n,"connect()",r);if(i)throw new Error(i.message)}),Xe(this,"isValidApprove",async n=>{if(!hs(n))throw new Error(ut("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:a,sessionProperties:s,scopedProperties:o}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const l=this.client.proposal.get(r),u=aC(i,"approve()");if(u)throw new Error(u.message);const d=UH(l.requiredNamespaces,i,"approve()");if(d)throw new Error(d.message);if(!bi(a,!0)){const{message:h}=ut("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(h)}if(Ni(s)||this.validateSessionProps(s,"sessionProperties"),!Ni(o)){this.validateSessionProps(o,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(o).every(g=>h.has(g.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),Xe(this,"isValidReject",async n=>{if(!hs(n)){const{message:a}=ut("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(a)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!YFe(i)){const{message:a}=ut("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(a)}}),Xe(this,"isValidSessionSettleRequest",n=>{if(!hs(n)){const{message:u}=ut("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(u)}const{relay:r,controller:i,namespaces:a,expiry:s}=n;if(!Uie(r)){const{message:u}=ut("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const o=LFe(i,"onSessionSettleRequest()");if(o)throw new Error(o.message);const l=aC(a,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(Df(s)){const{message:u}=ut("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),Xe(this,"isValidUpdate",async n=>{if(!hs(n)){const{message:l}=ut("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(l)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const a=this.client.session.get(r),s=aC(i,"update()");if(s)throw new Error(s.message);const o=UH(a.requiredNamespaces,i,"update()");if(o)throw new Error(o.message)}),Xe(this,"isValidExtend",async n=>{if(!hs(n)){const{message:i}=ut("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Xe(this,"isValidRequest",async n=>{if(!hs(n)){const{message:l}=ut("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(l)}const{topic:r,request:i,chainId:a,expiry:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!BH(o,a)){const{message:l}=ut("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(l)}if(!ZFe(i)){const{message:l}=ut("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!QFe(o,a,i.method)){const{message:l}=ut("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(s&&!rze(s,yC)){const{message:l}=ut("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${yC.min} and ${yC.max}`);throw new Error(l)}}),Xe(this,"isValidRespond",async n=>{var r;if(!hs(n)){const{message:s}=ut("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(s)}const{topic:i,response:a}=n;try{await this.isValidSessionTopic(i)}catch(s){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),s}if(!JFe(a)){const{message:s}=ut("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(s)}}),Xe(this,"isValidPing",async n=>{if(!hs(n)){const{message:i}=ut("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Xe(this,"isValidEmit",async n=>{if(!hs(n)){const{message:o}=ut("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(o)}const{topic:r,event:i,chainId:a}=n;await this.isValidSessionTopic(r);const{namespaces:s}=this.client.session.get(r);if(!BH(s,a)){const{message:o}=ut("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(o)}if(!XFe(i)){const{message:o}=ut("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}if(!eze(s,a,i.name)){const{message:o}=ut("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}}),Xe(this,"isValidDisconnect",async n=>{if(!hs(n)){const{message:i}=ut("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Xe(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:a,nonce:s}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!bi(i,!1))throw new Error("uri is required parameter");if(!bi(a,!1))throw new Error("domain is required parameter");if(!bi(s,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(l=>N0(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=N0(r[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Xe(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:a,metadata:s,transportType:o}=n,l={verified:{verifyUrl:s.verifyUrl||cb,validation:"UNKNOWN",origin:s.url||""}};try{if(o===Ir.link_mode){const d=this.getAppLinkIfEnabled(s,o);return l.verified.validation=d&&new URL(d).origin===new URL(s.url).origin?"VALID":"INVALID",l}const u=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:a,verifyUrl:s.verifyUrl});u&&(l.verified.origin=u.origin,l.verified.isScam=u.isScam,l.verified.validation=u.origin===new URL(s.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),Xe(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,a)=>{if(i==null){const{message:s}=ut("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[a]}`);throw new Error(s)}})}),Xe(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),Xe(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const a=this.recentlyDeletedLimit/2;for(const s of this.recentlyDeletedMap.keys()){if(i++>=a)break;this.recentlyDeletedMap.delete(s)}}}),Xe(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=ut("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),Xe(this,"isLinkModeEnabled",(n,r)=>{var i,a,s,o,l,u,d,h,g;return!n||r!==Ir.link_mode?!1:((a=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:a.linkMode)===!0&&((o=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:o.universal)!==void 0&&((u=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:u.universal)!==""&&((d=n?.redirect)==null?void 0:d.universal)!==void 0&&((h=n?.redirect)==null?void 0:h.universal)!==""&&((g=n?.redirect)==null?void 0:g.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof Kt?.Linking<"u"}),Xe(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),Xe(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=XW(n,"topic")||"",i=decodeURIComponent(XW(n,"wc_ev")||""),a=this.client.session.keys.includes(r);a&&this.client.session.update(r,{transportType:Ir.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:a})}),Xe(this,"registerLinkModeListeners",async()=>{var n;if(NP()||xh()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=Kt?.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Xe(this,"getTVFParams",(n,r,i)=>{var a,s,o;if(!((a=r.request)!=null&&a.method))return{};const l={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const u=this.extractTxHashesFromResult(r.request,i);l.txHashes=u,l.contractAddresses=this.isValidContractData(r.request.params)?[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]:[]}catch(u){this.client.logger.warn("Error getting TVF params",u)}return l}),Xe(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const a=i.slice(2);return/^[0-9a-fA-F]*$/.test(a)?a.length%2===0:!1}catch{}return!1}),Xe(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const a=n.method,s=CKe[a];if(a==="sui_signTransaction")return[SUe(r.transactionBytes)];if(a==="near_signTransaction")return[sH(r)];if(a==="near_signTransactions")return r.map(l=>sH(l));if(a==="xrpl_signTransactionFor"||a==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(a==="polkadot_signTransaction")return[bze({transaction:n.params.transactionPayload,signature:r.signature})];if(a==="algo_signTxn")return al(r)?r.map(l=>oH(l)):[oH(r)];if(a==="cosmos_signDirect")return[IUe(r)];if(typeof r=="string")return[r];const o=r[s.key];if(al(o))return a==="solana_signAllTransactions"?o.map(l=>CUe(l)):o;if(typeof o=="string")return[o]}catch(a){this.client.logger.warn("Error extracting tx hashes from result",a)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const a of i)try{await this.onProviderMessageEvent({topic:r,message:a,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${a}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(ti.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:a}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(O5)?this.client.auth.authKeys.get(O5):{publicKey:void 0};try{const o=await this.client.core.crypto.decode(n,r,{receiverPublicKey:s,encoding:a===Ir.link_mode?Vf:bs});YP(o)?(this.client.core.history.set(n,o),await this.onRelayEventRequest({topic:n,payload:o,attestation:i,transportType:a,encryptedId:Yo(r)})):V8(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:n,payload:o,transportType:a}),this.client.core.history.delete(n,o.id)):await this.onRelayEventUnknownPayload({topic:n,payload:o,transportType:a}),await this.client.core.relayer.messages.ack(n,r)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(Vo.expired,async e=>{const{topic:n,id:r}=Gre(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ut("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ut("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(c0.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(c0.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!bi(e,!1)){const{message:n}=ut("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ut("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Df(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ut("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!bi(e,!1)){const{message:n}=ut("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ut("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Df(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ut("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ut("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(bi(e,!1)){const{message:n}=ut("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ut("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!KFe(e)){const{message:n}=ut("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ut("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Df(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ut("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},UKe=class extends vp{constructor(e,n){super(e,n,EKe,ZP),this.core=e,this.logger=n}},LKe=class extends vp{constructor(e,n){super(e,n,_Ke,ZP),this.core=e,this.logger=n}},FKe=class extends vp{constructor(e,n){super(e,n,SKe,ZP,r=>r.id),this.core=e,this.logger=n}},zKe=class extends vp{constructor(e,n){super(e,n,$Ke,K8,()=>O5),this.core=e,this.logger=n}},WKe=class extends vp{constructor(e,n){super(e,n,NKe,K8),this.core=e,this.logger=n}},HKe=class extends vp{constructor(e,n){super(e,n,PKe,K8,r=>r.id),this.core=e,this.logger=n}};var qKe=Object.defineProperty,VKe=(t,e,n)=>e in t?qKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bC=(t,e,n)=>VKe(t,typeof e!="symbol"?e+"":e,n);let GKe=class{constructor(e,n){this.core=e,this.logger=n,bC(this,"authKeys"),bC(this,"pairingTopics"),bC(this,"requests"),this.authKeys=new zKe(this.core,this.logger),this.pairingTopics=new WKe(this.core,this.logger),this.requests=new HKe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var KKe=Object.defineProperty,YKe=(t,e,n)=>e in t?KKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$n=(t,e,n)=>YKe(t,typeof e!="symbol"?e+"":e,n);let ZKe=class yae extends $We{constructor(e){super(e),$n(this,"protocol",pae),$n(this,"version",gae),$n(this,"name",mC.name),$n(this,"metadata"),$n(this,"core"),$n(this,"logger"),$n(this,"events",new wo.EventEmitter),$n(this,"engine"),$n(this,"session"),$n(this,"proposal"),$n(this,"pendingRequest"),$n(this,"auth"),$n(this,"signConfig"),$n(this,"on",(r,i)=>this.events.on(r,i)),$n(this,"once",(r,i)=>this.events.once(r,i)),$n(this,"off",(r,i)=>this.events.off(r,i)),$n(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),$n(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),$n(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),$n(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(a){throw this.logger.error(a.message),a}}),$n(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),$n(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||mC.name,this.metadata=yBe(e?.metadata),this.signConfig=e?.signConfig;const n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:lKe(yKe({level:e?.logger||mC.logger}));this.core=e?.core||new aKe(e),this.logger=xKe(n,this.name),this.session=new LKe(this.core,this.logger),this.proposal=new UKe(this.core,this.logger),this.pendingRequest=new FKe(this.core,this.logger),this.engine=new BKe(this),this.auth=new GKe(this.core,this.logger)}static async init(e){const n=new yae(e);return await n.initialize(),n}get context(){return hae(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var wC,Bq;function JKe(){if(Bq)return wC;Bq=1;const t=qP();wC=i;const e=A().console||{},n={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:b,res:b,err:g};function r(T,O){return Array.isArray(T)?T.filter(function(U){return U!=="!stdSerializers.err"}):T===!0?Object.keys(O):!1}function i(T){T=T||{},T.browser=T.browser||{};const O=T.browser.transmit;if(O&&typeof O.send!="function")throw Error("pino: transmit option must have a send function");const H=T.browser.write||e;T.browser.write&&(T.browser.asObject=!0);const U=T.serializers||{},L=r(T.browser.serialize,U);let G=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(G=!1);const R=["error","fatal","warn","info","debug","trace"];typeof H=="function"&&(H.error=H.fatal=H.warn=H.info=H.debug=H.trace=H),T.enabled===!1&&(T.level="silent");const F=T.level||"info",_=Object.create(H);_.log||(_.log=x),Object.defineProperty(_,"levelVal",{get:$}),Object.defineProperty(_,"level",{get:D,set:z});const S={transmit:O,serialize:L,asObject:T.browser.asObject,levels:R,timestamp:m(T)};_.levels=i.levels,_.level=F,_.setMaxListeners=_.getMaxListeners=_.emit=_.addListener=_.on=_.prependListener=_.once=_.prependOnceListener=_.removeListener=_.removeAllListeners=_.listeners=_.listenerCount=_.eventNames=_.write=_.flush=x,_.serializers=U,_._serialize=L,_._stdErrSerialize=G,_.child=Y,O&&(_._logEvent=h());function $(){return this.level==="silent"?1/0:this.levels.values[this.level]}function D(){return this._level}function z(J){if(J!=="silent"&&!this.levels.values[J])throw Error("unknown level "+J);this._level=J,a(S,_,"error","log"),a(S,_,"fatal","error"),a(S,_,"warn","error"),a(S,_,"info","log"),a(S,_,"debug","log"),a(S,_,"trace","log")}function Y(J,V){if(!J)throw new Error("missing bindings for child Pino");V=V||{},L&&J.serializers&&(V.serializers=J.serializers);const M=V.serializers;if(L&&M){var Q=Object.assign({},U,M),ne=T.browser.serialize===!0?Object.keys(Q):L;delete J.serializers,l([J],ne,Q,this._stdErrSerialize)}function K(se){this._childLevel=(se._childLevel|0)+1,this.error=u(se,J,"error"),this.fatal=u(se,J,"fatal"),this.warn=u(se,J,"warn"),this.info=u(se,J,"info"),this.debug=u(se,J,"debug"),this.trace=u(se,J,"trace"),Q&&(this.serializers=Q,this._serialize=ne),O&&(this._logEvent=h([].concat(se._logEvent.bindings,J)))}return K.prototype=this,new K(this)}return _}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:E,epochTime:I,unixTime:C,isoTime:N});function a(T,O,H,U){const L=Object.getPrototypeOf(O);O[H]=O.levelVal>O.levels.values[H]?x:L[H]?L[H]:e[H]||e[U]||x,s(T,O,H)}function s(T,O,H){!T.transmit&&O[H]===x||(O[H]=(function(U){return function(){const G=T.timestamp(),R=new Array(arguments.length),F=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var _=0;_<R.length;_++)R[_]=arguments[_];if(T.serialize&&!T.asObject&&l(R,this._serialize,this.serializers,this._stdErrSerialize),T.asObject?U.call(F,o(this,H,R,G)):U.apply(F,R),T.transmit){const S=T.transmit.level||O.level,$=i.levels.values[S],D=i.levels.values[H];if(D<$)return;d(this,{ts:G,methodLevel:H,methodValue:D,transmitValue:i.levels.values[T.transmit.level||O.level],send:T.transmit.send,val:O.levelVal},R)}}})(O[H]))}function o(T,O,H,U){T._serialize&&l(H,T._serialize,T.serializers,T._stdErrSerialize);const L=H.slice();let G=L[0];const R={};U&&(R.time=U),R.level=i.levels.values[O];let F=(T._childLevel|0)+1;if(F<1&&(F=1),G!==null&&typeof G=="object"){for(;F--&&typeof L[0]=="object";)Object.assign(R,L.shift());G=L.length?t(L.shift(),L):void 0}else typeof G=="string"&&(G=t(L.shift(),L));return G!==void 0&&(R.msg=G),R}function l(T,O,H,U){for(const L in T)if(U&&T[L]instanceof Error)T[L]=i.stdSerializers.err(T[L]);else if(typeof T[L]=="object"&&!Array.isArray(T[L]))for(const G in T[L])O&&O.indexOf(G)>-1&&G in H&&(T[L][G]=H[G](T[L][G]))}function u(T,O,H){return function(){const U=new Array(1+arguments.length);U[0]=O;for(var L=1;L<U.length;L++)U[L]=arguments[L-1];return T[H].apply(this,U)}}function d(T,O,H){const U=O.send,L=O.ts,G=O.methodLevel,R=O.methodValue,F=O.val,_=T._logEvent.bindings;l(H,T._serialize||Object.keys(T.serializers),T.serializers,T._stdErrSerialize===void 0?!0:T._stdErrSerialize),T._logEvent.ts=L,T._logEvent.messages=H.filter(function(S){return _.indexOf(S)===-1}),T._logEvent.level.label=G,T._logEvent.level.value=R,U(G,T._logEvent,F),T._logEvent=h(_)}function h(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function g(T){const O={type:T.constructor.name,msg:T.message,stack:T.stack};for(const H in T)O[H]===void 0&&(O[H]=T[H]);return O}function m(T){return typeof T.timestamp=="function"?T.timestamp:T.timestamp===!1?E:I}function b(){return{}}function w(T){return T}function x(){}function E(){return!1}function I(){return Date.now()}function C(){return Math.round(Date.now()/1e3)}function N(){return new Date(Date.now()).toISOString()}function A(){function T(O){return typeof O<"u"&&O}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}return wC}var K1=JKe();const JP=ja(K1),XKe={level:"info"},Ev="custom_context",XP=1e3*1024;let QKe=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Uq=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new QKe(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},bae=class{constructor(e,n=XP){this.level=e??"error",this.levelValue=K1.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new Uq(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===K1.levels.values.error?console.error(e):n===K1.levels.values.warn?console.warn(e):n===K1.levels.values.debug?console.debug(e):n===K1.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(cc({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new Uq(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(cc({extraMetadata:e})),new Blob(n,{type:"application/json"})}};class eYe{constructor(e,n=XP){this.baseChunkLogger=new bae(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}}let tYe=class{constructor(e,n=XP){this.baseChunkLogger=new bae(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var nYe=Object.defineProperty,rYe=Object.defineProperties,iYe=Object.getOwnPropertyDescriptors,Lq=Object.getOwnPropertySymbols,aYe=Object.prototype.hasOwnProperty,sYe=Object.prototype.propertyIsEnumerable,Fq=(t,e,n)=>e in t?nYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q6=(t,e)=>{for(var n in e||(e={}))aYe.call(e,n)&&Fq(t,n,e[n]);if(Lq)for(var n of Lq(e))sYe.call(e,n)&&Fq(t,n,e[n]);return t},V6=(t,e)=>rYe(t,iYe(e));function oYe(t){return V6(q6({},t),{level:t?.level||XKe.level})}function lYe(t,e=Ev){return t[e]||""}function cYe(t,e,n=Ev){return t[n]=e,t}function uYe(t,e=Ev){let n="";return typeof t.bindings>"u"?n=lYe(t,e):n=t.bindings().context||"",n}function dYe(t,e,n=Ev){const r=uYe(t,n);return r.trim()?`${r}/${e}`:e}function wpt(t,e,n=Ev){const r=dYe(t,e,n),i=t.child({context:r});return cYe(i,r,n)}function fYe(t){var e,n;const r=new eYe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:JP(V6(q6({},t.opts),{level:"trace",browser:V6(q6({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function hYe(t){var e;const n=new tYe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:JP(V6(q6({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function vpt(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?fYe(t):hYe(t)}var Rx={exports:{}},zq;function pYe(){return zq||(zq=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof zl<"u"&&zl,r=(function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a})();(function(a){(function(s){var o=typeof a<"u"&&a||typeof self<"u"&&self||typeof zl<"u"&&zl||{},l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(S){return S&&DataView.prototype.isPrototypeOf(S)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(S){return S&&d.indexOf(Object.prototype.toString.call(S))>-1};function g(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(S)||S==="")throw new TypeError('Invalid character in header field name: "'+S+'"');return S.toLowerCase()}function m(S){return typeof S!="string"&&(S=String(S)),S}function b(S){var $={next:function(){var D=S.shift();return{done:D===void 0,value:D}}};return l.iterable&&($[Symbol.iterator]=function(){return $}),$}function w(S){this.map={},S instanceof w?S.forEach(function($,D){this.append(D,$)},this):Array.isArray(S)?S.forEach(function($){if($.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+$.length);this.append($[0],$[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function($){this.append($,S[$])},this)}w.prototype.append=function(S,$){S=g(S),$=m($);var D=this.map[S];this.map[S]=D?D+", "+$:$},w.prototype.delete=function(S){delete this.map[g(S)]},w.prototype.get=function(S){return S=g(S),this.has(S)?this.map[S]:null},w.prototype.has=function(S){return this.map.hasOwnProperty(g(S))},w.prototype.set=function(S,$){this.map[g(S)]=m($)},w.prototype.forEach=function(S,$){for(var D in this.map)this.map.hasOwnProperty(D)&&S.call($,this.map[D],D,this)},w.prototype.keys=function(){var S=[];return this.forEach(function($,D){S.push(D)}),b(S)},w.prototype.values=function(){var S=[];return this.forEach(function($){S.push($)}),b(S)},w.prototype.entries=function(){var S=[];return this.forEach(function($,D){S.push([D,$])}),b(S)},l.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function x(S){if(!S._noBody){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0}}function E(S){return new Promise(function($,D){S.onload=function(){$(S.result)},S.onerror=function(){D(S.error)}})}function I(S){var $=new FileReader,D=E($);return $.readAsArrayBuffer(S),D}function C(S){var $=new FileReader,D=E($),z=/charset=([A-Za-z0-9_-]+)/.exec(S.type),Y=z?z[1]:"utf-8";return $.readAsText(S,Y),D}function N(S){for(var $=new Uint8Array(S),D=new Array($.length),z=0;z<$.length;z++)D[z]=String.fromCharCode($[z]);return D.join("")}function A(S){if(S.slice)return S.slice(0);var $=new Uint8Array(S.byteLength);return $.set(new Uint8Array(S)),$.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(S){this.bodyUsed=this.bodyUsed,this._bodyInit=S,S?typeof S=="string"?this._bodyText=S:l.blob&&Blob.prototype.isPrototypeOf(S)?this._bodyBlob=S:l.formData&&FormData.prototype.isPrototypeOf(S)?this._bodyFormData=S:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)?this._bodyText=S.toString():l.arrayBuffer&&l.blob&&u(S)?(this._bodyArrayBuffer=A(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(S)||h(S))?this._bodyArrayBuffer=A(S):this._bodyText=S=Object.prototype.toString.call(S):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var S=x(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var S=x(this);return S||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(I);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var S=x(this);if(S)return S;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function H(S){var $=S.toUpperCase();return O.indexOf($)>-1?$:S}function U(S,$){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$=$||{};var D=$.body;if(S instanceof U){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,$.headers||(this.headers=new w(S.headers)),this.method=S.method,this.mode=S.mode,this.signal=S.signal,!D&&S._bodyInit!=null&&(D=S._bodyInit,S.bodyUsed=!0)}else this.url=String(S);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new w($.headers)),this.method=H($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal||(function(){if("AbortController"in o){var J=new AbortController;return J.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&($.cache==="no-store"||$.cache==="no-cache")){var z=/([?&])_=[^&]*/;if(z.test(this.url))this.url=this.url.replace(z,"$1_="+new Date().getTime());else{var Y=/\?/;this.url+=(Y.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function L(S){var $=new FormData;return S.trim().split("&").forEach(function(D){if(D){var z=D.split("="),Y=z.shift().replace(/\+/g," "),J=z.join("=").replace(/\+/g," ");$.append(decodeURIComponent(Y),decodeURIComponent(J))}}),$}function G(S){var $=new w,D=S.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(z){return z.indexOf(`
`)===0?z.substr(1,z.length):z}).forEach(function(z){var Y=z.split(":"),J=Y.shift().trim();if(J){var V=Y.join(":").trim();try{$.append(J,V)}catch(M){console.warn("Response "+M.message)}}}),$}T.call(U.prototype);function R(S,$){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if($||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new w($.headers),this.url=$.url||"",this._initBody(S)}T.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},R.error=function(){var S=new R(null,{status:200,statusText:""});return S.ok=!1,S.status=0,S.type="error",S};var F=[301,302,303,307,308];R.redirect=function(S,$){if(F.indexOf($)===-1)throw new RangeError("Invalid status code");return new R(null,{status:$,headers:{location:S}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function($,D){this.message=$,this.name=D;var z=Error($);this.stack=z.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function _(S,$){return new Promise(function(D,z){var Y=new U(S,$);if(Y.signal&&Y.signal.aborted)return z(new s.DOMException("Aborted","AbortError"));var J=new XMLHttpRequest;function V(){J.abort()}J.onload=function(){var ne={statusText:J.statusText,headers:G(J.getAllResponseHeaders()||"")};Y.url.indexOf("file://")===0&&(J.status<200||J.status>599)?ne.status=200:ne.status=J.status,ne.url="responseURL"in J?J.responseURL:ne.headers.get("X-Request-URL");var K="response"in J?J.response:J.responseText;setTimeout(function(){D(new R(K,ne))},0)},J.onerror=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},J.ontimeout=function(){setTimeout(function(){z(new TypeError("Network request timed out"))},0)},J.onabort=function(){setTimeout(function(){z(new s.DOMException("Aborted","AbortError"))},0)};function M(ne){try{return ne===""&&o.location.href?o.location.href:ne}catch{return ne}}if(J.open(Y.method,M(Y.url),!0),Y.credentials==="include"?J.withCredentials=!0:Y.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&(l.blob?J.responseType="blob":l.arrayBuffer&&(J.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof w||o.Headers&&$.headers instanceof o.Headers)){var Q=[];Object.getOwnPropertyNames($.headers).forEach(function(ne){Q.push(g(ne)),J.setRequestHeader(ne,m($.headers[ne]))}),Y.headers.forEach(function(ne,K){Q.indexOf(K)===-1&&J.setRequestHeader(K,ne)})}else Y.headers.forEach(function(ne,K){J.setRequestHeader(K,ne)});Y.signal&&(Y.signal.addEventListener("abort",V),J.onreadystatechange=function(){J.readyState===4&&Y.signal.removeEventListener("abort",V)}),J.send(typeof Y._bodyInit>"u"?null:Y._bodyInit)})}return _.polyfill=!0,o.fetch||(o.fetch=_,o.Headers=w,o.Request=U,o.Response=R),s.Headers=w,s.Request=U,s.Response=R,s.fetch=_,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Rx,Rx.exports)),Rx.exports}var gYe=pYe();const Wq=ja(gYe);var mYe=Object.defineProperty,yYe=Object.defineProperties,bYe=Object.getOwnPropertyDescriptors,Hq=Object.getOwnPropertySymbols,wYe=Object.prototype.hasOwnProperty,vYe=Object.prototype.propertyIsEnumerable,qq=(t,e,n)=>e in t?mYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vq=(t,e)=>{for(var n in e||(e={}))wYe.call(e,n)&&qq(t,n,e[n]);if(Hq)for(var n of Hq(e))vYe.call(e,n)&&qq(t,n,e[n]);return t},Gq=(t,e)=>yYe(t,bYe(e));const xYe={Accept:"application/json","Content-Type":"application/json"},EYe="POST",Kq={headers:xYe,method:EYe},Yq=10;let hc=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new wo.EventEmitter,this.isAvailable=!1,this.registering=!1,!iq(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=cc(e),r=await(await Wq(this.url,Gq(Vq({},Kq),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!iq(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),i(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=cc({id:1,jsonrpc:"2.0",method:"test",params:[]});await Wq(e,Gq(Vq({},Kq),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?J0(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),a=q8(e,i);this.events.emit("payload",a)}parseError(e,n=this.url){return Vie(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Yq&&this.events.setMaxListeners(Yq)}};const Zq="error",_Ye="wss://relay.walletconnect.org",AYe="wc",CYe="universal_provider",Mx=`${AYe}@2:${CYe}:`,wae="https://rpc.walletconnect.org/v1/",vae="generic",SYe=`${wae}bundler`,El={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function QP(t){return t==null||typeof t!="object"&&typeof t!="function"}function xae(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Eae(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const kYe="[object RegExp]",_ae="[object String]",Aae="[object Number]",Cae="[object Boolean]",Sae="[object Arguments]",IYe="[object Symbol]",TYe="[object Date]",$Ye="[object Map]",NYe="[object Set]",PYe="[object Array]",OYe="[object ArrayBuffer]",RYe="[object Object]",MYe="[object DataView]",jYe="[object Uint8Array]",DYe="[object Uint8ClampedArray]",BYe="[object Uint16Array]",UYe="[object Uint32Array]",LYe="[object Int8Array]",FYe="[object Int16Array]",zYe="[object Int32Array]",WYe="[object Float32Array]",HYe="[object Float64Array]";function eO(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qYe(t,e){return ag(t,void 0,t,new Map,e)}function ag(t,e,n,r=new Map,i=void 0){const a=i?.(t,e,n,r);if(a!=null)return a;if(QP(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const s=new Array(t.length);r.set(t,s);for(let o=0;o<t.length;o++)s[o]=ag(t[o],o,n,r,i);return Object.hasOwn(t,"index")&&(s.index=t.index),Object.hasOwn(t,"input")&&(s.input=t.input),s}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const s=new RegExp(t.source,t.flags);return s.lastIndex=t.lastIndex,s}if(t instanceof Map){const s=new Map;r.set(t,s);for(const[o,l]of t)s.set(o,ag(l,o,n,r,i));return s}if(t instanceof Set){const s=new Set;r.set(t,s);for(const o of t)s.add(ag(o,void 0,n,r,i));return s}if(typeof _t<"u"&&_t.isBuffer(t))return t.subarray();if(eO(t)){const s=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,s);for(let o=0;o<t.length;o++)s[o]=ag(t[o],o,n,r,i);return s}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const s=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,s),u0(s,t,n,r,i),s}if(typeof File<"u"&&t instanceof File){const s=new File([t],t.name,{type:t.type});return r.set(t,s),u0(s,t,n,r,i),s}if(t instanceof Blob){const s=new Blob([t],{type:t.type});return r.set(t,s),u0(s,t,n,r,i),s}if(t instanceof Error){const s=new t.constructor;return r.set(t,s),s.message=t.message,s.name=t.name,s.stack=t.stack,s.cause=t.cause,u0(s,t,n,r,i),s}if(typeof t=="object"&&VYe(t)){const s=Object.create(Object.getPrototypeOf(t));return r.set(t,s),u0(s,t,n,r,i),s}return t}function u0(t,e,n=t,r,i){const a=[...Object.keys(e),...xae(e)];for(let s=0;s<a.length;s++){const o=a[s],l=Object.getOwnPropertyDescriptor(t,o);(l==null||l.writable)&&(t[o]=ag(e[o],o,n,r,i))}}function VYe(t){switch(Eae(t)){case Sae:case PYe:case OYe:case MYe:case Cae:case TYe:case WYe:case HYe:case LYe:case FYe:case zYe:case $Ye:case Aae:case RYe:case kYe:case NYe:case _ae:case IYe:case jYe:case DYe:case BYe:case UYe:return!0;default:return!1}}function GYe(t,e){return qYe(t,(n,r,i,a)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Aae:case _ae:case Cae:{const s=new t.constructor(t?.valueOf());return u0(s,t),s}case Sae:{const s={};return u0(s,t),s.length=t.length,s[Symbol.iterator]=t[Symbol.iterator],s}default:return}})}function Jq(t){return GYe(t)}function Xq(t){return t!==null&&typeof t=="object"&&Eae(t)==="[object Arguments]"}function Qq(t){return typeof t=="object"&&t!==null}function KYe(){}function YYe(t){return eO(t)}function ZYe(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function JYe(t){if(QP(t))return t;if(Array.isArray(t)||eO(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function XYe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let a=0;a<n.length;a++){const s=n[a];i=wT(i,s,r,new Map)}return i}function wT(t,e,n,r){if(QP(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return JYe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const i=[...Object.keys(e),...xae(e)];for(let a=0;a<i.length;a++){const s=i[a];let o=e[s],l=t[s];if(Xq(o)&&(o={...o}),Xq(l)&&(l={...l}),typeof _t<"u"&&_t.isBuffer(o)&&(o=Jq(o)),Array.isArray(o))if(typeof l=="object"&&l!=null){const d=[],h=Reflect.ownKeys(l);for(let g=0;g<h.length;g++){const m=h[g];d[m]=l[m]}l=d}else l=[];const u=n(l,o,s,t,e,r);u!=null?t[s]=u:Array.isArray(o)||Qq(l)&&Qq(o)?t[s]=wT(l,o,n,r):l==null&&ZYe(o)?t[s]=wT({},o,n,r):l==null&&YYe(o)?t[s]=Jq(o):(l===void 0||o!==void 0)&&(t[s]=o)}return t}function QYe(t,...e){return XYe(t,...e,KYe)}var eZe=Object.defineProperty,tZe=Object.defineProperties,nZe=Object.getOwnPropertyDescriptors,eV=Object.getOwnPropertySymbols,rZe=Object.prototype.hasOwnProperty,iZe=Object.prototype.propertyIsEnumerable,tV=(t,e,n)=>e in t?eZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jx=(t,e)=>{for(var n in e||(e={}))rZe.call(e,n)&&tV(t,n,e[n]);if(eV)for(var n of eV(e))iZe.call(e,n)&&tV(t,n,e[n]);return t},aZe=(t,e)=>tZe(t,nZe(e));function go(t,e,n){var r;const i=N0(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${wae}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function xp(t){return t.includes(":")?t.split(":")[1]:t}function kae(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function sZe(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const a=e.namespaces[i].accounts;r.push(...a)}),r}function nV(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n?.chains)==null?void 0:r.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function Dx(t={},e={}){const n=nV(rV(t)),r=nV(rV(e));return QYe(n,r)}function rV(t){var e,n,r,i,a;const s={};if(!au(t))return s;for(const[o,l]of Object.entries(t)){const u=H8(o)?[o]:l.chains,d=l.methods||[],h=l.events||[],g=l.rpcMap||{},m=ig(o);s[m]=aZe(jx(jx({},s[m]),l),{chains:iu(u,(e=s[m])==null?void 0:e.chains),methods:iu(d,(n=s[m])==null?void 0:n.methods),events:iu(h,(r=s[m])==null?void 0:r.events)}),(au(g)||au(((i=s[m])==null?void 0:i.rpcMap)||{}))&&(s[m].rpcMap=jx(jx({},g),(a=s[m])==null?void 0:a.rpcMap))}return s}function iV(t){return t.includes(":")?t.split(":")[2]:t}function aV(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],a=r.events||[],s=r.accounts||[],o=H8(n)?[n]:r.chains?r.chains:kae(r.accounts);e[n]={chains:o,methods:i,events:a,accounts:s}}return e}function vC(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Iae={},Hn=t=>Iae[t],xC=(t,e)=>{Iae[t]=e};var oZe=Object.defineProperty,sV=Object.getOwnPropertySymbols,lZe=Object.prototype.hasOwnProperty,cZe=Object.prototype.propertyIsEnumerable,oV=(t,e,n)=>e in t?oZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lV=(t,e)=>{for(var n in e||(e={}))lZe.call(e,n)&&oV(t,n,e[n]);if(sV)for(var n of sV(e))cZe.call(e,n)&&oV(t,n,e[n]);return t};const cV="eip155",uZe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],dZe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,EC=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,uV=t=>Object.keys(t).filter(e=>uZe.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),fZe=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,a={};if(!au(i)&&!au(r))return;const s=uV(r);for(const o of n){const l=dZe(o);if(!l)continue;a[EC(l)]=s;const u=i?.[`${cV}:${l}`];if(u){const d=u?.[`${cV}:${l}:${e}`];a[EC(l)]=lV(lV({},a[EC(l)]),uV(d||u))}}for(const[o,l]of Object.entries(a))Object.keys(l).length===0&&delete a[o];return Object.keys(a).length>0?a:void 0};var hZe=Object.defineProperty,pZe=(t,e,n)=>e in t?hZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I1=(t,e,n)=>pZe(t,typeof e!="symbol"?e+"":e,n);class gZe{constructor(e){I1(this,"name","polkadot"),I1(this,"client"),I1(this,"httpProviders"),I1(this,"events"),I1(this,"namespace"),I1(this,"chainId"),this.namespace=e.namespace,this.events=Hn("events"),this.client=Hn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=xp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||go(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xl(new hc(r,Hn("disableProviderPing")))}}var mZe=Object.defineProperty,yZe=Object.defineProperties,bZe=Object.getOwnPropertyDescriptors,dV=Object.getOwnPropertySymbols,wZe=Object.prototype.hasOwnProperty,vZe=Object.prototype.propertyIsEnumerable,vT=(t,e,n)=>e in t?mZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fV=(t,e)=>{for(var n in e||(e={}))wZe.call(e,n)&&vT(t,n,e[n]);if(dV)for(var n of dV(e))vZe.call(e,n)&&vT(t,n,e[n]);return t},hV=(t,e)=>yZe(t,bZe(e)),T1=(t,e,n)=>vT(t,typeof e!="symbol"?e+"":e,n);class xZe{constructor(e){T1(this,"name","eip155"),T1(this,"client"),T1(this,"chainId"),T1(this,"namespace"),T1(this,"httpProviders"),T1(this,"events"),this.namespace=e.namespace,this.events=Hn("events"),this.client=Hn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||go(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xl(new hc(r,Hn("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(xp(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const a=parseInt(i,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,a,s;const o=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],l=((a=(i=e.request)==null?void 0:i.params)==null?void 0:a[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((s=u?.sessionProperties)==null?void 0:s.capabilities)||{},h=`${o}${l.join(",")}`,g=d?.[h];if(g)return g;let m;try{m=fZe(u,o,l)}catch(w){console.warn("Failed to extract capabilities from session",w)}if(m)return m;const b=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:hV(fV({},u.sessionProperties||{}),{capabilities:hV(fV({},d||{}),{[h]:b})})})}catch(w){console.warn("Failed to update session with capabilities",w)}return b}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),a=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(a){const o=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(o,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,o)}}const s=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(s)try{return await this.getUserOperationReceipt(s,e)}catch(o){console.warn("Failed to fetch call status from custom bundler",o,s)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Yc("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,n){return`${SYe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var EZe=Object.defineProperty,_Ze=(t,e,n)=>e in t?EZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$1=(t,e,n)=>_Ze(t,typeof e!="symbol"?e+"":e,n);class AZe{constructor(e){$1(this,"name","solana"),$1(this,"client"),$1(this,"httpProviders"),$1(this,"events"),$1(this,"namespace"),$1(this,"chainId"),this.namespace=e.namespace,this.events=Hn("events"),this.client=Hn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=xp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||go(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xl(new hc(r,Hn("disableProviderPing")))}}var CZe=Object.defineProperty,SZe=(t,e,n)=>e in t?CZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N1=(t,e,n)=>SZe(t,typeof e!="symbol"?e+"":e,n);class kZe{constructor(e){N1(this,"name","cosmos"),N1(this,"client"),N1(this,"httpProviders"),N1(this,"events"),N1(this,"namespace"),N1(this,"chainId"),this.namespace=e.namespace,this.events=Hn("events"),this.client=Hn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=xp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||go(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xl(new hc(r,Hn("disableProviderPing")))}}var IZe=Object.defineProperty,TZe=(t,e,n)=>e in t?IZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P1=(t,e,n)=>TZe(t,typeof e!="symbol"?e+"":e,n);class $Ze{constructor(e){P1(this,"name","algorand"),P1(this,"client"),P1(this,"httpProviders"),P1(this,"events"),P1(this,"namespace"),P1(this,"chainId"),this.namespace=e.namespace,this.events=Hn("events"),this.client=Hn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||go(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||go(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new xl(new hc(r,Hn("disableProviderPing")))}}var NZe=Object.defineProperty,PZe=(t,e,n)=>e in t?NZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O1=(t,e,n)=>PZe(t,typeof e!="symbol"?e+"":e,n);class OZe{constructor(e){O1(this,"name","cip34"),O1(this,"client"),O1(this,"httpProviders"),O1(this,"events"),O1(this,"namespace"),O1(this,"chainId"),this.namespace=e.namespace,this.events=Hn("events"),this.client=Hn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=xp(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xl(new hc(r,Hn("disableProviderPing")))}}var RZe=Object.defineProperty,MZe=(t,e,n)=>e in t?RZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R1=(t,e,n)=>MZe(t,typeof e!="symbol"?e+"":e,n);class jZe{constructor(e){R1(this,"name","elrond"),R1(this,"client"),R1(this,"httpProviders"),R1(this,"events"),R1(this,"namespace"),R1(this,"chainId"),this.namespace=e.namespace,this.events=Hn("events"),this.client=Hn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=xp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||go(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xl(new hc(r,Hn("disableProviderPing")))}}var DZe=Object.defineProperty,BZe=(t,e,n)=>e in t?DZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M1=(t,e,n)=>BZe(t,typeof e!="symbol"?e+"":e,n);let UZe=class{constructor(e){M1(this,"name","multiversx"),M1(this,"client"),M1(this,"httpProviders"),M1(this,"events"),M1(this,"namespace"),M1(this,"chainId"),this.namespace=e.namespace,this.events=Hn("events"),this.client=Hn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=xp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||go(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xl(new hc(r,Hn("disableProviderPing")))}};var LZe=Object.defineProperty,FZe=(t,e,n)=>e in t?LZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j1=(t,e,n)=>FZe(t,typeof e!="symbol"?e+"":e,n);let zZe=class{constructor(e){j1(this,"name","near"),j1(this,"client"),j1(this,"httpProviders"),j1(this,"events"),j1(this,"namespace"),j1(this,"chainId"),this.namespace=e.namespace,this.events=Hn("events"),this.client=Hn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||go(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||go(e,this.namespace);return typeof r>"u"?void 0:new xl(new hc(r,Hn("disableProviderPing")))}};var WZe=Object.defineProperty,HZe=(t,e,n)=>e in t?WZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D1=(t,e,n)=>HZe(t,typeof e!="symbol"?e+"":e,n);let qZe=class{constructor(e){D1(this,"name","tezos"),D1(this,"client"),D1(this,"httpProviders"),D1(this,"events"),D1(this,"namespace"),D1(this,"chainId"),this.namespace=e.namespace,this.events=Hn("events"),this.client=Hn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||go(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||go(e,this.namespace);return typeof r>"u"?void 0:new xl(new hc(r))}};var VZe=Object.defineProperty,GZe=(t,e,n)=>e in t?VZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B1=(t,e,n)=>GZe(t,typeof e!="symbol"?e+"":e,n);let KZe=class{constructor(e){B1(this,"name",vae),B1(this,"client"),B1(this,"httpProviders"),B1(this,"events"),B1(this,"namespace"),B1(this,"chainId"),this.namespace=e.namespace,this.events=Hn("events"),this.client=Hn("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return N0(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const a=N0(i);r[a.reference]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||go(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xl(new hc(r,Hn("disableProviderPing")))}};var YZe=Object.defineProperty,ZZe=Object.defineProperties,JZe=Object.getOwnPropertyDescriptors,pV=Object.getOwnPropertySymbols,XZe=Object.prototype.hasOwnProperty,QZe=Object.prototype.propertyIsEnumerable,xT=(t,e,n)=>e in t?YZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bx=(t,e)=>{for(var n in e||(e={}))XZe.call(e,n)&&xT(t,n,e[n]);if(pV)for(var n of pV(e))QZe.call(e,n)&&xT(t,n,e[n]);return t},_C=(t,e)=>ZZe(t,JZe(e)),Do=(t,e,n)=>xT(t,typeof e!="symbol"?e+"":e,n);let eJe=class Tae{constructor(e){Do(this,"client"),Do(this,"namespaces"),Do(this,"optionalNamespaces"),Do(this,"sessionProperties"),Do(this,"scopedProperties"),Do(this,"events",new vP),Do(this,"rpcProviders",{}),Do(this,"session"),Do(this,"providerOpts"),Do(this,"logger"),Do(this,"uri"),Do(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:JP(oYe({level:e?.logger||Zq})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new Tae(e);return await n.initialize(),n}async request(e,n,r){const[i,a]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Bx({},e),chainId:`${i}:${a}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const a=new Date().getTime();this.request(e,r,i).then(s=>n(null,Sw(a,s))).catch(s=>n(s,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Tr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const a=await i();if(this.session=a.session,this.session){const s=aV(this.session.namespaces);this.namespaces=Dx(this.namespaces,s),await this.persist("namespaces",this.namespaces),this.onConnect()}return a}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const a=aV(i.namespaces);return this.namespaces=Dx(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!al(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await ZKe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Zq,relayUrl:this.providerOpts.relayUrl||_Ye,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>ig(n)))];xC("client",this.client),xC("events",this.events),xC("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=sZe(n,this.session);if(r?.length===0)return;const i=kae(r),a=Dx(this.namespaces,this.optionalNamespaces),s=_C(Bx({},a[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new xZe({namespace:s});break;case"algorand":this.rpcProviders[n]=new $Ze({namespace:s});break;case"solana":this.rpcProviders[n]=new AZe({namespace:s});break;case"cosmos":this.rpcProviders[n]=new kZe({namespace:s});break;case"polkadot":this.rpcProviders[n]=new gZe({namespace:s});break;case"cip34":this.rpcProviders[n]=new OZe({namespace:s});break;case"elrond":this.rpcProviders[n]=new jZe({namespace:s});break;case"multiversx":this.rpcProviders[n]=new UZe({namespace:s});break;case"near":this.rpcProviders[n]=new zZe({namespace:s});break;case"tezos":this.rpcProviders[n]=new qZe({namespace:s});break;default:this.rpcProviders[n]=new KZe({namespace:s})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:a}=r;if(a.name==="accountsChanged"){const s=a.data;s&&al(s)&&this.events.emit("accountsChanged",s.map(iV))}else if(a.name==="chainChanged"){const s=r.chainId,o=r.event.data,l=ig(s),u=vC(s)!==vC(o)?`${l}:${vC(o)}`:s;this.onChainChanged(u)}else this.events.emit(a.name,a.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:a}=n,s=(i=this.client)==null?void 0:i.session.get(e);this.session=_C(Bx({},s),{namespaces:a}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",_C(Bx({},Tr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(El.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[vae]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:a}=e;this.optionalNamespaces=Dx(n,r),this.sessionProperties=i,this.scopedProperties=a}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(s=>ig(s)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=ig(Object.keys(this.namespaces)[0]),a=this.rpcProviders[i].getDefaultChain();return[i,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i);const a=this.getProvider(r).getDefaultChain();n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:a,newChainId:e})):this.getProvider(r).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,a;try{if(n===r)return;const s=(a=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:a.accounts;if(!s)return;const o=s.filter(l=>l.includes(`${r}:`)).map(iV);if(!al(o))return;this.events.emit("accountsChanged",o)}catch(s){this.logger.warn("Failed to emit accountsChanged on chain change",s)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Mx}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Mx}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Mx}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Mx)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const tJe=eJe,nJe="wc",rJe="ethereum_provider",iJe=`${nJe}@2:${rJe}:`,aJe="https://rpc.walletconnect.org/v1/",ET=["eth_sendTransaction","personal_sign"],$ae=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],_T=["chainChanged","accountsChanged"],Nae=["chainChanged","accountsChanged","message","disconnect","connect"],sJe=async()=>{const{createAppKit:t}=await lo(()=>import("./core.CPxdq27r.js").then(e=>e.X),[]);return t};var oJe=Object.defineProperty,lJe=Object.defineProperties,cJe=Object.getOwnPropertyDescriptors,gV=Object.getOwnPropertySymbols,uJe=Object.prototype.hasOwnProperty,dJe=Object.prototype.propertyIsEnumerable,AT=(t,e,n)=>e in t?oJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n0=(t,e)=>{for(var n in e||(e={}))uJe.call(e,n)&&AT(t,n,e[n]);if(gV)for(var n of gV(e))dJe.call(e,n)&&AT(t,n,e[n]);return t},g2=(t,e)=>lJe(t,cJe(e)),Ks=(t,e,n)=>AT(t,typeof e!="symbol"?e+"":e,n);function G6(t){return Number(t[0].split(":")[1])}function Ux(t){return`0x${t.toString(16)}`}function fJe(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:a,optionalEvents:s,rpcMap:o}=t;if(!al(e))throw new Error("Invalid chains");const l={chains:e,methods:r||ET,events:a||_T,rpcMap:n0({},e.length?{[G6(e)]:o[G6(e)]}:{})},u=a?.filter(m=>!_T.includes(m)),d=r?.filter(m=>!ET.includes(m));if(!n&&!s&&!i&&!(u!=null&&u.length)&&!(d!=null&&d.length))return{required:e.length?l:void 0};const h=u?.length&&d?.length||!n,g={chains:[...new Set(h?l.chains.concat(n||[]):n)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:$ae))],events:[...new Set(l.events.concat(s!=null&&s.length?s:Nae))],rpcMap:o};return{required:e.length?l:void 0,optional:n.length?g:void 0}}class tO{constructor(){Ks(this,"events",new wo.EventEmitter),Ks(this,"namespace","eip155"),Ks(this,"accounts",[]),Ks(this,"signer"),Ks(this,"chainId",1),Ks(this,"modal"),Ks(this,"rpc"),Ks(this,"STORAGE_KEY",iJe),Ks(this,"on",(e,n)=>(this.events.on(e,n),this)),Ks(this,"once",(e,n)=>(this.events.once(e,n),this)),Ks(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),Ks(this,"off",(e,n)=>(this.events.off(e,n),this)),Ks(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new tO;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=fJe(this.rpc);try{const a=await new Promise(async(o,l)=>{var u,d;this.rpc.showQrModal&&((u=this.modal)==null||u.open(),(d=this.modal)==null||d.subscribeState(g=>{!g.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(g2(n0({namespaces:n0({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:h})).then(g=>{o(g)}).catch(g=>{var m;(m=this.modal)==null||m.showErrorMessage("Unable to connect"),l(new Error(g.message))})});if(!a)return;const s=GW(a.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:Ux(this.chainId)})}catch(a){throw this.signer.logger.error(a),a}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(s,o)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),o(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(g2(n0({},e),{chains:this.rpc.chains}),n).then(d=>{s(d)}).catch(d=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),o(new Error(d.message))})}),a=i.session;if(a){const s=GW(a.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:Ux(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",Ux(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",g2(n0({},Tr("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",Ux(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e?.chains)!=null?n:[],a=(r=e?.optionalChains)!=null?r:[],s=i.concat(a);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=i.length?e?.methods||ET:[],l=i.length?e?.events||_T:[],u=e?.optionalMethods||[],d=e?.optionalEvents||[],h=e?.rpcMap||this.buildRpcMap(s,e.projectId),g=e?.qrModalOptions||void 0;return{chains:i?.map(m=>this.formatChainId(m)),optionalChains:a.map(m=>this.formatChainId(m)),methods:o,events:l,optionalMethods:u,optionalEvents:d,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:g,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?G6(this.rpc.chains):G6(this.rpc.optionalChains),this.signer=await tJe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const r=await sJe(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return _Je}),a=i(g2(n0({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!a.networks.length)throw new Error("No networks found for WalletConnect");n=r(g2(n0({},a),{universalProvider:this.signer,manualWCControl:!0}))}catch(r){throw console.warn(r),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(r){throw this.signer.logger.error(r),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&al(n)&&(this.rpc.chains=n.map(a=>this.formatChainId(a)),n.forEach(a=>{this.rpc.rpcMap[a]=i?.[a]||this.getRpcUrl(a)})),r&&al(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(a=>this.formatChainId(a)),r.forEach(a=>{this.rpc.rpcMap[a]=i?.[a]||this.getRpcUrl(a)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${aJe}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n?.accounts),this.setAccounts(n?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}}const hJe=tO;var pJe=Object.defineProperty,gJe=Object.defineProperties,mJe=Object.getOwnPropertyDescriptors,mV=Object.getOwnPropertySymbols,yJe=Object.prototype.hasOwnProperty,bJe=Object.prototype.propertyIsEnumerable,yV=(t,e,n)=>e in t?pJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pae=(t,e)=>{for(var n in e||(e={}))yJe.call(e,n)&&yV(t,n,e[n]);if(mV)for(var n of mV(e))bJe.call(e,n)&&yV(t,n,e[n]);return t},wJe=(t,e)=>gJe(t,mJe(e));function vJe(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const xJe=t=>{const[e,n]=t.split(":");return Oae({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function EJe(t){var e,n,r,i,a,s,o;const l=(e=t.chains)==null?void 0:e.map(xJe).filter(Boolean);if(l.length===0)throw new Error("At least one chain must be specified");const u=l.find(h=>{var g;return h.id===((g=t.defaultChain)==null?void 0:g.id)}),d={projectId:t.projectId,networks:l,themeMode:t.themeMode,themeVariables:vJe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:u,metadata:wJe(Pae({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((a=t.metadata)==null?void 0:a.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((s=t.mobileWallets)!=null&&s.length||(o=t.desktopWallets)!=null&&o.length){const h=[...(t.mobileWallets||[]).map(b=>({id:b.id,name:b.name,links:b.links})),...(t.desktopWallets||[]).map(b=>({id:b.id,name:b.name,links:{native:b.links.native,universal:b.links.universal}}))],g=[...d.featuredWalletIds||[],...d.excludeWalletIds||[]],m=h.filter(b=>!g.includes(b.id));m.length&&(d.customWallets=m)}return d}function Oae(t){return Pae({formatters:void 0,fees:void 0,serializers:void 0},t)}var _Je=Object.freeze({__proto__:null,convertWCMToAppKitOptions:EJe,defineChain:Oae}),AC,bV;function AJe(){if(bV)return AC;bV=1;var t=function(s,o){return Math.round(o*Math.log(s)/Math.LN2)},e=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],n=function(s){return function(o){return s.reduce(function(l,u){return l+(u.re.test(o)?u.length:0)},0)}},r=n(e),i=function(s){return s?t(r(s),s.length):0};return AC=i,AC}var CJe=AJe();const SJe=ja(CJe);function Rae(t){return crypto.getRandomValues(new Uint8Array(t))}const kJe=256,db=65536;function IJe(){const[t]=Rae(1);return t}function TJe(){const[t,e]=Rae(2);return(t<<8)+e}function $Je(t){if(typeof t!="number"||t<2||t>db)throw new Error(`Invalid number: number must be at least two and at most ${db}`);const e=t>256,n=e?db:kJe,r=e?TJe:IJe,i=t*Math.floor(n/t);for(;;){const a=r();if(a<i)return a%t}}function NJe(t,e,n){if(typeof n!="number"||n>db)throw new Error(`Invalid argument: end must be a number less than or equal to ${db}`);if(n-e<2)throw new Error("Invalid range: range must contain at least two values");const r=[];for(let i=0;i<t;i++)r[i]=e+$Je(n-e);return r}function PJe(t,e,n="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof n!="string")throw new Error("Invalid argument: sep argument must be a string");return NJe(t,0,e.length).reduce((r,i,a)=>{const s=e[i];return r+(a===0?s:n+s)},"")}const OJe=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),RJe=Object.freeze(OJe.filter(t=>!t.includes("-")));function MJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const jJe=k.forwardRef(MJe);function DJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const BJe=k.forwardRef(DJe);function UJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Y8=k.forwardRef(UJe);function LJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const Z8=k.forwardRef(LJe);function FJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const nO=k.forwardRef(FJe);function zJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const WJe=k.forwardRef(zJe);function HJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const qJe=k.forwardRef(HJe);function VJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const GJe=k.forwardRef(VJe);function KJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const YJe=k.forwardRef(KJe);function ZJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const JJe=k.forwardRef(ZJe);function XJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const jm=k.forwardRef(XJe);function QJe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const eXe=k.forwardRef(QJe);function tXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const nXe=k.forwardRef(tXe);function rXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Mae=k.forwardRef(rXe);function iXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const aXe=k.forwardRef(iXe);function sXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const oXe=k.forwardRef(sXe);function lXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const cXe=k.forwardRef(lXe);function uXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const dXe=k.forwardRef(uXe);function fXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const hXe=k.forwardRef(fXe);function pXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const gXe=k.forwardRef(pXe);function mXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const jae=k.forwardRef(mXe);function yXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const bXe=k.forwardRef(yXe);function wXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const vXe=k.forwardRef(wXe);function xXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Dae=k.forwardRef(xXe);function EXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const _Xe=k.forwardRef(EXe);function AXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const CC=k.forwardRef(AXe);function CXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const SXe=k.forwardRef(CXe);function kXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const IXe=k.forwardRef(kXe);var U1={},SC,wV;function TXe(){return wV||(wV=1,SC=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),SC}var kC={},Tf={},vV;function Ep(){if(vV)return Tf;vV=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Tf.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Tf.getSymbolTotalCodewords=function(r){return e[r]},Tf.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Tf.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Tf.isKanjiModeEnabled=function(){return typeof t<"u"},Tf.toSJIS=function(r){return t(r)},Tf}var IC={},xV;function rO(){return xV||(xV=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(IC)),IC}var TC,EV;function $Xe(){if(EV)return TC;EV=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},TC=t,TC}var $C,_V;function NXe(){if(_V)return $C;_V=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const a=e*this.size+n;this.data[a]=r,i&&(this.reservedBit[a]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},$C=t,$C}var NC={},AV;function PXe(){return AV||(AV=1,(function(t){const e=Ep().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=e(r),s=a===145?26:Math.ceil((a-13)/(2*i-2))*2,o=[a-7];for(let l=1;l<i-1;l++)o[l]=o[l-1]-s;return o.push(6),o.reverse()},t.getPositions=function(r){const i=[],a=t.getRowColCoords(r),s=a.length;for(let o=0;o<s;o++)for(let l=0;l<s;l++)o===0&&l===0||o===0&&l===s-1||o===s-1&&l===0||i.push([a[o],a[l]]);return i}})(NC)),NC}var PC={},CV;function OXe(){if(CV)return PC;CV=1;const t=Ep().getSymbolSize,e=7;return PC.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},PC}var OC={},SV;function RXe(){return SV||(SV=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const a=i.size;let s=0,o=0,l=0,u=null,d=null;for(let h=0;h<a;h++){o=l=0,u=d=null;for(let g=0;g<a;g++){let m=i.get(h,g);m===u?o++:(o>=5&&(s+=e.N1+(o-5)),u=m,o=1),m=i.get(g,h),m===d?l++:(l>=5&&(s+=e.N1+(l-5)),d=m,l=1)}o>=5&&(s+=e.N1+(o-5)),l>=5&&(s+=e.N1+(l-5))}return s},t.getPenaltyN2=function(i){const a=i.size;let s=0;for(let o=0;o<a-1;o++)for(let l=0;l<a-1;l++){const u=i.get(o,l)+i.get(o,l+1)+i.get(o+1,l)+i.get(o+1,l+1);(u===4||u===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){const a=i.size;let s=0,o=0,l=0;for(let u=0;u<a;u++){o=l=0;for(let d=0;d<a;d++)o=o<<1&2047|i.get(u,d),d>=10&&(o===1488||o===93)&&s++,l=l<<1&2047|i.get(d,u),d>=10&&(l===1488||l===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){let a=0;const s=i.data.length;for(let l=0;l<s;l++)a+=i.data[l];return Math.abs(Math.ceil(a*100/s/5)-10)*e.N4};function n(r,i,a){switch(r){case t.Patterns.PATTERN000:return(i+a)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(i+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return i*a%2+i*a%3===0;case t.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case t.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,a){const s=a.size;for(let o=0;o<s;o++)for(let l=0;l<s;l++)a.isReserved(l,o)||a.xor(l,o,n(i,l,o))},t.getBestMask=function(i,a){const s=Object.keys(t.Patterns).length;let o=0,l=1/0;for(let u=0;u<s;u++){a(u),t.applyMask(u,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),d<l&&(l=d,o=u)}return o}})(OC)),OC}var Lx={},kV;function Bae(){if(kV)return Lx;kV=1;const t=rO(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Lx.getBlocksCount=function(i,a){switch(a){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},Lx.getTotalCodewordsCount=function(i,a){switch(a){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},Lx}var RC={},m2={},IV;function MXe(){if(IV)return m2;IV=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),m2.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},m2.exp=function(r){return t[r]},m2.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},m2}var TV;function jXe(){return TV||(TV=1,(function(t){const e=MXe();t.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let o=0;o<i.length;o++)a[s+o]^=e.mul(r[s],i[o]);return a},t.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const s=a[0];for(let l=0;l<i.length;l++)a[l]^=e.mul(i[l],s);let o=0;for(;o<a.length&&a[o]===0;)o++;a=a.slice(o)}return a},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=t.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(RC)),RC}var MC,$V;function DXe(){if($V)return MC;$V=1;const t=jXe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=t.mod(i,this.genPoly),s=this.degree-a.length;if(s>0){const o=new Uint8Array(this.degree);return o.set(a,s),o}return a},MC=e,MC}var jC={},DC={},BC={},NV;function Uae(){return NV||(NV=1,BC.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),BC}var Pc={},PV;function Lae(){if(PV)return Pc;PV=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Pc.KANJI=new RegExp(n,"g"),Pc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Pc.BYTE=new RegExp(r,"g"),Pc.NUMERIC=new RegExp(t,"g"),Pc.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),a=new RegExp("^"+t+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Pc.testKanji=function(l){return i.test(l)},Pc.testNumeric=function(l){return a.test(l)},Pc.testAlphanumeric=function(l){return s.test(l)},Pc}var OV;function _p(){return OV||(OV=1,(function(t){const e=Uae(),n=Lae();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,s){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?a.ccBits[0]:s<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return n.testNumeric(a)?t.NUMERIC:n.testAlphanumeric(a)?t.ALPHANUMERIC:n.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(a,s){if(t.isValid(a))return a;try{return r(a)}catch{return s}}})(DC)),DC}var RV;function BXe(){return RV||(RV=1,(function(t){const e=Ep(),n=Bae(),r=rO(),i=_p(),a=Uae(),s=7973,o=e.getBCHDigit(s);function l(g,m,b){for(let w=1;w<=40;w++)if(m<=t.getCapacity(w,b,g))return w}function u(g,m){return i.getCharCountIndicator(g,m)+4}function d(g,m){let b=0;return g.forEach(function(w){const x=u(w.mode,m);b+=x+w.getBitsLength()}),b}function h(g,m){for(let b=1;b<=40;b++)if(d(g,b)<=t.getCapacity(b,m,i.MIXED))return b}t.from=function(m,b){return a.isValid(m)?parseInt(m,10):b},t.getCapacity=function(m,b,w){if(!a.isValid(m))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=i.BYTE);const x=e.getSymbolTotalCodewords(m),E=n.getTotalCodewordsCount(m,b),I=(x-E)*8;if(w===i.MIXED)return I;const C=I-u(w,m);switch(w){case i.NUMERIC:return Math.floor(C/10*3);case i.ALPHANUMERIC:return Math.floor(C/11*2);case i.KANJI:return Math.floor(C/13);case i.BYTE:default:return Math.floor(C/8)}},t.getBestVersionForData=function(m,b){let w;const x=r.from(b,r.M);if(Array.isArray(m)){if(m.length>1)return h(m,x);if(m.length===0)return 1;w=m[0]}else w=m;return l(w.mode,w.getLength(),x)},t.getEncodedBits=function(m){if(!a.isValid(m)||m<7)throw new Error("Invalid QR Code version");let b=m<<12;for(;e.getBCHDigit(b)-o>=0;)b^=s<<e.getBCHDigit(b)-o;return m<<12|b}})(jC)),jC}var UC={},MV;function UXe(){if(MV)return UC;MV=1;const t=Ep(),e=1335,n=21522,r=t.getBCHDigit(e);return UC.getEncodedBits=function(a,s){const o=a.bit<<3|s;let l=o<<10;for(;t.getBCHDigit(l)-r>=0;)l^=e<<t.getBCHDigit(l)-r;return(o<<10|l)^n},UC}var LC={},FC,jV;function LXe(){if(jV)return FC;jV=1;const t=_p();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,a,s;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),s=parseInt(a,10),r.put(s,10);const o=this.data.length-i;o>0&&(a=this.data.substr(i),s=parseInt(a,10),r.put(s,o*3+1))},FC=e,FC}var zC,DV;function FXe(){if(DV)return zC;DV=1;const t=_p(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let s=e.indexOf(this.data[a])*45;s+=e.indexOf(this.data[a+1]),i.put(s,11)}this.data.length%2&&i.put(e.indexOf(this.data[a]),6)},zC=n,zC}var WC,BV;function zXe(){if(BV)return WC;BV=1;const t=_p();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},WC=e,WC}var HC,UV;function WXe(){if(UV)return HC;UV=1;const t=_p(),e=Ep();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=e.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},HC=n,HC}var qC={exports:{}},LV;function HXe(){return LV||(LV=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var a={},s={};s[r]=0;var o=e.PriorityQueue.make();o.push(r,0);for(var l,u,d,h,g,m,b,w,x;!o.empty();){l=o.pop(),u=l.value,h=l.cost,g=n[u]||{};for(d in g)g.hasOwnProperty(d)&&(m=g[d],b=h+m,w=s[d],x=typeof s[d]>"u",(x||w>b)&&(s[d]=b,o.push(d,b),a[d]=u))}if(typeof i<"u"&&typeof s[i]>"u"){var E=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(E)}return a},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],a=r;a;)i.push(a),n[a],a=n[a];return i.reverse(),i},find_path:function(n,r,i){var a=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},a;n=n||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(qC)),qC.exports}var FV;function qXe(){return FV||(FV=1,(function(t){const e=_p(),n=LXe(),r=FXe(),i=zXe(),a=WXe(),s=Lae(),o=Ep(),l=HXe();function u(E){return unescape(encodeURIComponent(E)).length}function d(E,I,C){const N=[];let A;for(;(A=E.exec(C))!==null;)N.push({data:A[0],index:A.index,mode:I,length:A[0].length});return N}function h(E){const I=d(s.NUMERIC,e.NUMERIC,E),C=d(s.ALPHANUMERIC,e.ALPHANUMERIC,E);let N,A;return o.isKanjiModeEnabled()?(N=d(s.BYTE,e.BYTE,E),A=d(s.KANJI,e.KANJI,E)):(N=d(s.BYTE_KANJI,e.BYTE,E),A=[]),I.concat(C,N,A).sort(function(O,H){return O.index-H.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function g(E,I){switch(I){case e.NUMERIC:return n.getBitsLength(E);case e.ALPHANUMERIC:return r.getBitsLength(E);case e.KANJI:return a.getBitsLength(E);case e.BYTE:return i.getBitsLength(E)}}function m(E){return E.reduce(function(I,C){const N=I.length-1>=0?I[I.length-1]:null;return N&&N.mode===C.mode?(I[I.length-1].data+=C.data,I):(I.push(C),I)},[])}function b(E){const I=[];for(let C=0;C<E.length;C++){const N=E[C];switch(N.mode){case e.NUMERIC:I.push([N,{data:N.data,mode:e.ALPHANUMERIC,length:N.length},{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.ALPHANUMERIC:I.push([N,{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.KANJI:I.push([N,{data:N.data,mode:e.BYTE,length:u(N.data)}]);break;case e.BYTE:I.push([{data:N.data,mode:e.BYTE,length:u(N.data)}])}}return I}function w(E,I){const C={},N={start:{}};let A=["start"];for(let T=0;T<E.length;T++){const O=E[T],H=[];for(let U=0;U<O.length;U++){const L=O[U],G=""+T+U;H.push(G),C[G]={node:L,lastCount:0},N[G]={};for(let R=0;R<A.length;R++){const F=A[R];C[F]&&C[F].node.mode===L.mode?(N[F][G]=g(C[F].lastCount+L.length,L.mode)-g(C[F].lastCount,L.mode),C[F].lastCount+=L.length):(C[F]&&(C[F].lastCount=L.length),N[F][G]=g(L.length,L.mode)+4+e.getCharCountIndicator(L.mode,I))}}A=H}for(let T=0;T<A.length;T++)N[A[T]].end=0;return{map:N,table:C}}function x(E,I){let C;const N=e.getBestModeForData(E);if(C=e.from(I,N),C!==e.BYTE&&C.bit<N.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(C)+`.
 Suggested mode is: `+e.toString(N));switch(C===e.KANJI&&!o.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new n(E);case e.ALPHANUMERIC:return new r(E);case e.KANJI:return new a(E);case e.BYTE:return new i(E)}}t.fromArray=function(I){return I.reduce(function(C,N){return typeof N=="string"?C.push(x(N,null)):N.data&&C.push(x(N.data,N.mode)),C},[])},t.fromString=function(I,C){const N=h(I,o.isKanjiModeEnabled()),A=b(N),T=w(A,C),O=l.find_path(T.map,"start","end"),H=[];for(let U=1;U<O.length-1;U++)H.push(T.table[O[U]].node);return t.fromArray(m(H))},t.rawSplit=function(I){return t.fromArray(h(I,o.isKanjiModeEnabled()))}})(LC)),LC}var zV;function VXe(){if(zV)return kC;zV=1;const t=Ep(),e=rO(),n=$Xe(),r=NXe(),i=PXe(),a=OXe(),s=RXe(),o=Bae(),l=DXe(),u=BXe(),d=UXe(),h=_p(),g=qXe();function m(T,O){const H=T.size,U=a.getPositions(O);for(let L=0;L<U.length;L++){const G=U[L][0],R=U[L][1];for(let F=-1;F<=7;F++)if(!(G+F<=-1||H<=G+F))for(let _=-1;_<=7;_++)R+_<=-1||H<=R+_||(F>=0&&F<=6&&(_===0||_===6)||_>=0&&_<=6&&(F===0||F===6)||F>=2&&F<=4&&_>=2&&_<=4?T.set(G+F,R+_,!0,!0):T.set(G+F,R+_,!1,!0))}}function b(T){const O=T.size;for(let H=8;H<O-8;H++){const U=H%2===0;T.set(H,6,U,!0),T.set(6,H,U,!0)}}function w(T,O){const H=i.getPositions(O);for(let U=0;U<H.length;U++){const L=H[U][0],G=H[U][1];for(let R=-2;R<=2;R++)for(let F=-2;F<=2;F++)R===-2||R===2||F===-2||F===2||R===0&&F===0?T.set(L+R,G+F,!0,!0):T.set(L+R,G+F,!1,!0)}}function x(T,O){const H=T.size,U=u.getEncodedBits(O);let L,G,R;for(let F=0;F<18;F++)L=Math.floor(F/3),G=F%3+H-8-3,R=(U>>F&1)===1,T.set(L,G,R,!0),T.set(G,L,R,!0)}function E(T,O,H){const U=T.size,L=d.getEncodedBits(O,H);let G,R;for(G=0;G<15;G++)R=(L>>G&1)===1,G<6?T.set(G,8,R,!0):G<8?T.set(G+1,8,R,!0):T.set(U-15+G,8,R,!0),G<8?T.set(8,U-G-1,R,!0):G<9?T.set(8,15-G-1+1,R,!0):T.set(8,15-G-1,R,!0);T.set(U-8,8,1,!0)}function I(T,O){const H=T.size;let U=-1,L=H-1,G=7,R=0;for(let F=H-1;F>0;F-=2)for(F===6&&F--;;){for(let _=0;_<2;_++)if(!T.isReserved(L,F-_)){let S=!1;R<O.length&&(S=(O[R]>>>G&1)===1),T.set(L,F-_,S),G--,G===-1&&(R++,G=7)}if(L+=U,L<0||H<=L){L-=U,U=-U;break}}}function C(T,O,H){const U=new n;H.forEach(function(_){U.put(_.mode.bit,4),U.put(_.getLength(),h.getCharCountIndicator(_.mode,T)),_.write(U)});const L=t.getSymbolTotalCodewords(T),G=o.getTotalCodewordsCount(T,O),R=(L-G)*8;for(U.getLengthInBits()+4<=R&&U.put(0,4);U.getLengthInBits()%8!==0;)U.putBit(0);const F=(R-U.getLengthInBits())/8;for(let _=0;_<F;_++)U.put(_%2?17:236,8);return N(U,T,O)}function N(T,O,H){const U=t.getSymbolTotalCodewords(O),L=o.getTotalCodewordsCount(O,H),G=U-L,R=o.getBlocksCount(O,H),F=U%R,_=R-F,S=Math.floor(U/R),$=Math.floor(G/R),D=$+1,z=S-$,Y=new l(z);let J=0;const V=new Array(R),M=new Array(R);let Q=0;const ne=new Uint8Array(T.buffer);for(let he=0;he<R;he++){const Ce=he<_?$:D;V[he]=ne.slice(J,J+Ce),M[he]=Y.encode(V[he]),J+=Ce,Q=Math.max(Q,Ce)}const K=new Uint8Array(U);let se=0,le,de;for(le=0;le<Q;le++)for(de=0;de<R;de++)le<V[de].length&&(K[se++]=V[de][le]);for(le=0;le<z;le++)for(de=0;de<R;de++)K[se++]=M[de][le];return K}function A(T,O,H,U){let L;if(Array.isArray(T))L=g.fromArray(T);else if(typeof T=="string"){let S=O;if(!S){const $=g.rawSplit(T);S=u.getBestVersionForData($,H)}L=g.fromString(T,S||40)}else throw new Error("Invalid data");const G=u.getBestVersionForData(L,H);if(!G)throw new Error("The amount of data is too big to be stored in a QR Code");if(!O)O=G;else if(O<G)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+G+`.
`);const R=C(O,H,L),F=t.getSymbolSize(O),_=new r(F);return m(_,O),b(_),w(_,O),E(_,H,0),O>=7&&x(_,O),I(_,R),isNaN(U)&&(U=s.getBestMask(_,E.bind(null,_,H))),s.applyMask(U,_),E(_,H,U),{modules:_,version:O,errorCorrectionLevel:H,maskPattern:U,segments:L}}return kC.create=function(O,H){if(typeof O>"u"||O==="")throw new Error("No input text");let U=e.M,L,G;return typeof H<"u"&&(U=e.from(H.errorCorrectionLevel,e.M),L=u.from(H.version),G=s.from(H.maskPattern),H.toSJISFunc&&t.setToSJISFunction(H.toSJISFunc)),A(O,L,U,G)},kC}var VC={},GC={},WV;function Fae(){return WV||(WV=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:a,scale:a?4:s,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const a=t.getScale(r,i);return Math.floor((r+i.margin*2)*a)},t.qrToImageData=function(r,i,a){const s=i.modules.size,o=i.modules.data,l=t.getScale(s,a),u=Math.floor((s+a.margin*2)*l),d=a.margin*l,h=[a.color.light,a.color.dark];for(let g=0;g<u;g++)for(let m=0;m<u;m++){let b=(g*u+m)*4,w=a.color.light;if(g>=d&&m>=d&&g<u-d&&m<u-d){const x=Math.floor((g-d)/l),E=Math.floor((m-d)/l);w=h[o[x*s+E]?1:0]}r[b++]=w.r,r[b++]=w.g,r[b++]=w.b,r[b]=w.a}}})(GC)),GC}var HV;function GXe(){return HV||(HV=1,(function(t){const e=Fae();function n(i,a,s){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=s,a.width=s,a.style.height=s+"px",a.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,s,o){let l=o,u=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(u=r()),l=e.getOptions(l);const d=e.getImageWidth(a.modules.size,l),h=u.getContext("2d"),g=h.createImageData(d,d);return e.qrToImageData(g.data,a,l),n(h,u,d),h.putImageData(g,0,0),u},t.renderToDataURL=function(a,s,o){let l=o;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const u=t.render(a,s,l),d=l.type||"image/png",h=l.rendererOpts||{};return u.toDataURL(d,h.quality)}})(VC)),VC}var KC={},qV;function KXe(){if(qV)return KC;qV=1;const t=Fae();function e(i,a){const s=i.a/255,o=a+'="'+i.hex+'"';return s<1?o+" "+a+'-opacity="'+s.toFixed(2).slice(1)+'"':o}function n(i,a,s){let o=i+a;return typeof s<"u"&&(o+=" "+s),o}function r(i,a,s){let o="",l=0,u=!1,d=0;for(let h=0;h<i.length;h++){const g=Math.floor(h%a),m=Math.floor(h/a);!g&&!u&&(u=!0),i[h]?(d++,h>0&&g>0&&i[h-1]||(o+=u?n("M",g+s,.5+m+s):n("m",l,0),l=0,u=!1),g+1<a&&i[h+1]||(o+=n("h",d),d=0)):l++}return o}return KC.render=function(a,s,o){const l=t.getOptions(s),u=a.modules.size,d=a.modules.data,h=u+l.margin*2,g=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",m="<path "+e(l.color.dark,"stroke")+' d="'+r(d,u,l.margin)+'"/>',b='viewBox="0 0 '+h+" "+h+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+b+' shape-rendering="crispEdges">'+g+m+`</svg>
`;return typeof o=="function"&&o(null,x),x},KC}var VV;function YXe(){if(VV)return U1;VV=1;const t=TXe(),e=VXe(),n=GXe(),r=KXe();function i(a,s,o,l,u){const d=[].slice.call(arguments,1),h=d.length,g=typeof d[h-1]=="function";if(!g&&!t())throw new Error("Callback required as last argument");if(g){if(h<2)throw new Error("Too few arguments provided");h===2?(u=o,o=s,s=l=void 0):h===3&&(s.getContext&&typeof u>"u"?(u=l,l=void 0):(u=l,l=o,o=s,s=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(o=s,s=l=void 0):h===2&&!s.getContext&&(l=o,o=s,s=void 0),new Promise(function(m,b){try{const w=e.create(o,l);m(a(w,s,l))}catch(w){b(w)}})}try{const m=e.create(o,l);u(null,a(m,s,l))}catch(m){u(m)}}return U1.create=e.create,U1.toCanvas=i.bind(null,n.render),U1.toDataURL=i.bind(null,n.renderToDataURL),U1.toString=i.bind(null,function(a,s,o){return r.render(a,o)}),U1}var ZXe=YXe();const JXe=ja(ZXe);function XXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const kw=k.forwardRef(XXe);function QXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const eQe=k.forwardRef(QXe);function tQe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const iO=k.forwardRef(tQe);function nQe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const rQe=k.forwardRef(nQe);function iQe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const aQe=k.forwardRef(iQe);function sQe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const oQe=k.forwardRef(sQe);function Iw(t){return t?{"privy-ui":"t"}:void 0}class sg{async authenticate(){if(!this.api)throw new me("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new me("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(oEe,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Sn(e)}}async link(){if(!this.api)throw new me("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new me("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(lEe,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw Sn(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new me("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new me("Email must be set when initialzing authentication.");let i=Iw(r);try{return await this.api.post(sEe,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(a){throw Sn(a)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class lQe extends sg{async link(){if(!this.api)throw new me("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new me("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(uEe,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw Sn(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class zae{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map((([e])=>e))}}function CT(){try{let t="privy:__session_storage__test",e=new zae;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Bt=typeof window<"u"&&window.localStorage?new zae:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function Wae(t){return{name:t.metadata?.shortName||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function GV(t,e){let n=Wae(e);if(n.universalLink)return aO(n.universalLink,t)}let YC="WALLETCONNECT_DEEPLINK_CHOICE";function Hae(t){return t.startsWith("http://")||t.startsWith("https://")}function qae(t,e){if(Hae(t))return aO(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function aO(t,e){if(!Hae(t))return qae(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function Vae(t,e){window.open(t,e,"noreferrer noopener")}class Ya{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class KV{get meta(){return this._meta}async authenticate(){if(!this.api)throw new me("Auth flow has no API instance");if(!this.meta.channelToken)throw new me("Auth flow must be initialized first");try{let e=await this.api.post(tEe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new me("No response from authentication");return e}catch(e){throw Sn(e)}}async link(){if(!this.api)throw new me("Auth flow has no API instance");try{return await this.api.post(nEe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw Sn(e)}}async _startChannelOnce(){if(!this.api)throw new me("Auth flow has no API instance");let e=await this.api.post(eEe,{token:this.captchaToken});Dn.isMobile&&!Dn.isIOS&&e.connect_uri&&Vae(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new me("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new me("Auth flow has no API instance");if(!this.meta.channelToken)throw new me("Auth flow must be initialized first");let e=await this.api.get(rEe,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new Ya(this._startChannelOnce.bind(this)),this.pollForReady=new Ya(this._pollForReady.bind(this)),this._meta.disableSignup=n}}const ST="https://auth.privy.io",Pr=1400,sO=2500,J8=4e3,cQe="2.25.0",L2="privy:token",YV="privy-token",ZC="privy:refresh_token",R5="privy:pat",ZV="privy:id_token",JV="privy-id-token",JC="privy-session",kT="privy:caid",Gae=t=>`privy:guest:${t}`,Fx=t=>`privy:cross-app:${t}`,K6="privy:state_code",y2="privy:code_verifier",Y6="privy:headless_oauth",fb="privy:oauth_disable_signup",XC=t=>`privy:wallet:${t}`,XV="privy:connectors",Kae="privy:connections",X8=12e4,Yae=3e4,uQe="https://api.moonpay.com/v1",dQe="https://api.moonpay.com/v1",fQe="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",hQe="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI";function oO(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function Zae(){return oO()?window.chrome?.runtime?.id:void 0}function IT(){return oO()?typeof window.chrome?.identity?.launchWebAuthFlow=="function":!1}async function QV(t){return new Promise(((e,n)=>{IT()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(async r=>{try{let i=(function(){return oO()?window.chrome?.runtime?.lastError?.message:void 0})();if(i||!r){let u=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(u)}let a=new URL(r),s=Zae();if(!s)throw Error("Invalid extension context");if(a.protocol==="chrome-extension:"){if(a.hostname!==s)throw Error("Invalid responseUri origin")}else{if(a.protocol!=="https:")throw Error("Invalid responseUri protocol");{let u=a.hostname.split(".");if(u.length!==3||u[1]!=="chromiumapp"||u[2]!=="org"||u[0]!==s)throw Error("Invalid responseUri origin")}}let o=a.searchParams.get("privy_oauth_state"),l=a.searchParams.get("privy_oauth_code");if(!o||!l)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:o,privyOAuthCode:l})}catch(i){n(i)}})):n(Error("Chrome identity API not available"))}))}function TT(t){return crypto.getRandomValues(new Uint8Array(t))}function Q8(){return H0(TT(36))}function lO(){return Q8()}async function cO(t,e="S256"){if(e!="S256")return t;{let n=await(async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))})(t);return H0(n)}}class Y1{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new me("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new me("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new me("User denied confirmation during OAuth flow");let e=(function(){let n=Bt.get(y2);if(!n)throw new me("Authentication error.");return n})();try{let n=await this.api.post(jQ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Bt.del(y2),Bt.del(Y6),Bt.del(fb),n}catch(n){let r=Sn(n);throw r.privyErrorCode?new me(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new me("Invalid code during oauth flow.",void 0,ye.OAUTH_USER_DENIED):new me("Invalid code during OAuth flow.",void 0,ye.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new me("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new me("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new me("User denied confirmation during OAuth flow");let e=Bt.get(y2);if(!e)throw new me("Authentication error.");try{let n=await this.api.post(DQ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Bt.del(y2),n}catch(n){throw Sn(n)}}async getAuthorizationUrl(){if(!this.api)throw new me("Auth flow has no API instance");if(!this.meta.provider)throw new me("Provider must be set when initializing OAuth authentication.");let e=Q8();Bt.put(y2,e);let n=lO();Bt.put(K6,n);let r=await cO(e);this.meta.withPrivyUi||Bt.put(Y6,!0),this.meta.disableSignup?Bt.put(fb,!0):Bt.del(fb);let i=Iw(this.meta.withPrivyUi),a=window.location.href,s=(function(){let o=Zae();if(o)return`https://${o}.chromiumapp.org`})();s&&(a=s);try{return await this.api.post(MQ,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||a,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(o){throw Sn(o)}}constructor(e){this.meta=e}}function Jae(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Xae=({style:t,...e})=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),p.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),p.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),Qae=({style:t,...e})=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),p.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),ese=({style:t,...e})=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),p.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),pQe=({style:t})=>p.jsx(jae,{style:{color:"var(--privy-color-error)",...t}}),tse=t=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),p.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),p.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),p.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),p.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function nse(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"b",children:[p.jsx("stop",{offset:"0",stopColor:"#3771c8"}),p.jsx("stop",{stopColor:"#3771c8",offset:".128"}),p.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),p.jsxs("linearGradient",{id:"a",children:[p.jsx("stop",{offset:"0",stopColor:"#fd5"}),p.jsx("stop",{offset:".1",stopColor:"#fd5"}),p.jsx("stop",{offset:".5",stopColor:"#ff543e"}),p.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),p.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),p.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),p.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),p.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),p.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function rse(t){return p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),p.jsxs("defs",{children:[p.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:p.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),p.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function ise(t){return p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),p.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),p.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_1715_1956",children:p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function ase(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[p.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),p.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function sse(t){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:p.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const ose=t=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),p.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});let eG={google:{name:"Google",component:tse},discord:{name:"Discord",component:Qae},github:{name:"Github",component:ese},linkedin:{name:"LinkedIn",component:ise},twitter:{name:"Twitter",component:ose},spotify:{name:"Spotify",component:ase},instagram:{name:"Instagram",component:nse},tiktok:{name:"Tiktok",component:sse},line:{name:"LINE",component:rse},apple:{name:"Apple",component:Xae}};const QC=t=>t in eG?eG[t]:{name:"Unknown",component:pQe};function gQe(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!Bt.get(Y6),popupFlow:window.opener!==null&&i,disableSignup:!!Bt.get(fb)}}function $T(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Bt.del(K6),window.history.replaceState({},"",t)}class L1{async initRegisterFlow(e){if(!this.api)throw new me("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new me("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new me("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await lo(()=>import("./index.RgRXXzcQ.js"),[]);if(!this.api)throw new me("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new me("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let n=this.meta.initRegisterResponse.options,r=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(n));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(IEe,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new me("Passkey request timed out or rejected by user.",void 0,ye.PASSKEY_NOT_ALLOWED):Sn(n)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await lo(()=>import("./index.RgRXXzcQ.js"),[]);if(!this.api)throw new me("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new me("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=this.meta.allowedCredentialsIds?.map((r=>({type:"public-key",id:r})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let r=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n}));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(kEe,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(r)})}catch(r){throw r.name==="NotAllowedError"?new me("Passkey request timed out or rejected by user.",void 0,ye.PASSKEY_NOT_ALLOWED):Sn(r)}}async link(){let e=await lo(()=>import("./index.RgRXXzcQ.js"),[]);if(!this.api)throw new me("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new me("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let n=this.meta.initLinkResponse.options,r=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(n));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(SEe,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new me("Passkey request timed out or rejected by user.",void 0,ye.PASSKEY_NOT_ALLOWED):Sn(n)}}async _initRegisterOnce(e){if(!this.api)throw new me("Auth flow has no API instance");let n=Iw(e);return await this.api.post(CEe,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new me("Auth flow has no API instance");let n=Iw(e);return await this.api.post(AEe,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new me("Auth flow has no API instance");return await this.api.post(_Ee,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map((n=>({type:n.type,alg:n.alg}))),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports}))),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports})))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n}){this.authenticateForRegistration=!1,this.initRegisterOnce=new Ya(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new Ya(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new Ya(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n}}}const NT=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class Sg{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new me("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.wallet?.walletClientType,connectorType:this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new me("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Sn(e)}}async link(){if(!this.client)throw new me("SiweFlow has no client instance");try{if(!this.wallet)throw new me("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Sn(e)}}async sign(){if(!this.client)throw new me("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new me("Could not prepare SIWE message");if(!this.wallet)throw new me("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new me("SiweFlow has no client instance");if(!this.wallet)throw new me("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new me("SiweFlow has no client instance");if(!this.wallet)throw new me("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=NT({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,a){this._meta={disableSignup:!1},this.getNonceOnce=new Ya(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=a?.message,this.signature=a?.signature}}const Pa=(...t)=>{if(typeof _t>"u")throw new me("Buffer is not defined.",void 0,ye.BUFFER_NOT_DEFINED);return _t.from(...t)},mQe=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class Z6{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new me("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw Sn(e)}}async link(){if(!this.client)throw new me("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw Sn(e)}}async sign(){let e,n;if(!this.client)throw new me("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new me("Could not prepare SIWS message");if(!r&&!this.wallet.signMessage||r&&!this.wallet.signTransaction)throw new me("Wallet does not support the necessary signing methods");if(r&&this._siwsTransactionMethods){let i=await this.wallet.signTransaction(this._siwsTransactionMethods.deserializeTransactionFromB64String(this.preparedMessage));e=i.serialize().toString("base64"),n=Pa(i.signatures[0]?.signature??_t.from("missing signature")).toString("base64")}else e=this.preparedMessage,n=Pa(await this.wallet.signMessage(new TextEncoder().encode(this.preparedMessage))).toString("base64");return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new me("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new me("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._siwsTransactionMethods?this.preparedMessage=this._siwsTransactionMethods.prepareSiwsTransactionWithMemo({address:e,nonce:this.nonce}):this.preparedMessage=mQe({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,a="plain",s){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new Ya(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=a,this._siwsTransactionMethods=s}}class og{async authenticate(){if(!this.api)throw new me("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new me("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(gEe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Sn(e)}}async link(){if(!this.api)throw new me("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new me("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(hEe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Sn(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new me("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new me("phone nNumber must be set when initialzing authentication.");let i=Iw(r);try{return await this.api.post(fEe,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(a){throw Sn(a)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class yQe extends og{async link(){if(!this.api)throw new me("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new me("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(mEe,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Sn(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}const lse=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,cse=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||lse(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!cse(n))return!1}return!0},use=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},Qg=(t,e,n,r)=>{let i=Number(t),a=e.find((s=>s.id===i));if(!a)throw new br(`Unsupported chainId ${t}`,4901);return Ed({transport:_d(kd(a,n,r.appId)),chain:a})},kd=(t,e,n)=>{let r,i=t.id,a=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[a])r=e.rpcUrls[a];else if(t.rpcUrls.privy?.http[0]){let s=new URL(t.rpcUrls.privy.http[0]);s.searchParams.append("privyAppId",n),r=s.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new br(`No RPC url found for ${i}`);return r},dse=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),fa=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},eS=(t,e=3,n=4)=>fa(t,e,n,"solana"),J6=t=>new Promise((e=>setTimeout(e,t))),PT=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise((async(i,a)=>{let s=!1,o=0;for(;!s&&o<r;){if(e.abortSignal?.aborted)return;t().then((l=>{s=!0,i(l)}),((...l)=>{s=!0,a(...l)})),o+=1,await J6(n)}s||a(Error("Exceeded max attempts before resolving function"))}))},fse=(t,e,n={},r={})=>{let i=new URL(e,t);for(let[s,o]of Object.entries(n))o!==void 0&&i.searchParams.set(s,o);let a=Object.entries(r);if(a.length>0){let s=new URLSearchParams;for(let[o,l]of a)s.append(o,l);i.hash=s.toString()}return i.href},bQe=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),OT=t=>typeof t=="string"?t:"0x"+t.toString(16);async function wQe({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let a=!1,s=window;return new Promise((o=>{function l(){if(a)return;a=!0,window.removeEventListener("ethereum#initialized",l);let u=t.getProviders();console.debug("Detected injected providers:",u.map((h=>h.info)));let d=[];for(let h of u)e.includes("coinbase_wallet")&&h.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&h.info.rdns==="app.phantom"||d.push({type:h.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:h});if(r!=="solana-only")for(let h of(function(){let g=window,m=g.ethereum;if(!m)return[];let b=[];if(m.providers?.length)for(let w of m.providers)w&&b.push(w);return b.push(g.ethereum),b})()){let g=lse(h);if(!u.some((m=>m.info.name===g))){if(cse(h,!0)&&!d.find((m=>m.type==="metamask"))){d.push({type:"metamask",legacyInjectedProvider:h});continue}if(g==="Phantom"&&!d.find((m=>m.type==="phantom"))){d.push({type:"phantom",legacyInjectedProvider:h});continue}if(g==="Coinbase Wallet"&&!d.find((m=>m.type==="coinbase_wallet"&&n.coinbaseWallet?.config?.preference?.options!=="smartWalletOnly"))){d.push({type:"coinbase_wallet",legacyInjectedProvider:h});continue}d.find((m=>m.type==="unknown_browser_extension"))||d.push({type:"unknown_browser_extension",legacyInjectedProvider:h})}}o(d)}s.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout((()=>{l()}),i))}))}function hb(t){return`eip155:${String(Number(t))}`}const vQe=(t,e,n,r)=>{let i=Number(t),a=e.find((s=>s.id===i));if(!a)throw new br(`Unsupported chainId ${t}`,4901);return kd(a,n,r)},M5=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map((([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}})).filter((r=>r!==void 0));return{...t,types:{...t.types,EIP712Domain:n}}},hse=k.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:Oe,setError:Oe,setExecuting:Oe,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:Oe,reset:Oe,execute:Oe});class e9 extends Ma{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const xQe=({children:t,id:e,captchaSiteKey:n,captchaEnabled:r})=>{let i=k.useRef(null),[a,s]=k.useState(),[o,l]=k.useState(),[u,d]=k.useState(!1),h=k.useMemo((()=>r?u||a||o?!u||a||o?a&&!o?{status:"success",token:a}:o?{status:"error",error:o}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"}),[r,a,o,u]);return p.jsx(hse.Provider,{value:{...h,ref:i,enabled:r,siteKey:n,appId:e,setToken:s,setError:l,setExecuting:d,remove(){r&&(i.current?.remove(),d(!1),l(void 0),s(void 0))},reset(){r&&(i.current?.reset(),d(!1),l(void 0),s(void 0))},execute(){r&&(d(!0),i.current?.execute())},async waitForResult(){if(!r)return"";try{return await(function(g,{interval:m=100,timeout:b=5e3}={}){return new Promise(((w,x)=>{let E,I=0,C=()=>{I>=b?x("Max attempts reached without result"):(E=g(),I+=m,E==null?setTimeout(C,m):w(E))};C()}))})((()=>i.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new e9("Captcha failed",null,ye.CAPTCHA_TIMEOUT)}}},children:t})},Ds=()=>k.useContext(hse);class b2{async authenticate(){if(!this.api)throw new me("Auth flow has no API instance");try{return await this.api.post(TEe,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Sn(e)}}async link(){if(!this.api)throw new me("Auth flow has no API instance");try{return await this.api.post($Ee,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw Sn(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function tG(t){let e={detail:"",retryable:!1};return t?.privyErrorCode===ye.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),t?.privyErrorCode===ye.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),t?.privyErrorCode===ye.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ye.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ye.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),t?.privyErrorCode===ye.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof e9&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function nG(t){return Object.fromEntries(decodeURIComponent(t).split("&").map((e=>e.split("=").map(decodeURIComponent))))}function rG(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}class Gf{static parse(e){try{return new Gf(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return Mk(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=Mk(e)}}class uO extends Gf{static parse(e){try{return new uO(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let iG=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const ua=(t,e)=>{if(e?.imported)return iG(e);let n=cl(t);if(!n)throw Error("Failed to find primary wallet");return iG(n)},EQe=({style:t,...e})=>p.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[p.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),pse="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",gse="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class mse extends br{constructor(){super("Wallet timeout"),this.type="wallet_error"}}class yse extends br{constructor(){super("User rejected connection"),this.type="wallet_error"}}const Eh=t=>t instanceof br?t:t?.code?new ka(t):new br("Unknown connector error",t);class kg extends Ma{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}}class ka extends kg{constructor(e){super(e.message,e.code,e.data);let n=Object.values(Hl).find((r=>r.eipCode===e.code));this.details=n||Hl.UNKNOWN_ERROR,e.code===-32002&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=Hl.E32002_CONNECTION_ALREADY_PENDING:this.details=Hl.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Hl.E32002_WALLET_LOCKED))}}const Kf={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Hl};function nd(t){return t.type==="ethereum"}function RT(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r?.address!==i?.address||r&&i&&nd(r)&&nd(i)&&r?.chainId!==i?.chainId||r?.connectorType!==i?.connectorType||r?.connectedAt!==i?.connectedAt||r?.walletClientType!==i?.walletClientType||r?.isConnected!==i?.isConnected||r?.linked!==i?.linked)return!1}return!0}class bse extends dp{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const dO=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||X8;let F1,w2;function v2(t){return t.chainType==="ethereum"}class Ap extends bse{buildConnectedWallet(e,n,r,i){let a=async()=>!!this.wallets.find((s=>Qr(s.address)===Qr(e)));return{type:"ethereum",address:Qr(e),chainId:n,meta:r,imported:i,switchChain:async s=>{let o,l;if(!a)throw new br("Wallet is not currently connected.");let u=this.wallets.find((g=>Qr(g.address)===Qr(e)))?.chainId;if(!u)throw new br("Unable to determine current chainId.");if(typeof s=="number"?(o=`0x${s.toString(16)}`,l=s):(o=s,l=Number(s)),u===hb(o))return;let d=this.chains.find((g=>g.id===l));if(!d)throw new br(`Unsupported chainId: ${s}`);let h=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:o}]})};try{return await h()}catch(g){if(((m,b)=>{switch(b){case"coinbase_wallet":case"base_account":return m.message.includes("addEthereumChain");case"rabby_wallet":return m.message.includes("Unrecognized chain ID");default:return m.code===4902||m.message?.includes("4902")}})(g,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await J6(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:o,chainName:d.name,nativeCurrency:d.nativeCurrency,rpcUrls:[d.rpcUrls.default?.http[0]??""],blockExplorerUrls:[d.blockExplorers?.default.url??""]}]}),h();throw this.walletClientType==="rainbow"&&g.message?.includes("wallet_switchEthereumChain")?new br(`Rainbow does not support the chainId ${n}`):g}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:a,getEthereumProvider:async()=>{if(!await a())throw new br("Wallet is not currently connected.");return this.proxyProvider},sign:async s=>{if(!await a())throw new br("Wallet is not currently connected.");return await this.sign(s)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let l=await PT((()=>this.proxyProvider.request({method:"eth_accounts"})),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,l),Array.isArray(l)&&(r=l)}}catch(l){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",l)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0],a=Qr(i),s=[];if(this.walletClientType==="privy"){let l=Bt.get(XC(a));this.chains.find((u=>u.id===Number(l)))||(Bt.del(XC(a)),l=null),n=l||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let l=await PT((()=>this.proxyProvider.request({method:"eth_chainId"})),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,l),typeof l=="string")n=l;else{if(typeof l!="number")throw Error("Invalid chainId returned from provider");n=`0x${l.toString(16)}`}}catch(l){console.warn("Failed to get chainId from provider, defaulting to 0x1",l),n="0x1"}let o=hb(n);if(!s.find((l=>Qr(l.address)===a))){let l={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};s.push(this.buildConnectedWallet(Qr(i),o,l,this.connectorType==="embedded_imported"))}RT(s,this.wallets)||(this.wallets=s,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort(((n,r)=>r.connectedAt-n.connectedAt)).find((n=>e.find((r=>Qr(r)===Qr(n.address)))))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[ni(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=a=>{a.length===0?this.onDisconnect():this.syncAccounts(a)},this.onChainChanged=a=>{this.wallets.forEach((s=>{s.chainId=hb(a),this.walletClientType==="privy"&&Bt.put(XC(s.address),a)})),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await J6(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=dO(i,e),this.connected=!1,this.initialized=!1}}class _h{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new br(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch((n=>{throw Eh(n)}))}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new mse,i=this.rpcTimeoutDuration)=>new Promise(((a,s)=>setTimeout((()=>{s(r)}),i))),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach((i=>{this.removeListener(i.eventName,i.listener)})),this.walletProvider=r,this._subscriptions.forEach((i=>{this.walletProvider?.on(i.eventName,i.listener)}))},this.walletProvider=e,this.rpcTimeoutDuration=n||X8,this._subscriptions=[]}}class _Qe extends Ap{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:gse,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new br("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Eh(e)}}constructor(e,n,r,i,a){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=a,this.proxyProvider=new _h(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map((s=>s.id)))},F1?(this.proxyProvider.setWalletProvider(F1.getProvider()),this.setBaseAccountSdk(F1),console.log("Base Account SDK Initialized")):this.importPromise=lo(()=>import("./index.CG4e3Ibd.js"),[]).then((({createBaseAccountSDK:s})=>{F1=s(this.baseAccountConfig),this.proxyProvider.setWalletProvider(F1.getProvider()),this.setBaseAccountSdk(F1),console.log("Base Account SDK Initialized")})).catch(console.error)}}let AQe=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class CQe extends Ap{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:pse,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new br("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Eh(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",w2=jF({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(w2.getProvider())}constructor(e,n,r,i){if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new _h(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map((a=>a.id)))},this.walletClientType=this.coinbaseWalletConfig.preference?.options==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!w2){let a=this.coinbaseWalletConfig.preference?.options!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter((s=>!AQe.includes(s))):[];a.length>0&&!a.every((s=>CX.has(s)))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${a.join(", ")}`),w2=jF(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(w2.getProvider())}}const wse=({...t})=>p.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class aG extends Ap{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[OT(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:wse,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:a,walletIndex:s}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=s,a&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const SQe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class Nl extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class sG extends dp{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Nl(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await nr()||!this.address)throw new Nl("Disconnected",4900);let{hash:r}=await zlt(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Nl(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await nr()||!this.address)throw new Nl("Disconnected",4900);let{signature:r}=await Flt(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Nl(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Nl(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=Qg(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await Ult({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await Llt(M5(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:OT(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...kee(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return OT(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>SQe.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await nr();if(await Wlt({address:this.address}),!n||!this.address)throw new Nl("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&Fi(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new Nl("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new Nl("Disconnected",4900);if(e.method==="secp256k1_sign"){let a=await Ha(i,(async({message:s})=>this.walletProxy.signWithUserSigner({accessToken:r,message:s})),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(a.method!=="secp256k1_sign")throw new Nl(`Invalid params for ${e.method}`,4200);return a.data.signature}throw new Nl(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:a,chains:s,appId:o,chainId:l=1,walletIndex:u,privyClient:d,walletAccount:h}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=l,this.rpcConfig=a,this.chains=s,this.publicClient=Qg(l,this.chains,a,{appId:o}),this.rpcTimeoutDuration=dO(a,"privy"),this.appId=o,this.walletIndex=u,this.privyClient=d,this.walletAccount=h}}class fO extends Ap{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:a}){super(i,[],a,{}),this.connectorType="null",this.proxyProvider=new _h(void 0,X8),this.id=e,this.name=n,this.icon=r,this.connectorType=i}}const hO=({style:t,...e})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),MT=({...t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[p.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),p.jsx("g",{transform:"translate(4, 4)",children:p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[p.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),p.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),p.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),p.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),p.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),p.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),p.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),p.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),p.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),p.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),p.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),p.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),p.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),vse=({style:t,...e})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[p.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function tS(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var kQe=0;class xse extends Ap{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new br("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Eh(e)}}constructor(e,n,r,i,a){super(a||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new _h(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let s=i.provider;this.proxyProvider.setWalletProvider(s)}}var Xh="__private_"+kQe+++"__walletBranding";class nS extends Ap{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return tS(this,Xh)[Xh]??{name:"Browser Extension",icon:hO,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new br("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Eh(e)}}constructor(e,n,r,i,a){super(a??"unknown",e,n,r),Object.defineProperty(this,Xh,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new _h(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),a==="metamask"?tS(this,Xh)[Xh]={name:"MetaMask",icon:MT,id:"io.metamask"}:a==="phantom"&&(tS(this,Xh)[Xh]={name:"Phantom",icon:vse,id:"phantom"})}}class IQe extends xse{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Dn.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new br("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Eh(e)}}}const TQe=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitkeep","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],pO=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:Dn.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let t=window;if(t?.phantom?.ethereum?.isPhantom&&t?.phantom?.ethereum?.chainId||t?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=zx({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:Dn.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=zx({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=zx({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+zx({client:this.client,isSolana:t,connectOnly:e}))}}});function Ese({connectorType:t,walletClientType:e}){for(let n of TQe)if(t===n||e===n)return pO[n]}function zx({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}const j5=()=>{let t=Bt.get(Kae);return t&&Array.isArray(t)&&t.map((e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e))).every(Boolean)?t:[]};let $Qe=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function NQe(t){return t.toLowerCase().split(" ").join("_")}class PQe extends bse{get isInstalled(){return this.adapter.readyState==="Installed"}get wallet(){return this.adapter.wallet}buildConnectedWallet(e,n){let r,i,a,s;if(e.readyState!=="Installed"||!e.publicKey)throw Error("Wallet is not connected.");return"signMessage"in e&&(r=async(...o)=>{if(!e.connected)throw Error("Wallet is not connected.");return await e.signMessage(o[0])}),"sendTransaction"in e&&(i=async(...o)=>await e.sendTransaction(o[0],o[1],o[2])),"signTransaction"in e&&(a=async o=>await e.signTransaction(o)),"signAllTransactions"in e&&(s=async o=>await e.signAllTransactions(o)),{type:"solana",address:e.publicKey.toBase58(),meta:n,imported:!1,connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:async()=>e.connected,disconnect:()=>{try{e.disconnect()}catch{console.error("Wallet does not support programmatic disconnect")}},getProvider:Jy(`${this.walletClientType||""} wallet does not support 'getProvider'`),signMessage:r??Jy(`${this.walletClientType||""} wallet does not support 'signMessage'`),sendTransaction:i??Jy(`${this.walletClientType||""} wallet does not support 'sendTransaction'`),signTransaction:a??Jy(`${this.walletClientType||""} wallet does not support 'signTransaction'`),signAllTransactions:s??Jy(`${this.walletClientType||""} wallet does not support 'signAllTransactions'`)}}async syncAccounts(){if(this.adapter.readyState==="Installed"&&this.adapter.publicKey){let e={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};this.wallets.find((n=>this.adapter.publicKey&&n.address===this.adapter.publicKey.toBase58()))||(this.wallets=[this.buildConnectedWallet(this.adapter,e)],this.emit("walletsUpdated"))}else this.wallets.length>0&&(this.wallets=[],this.emit("walletsUpdated"))}get walletBranding(){return{id:this.adapter.name,name:this.adapter.name,icon:this.adapter.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await this.adapter.autoConnect().catch((()=>{})),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort(((e,n)=>n.connectedAt-e.connectedAt))[0]||null}async isConnected(){return this.adapter.connected&&["Installed"].includes(this.adapter.readyState)}subscribeListeners(){this.adapter.addListener("disconnect",this.onDisconnect),this.adapter.addListener("connect",this.onConnect),this.adapter.addListener("error",this.onError),this.adapter.addListener("readyStateChange",this.onReadyStateChange)}unsubscribeListeners(){this.adapter.removeAllListeners()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!$Qe.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||j5().some((({walletClientType:e})=>e==="phantom")))}constructor(e,n){super(NQe(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.adapter.disconnect().then((()=>this.onDisconnect())).catch((r=>console.error("Error disconnecting",r)))},this.promptConnection=async()=>{try{await this.adapter.connect()}catch(r){throw Eh(r)}},this.onDisconnect=()=>{this.syncAccounts()},this.onConnect=r=>{this.syncAccounts()},this.onError=r=>{this.syncAccounts()},this.onReadyStateChange=r=>{r!=="Installed"&&(this.connected=!1),this.syncAccounts()},this.adapter=e,this.autoConnectEnabled=n,this.wallets=[]}}class gO extends PQe{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new _h(void 0,X8),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}}function OQe(t){return t.chainType==="solana"}function oG(t){return t.type==="solana"}const _v=Cm((()=>({listings:[]}))),RQe=_v.setState,rS=t=>{let e;try{e=new URL(t).hostname}catch{return}return _v.getState().listings.find((({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)}))},Md=t=>_v((({listings:e})=>e.find((({slug:n})=>X6(n)===X6(t)))));function X6(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function MQe({src:t,...e}){return p.jsx("img",{src:t,...e,style:{display:"none"}})}const Oc={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",externalWallets:{coinbaseWallet:{connectionOptions:"all"}},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let jQe=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_wallets","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitkeep"]),lG=t=>jQe.has(t),cG=(t,e,n)=>n.indexOf(t)===e;const jT=792703809,DT="11111111111111111111111111111111";function Dm(t){return t.includes("testnet")?"testnet":t.includes("devnet")?"devnet":"mainnet-beta"}function DQe(t,e){return`https://explorer.solana.com/account/${t}?cluster=${e}`}function Wx(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return kt({...t.toHsl(),l:n})}function iS(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function BQe({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=kt(t).getLuminance(),r=kt(t).toHslString());let i=n?"dark":"light",a=n?x2:Hx,{accent:s,accentLight:o,accentHover:l,accentDark:u,accentDarkest:d}=(function(b,w){if(!b){let E=w?x2:Hx;return{accent:kt(E.background.interactive),accentLight:kt(E.background.interactive),accentHover:kt(E.background["interactive-hover"]),accentDark:kt(E.background["interactive-clicked"]),accentDarkest:kt(E.background["interactive-disabled"])}}let x=kt(b);return{accent:x,accentLight:Wx(x,.15),accentHover:Wx(x,.3),accentDark:Wx(x,-.06),accentDarkest:Wx(x,-.6)}})(e,n),h=(function(b){let w=kt(Hx.text.default),x=kt(x2.text.default),E=iS(b,w),I=iS(b,x),C=b.toHsl();return C.h>=220&&C.h<=300&&I>=3?x2.text.default:E>I?Hx.text.default:x2.text.default})(s),g=kt(h),m=iS(s,kt(a.background.default))>=3;return{colorScheme:i,background:r||a.background.default,background2:a.background.elevated,background3:a.background.interactive,foreground:a.text.default,foreground2:a.text.muted,foreground3:a.text.placeholder,foreground4:a.border.default,accent:s.toHslString(),accentLight:o.toHslString(),accentHover:l.toHslString(),accentDark:u.toHslString(),accentDarkest:d.toHslString(),foregroundAccent:g.toHslString(),success:a.background.success,successDark:a.text.success,successLight:a.background.success,error:a.text.error,errorLight:a.background.error,warn:a.background.warning,warnLight:a.background.warning,warningDark:a.text.warning,errorDark:a.text.error,successBg:a.background.success,errorBg:a.background.error,errorBgHover:a.background["error-hover"],warnBg:a.background.warning,infoBg:a.background.info,infoBgHover:a.background["info-hover"],borderDefault:a.border.default,borderHover:a.border["default-hover"],borderFocus:a.border.focused,borderError:a.border.error,borderSuccess:a.border.success,borderWarning:a.border.warning,borderInfo:a.border.info,borderInteractive:a.border.interactive,borderInteractiveHover:a.border["interactive-hover"],backgroundHover:a.background["default-hover"],backgroundClicked:a.background["default-clicked"],backgroundDisabled:a.background["default-disabled"],backgroundInteractive:a.background.interactive,backgroundInteractiveHover:a.background["interactive-hover"],backgroundInteractiveClicked:a.background["interactive-clicked"],backgroundInteractiveDisabled:a.background["interactive-disabled"],foregroundHover:a.text.default,foregroundClicked:a.text.default,foregroundDisabled:a.text["default-disabled"],foregroundInteractive:a.text.interactive,foregroundInteractiveHover:a.text["interactive-hover"],accentHasGoodContrast:m?"1":"0",linkNavigationColor:m?s.toHslString():a.text.default,linkNavigationDecoration:m?"none":"underline",iconDefault:a.icon.default,iconMuted:a.icon.muted,iconSubtle:a.icon.subtle,iconInverse:a.icon.inverse,iconSuccess:a.icon.success,iconWarning:a.icon.warning,iconError:a.icon.error,iconInteractive:a.icon.interactive,iconDefaultHover:a.icon["default-hover"],iconMutedHover:a.icon["muted-hover"],iconSubtleHover:a.icon["subtle-hover"],iconDefaultClicked:a.icon["default-clicked"],iconMutedClicked:a.icon["muted-clicked"],iconSubtleClicked:a.icon["subtle-clicked"],iconDefaultDisabled:a.icon["default-disabled"],iconMutedDisabled:a.icon["muted-disabled"],iconSubtleDisabled:a.icon["subtle-disabled"],iconErrorHover:a.icon["error-hover"],iconInteractiveHover:a.icon["interactive-hover"],iconErrorClicked:a.icon["error-clicked"],iconInteractiveClicked:a.icon["interactive-clicked"],iconMutedDisabledAlt:a.icon["muted-disabled"],iconSubtleDisabledAlt:a.icon["subtle-disabled"]}}const x2={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Hx={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function _se(t,e,n,r){let i,a,s,o,l,u,d,h,g,m,b,w,x,E,I,C,N=n?console.warn:()=>{};e?.loginMethods?(i=e.loginMethods.includes("email"),a=e.loginMethods.includes("sms"),o=e.loginMethods.includes("wallet"),l=e.loginMethods.includes("google"),u=e.loginMethods.includes("twitter"),d=e.loginMethods.includes("discord"),m=e.loginMethods.includes("spotify"),b=e.loginMethods.includes("instagram"),h=e.loginMethods.includes("tiktok"),g=e.loginMethods.includes("line"),x=e.loginMethods.includes("github"),w=e.loginMethods.includes("linkedin"),E=e.loginMethods.includes("apple"),I=e.loginMethods.includes("farcaster"),C=e.loginMethods.includes("telegram"),s=e.loginMethods.includes("passkey")):(i=t.email_auth,a=t.sms_auth,o=t.wallet_auth||t.solana_wallet_auth,l=t.google_oauth,u=t.twitter_oauth,d=t.discord_oauth,x=t.github_oauth,m=t.spotify_oauth,b=t.instagram_oauth,h=t.tiktok_oauth,g=t.line_oauth,w=t.linkedin_oauth,E=t.apple_oauth,I=t.farcaster_auth,C=t.telegram_auth,s=t.passkey_auth),t.passkey_auth&&(s=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(s=!1);let A=[i,a].filter(Boolean),T=[l,u,d,x,m,b,h,g,w,E,I,C].filter(Boolean),O=[o].filter(Boolean),H=e?.loginMethods?.includes("passkey")??!1,U=t.passkeys_for_signup_enabled??!1,L=[s&&(U||H)].filter(Boolean);if(A.length+T.length+O.length+L.length===0)throw Error("You must enable at least one login method");let G=e?.appearance?.showWalletLoginFirst!==void 0?e?.appearance?.showWalletLoginFirst:t.show_wallet_login_first;G&&O.length===0?(N("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),G=!1):G||T.length+A.length!==0||(N("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),G=!0);let R=e?.externalWallets?.walletConnect?.enabled??!0;e?.loginMethods&&e.loginMethodsAndOrder&&N("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let F=(({input:le,overrides:de})=>de?de.primary.concat(de.overflow??[]).filter(lG).filter(cG):le?le.filter(lG).filter(cG):Oc.appearance.walletList)({input:e?.appearance?.walletList,overrides:e?.loginMethodsAndOrder}),_=(({input:le})=>{if(!le||!le.primary[0])return;let de=[le.primary[0]],he=[];for(let Ce of(le.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),le.primary.slice(1)))de.includes(Ce)?console.warn(`Duplicated login method: ${Ce}`):de.push(Ce);for(let Ce of le.overflow??[])de.includes(Ce)||he.includes(Ce)?console.warn(`Duplicated login method: ${Ce}`):he.push(Ce);return{primary:de,overflow:he}})({input:e?.loginMethodsAndOrder}),S=e?.intl?.defaultCountry??"US",{chains:$,defaultChain:D}=(function({supportedChains:le,defaultChainFromConfig:de}){let he;if(le){if(le.length===0)throw Error("`supportedChains` must contain at least one chain");he=SX(le)}else he=[...Xw];let Ce=le?he[0]:bl,ke=de??Ce;if(!he.find((Ie=>Ie.id===ke.id)))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:he,defaultChain:ke}})({supportedChains:e?.supportedChains,defaultChainFromConfig:e?.defaultChain}),z=!!e?.defaultChain,Y=e?.customAuth?.getCustomAccessToken&&e?.customAuth?.enabled!==!1,J=e?.embeddedWallets?.requireUserPasswordOnCreate,V=e?.embeddedWallets?.createOnLogin,M=Y?"all-users":t.embedded_wallet_config.ethereum.create_on_login,Q=t.embedded_wallet_config.solana.create_on_login,ne={"mainnet-beta":{rpcUrl:"https://api.mainnet-beta.solana.com",blockExplorerUrl:"https://explorer.solana.com"},testnet:{rpcUrl:"https://api.testnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=testnet"},devnet:{rpcUrl:"https://api.devnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=devnet"}};if(e?.solanaClusters)for(let le of e.solanaClusters){let{name:de,rpcUrl:he,blockExplorerUrl:Ce}=le;ne[de]={rpcUrl:he??ne[de].rpcUrl,blockExplorerUrl:Ce??ne[de].blockExplorerUrl}}t.solana_wallet_auth&&!e?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let K=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,se=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:e?.appearance?.logo??t.logo_url??void 0,landingHeader:e?.appearance?.landingHeader??Oc.appearance.landingHeader,loginMessage:typeof e?.appearance?.loginMessage=="string"?e?.appearance?.loginMessage.slice(0,100):e?.appearance?.loginMessage,footerLogo:e?.appearance?.footerLogo,palette:BQe({backgroundTheme:e?.appearance?.theme??Oc.appearance.theme,accentHex:e?.appearance?.accentColor??t.accent_color}),loginGroupPriority:G?"web3-first":"web2-first",hideDirectWeb2Inputs:!!e?.appearance?.hideDirectWeb2Inputs,walletList:F,walletChainType:e?.appearance?.walletChainType??(({evmWalletAuth:le,solanaWalletAuth:de})=>le&&de?"ethereum-and-solana":le?"ethereum-only":de?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:o,email:i,sms:a,passkey:s,google:l,twitter:u,discord:d,github:x,spotify:m,instagram:b,tiktok:h,line:g,linkedin:w,apple:E,farcaster:I,telegram:C},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:_,legal:{termsAndConditionsUrl:e?.legal?.termsAndConditionsUrl??t.terms_and_conditions_url,privacyPolicyUrl:e?.legal?.privacyPolicyUrl??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:e?.walletConnectCloudProjectId??t.wallet_connect_cloud_project_id??Oc.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:e?.externalWallets?.signatureRequestTimeouts??{}},chains:$,solanaClusters:ne,defaultChain:D,intl:{defaultCountry:S},shouldEnforceDefaultChainOnConnect:z,captchaEnabled:t.captcha_enabled??Oc.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:e?.externalWallets?.coinbaseWallet?.connectionOptions??Oc.externalWallets.coinbaseWallet.connectionOptions,...e?.externalWallets?.coinbaseWallet?.config?.preference},...e?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...e?.externalWallets?.baseAccount?.config,preference:{...e?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:R,appKit:e?.externalWallets?.walletConnect?.appKit},solana:{connectors:e?.externalWallets?.solana?.connectors},disableAllExternalWallets:e?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:J??(!Y&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1)),userOwnedRecoveryOptions:Y?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:e?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:V??e?.embeddedWallets?.ethereum?.createOnLogin??M},solana:{createOnLogin:e?.embeddedWallets?.solana?.createOnLogin??Q},disableAutomaticMigration:e?.embeddedWallets?.disableAutomaticMigration??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:e?.embeddedWallets?.showWalletUIs??t.enforce_wallet_uis??!0,extendedCalldataDecoding:e?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:e?.embeddedWallets?.transactionScanning?.enabled??!1,domain:e?.embeddedWallets?.transactionScanning?.domain??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:e?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:e?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:e?.passkeys?.shouldUnenrollMfaOnUnlink},customAuth:Y?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:K,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!e?.headless,render:{standalone:e?._render?.standalone??Oc._render.standalone},fundingConfig:se,fundingMethodConfig:{...e?.fundingMethodConfig??Oc.fundingMethodConfig,moonpay:{...e?.fundingMethodConfig?.moonpay??Oc.fundingMethodConfig.moonpay,useSandbox:e?.fundingMethodConfig?.moonpay.useSandbox??e?.fiatOnRamp?.useSandbox??Oc.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e?.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":e?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":e?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":e?.solana?.rpcs?.["solana:testnet"]??null}}}const Ase={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},Cse=_se(Ase,void 0,!1);let mO=k.createContext({appConfig:Cse,isServerConfigLoaded:!1});const UQe=({children:t,client:e,legacyClient:n,clientConfig:r})=>{let[i,a]=k.useState(null),s=k.useMemo((()=>_se(i??Ase,r,!!i,typeof window<"u"?window.location.origin:void 0)),[i,r]);return k.useEffect((()=>{if(!i)return;let o=(function(d){if(!d)return{};let{appearance:h,supportedChains:g,defaultChain:m,externalWallets:b,...w}=d;return{...w,...g?{supportedChains:g.map((x=>x.id))}:void 0,...m?{defaultChain:m.id}:void 0,...b?{walletConnect:b.walletConnect?{enabled:b.walletConnect.enabled}:void 0,coinbaseWallet:b.coinbaseWallet,solana:{connectors:b.solana?.connectors?.get().map((x=>x.walletClientType))}}:void 0}})(r),l=(function(d,h=0){let g=3735928559^h,m=1103547991^h;for(let b,w=0;w<d.length;w++)g=Math.imul(g^(b=d.charCodeAt(w)),2654435761),m=Math.imul(m^b,1597334677);return g=Math.imul(g^g>>>16,2246822507)^Math.imul(m^m>>>13,3266489909),4294967296*(2097151&(m=Math.imul(m^m>>>16,2246822507)^Math.imul(g^g>>>13,3266489909)))+(g>>>0)})(JSON.stringify(o)).toString(),u=`privy:sent:${i.id}:${l}`;localStorage.getItem(u)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:o}),localStorage.setItem(u,"t"))}),[r,i]),k.useEffect((()=>{i||(async()=>{try{await e.initialize();let o=e.app.getConfig();o.custom_api_url&&n.updateApiUrl(o.custom_api_url),a(o)}catch(o){console.warn("Error generating app config: ",o)}})()}),[]),p.jsx(mO.Provider,{value:{appConfig:s,isServerConfigLoaded:!!i},children:t})},Rn=()=>{let{appConfig:t}=k.useContext(mO);return t},Sse=()=>{let{isServerConfigLoaded:t}=k.useContext(mO);return t},kse=k.createContext({app:Cse,currentScreen:null,lastScreen:null,navigate:Oe,navigateBack:Oe,resetNavigation:Oe,setModalData:Oe,onUserCloseViaDialogOrKeybindRef:void 0}),LQe=t=>{let e=Rn(),n=t.authenticated,[r,i]=k.useState(t.initialScreen);k.useEffect((()=>{n||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)}),[n]);let a=k.useRef(null);k.useEffect((()=>{t.open||(a.current=null)}),[t.open]),k.useEffect((()=>{a.current=null}),[t.initialScreen]);let s={app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:r,navigate:(o,l=!0)=>{t.setInitialScreen(o),l&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(r)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:a};return p.jsxs(kse.Provider,{value:s,children:[(typeof e.appearance.logo=="string"||e.appearance.logo?.type==="img")&&p.jsx(MQe,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},ft=()=>k.useContext(kse),FQe=({style:t,...e})=>{let{app:n}=ft();return p.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[p.jsx("rect",{width:"28",height:"28",rx:"3",fill:n?.appearance.palette.colorScheme==="dark"?"#3396ff":"#141414"}),p.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:p.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_1765_9946",children:p.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},Ise="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class Ig extends Ap{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=rS(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized"),this.modal?.subscribeState((n=>{n.open||this.walletProvider?.session||!this.onQrModalClosed||this.onQrModalClosed()}))}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:bQe(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:typeof e=="string"?e:Ise,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,(function(){try{localStorage.removeItem(YC)}catch{}})(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise(((e,n)=>{this.onQrModalClosed=()=>{n(new yse)},(async()=>{let r="",i=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(i?.length&&(r=i[0]),!r||r==="")throw new br("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=rS(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=dO(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch((r=>{n(r?Eh(r):new br("Unknown error during connection"))})).finally((()=>this.modal?.close()))}))}disconnect(){this.walletProvider?.disconnect().then((()=>this.onDisconnect())).catch((()=>console.warn("Unable to disconnect WalletConnect provider")))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let a of this.chains){let s=vQe(a.id,this.chains,this.rpcConfig,this.privyAppId);s&&(e[a.id]=s)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map((a=>a.id)),i=await hJe.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:Nae,optionalMethods:$ae,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",(a=>{if(i.signer.abortPairingAttempt(),(function(){try{localStorage.removeItem(YC)}catch{}})(),!this.showPrivyQrModal){if(!this.modal)throw new br("Unable to open connect modal");return this.modal?.open({uri:a})}if(Dn.isMobile&&this.walletEntry){let{redirect:s,href:o}=(function(u,d){let h=Wae(d);if(h.deepLink)return qae(h.deepLink,u);if(h.universalLink)return aO(h.universalLink,u);throw new me(`Unsupported wallet ${d.id}`)})(a,this.walletEntry);Vae(s,"_self"),(function({href:u,name:d}){try{localStorage.setItem(YC,JSON.stringify({href:u,name:d}))}catch{}})({href:o,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let l=GV(a,this.walletEntry);return this.redirectUri=s,this.fallbackUniversalRedirectUri=l?.redirect,this.showPrivyQrModal({native:s,universal:s})}if(this.redirectUri=void 0,this.walletEntry){let s=GV(a,this.walletEntry);this.fallbackUniversalRedirectUri=s?.redirect}this.showPrivyQrModal({native:a,universal:void 0})})),i.on("connect",(()=>{this.modal?.close(),i.session?.peer.metadata.url&&(this.walletEntry=rS(i.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")})),i}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:a,privyAppId:s,privyAppName:o,walletClientType:l,appKit:u}){super(l||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=s,this.privyAppName=o,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=a,this.proxyProvider=new _h(void 0,this.rpcTimeoutDuration),this.modal=u,l&&(this.walletEntry=(d=>_v.getState().listings.find((({slug:h})=>X6(h)===X6(d))))(l),this.walletClientType=l)}}class zQe extends dp{get wallets(){let e=new Set,n=this.walletConnectors.flatMap((i=>i.wallets)).sort(((i,a)=>i.connectedAt&&a.connectedAt?a.connectedAt-i.connectedAt:0)).filter((i=>{let a=`${i.address}${i.walletClientType}${i.connectorType}${i.meta.id}`;return!e.has(a)&&(e.add(a),!0)})),r=n.findIndex((i=>i.address===(this.activeWallet?this.activeWallet:"unknown")));return r>=0&&n.unshift(n.splice(r,1)[0]),n}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),Bt.get(XV)&&(Bt.getKeys().forEach((r=>{r.startsWith("walletconnect")&&Bt.del(r)})),Bt.del(XV)),this.externalWalletConfig.disableAllExternalWallets))return;let n=wQe({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then((r=>{r.forEach((({type:i,eip6963InjectedProvider:a,legacyInjectedProvider:s})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:i,providers:{eip6963InjectedProvider:a,legacyInjectedProvider:s}})}))}));for(let r of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(pO)))!r.isInstalled&&this.walletList.includes(r.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&r.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:r.client,walletConfig:r}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&r.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new gO({id:r.client,name:r.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),this.externalWalletConfig.solana.connectors?.get().forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.((r=>{r?.forEach(this.addSolanaWalletConnector)})),await n,this.initialized=!0}findWalletConnector(e,n){return e==="wallet_connect_v2"?this.walletConnectors.filter(v2).find((r=>r.connectorType===e))??null:this.walletConnectors.filter(v2).find((r=>r.connectorType===e&&r.walletClientType===n))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(OQe).find((n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e))??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded"))}onInitialized(e){e.wallets.forEach((n=>{let r=this.storedConnections.find((i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType)));r&&(n.connectedAt=r.connectedAt)})),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:a,privyClient:s}){let{entropyId:o,entropyIdVerifier:l}=ua(n);for(let u of r){let d=this.findEmbeddedWalletConnectors().find((h=>h.walletIndex===u.walletIndex));if(d&&v2(d))d.proxyProvider.walletProxy=e;else{let h=new aG({provider:new sG({walletProxy:e,address:u.address,entropyId:o,entropyIdVerifier:l,rpcConfig:this.rpcConfig,chains:this.chains,appId:a,chainId:i.id,walletIndex:u.walletIndex,privyClient:s,walletAccount:u}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:u.walletIndex});this.addWalletConnector(h)}}}addImportedWalletConnector(e,n,r,i){let a=this.findWalletConnector("embedded_imported","privy");if(a&&v2(a))a.proxyProvider.walletProxy=e;else{let s=new aG({provider:new sG({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(s)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter((e=>e.connectorType!=="embedded")),this.storedConnections=j5(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let n=this.walletConnectors.indexOf(e);this.walletConnectors.splice(n,1),this.storedConnections=j5(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let a=this.findWalletConnector(e,n);if(a&&v2(a))return a instanceof Ig&&a.resetConnection(n),a;let s=e!=="injected"?e==="coinbase_wallet"?new CQe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new _Qe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new Ig({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n,appKit:this.appKit}):i?new fO({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&r?.eip6963InjectedProvider?new IQe(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,"metamask"):n==="metamask"&&r?.legacyInjectedProvider?new nS(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"metamask"):n==="phantom"&&r?.legacyInjectedProvider?new nS(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"phantom"):r?.legacyInjectedProvider&&n==="unknown_browser_extension"?new nS(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider):r?.eip6963InjectedProvider?new xse(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,n):void 0;return s&&this.addWalletConnector(s),s||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",(()=>this.onInitialized(e))),e.on("walletsUpdated",(()=>this.onWalletsUpdated(e))),e.initialize().catch((n=>{console.debug("Failed to initialize connector",n)}))}async activeWalletSign(e){let n=this.wallets,r=n.length>0?n[0]:null;return r&&nd(r)?r.sign(e):null}setActiveWallet(e){this.activeWallet=Qr(e),this.emit("walletsUpdated")}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,a,s,o,l,u,d,h,g,m){super(),this.addSolanaWalletConnector=async b=>{let w=this.findSolanaWalletConnector(b.walletClientType);if(!w||w.connectorType==="null"){if(w?.connectorType==="null"){let x=this.walletConnectors.indexOf(w);this.walletConnectors.splice(x,1)}this.addWalletConnector(b)}},this.getEthereumProvider=()=>{let b=this.wallets[0],w=this.walletConnectors.find((x=>x.wallets.find((E=>E.address===b?.address))));return b&&w?w.proxyProvider:new _h},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=a,this.walletConnectors=[],this.initialized=!1,this.store=s,this.walletList=o,this.shouldEnforceDefaultChainOnConnect=l,this.externalWalletConfig=u,this.privyAppName=d,this.walletChainType=g||"ethereum-only",this.appKit=m,this.setBaseAccountSdk=h,this.storedConnections=j5()}}let WQe=[OQ,RQ,BQ];class HQe{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw Sn(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw Sn(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw Sn(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=cQe,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=PQ.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:a,options:s})=>{let o=new Headers(s.headers);o.set("privy-app-id",this.appId),this.appClientId&&o.set("privy-client-id",this.appClientId),o.set("privy-ca-id",this.clientAnalyticsId||""),o.set("privy-client",`react-auth:${this.sdkVersion}`);let l=WQe.includes(a.toString());if(!o.has("authorization")){let u=await this.client.getAccessToken({disableAutoRefresh:l});u!==null&&o.set("authorization",`Bearer ${u}`)}s.headers=o,s.retryDelay&&typeof s.retryDelay=="number"&&(s.retryDelay=3*s.retryDelay)},onRequestError:({error:a})=>{if(a instanceof DOMException&&a.name==="AbortError")throw new F7e}})}}let qQe=/paymaster\.biconomy\.io\/api/i,VQe={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const GQe=(t,e)=>t&&qQe.test(t)?VQe:e&&e.policy_id?{policyId:e.policy_id}:void 0,KQe=t=>({rpId:t.rp_id,challenge:t.challenge,allowCredentials:t.allow_credentials?.map((e=>({id:e.id,type:e.type,transports:e.transports})))||[],timeout:t.timeout,extensions:{appid:t.extensions?.app_id,credProps:t.extensions?.cred_props,hmacCreateSecret:t.extensions?.hmac_create_secret},userVerification:t.user_verification});class Tse{async authenticate(){if(!this.api)throw new me("Auth flow has no API instance");try{return await this.api.post(jEe,{token:this.meta.token})}catch(e){throw Sn(e)}}async link(){if(!this.api)throw new me("Auth flow has no API instance");try{return await this.api.post(DEe,{token:this.meta.token})}catch(e){throw Sn(e)}}constructor(e){this.meta={token:e}}}class YQe{getOrCreateGuestCredential(e){let n=Gae(e);if(CT()){if(Bt.get(n))return Bt.get(n);{let r=H0(TT(32));return Bt.put(n,r),r}}return H0(TT(32))}async authenticate(){if(!this.api)throw new me("Auth flow has no API instance");try{return await this.api.post(BEe,{guest_credential:this.meta.guestCredential})}catch(e){throw Sn(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function aS(){return!(Dn.isSafari&&window.location.origin.startsWith("http://localhost"))}const uG=Cm((()=>({identityToken:null})));var sS,dG=((sS={}).PRIVY="privy_access_token",sS.CUSTOMER="customer_access_token",sS);class ZQe{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(L2)}get privyAccessToken(){return this._getToken(R5)}_getToken(e){try{let n=Bt.get(e);return typeof n=="string"?Gf.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=Bt.get(ZC);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=Bt.get(Fx(e));if(typeof n!="string")return null;{let r=new Gf(n);return r.isExpired()?(Bt.del(Fx(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=Xr.get(JC);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!=="deprecated";return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=Gf.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?Bt.put(Fx(e),n):Bt.del(Fx(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:a}=n;this.handleTokenResponse(n);let s=a?{provider:a.provider,accessToken:a.access_token,accessTokenExpiresInSeconds:a.access_token_expires_in_seconds,refreshToken:a.refresh_token,refreshTokenExpiresInSeconds:a.refresh_token_expires_in_seconds,scopes:a.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:oa(r),isNewUser:i,oAuthTokens:s}}catch(n){throw console.warn("Error authenticating session"),kr(n)}}_trackAuthenticateEvents(e,n){let r=(function(i){return i instanceof sg?"email":i instanceof og?"sms":i instanceof Sg?"siwe":i instanceof YQe?"guest":i instanceof Tse?"custom_auth":i instanceof Y1?i.meta.provider:null})(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:oa(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),kr(n)}}async _refresh(){if(!this.api)throw new me("Session has no API instance");if(!this.client)throw new me("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(OQ,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),oa(r.user)}catch(r){if(r instanceof no&&r.privyErrorCode===ye.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw kr(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(RQ,{refresh_token:this.refreshToken})}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if(typeof e=="string"){let n=Bt.get(L2);if(Bt.put(L2,e),!this.client?.useServerCookies){let r=Gf.parse(e)?.expiration;Xr.set(YV,e,{sameSite:"Strict",secure:aS(),expires:r?new Date(1e3*r):void 0})}n!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else Bt.del(L2),Xr.remove(YV),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){typeof e=="string"?(Bt.put(ZC,e),this.client?.useServerCookies||Xr.set(JC,"t",{sameSite:"Strict",secure:aS(),expires:30})):(Bt.del(ZC),Xr.remove("privy-refresh-token"),Xr.remove(JC))}storePrivyAccessToken(e){typeof e=="string"?Bt.put(R5,e):Bt.del(R5)}storeIdentityToken(e){if(uG.setState({identityToken:e}),this.client?.useServerCookies)return;Bt.put(ZV,e);let n=Gf.parse(e)?.expiration;Xr.set(JV,e,{sameSite:"Strict",secure:aS(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){Bt.del(ZV),uG.setState({identityToken:null}),Xr.remove(JV)}constructor(){this.authenticateOnce=new Ya((async e=>this._authenticate(e))),this.linkOnce=new Ya((async e=>this._link(e))),this.refreshOnce=new Ya(this._refresh.bind(this)),this.destroyOnce=new Ya(this._destroy.bind(this))}}let oS;var JQe=0,lS="__private_"+JQe+++"__getOrGenerateClientAnalyticsId";class XQe{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:a,walletList:s,shouldEnforceDefaultChainOnConnect:o,externalWalletConfig:l,appName:u,walletChainType:d,setBaseAccountSdk:h,appKit:g}){this.connectors||(this.connectors=new zQe(this.appId,e,n,r,i,a,s,o,l,u,h,d,g))}generateApi(){let e=new HQe({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new me("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new me("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter((n=>n.type==="cross_app")).forEach((n=>{this.storeProviderAccessToken(n.providerApp.id,null)}))}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(OEe,{action:"verify"})}catch(e){throw Sn(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(REe,{});return KQe(e.options)}catch(e){throw Sn(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(MEe,{});return oa(e)}catch(e){throw kr(e)}}async unlinkEmail(e){try{let n=await this.api.post(cEe,{address:e});return await this.getAuthenticatedUser()??oa(n)}catch(n){throw kr(n)}}async unlinkPhone(e){try{let n=await this.api.post(pEe,{phoneNumber:e});return await this.getAuthenticatedUser()??oa(n)}catch(n){throw kr(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(G7e,{address:e});return await this.getAuthenticatedUser()??oa(n)}catch(n){throw kr(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(X7e,{address:e});return await this.getAuthenticatedUser()??oa(n)}catch(n){throw kr(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(bEe,{provider:e,subject:n});return await this.getAuthenticatedUser()??oa(r)}catch(r){throw kr(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(iEe,{fid:e});return await this.getAuthenticatedUser()??oa(n)}catch(n){throw kr(n)}}async unlinkTelegram(e){try{let n=await this.api.post(NEe,{telegram_user_id:e});return await this.getAuthenticatedUser()??oa(n)}catch(n){throw kr(n)}}async revokeDelegatedWallet(){try{await this.api.post(zEe,{})}catch(e){throw kr(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(BQ,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:i?.keepAlive??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(UEe,e)}catch(n){throw kr(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(LEe,e)}catch(n){throw kr(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${FEe}?partnerUserId=${e}`)}catch(n){throw kr(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(dG.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(dG.PRIVY,e)}async _getToken(e,n){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?uO.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!n?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},n=this.session.token;n&&(e.authorization=`Bearer ${n}`);let r=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return r.enabled?{enabled:r.enabled,smartWalletVersion:r.smart_wallet_version,smartWalletType:r.smart_wallet_type,configuredNetworks:r.configured_networks.map((i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:GQe(i.paymaster_url,i.paymaster_context)})))}:{enabled:r.enabled}}catch(e){throw kr(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(W7e,{address:e,token:n})).nonce}catch(r){throw kr(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:a,mode:s}){return await this.api.post(H7e,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:a,mode:s})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:a}){return await this.api.post(q7e,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:a})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let a=await this.api.post(V7e,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return oa(a)}catch(a){throw kr(a)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:a}){try{let s=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:a});return oa(s)}catch(s){throw kr(s)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(Y7e,{address:e,token:n})).nonce}catch(r){throw kr(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:a,messageType:s="plain"}){return await this.api.post(Z7e,{message:e,signature:n,walletClientType:r,connectorType:i,mode:a,message_type:s})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:a,messageType:s="plain"}){let o=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:a,messageType:s});this.session.handleTokenResponse(o);let l=oa(o.user);if(!l)throw Error("Authentication failed - no user returned");return{user:l,isNewUser:o.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:a,telegramWebAppData:s,farcasterEmbeddedAddress:o,oAuthUserInfo:l}){try{let u,d;switch(r){case"email":u=dEe,d={nonce:e,email:n};break;case"sms":u=yEe,d={nonce:e,phoneNumber:n};break;case"siwe":if(u=K7e,!i)throw Error("Wallet parameters must be defined");d={nonce:e,address:n,...i};break;case"farcaster":u=aEe,d={nonce:e,farcaster_id:n,farcaster_embedded_address:o};break;case"telegram":u=PEe,d={nonce:e,telegram_auth_result:a,telegram_web_app_data:s};break;case"siws":u=Q7e,d={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:u=wEe,d={nonce:e,userInfo:l}}let h=await this.api.post(u,d);return await this.getAuthenticatedUser()??oa(h)}catch(u){throw kr(u)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:a="plain"}){return await this.api.post(J7e,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:a})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:a="plain"}){try{let s=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:a});return oa(s)}catch(s){throw kr(s)}}async updateUserAndIdToken(){try{let e=await this.api.get(WEe);return this.session.updateIdentityToken(e.identity_token),oa(e.user)}catch(e){throw kr(e)}}async scanTransaction(e){try{return await this.api.post(HEe,e)}catch(n){throw kr(n)}}constructor({apiUrl:e=ST,appId:n,appClientId:r,timeout:i=2e4}){Object.defineProperty(this,lS,{value:QQe}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==ST&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=(function(a,s){if(!Object.prototype.hasOwnProperty.call(a,s))throw TypeError("attempted to use private field on non-instance");return a})(this,lS)[lS](),oS||(oS=new ZQe),this.session=oS,this.api=this.generateApi(),this.session.client=this}}function QQe(){if(typeof window>"u")return null;try{let e=Bt.get(kT);if(typeof e=="string"&&e.length>0)return e}catch{}let t=c6();try{return Bt.put(kT,t),t}catch{return t}}const eet=({delayedExecution:t,...e})=>{let{enabled:n,siteKey:r,appId:i,setError:a,setToken:s,setExecuting:o,ref:l}=Ds(),[,u]=k.useMemo((()=>r?.split("t:")||[]),[r]);if(k.useEffect((()=>l.current?.remove),[]),!n)return null;if(!u)throw Error("Unsupported captcha site key");return p.jsx("div",{className:"hidden h-0 w-0",children:p.jsx(Tee,{...e,ref:l,siteKey:u,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{e.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:()=>{e.onError?.(),a("Captcha failed"),o(!1)},onSuccess:d=>{e.onSuccess?.(d),s(d),o(!1)},onExpire:()=>{e.onExpire?.();try{l.current?.reset(),a(void 0),s(void 0)}catch{a("expired_and_failed_reset")}}})})},tet=t=>{let[e,n]=k.useState("auto");return k.useEffect((()=>{let r=new ResizeObserver((i=>{n(i[0]?.contentRect.height??"auto")}));return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}}),[t.current]),e},net={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},signSolanaTransaction:{onSuccess:[],onError:[]},signSolanaMessage:{onSuccess:[],onError:[]},sendSolanaTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},$se=k.createContext(void 0);let Nse=()=>k.useContext($se);function Bm(t,e){if(!e)return;let n=Nse().current[t];return k.useEffect((()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]?.push(i);return()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]=n[r]?.filter((a=>a!==i))}}),[e])}function Qe(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function jd(){let t=Nse();return(e,n,...r)=>Qe(t,e,n,...r)}function ret(t){Bm("configureMfa",t)}const fh=ue.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),iet=ue.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),BT=ue.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),Pse=ue(BT).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],(t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0));let aet=ji(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const set=ue.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),jr=ue.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],aet),su=ue.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],(t=>t.$fullSize?"0":"4px"),(t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)")),em=ue.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],(t=>t.$if?"display: none;":"")),oet=ue.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],(t=>t.$withPadding?"64px 0px":"0px")),cet=ue.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function uet(t){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:p.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:p.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let fG=ue.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function yO({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:n}},alwaysShowImplicitConsent:r}){let i=!(!t||!e);return n&&!r||!e&&!t?p.jsx(fG,{}):p.jsxs(fG,{children:["By logging in I agree to the"," ",e&&p.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&p.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const Pn=({className:t})=>{let{appearance:e}=Rn();return p.jsx(ai,{className:t,children:e.footerLogo??p.jsx(det,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:p.jsx(uet,{color:"currentColor",height:13,width:150})})})};let det=ue.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const ai=ue.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),Ose=({success:t,fail:e})=>p.jsxs(fet,{children:[p.jsx(hG,{children:p.jsx(bO,{className:t?"success":e?"fail":""})}),p.jsx(hG,{children:p.jsx(hl,{className:t?"success":e?"fail":""})})]});let hG=ue.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),fet=ue.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const hl=ue.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],(t=>t.color??"var(--privy-color-icon-subtle)")),bO=ue(hl).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],(t=>t.color??"var(--privy-color-border-default)"),(t=>t.color??"var(--privy-color-border-default)")),Ah=t=>p.jsx(het,{color:t.color||"var(--privy-color-foreground-3)"});let het=ue(hl).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const ep=({variant:t="primary",size:e="lg",children:n,success:r,...i})=>{switch(t){case"secondary":return p.jsx(uc,{size:e,...i,children:n});case"error":return p.jsx(uc,{$warn:!0,size:e,...i,children:n});case"muted":return p.jsx(met,{size:e,...i,children:n});default:return p.jsx(Jn,{size:e,success:r,...i,children:n})}},t9=ue.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],(({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)"),(({$size:t})=>t==="sm"?"28px":"48px"),(({$size:t})=>t==="sm"?"10px":"16px")),Jn=({children:t,loading:e,disabled:n,success:r,size:i="lg",loadingText:a="Loading...",as:s,onClick:o,...l})=>{let u=s==="a",d=!(!e&&!n);return p.jsx(get,{as:s,disabled:u?void 0:d,"aria-disabled":u?d:void 0,$success:r,$size:i,onClick:h=>{u&&d?h.preventDefault():o?.(h)},...l,children:e?p.jsxs(p.Fragment,{children:[p.jsx(Ah,{}),a?p.jsx("span",{style:{marginLeft:"8px"},children:a}):null]}):t})},Q6=({children:t,loading:e,disabled:n,...r})=>p.jsx(pet,{disabled:n,...r,children:e?p.jsx(Ah,{color:"var(--privy-color-foreground-accent)"}):t});let pet=ue(t9).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),get=ue(t9).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.disabled&&ji(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const uc=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:a,onClick:s,...o})=>{let l=a==="a",u=!(!e&&!n);return p.jsx(yet,{as:a,disabled:l?void 0:u,"aria-disabled":l?u:void 0,$size:r,onClick:d=>{l&&u?d.preventDefault():s?.(d)},...o,children:e?p.jsxs(p.Fragment,{children:[p.jsx(Ah,{}),i?p.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},met=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:a,onClick:s,...o})=>{let l=a==="a",u=!(!e&&!n);return p.jsx(bet,{as:a,disabled:l?void 0:u,"aria-disabled":l?u:void 0,$size:r,onClick:d=>{l&&u?d.preventDefault():s?.(d)},...o,children:e?p.jsxs(p.Fragment,{children:[p.jsx(Ah,{}),i?p.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let yet=ue(t9).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)"),(t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)"),(t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.disabled&&ji(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]))),bet=ue(t9).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.disabled&&ji(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const n9=({children:t,onClick:e,disabled:n,isSubmitting:r,...i})=>p.jsxs(wet,{$isSubmitting:r,onClick:e,disabled:n,...i,children:[p.jsx("span",{children:t}),p.jsx("span",{children:p.jsx(Ah,{})})]});let wet=ue.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],(t=>t.$isSubmitting?0:1),(t=>t.$isSubmitting?1:0));const vet=({backFn:t})=>p.jsx("div",{children:p.jsx(wO,{onClick:t,children:p.jsx(bSe,{height:"16px",width:"16px",strokeWidth:2})})}),xet=({infoFn:t})=>p.jsx("div",{children:p.jsx(_et,{"aria-label":"info",onClick:t,children:p.jsx(Eg,{height:"22px",width:"22px",strokeWidth:2})})}),Eet=t=>p.jsx("div",{children:p.jsx(wO,{"aria-label":"close modal",onClick:t.onClose,children:p.jsx(_Se,{height:"16px",width:"16px",strokeWidth:2})})}),dn=({backFn:t,infoFn:e,onClose:n,title:r,closeable:i=!0,className:a})=>{let{closePrivyModal:s}=lt(),o=Rn();return p.jsxs(Aet,{className:a,children:[p.jsxs(Cet,{children:[t&&p.jsx(vet,{backFn:t}),e&&p.jsx(xet,{infoFn:e})]}),r&&p.jsx(Iet,{id:"privy-dialog-title",children:r}),p.jsx(ket,{children:!o.render.standalone&&i&&p.jsx(Eet,{onClose:n||(()=>s())})})]})};let wO=ue.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),_et=ue(wO).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),Aet=ue.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),Cet=ue.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),ket=ue.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),Iet=ue.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const Cp=({size:t})=>p.jsx(Tet,{$size:t,children:p.jsxs($et,{children:[p.jsx(Net,{}),p.jsx(Pet,{})]})});let Tet=ue.div.withConfig({displayName:"LoadingContainer",componentId:"sc-5be8451e-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],(t=>t.$size?t.$size:"96px")),$et=ue.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-5be8451e-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),Net=ue.div.withConfig({displayName:"CircleFixed",componentId:"sc-5be8451e-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),Pet=ue.div.withConfig({displayName:"CircleRotate",componentId:"sc-5be8451e-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const Oet=ue.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),Ret=ue.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),Met=ue.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),jet=ue(dn).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),Det=ue.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],(({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0)),Bet=ue.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let Uet=ue.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),Let=ue.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),Fet=ue.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),zet=ue.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),pG=ue.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}})),Wet=ue.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),Het=ue.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const rr=({children:t,...e})=>p.jsx(Oet,{children:p.jsx(Ret,{...e,children:t})});let qet=ue.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),Vet=ue(Pn).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),Get=ue.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],(({pct:t})=>t)),Ket=({step:t})=>t?p.jsx(qet,{children:p.jsx(Get,{pct:Math.min(100,t.current/t.total*100)})}):null;rr.Header=({title:t,subtitle:e,icon:n,iconVariant:r,iconLoadingStatus:i,showBack:a,onBack:s,showInfo:o,onInfo:l,showClose:u,onClose:d,step:h,...g})=>p.jsxs(Met,{...g,children:[p.jsx(jet,{backFn:a?s:void 0,infoFn:o?l:void 0,onClose:u?d:void 0,closeable:u}),(n||r||t||e)&&p.jsxs(Uet,{children:[n||r?p.jsx(rr.Icon,{icon:n,variant:r,loadingStatus:i}):null,p.jsxs(Let,{children:[t&&p.jsx(Fet,{children:t}),e&&p.jsx(zet,{children:e})]})]}),h&&p.jsx(Ket,{step:h})]}),rr.Body=at.forwardRef((({children:t,...e},n)=>p.jsx(Det,{ref:n,...e,children:t}))),rr.Body.displayName="Screen.Body",rr.Footer=({children:t,...e})=>p.jsx(Bet,{...e,children:t}),rr.Actions=({children:t,...e})=>p.jsx(Yet,{...e,children:t}),rr.HelpText=({children:t,...e})=>p.jsx(Zet,{...e,children:t}),rr.Watermark=()=>p.jsx(Vet,{}),rr.Icon=({icon:t,variant:e="subtle",loadingStatus:n})=>e==="logo"&&t?p.jsx(Wet,typeof t=="string"?{children:p.jsx("img",{src:t,alt:""})}:at.isValidElement(t)?{children:t}:{children:at.createElement(t)}):e==="loading"?t?p.jsx(Het,{children:p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[p.jsx(Ose,{success:n?.success,fail:n?.fail}),typeof t=="string"?p.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):at.isValidElement(t)?at.cloneElement(t,{style:{width:"38px",height:"38px"}}):at.createElement(t,{style:{width:"38px",height:"38px"}})]})}):p.jsx(pG,{$variant:e,children:p.jsx(Cp,{size:"64px"})}):p.jsx(pG,{$variant:e,children:t&&(typeof t=="string"?p.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):at.isValidElement(t)?t:at.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let Yet=ue.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),Zet=ue.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const kn=({primaryCta:t,secondaryCta:e,helpText:n,watermark:r=!0,children:i,...a})=>{let s=t||e?p.jsxs(p.Fragment,{children:[t&&(()=>{let{label:o,...l}=t,u=l.variant||"primary";return p.jsx(ep,{...l,variant:u,style:{width:"100%",...l.style},children:o})})(),e&&(()=>{let{label:o,...l}=e,u=l.variant||"secondary";return p.jsx(ep,{...l,variant:u,style:{width:"100%",...l.style},children:o})})()]}):null;return p.jsxs(rr,{id:a.id,className:a.className,children:[p.jsx(rr.Header,{...a}),i?p.jsx(rr.Body,{children:i}):null,n||s||r?p.jsxs(rr.Footer,{children:[n?p.jsx(rr.HelpText,{children:n}):null,s?p.jsx(rr.Actions,{children:s}):null,r?p.jsx(rr.Watermark,{}):null]}):null]})},vO=ue.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),vs=ue.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),nl=ue.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),tp=ue.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),r9=ue.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),P0=ue.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),O0=ue.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),Z1=ue.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),Rse=ue.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),cS=ue.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),uS=ue.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),dS=ue.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),gG=ue.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],(t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)")),fS=ue.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),Mse=ue.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),UT=ue.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],(t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)")),rl=ue.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),jse=ue.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),Dse=({handleClose:t,user:e,onSelect:n})=>p.jsxs(kn,{title:"Verify your identity",subtitle:"Choose a verification method",icon:V0,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[p.jsxs(Rse,{children:[e.mfaMethods.includes("totp")&&p.jsxs(jr,{onClick:()=>n("totp"),children:[p.jsx(su,{children:p.jsx(g8,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&p.jsxs(jr,{onClick:()=>n("sms"),children:[p.jsx(su,{children:p.jsx(lh,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&p.jsxs(jr,{onClick:()=>n("passkey"),children:[p.jsx(su,{children:p.jsx(tP,{})}),"Passkey"]},"passkey")]}),p.jsx(ai,{})]}),hS=({label:t,children:e,valueStyles:n})=>p.jsxs(Jet,{children:[p.jsx("div",{children:t}),p.jsx(Xet,{style:{...n},children:e})]});let Jet=ue.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),Xet=ue.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),Qet=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),Bse=t=>Qet.format(t);const Use=(t,e)=>{let n=Bse(e*parseFloat(t));return n!=="$0.00"?n:"<$0.01"},R0=(t,e)=>{let n=Bse(e*parseFloat(op(t)));return n==="$0.00"?"<$0.01":n},Jl=(t,e,n=6,r=!1)=>`${Lse(t,n,r)} ${e}`,Lse=(t,e=6,n=!1)=>{let r=parseFloat(op(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return n?r:`${r==="0"?"<0.001":r}`},xO=t=>t.reduce(((e,n)=>e+n),0n),ett=(t,e)=>{let{chains:n}=lt(),r=`https://etherscan.io/address/${e}`,i=`${((a,s)=>{let o=Number(a),l=s.find((u=>u.id===o));if(!l)throw new br(`Unsupported chainId ${a}`,4901);return l.blockExplorers?.default.url})(t,n)}/address/${e}`;if(!i)return r;try{new URL(i)}catch{return r}return i},ttt=1e9;function pb(t,e){let n=parseFloat(t.toString())/ttt,r=ntt.format(e*n);return r==="$0.00"?"<$0.01":r}let ntt=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});const rtt=(t,e=0)=>{let n=t[e],r=t[e+7];if(!n||!r)throw Error(`Buffer offset out of range: first: ${n}, last: ${r}.`);return(BigInt(t[e+4]+256*t[e+5]+65536*t[e+6]+(r<<24))<<32n)+BigInt(n+256*t[++e]+65536*t[++e]+16777216*t[++e])};function itt(t,e=0){let n=0n;for(let r=0;r<8;r++)n|=BigInt(t[e+r])<<BigInt(8*r);return n}async function z1(t,e){try{return await t}catch{return e}}const F2="11111111111111111111111111111111",att=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],stt=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"];function rh(t,e=6,n=!1,r=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),a=r?"":" SOL";return n?`${i}${a}`:`${i==="0"?"<0.001":i}${a}`}function Fse({amount:t,fee:e,tokenPrice:n,isUsdc:r}){let i=BigInt(Math.floor(parseFloat(t)*10**(r?6:9))),a=r?i:i+e;return{fundingAmountInBaseUnit:i,fundingAmountInUsd:n?pb(i,n):void 0,totalPriceInUsd:n?pb(a,n):void 0,totalPriceInNativeCurrency:rh(a),feePriceInNativeCurrency:rh(e),feePriceInUsd:n?pb(e,n):void 0}}let ott={"mainnet-beta":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},devnet:{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},testnet:{}};async function Wl(t,e,n){let r=ott[t];if(!r[n]){let i=await e.getSplTokenMetadata({mintAddress:n,cluster:t});i&&(r[n]={address:n,symbol:i.symbol,decimals:i.decimals})}return r[n]}function hh(t){return"version"in t}function e4(t,e){let n=(hh(t)?t.message:t.compileMessage()).staticAccountKeys.find((r=>r.toBase58()===e));if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}function mG(t,e,n){return{signature:t,parsedTransaction:n??null,signedTransaction:e,fees:BigInt(n?.meta?.fee||0)}}async function zse(t,e){let{value:n}=await e.simulateTransaction(t);if(n.err==="BlockhashNotFound")throw Error("Simulation failed: Blockhash not found");return n.err==null&&n.logs?.every((r=>!/insufficient funds/gi.test(r)))}async function ltt({tx:t,connection:e,client:n,checkFunds:r}){let i=hh(t)?t.message:t.compileMessage(),a=i.staticAccountKeys[0]?.toBase58()??"",s=await(async function(h,g){return BigInt((hh(h)?(await g.getFeeForMessage(h.message)).value:await h.getEstimatedFee(g))??0)})(t,e),o=!r||await z1(zse(t,e),!0),l={},u=[],d=await(async function(h,g){return[...h.staticAccountKeys.map((m=>m)),...(await Promise.all(h.addressTableLookups.map((async m=>g.getAddressLookupTable(m.accountKey).then((({value:b})=>b)))))).map(((m,b)=>[...h.addressTableLookups[b]?.writableIndexes.map((w=>{let x=m?.state.addresses[w];if(x)return{key:x,isWritable:!0,altIdx:b}}))??[],...h.addressTableLookups[b]?.readonlyIndexes.map((w=>{let x=m?.state.addresses[w];if(x)return{key:x,isWritable:!1,altIdx:b}}))??[]])).flat().filter((m=>!!m)).sort(((m,b)=>m.isWritable!==b.isWritable?m.isWritable?-1:1:m.altIdx-b.altIdx)).map((({key:m})=>m))]})(i,e);for(let h of i.compiledInstructions){let g=i.staticAccountKeys[h.programIdIndex]?.toBase58()||"";if(g!=="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"&&g!=="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")if(g!==F2){if(g==="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"){let m=await z1((function(b,w,x){let[E,I,C,N]=b.accountKeyIndexes.map((A=>w[A]));return{type:"ata-creation",program:x,payer:E?.toBase58(),ata:I?.toBase58(),owner:C?.toBase58(),mint:N?.toBase58()}})(h,d,g));if(!m){u.push({type:"unknown",program:g,discriminator:h.data[0]});continue}if(u.push(m),m.ata&&m.owner&&m.mint){l[m.ata]={owner:m.owner,mint:m.mint};continue}}if(att.includes(g)){let m=await z1(dtt(h,d,e,n,g));if(!m){u.push({type:"unknown",program:g,discriminator:h.data[0]});continue}u.push(m)}else if(stt.includes(g)){let m=await z1(ftt(h,d,e,n,g));if(!m){u.push({type:"unknown",program:g,discriminator:h.data[0]});continue}u.push(m)}else u.push({type:"unknown",program:g,discriminator:h.data[0]})}else{let m=await z1(utt(h,d));if(!m){u.push({type:"unknown",program:g,discriminator:h.data[0]});continue}u.push(m)}else{let m=await z1(ctt(h,d,e,n,l,g));if(!m){u.push({type:"unknown",program:g,discriminator:h.data[0]});continue}u.push(m),m.type==="spl-transfer"&&(m.fromAta&&m.fromAccount&&m.token.address&&(l[m.fromAta]??={owner:m.fromAccount,mint:m.token.address}),m.toAta&&m.toAccount&&m.token.address&&(l[m.toAta]??={owner:m.toAccount,mint:m.token.address}))}}return{spender:a,fee:s,instructions:u,hasFunds:!!o}}function qa(t,e=0){try{return itt(t,e)}catch{}try{return t.readBigInt64LE(e)}catch{}let n=Pa(t);try{return rtt(n)}catch{}try{return n.subarray(e).readBigInt64LE()}catch{}try{return n.readBigInt64LE(e)}catch{}return 0n}async function ctt(t,e,n,r,i,a){let s=t.data[0],o=t.accountKeyIndexes.map((l=>e[l]));if(s===1){let[l,u,d]=o;return{type:"spl-init-account",program:a,account:l?.toBase58(),mint:u?.toBase58(),owner:d?.toBase58()}}if(s===3){let l,u,[d,h,g]=o,m="",b=h?i[h.toBase58()]:void 0;if(b)l=b.owner,m=b.mint;else if(h){let I=await n.getParsedAccountInfo(h,"confirmed"),C=I.value?.data;l=C?.parsed?.info?.owner,m=C?.parsed?.info?.mint??"",u=C?.parsed?.info?.tokenAmount?.decimals}!m&&d&&(m=(await n.getParsedAccountInfo(d,"confirmed")).value?.data?.parsed?.info?.mint??"");let w=Dm(n.rpcEndpoint),x=await Wl(w,r,m),E=x?.symbol??"";return u??=x?.decimals??9,{type:"spl-transfer",program:a,fromAta:d?.toBase58(),fromAccount:g?.toBase58(),toAta:h?.toBase58(),toAccount:l,value:qa(t.data,1),token:{symbol:E,decimals:u,address:m}}}if(s===9){let[l,u,d]=o;return{type:"spl-close-account",program:a,source:l?.toBase58(),destination:u?.toBase58(),owner:d?.toBase58()}}if(s===17)return{type:"spl-sync-native",program:a};throw Error(`Token program instruction type ${s} not supported`)}async function utt(t,e){let n=t.data[0],r=t.accountKeyIndexes.map((i=>e[i]));if(n===0){let[,i]=r;return{type:"create-account",program:F2,account:i?.toBase58(),value:qa(t.data,4),withSeed:!1}}if(n===2){let[i,a]=r;return{type:"sol-transfer",program:F2,fromAccount:i?.toBase58(),toAccount:a?.toBase58(),token:{symbol:"SOL",decimals:9},value:qa(t.data,4),withSeed:!1}}if(n===3){let[,i]=r,a=qa(t.data.slice(t.data.length-32-8-8));return{type:"create-account",program:F2,account:i?.toBase58(),withSeed:!0,value:a}}if(n===11){let[i,a]=r;return{type:"sol-transfer",program:F2,fromAccount:i?.toBase58(),toAccount:a?.toBase58(),value:qa(t.data,4),token:{symbol:"SOL",decimals:9},withSeed:!0}}throw Error(`System program instruction type ${n} not supported`)}async function dtt(t,e,n,r,i){let a=t.accountKeyIndexes.map((l=>e[l]?.toBase58())),s=t.data[0],o=Dm(n.rpcEndpoint);if(s===143){let l=a[10],u=a[11];return{type:"raydium-swap-base-input",program:i,mintIn:l,mintOut:u,tokenIn:l?await Wl(o,r,l):void 0,tokenOut:u?await Wl(o,r,u):void 0,amountIn:qa(t.data,8),minimumAmountOut:qa(t.data,16)}}if(s===55){let l=a[10],u=a[11];return{type:"raydium-swap-base-output",program:i,mintIn:l,mintOut:u,tokenIn:l?await Wl(o,r,l):void 0,tokenOut:u?await Wl(o,r,u):void 0,maxAmountIn:qa(t.data,8),amountOut:qa(t.data,16)}}throw Error(`Raydium swap program instruction type ${s} not supported`)}async function ftt(t,e,n,r,i){let a=t.data[0],s=t.accountKeyIndexes.map((l=>e[l])),o=Dm(n.rpcEndpoint);if([208,51,239,151,123,43,237,92].includes(a)){let l=s[5]?.toBase58(),u=s[6]?.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:l,mintOut:u,tokenIn:l?await Wl(o,r,l):void 0,tokenOut:u?await Wl(o,r,u):void 0,outAmount:qa(t.data,t.data.length-1-2-8-8),quotedInAmount:qa(t.data,t.data.length-1-2-8)}}if([176,209,105,168,154,125,69,62].includes(a)){let l=s[7]?.toBase58(),u=s[8]?.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:l,mintOut:u,tokenIn:l?await Wl(o,r,l):void 0,tokenOut:u?await Wl(o,r,u):void 0,outAmount:qa(t.data,t.data.length-1-2-8-8),quotedInAmount:qa(t.data,t.data.length-1-2-8)}}if([193,32,155,51,65,214,156,129].includes(a)){let l=s[7]?.toBase58(),u=s[8]?.toBase58();return{type:"jupiter-swap-shared-accounts-route",program:i,mintIn:l,mintOut:u,tokenIn:l?await Wl(o,r,l):void 0,tokenOut:u?await Wl(o,r,u):void 0,inAmount:qa(t.data,t.data.length-1-2-8-8),quotedOutAmount:qa(t.data,t.data.length-1-2-8)}}throw[62,198,214,193,213,159,108,210].includes(a)&&console.warn("Jupiter swap program instruction 'claim' not implemented"),[116,206,27,191,166,19,0,73].includes(a)&&console.warn("Jupiter swap program instruction 'claim_token' not implemented"),[26,74,236,151,104,64,183,249].includes(a)&&console.warn("Jupiter swap program instruction 'close_token' not implemented"),[229,194,212,172,8,10,134,147].includes(a)&&console.warn("Jupiter swap program instruction 'create_open_orders' not implemented"),[28,226,32,148,188,136,113,171].includes(a)&&console.warn("Jupiter swap program instruction 'create_program_open_orders' not implemented"),[232,242,197,253,240,143,129,52].includes(a)&&console.warn("Jupiter swap program instruction 'create_token_ledger' not implemented"),[147,241,123,100,244,132,174,118].includes(a)&&console.warn("Jupiter swap program instruction 'create_token_account' not implemented"),[229,23,203,151,122,227,173,42].includes(a)&&console.warn("Jupiter swap program instruction 'route' not implemented"),[150,86,71,116,167,93,14,104].includes(a)&&console.warn("Jupiter swap program instruction 'route_with_token_ledger' not implemented"),[228,85,185,112,78,79,77,2].includes(a)&&console.warn("Jupiter swap program instruction 'set_token_ledger' not implemented"),[230,121,143,80,119,159,106,170].includes(a)&&console.warn("Jupiter swap program instruction 'shared_accounts_route_with_token_ledger' not implemented"),Error(`Jupiter swap program instruction type ${a} not supported`)}const htt=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=xO(t),i=e?R0(r,e):void 0,a=Jl(r,n);return p.jsx(EO,{children:i||a})},Wse=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=xO(t),i=e?R0(r,e):void 0,a=Jl(r,n);return p.jsx(EO,{children:i?p.jsxs(p.Fragment,{children:[p.jsx(ptt,{children:"USD"}),i==="<$0.01"?p.jsxs(qse,{children:[p.jsx(Hse,{children:"<"}),"$0.01"]}):i]}):a})},yG=({quantities:t,tokenPrice:e,tokenSymbol:n="SOL",tokenDecimals:r=9})=>{let i=t.reduce(((o,l)=>o+l),0n),a=e&&n==="SOL"&&r===9?pb(i,e):void 0,s=n==="SOL"&&r===9?rh(i):`${pa(i,r)} ${n}`;return p.jsx(EO,{children:a?p.jsx(p.Fragment,{children:a==="<$0.01"?p.jsxs(qse,{children:[p.jsx(Hse,{children:"<"}),"$0.01"]}):a}):s})};let EO=ue.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),ptt=ue.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),Hse=ue.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),qse=ue.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const Vse=ue.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),_O=ue.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),gtt=ue.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),mtt=ue(_O).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),Av=ue(_O).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),i9=ue.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),AO=ue.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),ytt=ue.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),pc=ue.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),xo=ue.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),btt=ue.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],(t=>t.height??"12")),wtt=({gas:t,tokenPrice:e,tokenSymbol:n})=>p.jsxs(i9,{style:{paddingBottom:"12px"},children:[p.jsxs(Gse,{children:[p.jsx(Yse,{children:"Est. Fees"}),p.jsx("div",{children:p.jsx(Wse,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:n})})]}),e&&p.jsx(Kse,{children:`${Jl(BigInt(t),n)}`})]}),vtt=({value:t,gas:e,tokenPrice:n,tokenSymbol:r})=>{let i=BigInt(t??0)+BigInt(e);return p.jsxs(i9,{children:[p.jsxs(Gse,{children:[p.jsx(Yse,{children:"Total (including fees)"}),p.jsx("div",{children:p.jsx(Wse,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:n,tokenSymbol:r})})]}),n&&p.jsx(Kse,{children:Jl(i,r)})]})};let Gse=ue.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),Kse=ue.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),Yse=ue.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const Cv=k.createContext(void 0),a9=k.createContext(void 0),xtt=({defaultValue:t,children:e})=>{let[n,r]=k.useState(t||null);return p.jsx(Cv.Provider,{value:{activePanel:n,togglePanel:i=>{r(n===i?null:i)}},children:p.jsx(Stt,{children:e})})},Ett=({value:t,children:e})=>{let{activePanel:n,togglePanel:r}=k.useContext(Cv),i=n===t;return p.jsx(a9.Provider,{value:{onToggle:()=>r(t),value:t},children:p.jsx($tt,{isActive:i?"true":"false","data-open":String(i),children:e})})},_tt=({children:t})=>{let{activePanel:e}=k.useContext(Cv),{onToggle:n,value:r}=k.useContext(a9),i=e===r;return p.jsxs(p.Fragment,{children:[p.jsxs(ktt,{onClick:n,"data-open":String(i),children:[p.jsx(Ttt,{children:t}),p.jsx(Ptt,{isactive:i?"true":"false",children:p.jsx(m8,{height:"16px",width:"16px",strokeWidth:"2"})})]}),p.jsx(Itt,{})]})},Att=({children:t})=>{let{activePanel:e}=k.useContext(Cv),{value:n}=k.useContext(a9);return p.jsx(Ntt,{"data-open":String(e===n),children:p.jsx(Zse,{children:t})})},Ctt=({children:t})=>{let{activePanel:e}=k.useContext(Cv),{value:n}=k.useContext(a9);return p.jsx(Zse,{children:typeof t=="function"?t({isActive:e===n}):t})};let Stt=ue.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),ktt=ue.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),Itt=ue.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),Ttt=ue.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),$tt=ue.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),Ntt=ue.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),Zse=ue.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),Ptt=ue.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],(t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)"));const LT=({walletAddress:t,chainId:e=1,network:n,rpcEndpoint:r})=>p.jsx(Ott,{href:n==="ethereum"?ett(e,t):DQe(t,Dm(r||"")),target:"_blank",children:fa(t)});let Ott=ue.a.withConfig({displayName:"StyledLink",componentId:"sc-adda23e5-0"})(["&:hover{text-decoration:underline;}"]);const Jse=({from:t,to:e,txn:n,transactionInfo:r,tokenPrice:i,gas:a,tokenSymbol:s})=>{let o=BigInt(n?.value||0);return p.jsx(xtt,{...Rn().render.standalone?{defaultValue:"details"}:{},children:p.jsxs(Ett,{value:"details",children:[p.jsx(_tt,{children:p.jsxs(Rtt,{children:[p.jsx("div",{children:r?.title||"Details"}),p.jsx(Mtt,{children:p.jsx(htt,{weiQuantities:[o],tokenPrice:i,tokenSymbol:s})})]})}),p.jsxs(Att,{children:[p.jsx(hS,{label:"From",children:p.jsx(LT,{walletAddress:t,chainId:n.chainId||1,network:"ethereum"})}),p.jsx(hS,{label:"To",children:p.jsx(LT,{walletAddress:e,chainId:n.chainId||1,network:"ethereum"})}),r&&r.action&&p.jsx(hS,{label:"Action",children:r.action}),a&&p.jsx(wtt,{value:n.value,gas:a,tokenPrice:i,tokenSymbol:s})]}),p.jsx(Ctt,{children:({isActive:l})=>p.jsx(vtt,{value:n.value,displayFee:l,gas:a||"0x0",tokenPrice:i,tokenSymbol:s})})]})})};let Rtt=ue.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-e1259f7b-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),Mtt=ue.div.withConfig({displayName:"TotalText",componentId:"sc-e1259f7b-1"})(["flex-shrink:0;padding-left:8px;"]);const Xse=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:n}=lt(),[r,i]=k.useState(!0),[a,s]=k.useState(void 0),[o,l]=k.useState(void 0);return k.useEffect((()=>{(async()=>{if(e&&t)try{i(!0);let u=await n();u?l(u):s(Error("Unable to fetch SOL price"))}catch(u){s(u)}finally{i(!1)}else i(!1)})()}),[]),{solPrice:o,isSolPriceLoading:r,solPriceError:a}};function Um(t){let{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}=(o=>{let{showFiatPrices:l,getUsdTokenPrice:u,chains:d}=lt(),[h,g]=k.useState(!0),[m,b]=k.useState(void 0),[w,x]=k.useState(void 0);return k.useEffect((()=>{o||=1;let E=bN(d).find((I=>I.id===Number(o)));(async()=>{if(l){if(!E)return g(!1),void b(Error(`Unable to fetch token price on chain id ${o}`));try{g(!0);let I=await u(E);I?x(I):b(Error(`Unable to fetch token price on chain id ${E.id}`))}catch(I){b(I)}finally{g(!1)}}else g(!1)})()}),[o]),{tokenPrice:w,isTokenPriceLoading:h,tokenPriceError:m}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:a,solPriceError:s}=Xse({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:a,tokenPriceError:s}:{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}}const Qse=k.createContext(null);function Ch(){let t=k.useContext(Qse);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function t4(t,e,n,r){let i=kee(t),a=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...a,type:MAe[a.type]}}const FT=({pendingTransaction:t})=>{let{wallets:e}=Ch(),{walletProxy:n,rpcConfig:r,chains:i,appId:a,nativeTokenSymbolForChainId:s}=lt(),[o,l]=k.useState(null),[u,d]=k.useState(t),{tokenPrice:h}=Um(u.chainId),g=s(t.chainId)||"ETH",m=k.useMemo((()=>e.find((b=>b.walletClientType==="privy"))),[e]);return k.useEffect((()=>{(async function(){if(!n||!m)return u;let b=Qg(u.chainId,i,r,{appId:a}),w=await t4(u,b,m.address);return l(ni(BigInt(w.gas??0))),w})().then(d).catch(console.error)}),[n]),m?p.jsx(jtt,{children:p.jsx(Jse,{from:m.address,to:u.to,txn:u,gas:o??void 0,tokenPrice:h,tokenSymbol:g})}):null};let jtt=ue.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]),CO=ue.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const SO=({style:t,...e})=>p.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),eoe=({hasBlockingError:t,error:e,onClose:n,onBack:r,handleSubmit:i,account:a,submitSuccess:s})=>{let{pendingTransaction:o}=lt();return p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:n},"header"),p.jsx(CO,{children:p.jsxs("div",{children:[p.jsx(Ose,{success:s,fail:!!e}),p.jsx(e?hp:SO,{style:{width:"38px",height:"38px"}})]})}),p.jsx(vs,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),p.jsxs(r9,{children:[p.jsxs(O0,{children:[p.jsx(P0,{children:p.jsx(V0,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),p.jsxs(O0,{children:[p.jsx(P0,{children:p.jsx(CSe,{})}),"You last added a passkey on"," ",a?.firstVerifiedAt?.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),o&&p.jsx(tp,{children:p.jsx(FT,{pendingTransaction:o})}),e&&p.jsxs(p.Fragment,{children:[p.jsx(jse,{style:{marginTop:"1.25rem"},children:e.message}),p.jsx(Jn,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),r&&p.jsx(UT,{style:{marginTop:"1rem"},onClick:r,children:"Choose another method"}),p.jsx(ai,{})]})};let Dtt=Array(6).fill("");var E2,Btt=((E2=Btt||{})[E2.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",E2[E2.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",E2);function zT(t){return/^[0-9]{1}$/.test(t)}function bG(t){return t.length===6&&t.every(zT)}const n4=({onChange:t,disabled:e,errorReasonOverride:n,success:r})=>{let[i,a]=k.useState(Dtt),[s,o]=k.useState(null),[l,u]=k.useState(null),d=async g=>{g.preventDefault();let m=g.currentTarget.value.replace(/\s+/g,"");if(m==="")return;let b=i.reduce(((O,H)=>O+Number(zT(H))),0),w=m.split(""),x=!w.every(zT),E=w.length+b>6;if(x)return o("Passcode can only be numbers"),void u(1);if(E)return o("Passcode must be exactly 6 numbers"),void u(1);o(null),u(null);let I=Number(g.currentTarget.name?.charAt(4)),C=[...m||[""]].slice(0,6-I),N=[...i.slice(0,I),...C,...i.slice(I+C.length)];a(N);let A=Math.min(Math.max(I+C.length,0),5);if(document.querySelector(`input[name=pin-${A}]`)?.focus(),bG(N))try{await t(N.join("")),document.querySelector(`input[name=pin-${A}]`)?.blur()}catch(O){u(1),o(O.message)}else try{await t(null)}catch(O){u(1),o(O.message)}},h=r?"success":!n&&!s?"":"fail";return p.jsx(p.Fragment,{children:p.jsxs(Utt,{children:[p.jsx("div",{children:i.map(((g,m)=>p.jsx("input",{name:`pin-${m}`,type:"text",value:i[m],onChange:d,onKeyUp:b=>{b.key==="Backspace"&&(w=>{l===1&&(o(null),u(null));let x=[...i.slice(0,w),"",...i.slice(w+1)];a(x),w>0&&document.querySelector(`input[name=pin-${w-1}]`)?.focus(),bG(x)?t(x.join("")):t(null)})(m)},inputMode:"numeric",autoFocus:m===0,pattern:"[0-9]",className:h,autoComplete:Dn.isMobile?"one-time-code":"off",disabled:e},m)))}),p.jsx("div",{children:p.jsx(Ltt,{$fail:!!n||!!s,children:n||s})})]})})};let Utt=ue.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),Ltt=ue.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],(t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"));const toe=({selectedMethod:t,submitSuccess:e,hasBlockingError:n,onClose:r,onBack:i,handleSubmitCode:a})=>{let{app:s}=ft(),{pendingTransaction:o}=lt();switch(t){case"sms":return p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:r},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(lh,{})}),p.jsx(vs,{children:"Enter verification code"}),p.jsxs(tp,{children:[p.jsx(n4,{success:e,disabled:n,onChange:a}),p.jsxs(nl,{children:["To continue, please enter the 6-digit code sent to your ",p.jsx("strong",{children:"mobile device"})]}),o&&p.jsx(FT,{pendingTransaction:o})]}),i&&p.jsx(UT,{theme:s?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),p.jsx(uc,{onClick:r,children:"Cancel"}),p.jsx(ai,{})]});case"totp":return p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:r},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(g8,{})}),p.jsx(vs,{children:"Enter verification code"}),p.jsxs(tp,{children:[p.jsx(n4,{success:e,disabled:n,onChange:a}),p.jsxs(nl,{children:["To continue, please enter the 6-digit code generated from your"," ",p.jsx("strong",{children:"authenticator app"})]}),o&&p.jsx(FT,{pendingTransaction:o})]}),i&&p.jsx(UT,{theme:s?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),p.jsx(uc,{onClick:r,children:"Cancel"}),p.jsx(ai,{})]});default:return null}},Ftt=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class Dr extends Error{constructor(e,n){super(n),this.type=e}}function Lm(t){let e=t.type;return typeof e=="string"&&Ftt.includes(e)}function Tw(t){return Lm(t)&&t.type==="wallet_not_on_device"}function kO(t){return!!Lm(t)&&t.type==="mfa_timeout"}function IO(t){return!!Lm(t)&&t.type==="missing_or_invalid_mfa"}function ztt(t){return!!Lm(t)&&t.type==="mfa_verification_max_attempts_reached"}function noe(t){return!(!Lm(t)||!t.message.includes("code 429"))}function roe(t){return!!(function(e){let n=e.type;return typeof n=="string"&&n==="client_error"})(t)&&t.message==="MFA canceled"}const r4=t=>ztt(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:IO(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:kO(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),Wtt={component:()=>{let{user:t}=bn(),{data:e}=ft(),[n,r]=k.useState(t?.mfaMethods[0]),[i,a]=k.useState(!1),[s,o]=k.useState(),[l,u]=k.useState();if(k.useEffect((()=>{r(t?.mfaMethods[0])}),[t?.mfaMethods]),!e?.mfaVerify)throw Error("Missing modal data for MFA verification screen.");let{onFailure:d,onSuccess:h,generateOptions:g,verifyTotpCode:m,verifyPasskey:b,verifySmsCode:w,sendSmsCode:x}=e.mfaVerify,E=async A=>{if(A!=="passkey")try{r(A),A==="sms"&&(r(A),await x()),A==="totp"&&r(A)}catch(T){console.error(T)}else try{r(A);let T=await g();if(!T)throw Error("something went wrong");o(T),await b(T),a(!0),u(void 0),h()}catch(T){u(r4(T))}},I=async A=>{u(void 0);try{if(!A||!n)return;if(n==="passkey"){if(!s)throw Error("Missing passkey challenge");await b(s)}else n==="sms"?await w(A):n==="totp"&&await m(A);u(void 0),a(!0),h()}catch(T){throw r4(T).error}},C=()=>{l||!i?d(l?.error??Error("Canceled MFA verification.")):h()},N=k.useRef(!1);return k.useEffect((()=>{!N.current&&n&&(N.current=!0,E(n).finally((()=>{N.current=!1})))}),[open]),t?n==="passkey"?p.jsx(eoe,{account:t.linkedAccounts.filter((A=>A.type==="passkey"&&A.enrolledInMfa)).sort(((A,T)=>T.firstVerifiedAt.valueOf()-A.firstVerifiedAt.valueOf()))[0],submitSuccess:i,hasBlockingError:l?.isBlocking??!1,error:l?.error,onClose:C,onBack:()=>{r(void 0),u(void 0)},handleSubmit:()=>I(s).catch(u)}):n==="sms"||n==="totp"?p.jsx(toe,{selectedMethod:n,submitSuccess:i,hasBlockingError:l?.isBlocking??!1,handleSubmitCode:I,onClose:C,onBack:t.mfaMethods.length>1?()=>r(void 0):void 0}):p.jsx(Dse,{user:t,onSelect:E,handleClose:C}):null}};function ioe(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=k.useContext(_m);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}const wG=({onClose:t})=>{let{user:e}=bn(),[n,r]=k.useState(e?.mfaMethods[0]??null),{init:i,cancel:a,submit:s}=ioe(),[o,l]=k.useState(!1),[u,d]=k.useState(null),[h,g]=k.useState();k.useEffect((()=>{r(e?.mfaMethods[0]??null)}),[e?.mfaMethods]);let m=k.useRef(!1);async function b(E){g(void 0);try{if(!E||!n)return;await s(n,E),l(!0),g(void 0),t()}catch(I){throw r4(I).error}}async function w(E){if(E!=="passkey")try{r(E),await i(E)}catch(I){console.error(I)}else try{r(E);let I=await i(E);if(!I)throw Error("something went wrong");d(I),await s(E,I),l(!0),g(void 0),t()}catch(I){g(r4(I))}}k.useEffect((()=>{!m.current&&n&&(m.current=!0,w(n).finally((()=>{m.current=!1})))}),[]);let x=()=>{r(null),g(void 0),a(),t()};return e?n==="passkey"?p.jsx(eoe,{account:e.linkedAccounts.filter((E=>E.type==="passkey"&&E.enrolledInMfa)).sort(((E,I)=>I.firstVerifiedAt.valueOf()-E.firstVerifiedAt.valueOf()))[0],submitSuccess:o,hasBlockingError:h?.isBlocking??!1,error:h?.error,onClose:x,onBack:()=>{r(null),g(void 0)},handleSubmit:()=>b(u).catch(g)}):n?p.jsx(toe,{submitSuccess:o,hasBlockingError:h?.isBlocking??!1,handleSubmitCode:b,selectedMethod:n,onClose:x,onBack:e.mfaMethods.length>1?()=>r(null):void 0}):p.jsx(Dse,{user:e,onSelect:w,handleClose:x}):null},i4=Cm((()=>({inProgressMfaFlow:void 0}))),Htt=zCe([":root{","};"],(t=>qtt(t.palette))),qtt=t=>ji(["",""],Object.entries((function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}})(t)).map((([e,n])=>`${e}: ${n};`)).join(`
`)),vG=ue.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),Vtt=({children:t,open:e,onClick:n,...r})=>p.jsx(Cne,{show:e,as:at.Fragment,children:p.jsxs(Z$e,{onClose:n,...r,as:Ktt,children:[p.jsx(mw,{as:at.Fragment,enterFrom:"entering",leaveTo:"leaving",children:p.jsx(Gtt,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),p.jsx(Ytt,{children:p.jsx(mw,{as:at.Fragment,enterFrom:"entering",leaveTo:"leaving",children:p.jsx(Sne,{as:Ztt,children:t})})})]})});let Gtt=ue.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),Ktt=ue.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),Ytt=ue.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const Ztt=ue.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),Jtt=ue.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let aoe=()=>{let{ready:t,isModalOpen:e}=bn(),{headless:n}=Rn(),{currentScreen:r}=ft(),{status:i,execute:a,reset:s,enabled:o}=Ds(),l=i4((h=>h.inProgressMfaFlow)),u=()=>i4.setState({inProgressMfaFlow:void 0}),d=e&&r&&r.isCaptchaRequired&&!n&&i==="ready";return k.useEffect((()=>{d&&a()}),[d]),k.useEffect((()=>{!e&&o&&s()}),[e,o]),r&&!t&&r.isShownBeforeReady?p.jsxs(p.Fragment,{children:[p.jsx(dn,{}),p.jsx(pc,{}),p.jsx(Jtt,{children:p.jsx(hl,{})}),p.jsx(xo,{}),p.jsx(ai,{})]}):r||l!=="txn"?r?p.jsxs(p.Fragment,{children:[p.jsx(em,{$if:!!l,children:p.jsx(r.component,{})}),l==="txn"&&p.jsx(wG,{onClose:u}),l==="auth"&&p.jsx(Wtt.component,{})]}):null:p.jsx(wG,{onClose:u})},Xtt=()=>{let t=k.useRef(null);return p.jsx(ent,{style:{height:tet(t)},id:"privy-modal-content",children:p.jsx("div",{ref:t,children:p.jsx(aoe,{})})})};const Qtt=({open:t})=>{let e=Rn(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=lt(),{onUserCloseViaDialogOrKeybindRef:a}=ft();return{gracefulClosePrivyModal:k.useCallback((()=>{if(!a?.current)return i({shouldCallAuthOnSuccess:!1});a.current()}),[i])}})(),r=i4((i=>i.inProgressMfaFlow));return ret({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||i4.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?p.jsx(vG,{children:p.jsx(soe,{id:"privy-modal-content",children:p.jsx(aoe,{})})}):p.jsx(Vtt,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:p.jsx(vG,{children:p.jsx(Xtt,{})})})};let soe=ue.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),ent=ue(soe).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function tnt(t){let e=k.useRef(null),n=k.useRef();return k.useEffect((()=>{n.current?.remove(),n.current=(function({botUsername:r,scriptHost:i}){let a=document.createElement("script"),{origin:s}=new URL(i);return a.async=!0,a.src=`${s}/js/telegram-login.js`,a.setAttribute("data-telegram-login",r),a.setAttribute("data-request-access","write"),a.setAttribute("data-lang","en"),a})(t),e.current?.after(n.current)}),[t]),p.jsx("div",{ref:e,hidden:!0})}const gn=({address:t,showCopyIcon:e,url:n,className:r})=>{let[i,a]=k.useState(!1);function s(o){o.stopPropagation(),navigator.clipboard.writeText(t).then((()=>a(!0))).catch(console.error)}return k.useEffect((()=>{if(i){let o=setTimeout((()=>a(!1)),3e3);return()=>clearTimeout(o)}}),[i]),p.jsxs(nnt,n?{children:[p.jsx(int,{title:t,className:r,href:`${n}/address/${t}`,target:"_blank",children:fa(t)}),e&&p.jsx(uc,{onClick:s,size:"sm",style:{gap:"0.375rem"},children:p.jsxs(p.Fragment,i?{children:["Copied",p.jsx(yw,{size:16})]}:{children:["Copy",p.jsx(I6,{size:16})]})})]}:{children:[p.jsx(rnt,{title:t,className:r,children:fa(t)}),e&&p.jsx(uc,{onClick:s,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:p.jsxs(p.Fragment,i?{children:["Copied",p.jsx(yw,{size:14})]}:{children:["Copy",p.jsx(I6,{size:14})]})})]})};let nnt=ue.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),rnt=ue.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),int=ue.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);const ant=()=>{let{solanaWallets:t}=lt(),{ready:e,wallets:n}=Ch();return k.useEffect((()=>{if(e){let r=[...n,...t].map((i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id})));Bt.put(Kae,r)}}),[e,n,t]),null};async function Bo(t,e,n,r,i,a=!1){let s=a,o=async u=>{if(s&&e&&e.length>0){u===(a?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):r.current?.reject(new Dr("missing_or_invalid_mfa","MFA verification failed, retry."));let d=await new Promise(((h,g)=>{n.current={resolve:h,reject:g},setTimeout((()=>{let m=new Dr("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(m),g(m)}),3e5)}));return await t(d)}return await t()},l=null;for(let u=0;u<4;u++)try{l=await o(u),r.current?.resolve(void 0);break}catch(d){if(d.type!=="missing_or_invalid_mfa")throw r.current?.resolve(void 0),d;s=!0}if(l===null){let u=new Dr("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(u),u}return l}var xG;let snt=(xG=0,()=>"id-"+xG++);function Si(t){return t.error!==void 0}let hi=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},pS=new Map,ont=(t,e)=>typeof e=="bigint"?e.toString():e;function ki(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let a=((o,l)=>`${o}${JSON.stringify(l,ont)}`)(t,e);if(t==="privy:wallet:create"){let o=pS.get(a);if(o)return o}let s=new Promise(((o,l)=>{let u=snt();hi.enqueue(u,{resolve:o,reject:l}),i.postMessage({id:u,event:t,data:e},r)})).finally((()=>{pS.delete(a)}));return pS.set(a,s),s}function lnt(t){let e=Sse(),n=k.useRef(null),r=k.useRef(t.mfaMethods),i=jd(),[a,s]=k.useState(!1);return k.useEffect((()=>{r.current=t.mfaMethods}),[t.mfaMethods]),k.useEffect((()=>{if(!a)return;let o=n.current;if(!o)return;function l(h){var g;h&&h.origin===t.origin&&typeof(g=h.data).event=="string"&&/^privy:.+/.test(g.event)&&(function(m){switch(m.event){case"privy:iframe:ready":let b=hi.dequeue(m.event,m.id);return Si(m)?b.reject(new Dr(m.error.type,m.error.message)):b.resolve(m.data);case"privy:user-signer:sign":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:wallets:add":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:wallets:set-recovery":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:wallets:connect":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:wallets:recover":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:wallets:rpc":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:wallet:create":let w=hi.dequeue(m.event,m.id);return Si(m)?w.reject(new Dr(m.error.type,m.error.message)):w.resolve(m.data);case"privy:wallets:import":let x=hi.dequeue(m.event,m.id);return Si(m)?x.reject(new Dr(m.error.type,m.error.message)):x.resolve(m.data);case"privy:mfa:verify":let E=hi.dequeue(m.event,m.id);return Si(m)?E.reject(new Dr(m.error.type,m.error.message)):E.resolve(m.data);case"privy:mfa:init-enrollment":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:mfa:submit-enrollment":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:mfa:unenroll":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:mfa:clear":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:auth:unlink-passkey":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:solana-wallet:create":let I=hi.dequeue(m.event,m.id);return Si(m)?I.reject(new Dr(m.error.type,m.error.message)):I.resolve(m.data);case"privy:farcaster:init-signer":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:farcaster:sign":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}case"privy:delegated-actions:consent":{let C=hi.dequeue(m.event,m.id);return Si(m)?C.reject(new Dr(m.error.type,m.error.message)):C.resolve(m.data)}default:console.warn("Unsupported wallet proxy method:",m)}})(h.data)}let u={signWithUserSigner:h=>Bo((g=>ki("privy:user-signer:sign",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:h=>Bo((g=>ki("privy:wallets:add",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:h=>Bo((g=>ki("privy:wallets:set-recovery",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:h=>Bo((g=>ki("privy:wallets:connect",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:h=>Bo((g=>ki("privy:wallets:recover",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!h.recoveryAccessToken&&!h.recoveryPassword&&!h.recoverySecretOverride),rpc:h=>Bo((g=>ki("privy:wallets:rpc",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:h=>ki("privy:wallet:create",h,o,t.origin),importWallet:h=>ki("privy:wallets:import",h,o,t.origin),createSolana:h=>Bo((g=>ki("privy:solana-wallet:create",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:h=>ki("privy:delegated-actions:consent",h,o,t.origin),verifyMfa:h=>Bo((g=>ki("privy:mfa:verify",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:h=>Bo((g=>ki("privy:mfa:init-enrollment",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:h=>Bo((g=>ki("privy:mfa:submit-enrollment",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:h=>Bo((g=>ki("privy:mfa:unenroll",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:h=>ki("privy:mfa:clear",h,o,t.origin),unlinkPasskeyAccount:h=>Bo((g=>ki("privy:auth:unlink-passkey",{...h,...g},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:h=>ki("privy:farcaster:init-signer",h,o,t.origin),signFarcasterMessage:h=>ki("privy:farcaster:sign",h,o,t.origin)};window.addEventListener("message",l);let d=new AbortController;return PT((()=>ki("privy:iframe:ready",{},o,t.origin)),{abortSignal:d.signal}).then((()=>t.onLoad(u)),((...h)=>{console.warn("Privy iframe failed to load: ",...h),t.onLoadFailed()})),()=>{window.removeEventListener("message",l),d.abort()}}),[a]),e?p.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>s(!0),src:fse(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})}):null}function tm(t){return["ethereum","solana"].includes(t.chainType)}const cnt=({address:t,user:e})=>{let n=e.linkedAccounts.find((r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t));if(!n)throw new me("Address to delegate is not associated with current user.");if(!tm(n))throw new me(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},unt=({address:t,user:e})=>{let n=e.linkedAccounts.find((i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t));if(!n)throw new me("Address to delegate is not associated with current user.");let r=n.imported?n:cl(e);if(!r)throw new me("Unable to determine root address for delegated address.");if(!tm(r))throw new me(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},EG=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated)),dnt=()=>{let t=Rn();k.useEffect((()=>{(async e=>{let n=new URL("v3/wallets","https://explorer-api.walletconnect.com");n.searchParams.append("projectId",e);let r=await fetch(n);return r.ok?Object.values((await r.json()).listings).sort((({slug:i},{slug:a})=>i==="rainbow"&&a==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1)):(console.debug(`Failed to fetch WalletConnect listings: ${await r.text().catch((()=>"No response."))}`),[])})(t.walletConnectCloudProjectId).then((e=>RQe({listings:e}))).catch(console.error)}),[t.walletConnectCloudProjectId])};function ooe(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const _G="popup-privy-oauth",AG="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class fnt{async authenticate(){if(!this.api)throw new me("Auth flow has no API instance");try{return await this.api.post(jQ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Sn(e)}}async link(){if(!this.api)throw new me("Auth flow has no API instance");try{return await this.api.post(DQ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Sn(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}}}async function loe({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find((i=>i.provider_app_id===n));if(!r)throw new me("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const s9=()=>window.open(void 0,void 0,hnt({w:440,h:680}));let hnt=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(a-e)/2/(a/window.screen.availHeight)+r}`};const qx=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:a})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let s=t?.linkedAccounts.find((h=>h.type==="cross_app"&&(h.embeddedWallets.some((g=>g.address===e))||h.smartWallets.some((g=>g.address===e)))));if(!t||!s)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new me("Cannot request a signature with this wallet address");let o=n.getProviderAccessToken(s.providerApp.id),l=await loe({api:n.api,requesterAppId:i,providerAppId:s.providerApp.id});if(!o){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new me("Cannot transact against a read-only provider app");await a({appId:s.providerApp.id,action:"link"})&&(o=n.getProviderAccessToken(s.providerApp.id))}if(!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new me("Transactions require a valid token");let u=s9();if(!u)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new me("Failed to initialize signature request");let d=new URL(l.customAuthTransactUrl||`${l.apiUrl}/oauth/transact`);return d.searchParams.set("token",o||""),d.searchParams.set("request",pnt(r)),u.location=d.href,new Promise(((h,g)=>{let m=setTimeout((()=>{x(),g(new me("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})}),12e4),b=setInterval((()=>{u.closed&&(x(),g(new me("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))}),300),w=E=>{E.data&&(E.data.token?.action==="set"&&E.data.token?.value!==void 0?n.storeProviderAccessToken(s.providerApp.id,E.data.token.value):E.data.token?.action==="clear"&&n.storeProviderAccessToken(s.providerApp.id,null),E.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&E.data.result&&(x(),h(E.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),E.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&E.data.error&&(x(),g(E.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:E.data.error,address:e}})))};window.addEventListener("message",w);let x=()=>{u.close(),clearInterval(b),clearTimeout(m),window.removeEventListener("message",w)}}))};let pnt=t=>JSON.stringify({content:{request:{request:WT(t,ni)}},timestamp:Date.now(),callbackUrl:window.origin});const WT=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map((n=>WT(n,e))):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map((([n,r])=>[n,WT(r,e)]))):t,gnt=({title:t,description:e,children:n,...r})=>p.jsx(coe,{...r,children:p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:t}),typeof e=="string"?p.jsx("p",{children:e}):e,n]})}),mo=({title:t,description:e,icon:n,children:r,...i})=>p.jsxs(mnt,{...i,children:[n||null,p.jsx("h3",{children:t}),e&&typeof e=="string"?p.jsx("p",{children:e}):e,r]});let coe=ue.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),mnt=ue(coe).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const uoe=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[p.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),p.jsx("defs",{children:p.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[p.jsx("stop",{stopColor:"#3E82F4"}),p.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),doe=({style:t,...e})=>p.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[p.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[p.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),p.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),p.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),p.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),p.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),p.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_2115_829",children:p.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function CG({url:t,popup:e,provider:n}){return e.location=t,new Promise(((r,i)=>{function a(){e?.close(),window.removeEventListener("message",s)}function s(o){o.data&&(o.data.type==="PRIVY_OAUTH_RESPONSE"&&o.data.stateCode&&o.data.authorizationCode&&(r(o.data),a()),o.origin==="https://cdn.apple-cloudkit.com"&&o.data.ckSession&&(r({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:o.data.ckSession}),a()),o.data.type==="PRIVY_OAUTH_ERROR"&&(i(o.data.error),a()))}window.addEventListener("message",s)}))}async function ynt({api:t,provider:e,stateCode:n,codeVerifier:r,authorizationCode:i}){if(!i||!n)throw new me("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new me("User denied confirmation during OAuth flow");try{return(await t.post(EEe,{authorization_code:i,state_code:n,code_verifier:r,provider:e})).access_token}catch(a){let s=Sn(a);throw s.privyErrorCode?new me(s.message||"Invalid code during OAuth flow.",void 0,s.privyErrorCode):s.message==="User denied confirmation during OAuth flow"?new me("Invalid code during oauth flow.",void 0,ye.OAUTH_USER_DENIED):new me("Invalid code during OAuth flow.",void 0,ye.UNKNOWN_AUTH_ERROR)}}async function SG({api:t,provider:e}){let n=Q8(),r=lO(),i=await cO(n);try{return e==="icloud"?{url:(await t.post(xEe,{client_type:"web"})).url}:{url:(await t.post(vEe,{redirect_to:window.location.href,code_challenge:i,state_code:r})).url,codeVerifier:n,stateCode:r,provider:e}}catch(a){throw Sn(a)}}const TO=(t,{chainType:e,walletIndex:n}={})=>t?.linkedAccounts.filter((r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e)))??[],foe=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:a,recoverEmbeddedWallet:s,setUser:o,walletIndex:l,chainType:u,recoveryMethod:d,recoveryPassword:h,recoveryAccessToken:g})=>{if(l===0)if(a.embeddedWallets.mode==="user-controlled-server-wallets-only")await Dk(i,{request:{chain_type:u}});else if(u==="ethereum"){let w=fp(t);w&&await s({address:w.address}),await n.create({accessToken:e,solanaAddress:w?.address,recoveryMethod:d,recoveryPassword:h,recoveryAccessToken:g})}else{if(u!=="solana")throw Error("Invalid input to create wallet");{let w=Gc(t);w&&await s({address:w.address}),await n.createSolana({accessToken:e,ethereumAddress:w?.address,recoveryMethod:d,recoveryPassword:h,recoveryAccessToken:g})}}else if(a.embeddedWallets.mode==="user-controlled-server-wallets-only")await Dk(i,{request:{chain_type:u}});else{let{entropyId:w,entropyIdVerifier:x}=ua(t);await s(),await n.addWallet({accessToken:e,entropyId:w,entropyIdVerifier:x,chainType:u,hdWalletIndex:l})}let m=await r(),b=TO(m,{chainType:u,walletIndex:l})[0];return o(m),{user:m,account:b}},$O=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:r,privy:i,client:a}=lt(),s=Rn();return{create:async({walletIndex:o,chainType:l,latestUser:u,recoveryMethod:d,recoveryPassword:h,recoveryAccessToken:g})=>{let m=u;m||(m=await r());let b=await a.getAccessToken();if(!m||!b||!t)throw Error("User must be authenticated before creating a Privy wallet");return await foe({appConfig:s,user:m,refreshSessionAndUser:r,privy:i,accessToken:b,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:o,chainType:l,recoveryMethod:d,recoveryPassword:h,recoveryAccessToken:g})}}},bnt=({title:t,description:e,onClose:n})=>p.jsx(kn,{title:t,subtitle:e,icon:uv,iconVariant:"success",watermark:!0,onBack:n}),NO={component:()=>{let{user:t}=bn(),{closePrivyModal:e,isNewUserThisSession:n,updateWallets:r}=lt(),{app:i,data:a,onUserCloseViaDialogOrKeybindRef:s}=ft(),{onSuccess:o,onFailure:l,callAuthOnSuccessOnClose:u}=a.createWallet,d=()=>{let h=Gc(t)??fp(t);t&&h?(r(),o({user:t,account:h})):l(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:u})};return k.useEffect((()=>{let h=setTimeout(d,sO);return()=>clearTimeout(h)}),[]),s.current=d,p.jsx(bnt,{title:n?"Welcome"+(i?.name?` to ${i?.name}`:""):"All set!",description:n?"You've successfully created an account.":"Your account is secured.",onClose:d})}},HT=ue.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),wnt=ue.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let kG={"google-drive":{name:"Google Drive",component:doe},icloud:{name:"iCloud",component:uoe}};const hoe={component:()=>{let{logout:t}=bn(),{navigate:e,setModalData:n,data:r}=ft(),{closePrivyModal:i,createAnalyticsEvent:a}=lt(),{execute:s}=(()=>{let{client:L,walletProxy:G,refreshSessionAndUser:R}=lt(),{data:F}=ft(),{user:_}=bn(),S=jd(),{create:$}=$O();return{execute:async({provider:D,action:z,popup:Y,shouldCreateEth:J,shouldCreateSol:V})=>{let M,Q;if(!L)throw new me("Missing client");function ne(K){if(!K&&L)throw L.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:D}}),new me("Recovery OAuth failed")}switch(D){case"google-drive":{let K,se,{url:le,codeVerifier:de,stateCode:he}=await SG({api:L.api,provider:D});ne(le);try{let Ce=await CG({url:le,popup:Y,provider:D});if(K=Ce.stateCode,se=Ce.authorizationCode,K!==he)throw L.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:D,storedStateCode:he??"",returnedStateCode:K??""}}),new me("Unexpected auth flow. This may be a phishing attempt.",void 0,ye.OAUTH_UNEXPECTED)}catch(Ce){throw L.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:Ce.toString(),provider:D}}),new me("Recovery OAuth failed")}[M,Q]=await Promise.all([L.getAccessToken(),ynt({api:L.api,provider:D,codeVerifier:de,stateCode:K,authorizationCode:se})]);break}case"icloud":{let{url:K}=await SG({api:L.api,provider:D});ne(K);let{ckWebAuthToken:se}=await CG({url:K,popup:Y,provider:D});Q=se,M=await L.getAccessToken()}}if(!G)throw new me("Cannot connect to wallet proxy");if(!M)throw new me("Unable to authorize user");switch(z){case"recover":{let K=F?.recoverWallet?.entropyId,se=F?.recoverWallet?.entropyIdVerifier;if(!K||!se)throw new me("Recovery OAuth failed");L.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:K,recoveryMethod:D}}),await G.recover({accessToken:M,entropyId:K,entropyIdVerifier:se,recoveryAccessToken:Q}),L.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:K,recoveryMethod:D}});break}case"create-wallet":{let K;if(L.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),J&&V)K=await $({recoveryMethod:D,recoveryAccessToken:Q,chainType:"ethereum",walletIndex:0,latestUser:_}),K=await $({chainType:"solana",walletIndex:0,latestUser:K.user});else if(V)K=await $({recoveryMethod:D,recoveryAccessToken:Q,chainType:"solana",walletIndex:0,latestUser:_});else{if(!J)throw Error("Invalid args to create wallet");K=await $({recoveryMethod:D,recoveryAccessToken:Q,chainType:"ethereum",walletIndex:0,latestUser:_})}if(!K)throw S("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");L.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:K.account.address}}),S("createWallet","onSuccess",{wallet:K.account});break}case"set-recovery":{let K=cl(_);if(!K)throw S("setWalletRecovery","onError",ye.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");L.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:K.address,existingRecoveryMethod:K.recoveryMethod,targetRecoveryMethod:D}});let{entropyId:se,entropyIdVerifier:le}=ua(_);await G.setRecovery({accessToken:M,entropyId:se,entropyIdVerifier:le,recoveryMethod:D,recoveryAccessToken:Q});let de=cl(await R());if(!de)throw S("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");L.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:K.address,existingRecoveryMethod:K.recoveryMethod,targetRecoveryMethod:D}}),S("setWalletRecovery","onSuccess",{method:D,wallet:de});break}default:throw new me("Unsupported recovery action")}}}})(),[o,l]=k.useState(!1),{provider:u,action:d,isInAccountCreateFlow:h,shouldCreateEth:g,shouldCreateSol:m}=r?.recoveryOAuthStatus,[b,w]=k.useState(void 0),[x,E]=k.useState(d==="create-wallet");if(u==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let I=kG[u].name,C=kG[u].component,N=r?.recoverWallet?.onCompleteNavigateTo,A=new Ya((async(L="create-wallet")=>(E(!0),new Promise(((G,R)=>{setTimeout((async()=>{try{let F=window.open();await s({provider:u,action:L,popup:F,shouldCreateEth:g,shouldCreateSol:m}),l(!0),G()}catch{w({message:`${L==="recover"?"Recovery":"Back up"} with ${I} unsuccessful`,detail:d==="recover"?`Please verify that you are selecting the ${I} account associated with your backup.`:"",retryable:!0}),R()}}),0)})))));k.useEffect((()=>{d!=="recover"&&A.execute(h?"create-wallet":"set-recovery")}),[]),k.useEffect((()=>{if(!o)return;let L=setTimeout((()=>{h?(n({createWallet:{onSuccess:()=>{},onFailure:G=>{a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:G,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(NO)):i({shouldCallAuthOnSuccess:!1})}),Pr);return()=>clearTimeout(L)}),[o]);let T=k.useCallback((async()=>{await A.execute("recover"),N?e(N):l(!0)}),[]),O=u==="google-drive"?"Google Drive":"Apple iCloud",H=o&&`Successfully ${d==="recover"?"recovered":"backed up"} with ${O}.`||b&&b.message||`${d==="recover"?"Recovering":"Backing up"} with ${O}...`,U=b?b.detail:"";return p.jsxs(p.Fragment,{children:[p.jsx(dn,{}),x?p.jsx(p.Fragment,{children:p.jsxs(HT,{children:[p.jsx(mo,{title:H,icon:p.jsx(C,{style:{width:"38px",height:"38px"}}),description:U}),b&&b?.retryable?p.jsx(Jn,{onClick:()=>{$T(),w(void 0),d==="create-wallet"?A.execute("create-wallet"):T()},disabled:!o&&!b?.retryable,children:"Try again"}):null]})}):p.jsxs(HT,{children:[p.jsx(mo,{title:"Confirm it's really you",icon:p.jsx(C,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${O} where your account is backed up.`}),p.jsxs(Jn,{onClick:T,children:["Confirm with ",O]})]}),p.jsx(Pn,{})]})}};let gS=ue.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),vnt={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},xnt=({onClose:t})=>p.jsxs(wnt,{children:[p.jsx(mo,{title:"Why do I need to secure my account?",icon:p.jsx(Eg,{width:48}),description:p.jsxs(p.Fragment,{children:[p.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),p.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),p.jsx(Jn,{onClick:t,children:"Select backup method"})]});const qT={component:()=>{let[t,e]=k.useState(!1),{navigate:n,lastScreen:r,navigateBack:i,setModalData:a,data:s,onUserCloseViaDialogOrKeybindRef:o}=ft(),{user:l}=bn(),{embeddedWallets:u}=Rn(),{closePrivyModal:d}=lt(),h=cl(l),g=h===null,{isInAccountCreateFlow:m,isResettingPassword:b,shouldCreateEth:w,shouldCreateSol:x}=s.recoverySelection,E=h&&h.recoveryMethod!=="privy",I=E?p.jsxs("span",{children:["Your account is currently secured using"," ",p.jsx("strong",{children:vnt[h?.recoveryMethod||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function C(A){a({recoveryOAuthStatus:{provider:A,action:g?"create-wallet":"set-recovery",isInAccountCreateFlow:m,shouldCreateEth:w,shouldCreateSol:x}}),n(hoe)}function N(){s?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),d({shouldCallAuthOnSuccess:s?.setWalletPassword?.callAuthOnSuccessOnClose??!1})}return o.current=N,p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:N,backFn:t?()=>e(!1):r?i:void 0,infoFn:r||t?void 0:()=>e(!0)},"header"),t?p.jsx(xnt,{onClose:()=>e(!1)}):p.jsxs(p.Fragment,{children:[p.jsx(mo,{title:E?"Update backup method":"Secure your account",icon:p.jsx(Dae,{width:48}),description:I}),p.jsx(HT,{children:u.userOwnedRecoveryOptions.filter((A=>!["icloud","google-drive"].includes(h?.recoveryMethod||"")||A!==h?.recoveryMethod)).sort().map((A=>{switch(A){case"google-drive":return p.jsxs(jr,{onClick:()=>C("google-drive"),children:[p.jsx(gS,{children:p.jsx(doe,{style:{width:18}})}),"Back up to Google Drive"]},A);case"icloud":return p.jsxs(jr,{onClick:()=>C("icloud"),children:[p.jsx(gS,{children:p.jsx(uoe,{style:{width:24}})}),"Back up to Apple iCloud"]},A);case"user-passcode":return p.jsxs(jr,{onClick:()=>{n(sle({isCreatingWallet:g,skipSplashScreen:!0}))},children:[p.jsx(gS,{children:p.jsx(SXe,{style:{width:18}})}),b?"Reset your":"Set a"," password"]},A);default:return null}}))})]}),p.jsx(Pn,{})]})}};let Ent=ji(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const poe=ue.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],Ent,(({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),(({error:t})=>t?"":"capitalize")),o9=ue.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),l9=ue(Jn).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],(({$hideAnimations:t})=>t&&ji(["&&{transition:none;}"])));let goe=ji(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const PO=ue.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],goe),_nt=ue.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],goe),c9=ue.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],(({centered:t})=>t?"center":"space-between")),u9=ue.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),OO=ue.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),VT=ue.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),IG=ue(ep).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),d9=ue.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),Ant=ue(GJe).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),f9=ue(hXe).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),h9=ue(gXe).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),Cnt=ue.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],(({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)")),Snt=({buttonHideAnimations:t,buttonLoading:e,password:n,onSubmit:r,onBack:i})=>{let[a,s]=k.useState(!0),[o,l]=k.useState(!1),[u,d]=k.useState(""),h=n===u;return k.useEffect((()=>{u&&!o&&l(!0)}),[u]),p.jsxs(p.Fragment,{children:[p.jsx(dn,{closeable:!1,backFn:i}),p.jsx(pc,{}),p.jsxs(o9,{children:[p.jsxs(u9,{children:[p.jsx(hp,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),p.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),p.jsxs(c9,{children:[p.jsx(PO,{value:u,onChange:g=>d(g.target.value),onKeyUp:g=>{g.key==="Enter"&&r()},onBlur:()=>l(!0),placeholder:"confirm your password",type:a?"password":"text",style:{paddingRight:"2.3rem"}}),p.jsx(d9,{style:{right:"0.75rem"},children:a?p.jsx(f9,{onClick:()=>s(!1)}):p.jsx(h9,{onClick:()=>s(!0)})})]}),p.jsx(poe,{"aria-hidden":!o||h,error:!0,children:"Passwords do not match"})]}),p.jsx(l9,{onClick:r,loading:e,disabled:!h,$hideAnimations:t,children:"Continue"}),p.jsx(xo,{}),p.jsx(Pn,{})]})},moe=({className:t,checked:e,color:n="var(--privy-color-accent)",...r})=>p.jsx("label",{children:p.jsxs(knt,{className:t,children:[p.jsx(boe,{checked:e,...r}),p.jsx(Int,{color:n,checked:e,children:p.jsx(yoe,{viewBox:"0 0 24 24",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let knt=ue.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),yoe=ue.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),boe=ue.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),Int=ue.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],(t=>t.color),(t=>t.checked?t.color:"var(--privy-color-background)"),boe,(t=>t.color),yoe,(t=>t.checked?"visible":"hidden"));const Tnt=({buttonHideAnimations:t,buttonLoading:e,onSubmit:n,onBack:r,config:i})=>{let[a,s]=k.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx(dn,{closeable:!1,backFn:r}),p.jsx(pc,{}),p.jsxs(o9,{children:[p.jsxs(u9,{children:[p.jsx(hp,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),p.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),p.jsx(OO,{children:p.jsxs(VT,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:o=>{o.preventDefault(),s((l=>!l))},children:[p.jsx(moe,{color:"var(--privy-color-error)",readOnly:!0,checked:a}),p.jsx(p.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),p.jsxs($nt,{children:[i.initiatedBy==="user"&&p.jsx(uc,{onClick:i.onCancel,disabled:e,children:"Cancel"}),p.jsx(l9,{onClick:n,loading:e,$hideAnimations:t,disabled:!a,children:"Set Password"})]}),p.jsx(xo,{}),p.jsx(Pn,{})]})};let $nt=ue.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),Nnt=/[a-z]/,Pnt=/[A-Z]/,Ont=/[0-9]/,woe="!@#$%^&*()\\-_+.",voe=`a-zA-Z0-9${woe}`,Rnt=RegExp(`[${woe}]`),Mnt=RegExp(`[${voe}]`);const jnt=RegExp(`^[${voe}]{6,}$`),xoe=()=>PJe(4,RJe);function Dnt(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function Bnt(t=""){return(.3*(function(e){if(e.length<8)return 0;let n=0;return Nnt.test(e)&&(n+=1),Pnt.test(e)&&(n+=1),Ont.test(e)&&(n+=1),Rnt.test(e)&&(n+=1),Math.max(0,Math.min(1,n/3))})(t)+SJe(t)/95)/2}const Unt=({buttonHideAnimations:t,buttonLoading:e,password:n="",config:r,isResettingPassword:i,onSubmit:a,onClose:s,onBack:o,onPasswordChange:l,onPasswordGenerate:u})=>{let[d,h]=k.useState(!1),[g,m]=k.useState(!1);k.useEffect((()=>{n&&!g&&m(!0)}),[n]);let b=k.useMemo((()=>g?6>(n?.length||0)?"Password must be at least 6 characters":jnt.test(n||"")?null:`Invalid characters used ( ${((E="")=>[...new Set(E.split("").filter((I=>!Mnt.test(I))).map((I=>I.replace(" ","SPACE"))))])(n).join(" ")} )`:null),[n,g]),w=k.useMemo((()=>b?{value:0,label:"Weak"}:(function(E=""){let I=Bnt(E);return{value:I,label:Dnt(I)}})(n)),[n,b]),x=k.useMemo((()=>!n?.length||!!b),[b,n]);return p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:s,closeable:r.initiatedBy==="user",backFn:o}),p.jsx(pc,{}),p.jsxs(o9,{children:[p.jsxs(u9,{children:[p.jsx(vXe,{height:48,width:48,stroke:"var(--privy-color-accent)"}),p.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),p.jsxs(c9,{children:[p.jsx(PO,{value:n,onChange:E=>l(E.target.value),onKeyUp:E=>{E.key==="Enter"&&a()},placeholder:"enter or generate a strong password",type:d?"password":"text",style:{paddingRight:"3.8rem"}}),p.jsxs(d9,{style:{width:"3.5rem"},children:[d?p.jsx(f9,{onClick:()=>h(!1)}):p.jsx(h9,{onClick:()=>h(!0)}),p.jsx(Ant,{onClick:u})]})]}),p.jsx(Cnt,{value:w.value===0?.01:w.value,label:w.label}),p.jsx(poe,{error:!!b,children:b||`Password Strength: ${g?w.label:"--"}`}),p.jsxs(Fnt,{children:[p.jsx(Lnt,{children:p.jsxs(OO,{children:[p.jsxs(VT,{children:[p.jsx(kw,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),p.jsxs(VT,{children:[p.jsx(kw,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),p.jsx(l9,{onClick:a,loading:e,disabled:x,$hideAnimations:t,children:"Continue"})]})]}),p.jsx(xo,{}),p.jsx(Pn,{})]})};let Lnt=ue(OO).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),Fnt=ue.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const znt=({buttonHideAnimations:t,buttonLoading:e,appName:n,password:r,onSubmit:i,onBack:a})=>{let[s,o]=k.useState(!1),[l,u]=k.useState(!0),d=k.useCallback((()=>{o(!0),r&&navigator.clipboard.writeText(r)}),[r]),h=k.useCallback((()=>{let g=document.createElement("a"),m=n.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),b=new Blob([Wnt(n,r)],{type:"text/plain"}),w=URL.createObjectURL(b);g.href=w,g.target="_blank",g.download=`${m}-privy-wallet-recovery.txt`,document.body.appendChild(g),g.click(),setTimeout((()=>{g.remove(),URL.revokeObjectURL(w)}),5e3)}),[r]);return p.jsxs(p.Fragment,{children:[p.jsx(dn,{backFn:a,closeable:!1}),p.jsx(pc,{}),p.jsxs(o9,{children:[p.jsxs(u9,{children:[p.jsx(hp,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),p.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),p.jsxs(c9,{centered:!0,children:[p.jsx(_nt,{children:l?"".repeat(r.length):r}),p.jsx(d9,{style:{right:"0.75rem"},children:l?p.jsx(f9,{onClick:()=>u(!1)}):p.jsx(h9,{onClick:()=>u(!0)})})]}),p.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[p.jsx(IG,{onClick:d,children:p.jsxs(p.Fragment,s?{children:[p.jsx(Mae,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[p.jsx(dXe,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),p.jsxs(IG,{onClick:h,children:[p.jsx(qJe,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),p.jsx(l9,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),p.jsx(xo,{}),p.jsx(Pn,{})]})};let Wnt=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const Hnt=({error:t,onClose:e})=>p.jsxs(p.Fragment,{children:[p.jsx(dn,{closeable:!1}),p.jsx(pc,{}),p.jsxs(Av,t?{children:[p.jsx(eQe,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),p.jsx(mo,{title:"Something went wrong",description:t})]}:{children:[p.jsx(kw,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(mo,{title:"Success"})]}),p.jsx(Jn,{onClick:e,children:"Close"}),p.jsx(xo,{}),p.jsx(Pn,{})]});let qnt=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const Eoe=({onSubmit:t,...e})=>{let{lastScreen:n,navigate:r}=ft(),{send:i,state:a}=(()=>{let[u,d]=k.useReducer(qnt,"creating");return{send:d,state:u}})(),s=k.useCallback((async()=>{a==="finalizing"&&await t(),i("next")}),[a,i,t]);k.useEffect((()=>{let u;return a==="done"&&e.config.initiatedBy==="automatic"&&(u=setTimeout((()=>e.onClose?.()),Pr)),()=>{u&&clearTimeout(u)}}),[a,e.config.initiatedBy,e.onClose]);let o=k.useCallback((()=>{i("back")}),[i]),l=k.useCallback((()=>{r(qT)}),[n,r]);return a==="creating"?p.jsx(Unt,{...e,onSubmit:s,onBack:n===qT?l:void 0}):a==="saving"?p.jsx(znt,{...e,onSubmit:s,onBack:o}):a==="confirming"?p.jsx(Snt,{...e,onSubmit:s,onBack:o}):a==="finalizing"?p.jsx(Tnt,{...e,onSubmit:s,onBack:o}):a==="done"?p.jsx(Hnt,{...e,onSubmit:s}):null};let Vnt={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const p9=t=>{let e=Vnt[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let _oe=k.createContext({});const Gnt=({children:t})=>{let e=Rn(),[n,r]=k.useState({});return Bm("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(Bt.put(TG(e.id),i.type),i.type==="wallet"?(Bt.put(mS(e.id),i.walletClientType),Bt.put(yS(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(Bt.del(mS(e.id)),Bt.del(yS(e.id)),r({accountType:i.type})))}}),k.useEffect((()=>{if(!e.id)return;let i=Bt.get(TG(e.id)),a=Bt.get(mS(e.id)),s=Bt.get(yS(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:a,chainType:s}:{accountType:i})}),[e.id]),p.jsx(_oe.Provider,{value:n,children:t})};let TG=t=>`privy:${t}:recent-login-method`,mS=t=>`privy:${t}:recent-login-wallet-client`,yS=t=>`privy:${t}:recent-login-chain-type`;const Sh=()=>k.useContext(_oe),Aoe=()=>{let{app:t}=ft(),e=t?.appearance?.logo,n=`${t?.name} logo`,r={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?p.jsx("img",{src:e,alt:n,style:r}):e.type==="svg"||e.type==="img"?at.cloneElement(e,{alt:n,style:r}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},Knt=t=>{let{app:e}=ft();return e?.appearance.logo?p.jsx(Ynt,{...t,children:p.jsx(Aoe,{})}):null},Ynt=ue.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),Znt=({name:t,logoUrl:e,size:n="38px"})=>typeof e=="string"?p.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:n,height:n,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):p.jsx("span",{}),Jnt=({appId:t})=>{let[e,n]=k.useState(void 0),{startCrossAppAuthFlow:r,authenticated:i}=bn(),{client:a}=lt();return k.useEffect((()=>{(async()=>a&&n(await a.getCrossAppProviderDetails(t)))()}),[a]),p.jsx(jr,{onClick:()=>r({appId:t,action:i?"link":"login"}),disabled:!e,children:e?p.jsxs(p.Fragment,{children:[p.jsx(Znt,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):p.jsx(Ah,{})})};let Xnt=ue.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],(({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)"),(({$disabled:t})=>t?"not-allowed":"pointer"),(({$disabled:t})=>t?.5:1),(({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}}),(({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}}),(({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$disabled:t})=>t?"none":"underline"),(({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)"));const nm=({size:t="md",variant:e="navigation",disabled:n=!1,as:r,children:i,onClick:a,...s})=>p.jsx(Xnt,{as:r,$size:t,$variant:e,$disabled:n,onClick:o=>{n?o.preventDefault():a?.(o)},...s,children:i}),RO=(t,e)=>!Gc(t)&&(e==="all-users"||e==="users-without-wallets"&&!Qnt(t).length);let Qnt=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="ethereum"));const MO=(t,e)=>!fp(t)&&(e==="all-users"||e==="users-without-wallets"&&!ert(t).length);let ert=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="solana"));const kh=(t,e)=>RO(t,e.ethereum.createOnLogin)||MO(t,e.solana.createOnLogin),trt=({title:t="Account not found",subtitle:e,appName:n="this app",ctaText:r="Try logging in again",onRetry:i})=>p.jsx(kn,{title:t,subtitle:e||`Please try logging in again or go to ${n} to create an account.`,icon:INe,iconVariant:"warning",primaryCta:{label:r,onClick:i},watermark:!0}),Sv={component:()=>{let{navigate:t,app:e,setModalData:n,data:r}=ft(),{getAuthMeta:i,client:a}=lt();return p.jsx(trt,{appName:e?.name,onRetry:()=>{let s=i();n({...r,login:{...r?.login,...s?.disableSignup?{disableSignup:!0}:{}}}),a?.authFlow&&(a.authFlow=void 0),t(Da)}})}},nrt=ue.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],(t=>t.color??"var(--privy-color-accent)"),(t=>t.color??"var(--privy-color-accent)"));function rrt(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),p.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}let $G="0x0000000000000000000000000000000000000000";const Tg=({originCurrency:t,destinationCurrency:e,...n})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??$G,destinationCurrency:e??$G,...n});let Coe="https://api.relay.link",Soe="https://api.testnets.relay.link";const $w=async({input:t,isTestnet:e})=>{let n=await fetch((e?Soe:Coe)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(!(n.ok||typeof r.message=="string"&&r.message.startsWith("Invalid address")))throw console.error("Relay error:",r),Error(r.message??"Error fetching quote from relay");return r},a4=t=>{let e=t.steps[0]?.items?.[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};function jO({transactionHash:t,wallet:e,isTestnet:n,bridgingStatus:r,setBridgingStatus:i,onSuccess:a,onFailure:s}){k.useEffect((()=>{if(t&&e&&r){if(["delayed","waiting","pending"].includes(r)){let o=setInterval((async()=>{try{let l=await(async function({transactionHash:u,isTestnet:d}){let h=await fetch((d?Soe:Coe)+"/requests/v2?hash="+u),g=await h.json();if(!h.ok)throw"message"in g&&typeof g.message=="string"?Error(g.message):Error("Error fetching request from relay");return g.requests.at(0)?.status??"pending"})({transactionHash:t,isTestnet:n});i(l)}catch(l){console.error(l)}}),1e3);return()=>clearInterval(o)}r==="success"?a({transactionHash:t,wallet:e}):["refund","failure"].includes(r)&&s({error:new koe(t,n)})}}),[r,t,n,e])}class koe extends me{constructor(e,n){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,ye.TRANSACTION_FAILURE),this.relayLink=n?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}}const kv=({error:t,allowlistConfig:e,onRetry:n,onCaptchaReset:r,onBack:i})=>{let a=((s,o)=>{if(s instanceof koe)return{title:"Transaction failed",detail:p.jsxs(p.Fragment,{children:[p.jsx("span",{children:s.message}),p.jsxs("span",{children:[" ","Check the"," ",p.jsx(irt,{href:s.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:Vs};if(s instanceof me)switch(s.privyErrorCode){case ye.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:s.message,ctaText:"Try again",icon:Vs};case ye.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:s.message,ctaText:"Try again",icon:Vs};case ye.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:s.message,ctaText:"Try again",icon:Vs};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Vs}}else{if(s instanceof Dr&&s.type==="twilio_verification_failed")return{title:"Something went wrong",detail:s.message,ctaText:"Try again",icon:PNe};if(!(s instanceof Ma))return s instanceof no&&s.status&&[400,422].includes(s.status)?{title:"Something went wrong",detail:s.message,ctaText:"Try again",icon:Vs}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Vs};switch(s.privyErrorCode){case ye.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:Vs};case ye.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:s.message,ctaText:"Try another method",icon:Vs};case ye.ALLOWLIST_REJECTED:return{title:o.errorTitle||"You don't have access to this app",detail:o.errorDetail||"Have you been invited?",ctaText:o.errorCtaText||"Try another account",icon:bP};case ye.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case ye.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case ye.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:Vs};case ye.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:Vs};case ye.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:Vs};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Vs}}}})(t,e);return p.jsx(kn,{title:a.title,subtitle:a.detail,icon:a.icon,onBack:i,iconVariant:"error",primaryCta:{label:a.ctaText,onClick:()=>{t instanceof Ma&&(t.privyErrorCode===ye.INVALID_CAPTCHA&&r?.(),t.privyErrorCode===ye.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:n?.()},variant:"error"},watermark:!0})},Or={component:()=>{let{navigate:t,data:e,lastScreen:n,currentScreen:r,app:i}=ft(),{reset:a}=Ds(),s=e?.errorModalData?.previousScreen||(n===r?void 0:n);return p.jsx(kv,{error:e?.errorModalData?.error||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(s||Da,!1)},onCaptchaReset:a})}};let irt=ue.a.withConfig({displayName:"Link",componentId:"sc-89a5a605-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const Ioe=({onTransfer:t,isTransferring:e,transferSuccess:n})=>p.jsx(Jn,{...n?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),Toe=ue.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),GT=ue.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),$oe=ue.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),art=ue(nO).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],(({$iconSize:t})=>`${t}px`),(({$iconSize:t})=>`${t}px`)),srt=ue(WJe).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),ort=ue.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),NG=ue.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),lrt=ue.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let crt=()=>p.jsx(lrt,{children:p.jsx(art,{$iconSize:60})});const urt=({address:t,onClose:e,onRetry:n,onTransfer:r,isTransferring:i,transferSuccess:a})=>{let{defaultChain:s}=Rn(),o=s.blockExplorers?.default.url??"https://etherscan.io";return p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:e,backFn:n}),p.jsxs(Toe,{children:[p.jsx(crt,{}),p.jsxs(GT,{children:[p.jsx("h3",{children:"Check account assets before transferring"}),p.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),p.jsxs(ort,{children:[p.jsx("p",{children:" To check your balance, you can:"}),p.jsx(NG,{children:"Log out and log back into the other account, or "}),p.jsxs(NG,{children:["Copy your wallet address and use a"," ",p.jsx("u",{children:p.jsx("a",{target:"_blank",href:o,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),p.jsxs($oe,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[p.jsx(Z8,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),p.jsx(gn,{address:t,showCopyIcon:!1}),p.jsx(srt,{})]}),p.jsx(Ioe,{onTransfer:r,isTransferring:i,transferSuccess:a})]})]}),p.jsx(Pn,{})]})},Sp={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=lt(),{data:n,navigate:r,lastScreen:i,setModalData:a}=ft(),[s,o]=k.useState(void 0),[l,u]=k.useState(!1),[d,h]=k.useState(!1),g=async()=>{try{if(!n?.accountTransfer?.nonce||!n?.accountTransfer?.account)throw Error("missing account transfer inputs");h(!0),await t({nonce:n?.accountTransfer?.nonce,account:n?.accountTransfer?.account,accountType:n?.accountTransfer?.linkMethod,externalWalletMetadata:n?.accountTransfer?.externalWalletMetadata,telegramWebAppData:n?.accountTransfer?.telegramWebAppData,telegramAuthResult:n?.accountTransfer?.telegramAuthResult,farcasterEmbeddedAddress:n?.accountTransfer?.farcasterEmbeddedAddress,oAuthUserInfo:n?.accountTransfer?.oAuthUserInfo}),u(!0),h(!1),setTimeout(e,1e3)}catch(m){a({errorModalData:{error:m,previousScreen:i||Sp}}),r(Or,!0)}};return s?p.jsx(urt,{address:s,onClose:e,onRetry:()=>o(void 0),onTransfer:g,isTransferring:d,transferSuccess:l}):p.jsx(drt,{onClose:e,onInfo:()=>o(n?.accountTransfer?.embeddedWalletAddress),onContinue:()=>o(n?.accountTransfer?.embeddedWalletAddress),onTransfer:g,isTransferring:d,transferSuccess:l,data:n})}},drt=({onClose:t,onContinue:e,onInfo:n,onTransfer:r,transferSuccess:i,isTransferring:a,data:s})=>{if(!s?.accountTransfer?.linkMethod||!s?.accountTransfer?.displayName)return;let o={method:s?.accountTransfer?.linkMethod,handle:s?.accountTransfer?.displayName,disclosedAccount:s?.accountTransfer?.embeddedWalletAddress?{type:"wallet",handle:s?.accountTransfer?.embeddedWalletAddress}:void 0};return p.jsxs(p.Fragment,{children:[p.jsx(dn,{closeable:!0}),p.jsxs(Toe,{children:[p.jsx(CO,{children:p.jsxs("div",{children:[p.jsx(nrt,{color:"var(--privy-color-error)"}),p.jsx(hp,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),p.jsxs(GT,{children:[p.jsxs("h3",{children:[(function(l){switch(l){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${Jae(l.replace("_oauth",""))} profile`;default:return l.startsWith("privy:")?"Cross-app account":l}})(o.method)," is associated with another account"]}),p.jsxs("p",{children:["Do you want to transfer",p.jsx("b",{children:o.handle?` ${o.handle}`:""})," to this account instead? This will delete your other account."]}),p.jsx(frt,{onClick:n,disclosedAccount:o.disclosedAccount})]}),p.jsxs(GT,{style:{gap:12,marginTop:12},children:[s?.accountTransfer?.embeddedWalletAddress?p.jsx(Jn,{onClick:e,children:"Continue"}):p.jsx(Ioe,{onTransfer:r,transferSuccess:i,isTransferring:a}),p.jsx(uc,{onClick:t,children:"No thanks"})]})]}),p.jsx(Pn,{})]})};function frt({disclosedAccount:t,onClick:e}){return t?p.jsxs($oe,{onClick:e,children:[p.jsx(Z8,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),p.jsx(gn,{address:t.handle,showCopyIcon:!1}),p.jsx(rrt,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const hrt=({errorMessage:t,onClose:e})=>p.jsx(kn,t?{title:"Something went wrong",subtitle:t,icon:N8,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),Dd={component:()=>{let{app:t,setModalData:e,navigate:n,data:r,onUserCloseViaDialogOrKeybindRef:i}=ft(),[a,s]=k.useState(""),{embeddedWallets:o}=Rn(),{authenticated:l,user:u}=bn(),{closePrivyModal:d,walletProxy:h,client:g}=lt(),{onSuccess:m,onFailure:b,callAuthOnSuccessOnClose:w,shouldCreateEth:x,shouldCreateSol:E}=r.createWallet,I=t.embeddedWallets.mode==="legacy-embedded-wallets-only"&&t?.embeddedWallets.requireUserOwnedRecoveryOnCreate===!0,[C,N]=k.useState(null),{create:A}=$O(),T=x??(!!u&&RO(u,t.embeddedWallets.ethereum.createOnLogin)),O=E??(!!u&&MO(u,t.embeddedWallets.solana.createOnLogin)),H=new Ya((async()=>{let U=await g.getAccessToken();if(u&&U&&h)try{let L;if(T&&O)L=await A({chainType:"ethereum",walletIndex:0,latestUser:u}),L=await A({chainType:"solana",walletIndex:0,latestUser:L.user});else if(O)L=await A({chainType:"solana",walletIndex:0,latestUser:u});else{if(!T)return void d({shouldCallAuthOnSuccess:w});L=await A({chainType:"ethereum",walletIndex:0,latestUser:u})}N(L),n(NO)}catch(L){s(L.message)}}));return k.useEffect((()=>l&&u?I?(e({...r,createWallet:{...r.createWallet,shouldCreateEth:T,shouldCreateSol:O},recoverySelection:{...r?.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:T,shouldCreateSol:O}}),n(ole({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:o.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void H.execute():(n(Da),void b(Error("User must be authenticated before creating a Privy wallet")))),[I,l]),i.current=()=>null,p.jsx(hrt,{errorMessage:a||void 0,onClose:()=>{C?(m(C),d({shouldCallAuthOnSuccess:w})):(b(new eh("User wallet creation failed")),d({shouldCallAuthOnSuccess:!1}))}})}},kp={component:()=>{let{user:t,logout:e}=bn(),{app:n,onUserCloseViaDialogOrKeybindRef:r,setModalData:i,navigate:a}=ft(),{acceptTerms:s,closePrivyModal:o,createAnalyticsEvent:l}=lt(),u=d=>{d?.preventDefault(),o({shouldCallAuthOnSuccess:!1}),e()};return r.current=u,p.jsx(prt,{termsAndConditionsUrl:n?.legal.termsAndConditionsUrl,privacyPolicyUrl:n?.legal.privacyPolicyUrl,onAccept:async d=>{d?.preventDefault(),await s(),t&&kh(t,n.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:h=>{console.error(h),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:h,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),a(Dd)):o()},onDecline:u})}},prt=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:n,onDecline:r,title:i="One last step",subtitle:a="By signing up, you agree to our terms and privacy policy."})=>p.jsx(kn,{title:i,subtitle:a,icon:NNe,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"No thanks",onClick:r},watermark:!0,children:(t||e)&&p.jsxs(grt,{children:[t&&p.jsxs(ep,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",p.jsx(kI,{width:16,height:16,strokeWidth:2.25})]}),e&&p.jsxs(ep,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",p.jsx(kI,{width:16,height:16,strokeWidth:2.25})]})]})});let grt=ue.div.withConfig({displayName:"LinksContainer",componentId:"sc-b9d25a6d-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const Noe=({color:t,...e})=>p.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:p.jsx("g",{children:p.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let mrt=ue.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),yrt=ue.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),brt=ue(eXe).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),wrt=ue(Noe).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function vrt({children:t,iconOnly:e,value:n,hideCopyIcon:r,...i}){let[a,s]=k.useState(!1);return p.jsxs(mrt,{...i,onClick:()=>{navigator.clipboard.writeText(n||t).catch(console.error),s(!0),setTimeout((()=>s(!1)),1500)},children:[t," ",a?p.jsxs(yrt,{children:[p.jsx(brt,{})," ",!e&&"Copied"]}):!r&&p.jsx(wrt,{})]})}const xrt=()=>p.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:p.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let bS=(t,e,n,r,i)=>{for(let a=e;a<e+r;a++)for(let s=n;s<n+i;s++){let o=t?.[s];o&&o[a]&&(o[a]=0)}return t},Ert=({x:t,y:e,cellSize:n,bgColor:r,fgColor:i})=>p.jsx(p.Fragment,{children:[0,1,2].map((a=>p.jsx("circle",{r:n*(7-2*a)/2,cx:t+7*n/2,cy:e+7*n/2,fill:a%2!=0?r:i},`finder-${t}-${e}-${a}`)))}),_rt=({cellSize:t,matrixSize:e,bgColor:n,fgColor:r})=>p.jsx(p.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map((([i,a])=>p.jsx(Ert,{x:i,y:a,cellSize:t,bgColor:n,fgColor:r},`finder-${i}-${a}`)))}),Art=({matrix:t,cellSize:e,color:n})=>p.jsx(p.Fragment,{children:t.map(((r,i)=>r.map(((a,s)=>a?p.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:s*e+.1*e,rx:.5*e,ry:.5*e,fill:n},`cell-${i}-${s}`):p.jsx(at.Fragment,{},`circle-${i}-${s}`)))))}),Crt=({cellSize:t,matrixSize:e,element:n,sizePercentage:r,bgColor:i})=>{if(!n)return p.jsx(p.Fragment,{});let a=e*(r||.14),s=Math.floor(e/2-a/2),o=Math.floor(e/2+a/2);(o-s)%2!=e%2&&(o+=1);let l=(o-s)*t,u=l-.2*l,d=s*t;return p.jsxs(p.Fragment,{children:[p.jsx("rect",{x:s*t,y:s*t,width:l,height:l,fill:i}),p.jsx(n,{x:d+.1*l,y:d+.1*l,height:u,width:u})]})},Srt=t=>{let e=t.outputSize,n=((a,s)=>{let o=JXe.create(a,{errorCorrectionLevel:s}).modules,l=((u,d)=>{let h=u.slice(0),g=[];for(;h.length;)g.push(h.splice(0,d));return g})(Array.from(o.data),o.size);return l=bS(l,0,0,7,7),l=bS(l,l.length-7,0,7,7),bS(l,0,l.length-7,7,7)})(t.url,t.errorCorrectionLevel),r=e/n.length,i=(function(a,{min:s,max:o}){return Math.min(Math.max(a,s),o)})(2*r,{min:.025*e,max:.036*e});return p.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[p.jsx(Art,{matrix:n,cellSize:r,color:t.fgColor}),p.jsx(_rt,{cellSize:r,matrixSize:n.length,fgColor:t.fgColor,bgColor:t.bgColor}),p.jsx(Crt,{cellSize:r,element:t.logo?.element,bgColor:t.bgColor,matrixSize:n.length})]})},krt=ue.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],(t=>`${t.$size}px`),(t=>`${t.$size}px`),(t=>t.$bgColor),(t=>t.$borderColor));const Iv=t=>{let{appearance:e}=Rn(),n=t.bgColor||"#FFFFFF",r=t.fgColor||"#000000",i=t.size||160,a=e.palette.colorScheme==="dark"?n:r;return p.jsx(krt,{$size:i,$bgColor:n,$fgColor:r,$borderColor:a,children:p.jsx(Srt,{url:t.url,logo:{element:t.squareLogoElement??xrt},outputSize:i,bgColor:n,fgColor:r,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},Id=ue.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let Poe=ue.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)"),(({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)"));const Ooe=ue(Poe).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),Irt=ue(Poe).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],(t=>t.$stacked?"16px":"88px"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)")),Roe=ue.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],Id),Moe=({...t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[p.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),p.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),p.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),lg={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:MT,md:MT}}};class ro{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some((n=>n.startsWith("eip155:")))}isSol(e){return e.chains.some((n=>n.startsWith("solana:")))}inAllowList(e,n){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||n==="listing"&&this.includeWalletConnect)return!0;let r=ro.normalize(e);return this.normalizedAllowList.some((i=>r===ro.normalize(i)))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(this.detectedGeneric||e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,n){let r=new Map,i=l=>{let u=r.get(l.id);if(u){u.chainType!==l.chainType&&(u.chainType="multi");let d=new Set(u.chains);l.chains.forEach((h=>d.add(h))),u.chains=Array.from(d),!u.icon&&l.icon&&(u.icon=l.icon),!u.url&&l.url&&(u.url=l.url),!u.listing&&l.listing&&(u.listing=l.listing)}else r.set(l.id,l)};e.filter((l=>this.connectorOk(l))).forEach((l=>{let u=ro.normalize(l.walletClientType);i({id:u,label:l.walletBranding?.name??u,source:"connector",connector:l,chainType:l.chainType,icon:l.walletBranding?.icon,url:void 0,chains:[l.chainType==="ethereum"?"eip155":"solana"]})})),n.filter((l=>this.listingOk(l))).forEach((l=>{let u=this.isEth(l),d=this.isSol(l),h=ro.normalize(l.slug),g=lg[l.slug],m=g?.image_url?.sm||l.image_url?.sm;i({id:h,label:l.name||h,source:"listing",listing:l,chainType:u&&d?"multi":u?"ethereum":"solana",icon:m,url:l.homepage,chains:l.chains})}));let a=e.find((l=>l.connectorType==="wallet_connect_v2"));this.includeWalletConnectQr&&a&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:a,chainType:"ethereum",icon:Ise,url:void 0,chains:[a.chainType==="ethereum"?"eip155":"solana"]});let s=Array.from(r.values());s.forEach((l=>{let u=lg[l.listing?.slug||l.id];u?.image_url?.sm&&(l.icon=u.image_url.sm)}));let o=new Map;return this.normalizedAllowList?.forEach(((l,u)=>{o.set(ro.normalize(l),u)})),{wallets:s.slice().sort(((l,u)=>{let d=ro.normalize(l.id),h=ro.normalize(u.id);d==="binance-defi"?d="binance":d==="universalprofiles"?d="universal_profile":d==="cryptocom-defi"&&(d="cryptocom"),h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom");let g=o.has(d),m=o.has(h);return g&&m?o.get(d)-o.get(h):g?-1:m?1:l.source==="connector"&&u.source==="listing"?-1:l.source==="listing"&&u.source==="connector"?1:l.label.toLowerCase().localeCompare(u.label.toLowerCase())})),walletCount:s.length}}constructor(e,n){this.chainFilter=e,n&&n.length>0&&(this.normalizedAllowList=n.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedGeneric=this.normalizedAllowList?.includes("detected_wallets")??!1,this.detectedEth=this.normalizedAllowList?.includes("detected_ethereum_wallets")??!1,this.detectedSol=this.normalizedAllowList?.includes("detected_solana_wallets")??!1,this.includeWalletConnect=this.normalizedAllowList?.includes("wallet_connect")??!1,this.includeWalletConnectQr=this.normalizedAllowList?.includes("wallet_connect_qr")??!1}}var KT=t=>p.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),p.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),p.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),p.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),p.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),p.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),p.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),YT=t=>p.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[p.jsx("stop",{offset:"0",stopColor:"#9945ff"}),p.jsx("stop",{offset:".2",stopColor:"#7962e7"}),p.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),p.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),p.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const Trt=ue.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),gb=ue.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),$rt=ue.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),Nrt=Cm((()=>({isModalOpen:!1,resolvers:null})));Cm((()=>({})));const Prt=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&Bt.put(Ort(n),r),Nrt.setState({wallet:r})},Ort=t=>`privy:${t}:active-wallet-connection`;function joe({walletList:t,walletChainType:e}){let n=Rn(),{connectors:r}=lt(),i=_v((w=>w.listings)),a=e??n.appearance.walletChainType,s=t??n.appearance?.walletList,o=k.useMemo((()=>new ro(a,s)),[a,s]),{wallets:l,walletCount:u}=k.useMemo((()=>o.getWallets(r,i)),[o,r,i]),[d,h]=k.useState(""),g=k.useMemo((()=>d?l.filter((w=>w.label.toLowerCase().includes(d.toLowerCase()))):l),[d,l]),[m,b]=k.useState();return{selected:m,setSelected:b,search:d,setSearch:h,wallets:g,walletCount:u}}let Doe=t=>!t||typeof t!="string"&&(t instanceof fO||t instanceof gO);const ZT=({index:t,style:e,data:n,recent:r})=>{let i=n.wallets[t],{walletChainType:a,handleWalletClick:s}=n,o={...e,boxSizing:"border-box"};return i?p.jsxs(D5,{style:o,onClick:()=>s(i),children:[i.icon&&(i.connector&&!Doe(i.connector)?p.jsx(Trt,{children:typeof i.icon=="string"?p.jsx(gb,{src:i.icon}):p.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?p.jsx(gb,{src:i.icon}):p.jsx(i.icon,{style:{width:"32px",height:"32px"}})),p.jsx(B5,{children:i.label}),r?p.jsxs(p.Fragment,{children:[p.jsx($rt,{children:"Last used"}),p.jsx(s4,{children:p.jsxs(p.Fragment,{children:[a==="ethereum-only"&&p.jsx(KT,{}),a==="solana-only"&&p.jsx(YT,{})]})})]}):p.jsx(s4,{children:!(a==="ethereum-only"||a==="solana-only")&&p.jsxs(p.Fragment,{children:[i.chains?.some((l=>l.startsWith("eip155")))&&p.jsx(KT,{}),i.chains?.some((l=>l.startsWith("solana")))&&p.jsx(YT,{})]})})]}):null};var Boe=({className:t,suggestedAddress:e,customDescription:n,connectOnly:r,preSelectedWalletId:i,...a})=>{let s=Rn(),{connectors:o}=lt(),l=a.walletChainType||s.appearance.walletChainType,u=a.walletList||s.appearance?.walletList,{onBack:d,onClose:h,app:g}=a,{selected:m,setSelected:b,qrUrl:w,setQrUrl:x,connecting:E,uiState:I,wallets:C,walletCount:N,handleConnect:A,handleBack:T,showSearchBar:O,isInitialConnectView:H,title:U,search:L,setSearch:G}=(function({onConnect:z,onBack:Y,onClose:J,onConnectError:V,walletList:M,walletChainType:Q,app:ne}){let K=Rn(),{connectors:se}=lt(),{wallets:le,walletCount:de,search:he,setSearch:Ce,selected:ke,setSelected:Ie}=joe({walletList:M,walletChainType:Q}),[De,Ne]=k.useState(),[We,tt]=k.useState(),[Ee,Ze]=k.useState(),xt=!ke&&!We&&!Ee,Ue=xt&&(de>6||he.length>0),Ge=se.find((ht=>ht.connectorType==="wallet_connect_v2")),rt=k.useCallback((async(ht,Ot)=>{if(ht){if(Ee?.connector===ht)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(Ne("loading"),typeof ht=="string")return Ze({connector:ht,name:Ot?.name??"Wallet",icon:Ot?.icon}),void window.open(ht,"_blank");Ze({connector:ht,name:Ot?.name??ht.walletBranding.name??"Wallet",icon:Ot?.icon??ht.walletBranding.icon});try{let Ct=await ht.connect({showPrompt:!0});if(!Ct)return Ne("error"),void V?.(new br("Unable to connect wallet"));Ne("success"),Prt({address:Ct.address,client:Ct.walletClientType,appId:K.id}),setTimeout((()=>{z({connector:ht,wallet:Ct})}),Pr)}catch(Ct){if(console.error("ERROR: ",{e:Ct}),Ct?.message?.includes("already pending for origin")||Ct?.message?.includes("wallet_requestPermissions"))return void console.log("Connection request already pending, maintaining loading state");Ne("error"),V?.(new br("Unable to connect wallet"))}}}),[K.id,z,Ee]),pt=k.useCallback((()=>We?(Ne(void 0),Ze(void 0),void tt(void 0)):Ee?(Ne(void 0),void Ze(void 0)):ke?(Ne(void 0),Ze(void 0),void Ie(void 0)):De==="error"||De==="loading"?(Ne(void 0),void Ze(void 0)):void Y?.()),[We,Ee,ke,De,Y]),qe=k.useMemo((()=>Ee?.connector===Ge&&We&&Dn.isMobile?`Go to ${Ee.name} to continue`:Ee?.connector===Ge&&We?`Scan code to connect to ${Ee.name}`:typeof Ee?.connector=="string"?`Open or install ${Ee.name}`:ke&&!Ee?"Select network":Ee?null:"Select your wallet"),[Ee,We,ke,Ge]);return{selected:ke,setSelected:Ie,qrUrl:We,setQrUrl:tt,connecting:Ee,uiState:De,search:he,setSearch:Ce,wallets:le,walletCount:de,wc:Ge,isInitialConnectView:xt,showSearchBar:Ue,title:qe,handleConnect:rt,handleBack:pt,onClose:J,onConnect:z,app:ne}})({...a,walletList:u,walletChainType:l}),R=o.find((z=>z.connectorType==="wallet_connect_v2")),F=k.useRef(null),_=Hke({count:C.length,getScrollElement:()=>F.current,estimateSize:()=>56,overscan:6,gap:5}),S=k.useCallback((async z=>{let Y,J=l!=="solana-only"&&z.chains?.some((Q=>Q.startsWith("eip155"))),V=l!=="ethereum-only"&&z.chains?.some((Q=>Q.startsWith("solana"))),M=pO[z.id];if(V&&M)Y=M.getMobileRedirect({isSolana:!0,connectOnly:!!r,useUniversalLink:!1});else{let Q=z.listing?.mobile?.native;Y=z.listing?.mobile?.universal||Q||z.url}if(J&&V){let Q=ro.normalize(z.id),ne=o.filter((le=>ro.normalize(le.walletClientType)===Q&&!(le.chainType==="ethereum"&&le instanceof fO||le.chainType==="solana"&&le instanceof gO))),K=ne.find((le=>le.chainType==="ethereum")),se=ne.find((le=>le.chainType==="solana"));if(!K&&z.listing){let le=lg[z.listing.slug]?{...z.listing,...lg[z.listing.slug]}:z.listing;R.setWalletEntry(le,x),await R.resetConnection(z.id),K=R}if(!se&&Y&&(se=Y),K||se)return void b({eth:K,sol:se,name:z.label,icon:z.icon})}if(!Doe(z.connector))return z.connector?.connectorType==="wallet_connect_v2"&&(await R.resetConnection(z.id),R.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},x)),void await A(z.connector,{name:z.label,icon:z.icon});if(J||V||z.url||z.listing){if(J&&z.listing){let Q=lg[z.listing.slug]?{...z.listing,...lg[z.listing.slug]}:z.listing;R.setWalletEntry(Q,x),await R.resetConnection(z.id)}if(J&&V)return void b({eth:R,sol:Y,name:z.label,icon:z.icon});if(V)return void await A(Y,{name:z.label,icon:z.icon});if(J)return void(z.listing?await A(R,{name:z.label,icon:z.icon}):z.url?await A(z.url,{name:z.label,icon:z.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",z.label));if(z.url)return void await A(z.url,{name:z.label,icon:z.icon})}}),[R,A,b,x,T,h,g,H,U,n,e,s,o]),$=d||T,D=!!d||!H;return k.useEffect((()=>{if(!i)return;let z=C.find((({id:Y})=>Y===i));z&&S(z).catch(console.error)}),[i]),p.jsxs(rr,{className:t,children:[p.jsx(rr.Header,{icon:E&&!w||w&&Dn.isMobile&&E?.icon?E.icon:E?void 0:Moe,iconVariant:E&&!w||w&&Dn.isMobile?"loading":void 0,iconLoadingStatus:E&&!w||w&&Dn.isMobile?{success:I==="success",fail:I==="error"}:void 0,title:E&&!w?`Waiting for ${E.name}`:w&&Dn.isMobile?`Waiting for ${E?.name??"connection"}`:U,subtitle:E&&!w&&typeof E.connector=="string"?`To connect to ${E.name}, install and open the app. Then confirm the connection when prompted.`:E&&!w&&typeof E.connector!="string"?I==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":H?n??(e?p.jsxs("span",{children:["Connect the wallet with address ",p.jsx(gn,{address:e})," ",g?.name?`to ${g.name}.`:"."]}):g?`Connect a wallet to your ${g.name} account`:null):null,showBack:D,showClose:!0,onBack:$,onClose:h}),p.jsxs(rr.Body,{ref:F,$colorScheme:s.appearance.palette.colorScheme,style:{marginBottom:w?"0.5rem":void 0},children:[O&&p.jsx(Rrt,{children:p.jsxs(Ooe,{style:{background:"transparent"},children:[p.jsx(su,{children:p.jsx(_Xe,{})}),p.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:z=>G(z.target.value),value:L})]})}),w&&Dn.isMobile&&I==="loading"&&p.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:p.jsx(ep,{variant:"primary",onClick:()=>window.open(w.universal??w.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),w&&!Dn.isMobile&&I==="loading"&&p.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:p.jsx(Drt,{value:w.universal??w.native,iconOnly:!0,children:"Copy link"})}),w&&!Dn.isMobile&&p.jsx(Iv,{size:280,url:w.universal??w.native,squareLogoElement:E?.icon?typeof E.icon=="string"?z=>p.jsx("svg",{...z,children:p.jsx("image",{href:E.icon,height:z.height,width:z.width})}):E.icon:FQe}),p.jsxs(Mrt,{children:[E&&!w&&typeof E.connector=="string"&&p.jsxs(D5,{onClick:()=>window.open(E.connector,"_blank"),children:[E.icon&&(typeof E.icon=="string"?p.jsx(gb,{src:E.icon}):p.jsx(E.icon,{})),p.jsx(B5,{children:E.name})]}),m?.eth&&!E&&p.jsxs(D5,{onClick:()=>A(m.eth,{name:m.name,icon:m.icon}),children:[m.icon&&(typeof m.icon=="string"?p.jsx(gb,{src:m.icon}):p.jsx(m.icon,{})),p.jsx(B5,{children:m.name}),p.jsx(s4,{children:p.jsx(KT,{})})]}),m?.sol&&!E&&p.jsxs(D5,{onClick:()=>A(m.sol,{name:m.name,icon:m.icon}),children:[m.icon&&(typeof m.icon=="string"?p.jsx(gb,{src:m.icon}):p.jsx(m.icon,{})),p.jsx(B5,{children:m.name}),p.jsx(s4,{children:p.jsx(YT,{})})]}),H&&p.jsxs(p.Fragment,{children:[!(N>0)&&p.jsx(jrt,{children:"No wallets found. Try another search."}),N>0&&!w&&p.jsx("div",{style:{maxHeight:56*Math.min(C.length,5)+5,width:"100%"},children:p.jsx("div",{style:{height:`${_.getTotalSize()}px`,width:"100%",position:"relative"},children:_.getVirtualItems().map((z=>p.jsx(ZT,{index:z.index,style:{position:"absolute",top:0,left:0,height:`${z.size}px`,transform:`translateY(${z.start}px)`},data:{wallets:C,walletChainType:l,handleWalletClick:S}},z.key)))})})]})]})]}),p.jsxs(rr.Footer,{children:[E&&!w&&typeof E.connector!="string"&&I==="error"&&p.jsx(rr.Actions,{children:p.jsx(ep,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>A(E.connector,{name:E.name,icon:E.icon}),children:"Retry"})}),!!(g&&g.legal.privacyPolicyUrl&&g.legal.termsAndConditionsUrl)&&p.jsx(yO,{app:g,alwaysShowImplicitConsent:!0}),p.jsx(rr.Watermark,{})]})]})};let Rrt=ue.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-ee081e08-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),Mrt=ue.div.withConfig({displayName:"WalletListContainer",componentId:"sc-ee081e08-1"})(["display:flex;flex-direction:column;gap:","px;"],5),D5=ue.button.withConfig({displayName:"Button",componentId:"sc-ee081e08-2"})(["button&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),s4=ue.span.withConfig({displayName:"ButtonBadge",componentId:"sc-ee081e08-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),jrt=ue.div.withConfig({displayName:"EmptyContainer",componentId:"sc-ee081e08-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),B5=ue.span.withConfig({displayName:"WalletName",componentId:"sc-ee081e08-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),Drt=ue(vrt).withConfig({displayName:"StyledCopyableText",componentId:"sc-ee081e08-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const Brt=({...t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[p.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[p.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),p.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_2856_1743",children:p.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),PG=t=>{let e=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses")?.split(" ").filter((n=>Oa(n,{strict:!0}))).map((n=>Qr(n)));return!!e?.length&&!!t?.linkedAccounts.filter((n=>n.type=="wallet"&&e.includes(n.address))).length};let Uoe=k.createContext({plugins:{current:{}}});const Urt=({children:t})=>{let e=k.useRef({});return p.jsx(Uoe.Provider,{value:{plugins:e},children:t})},Fm=()=>{let{plugins:t}=k.useContext(Uoe);return k.useCallback((e=>t.current[e]),[t])},Loe=Symbol("solana-ledger-plugin"),Lrt=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:n="Try another account",ctaLink:r,onCtaClick:i})=>p.jsx(kn,{title:t,subtitle:e,icon:bP,iconVariant:"warning",primaryCta:{label:n,onClick:()=>{r?window.open(r,"_blank"):i?.()}},watermark:!0}),g9={component:()=>{let{navigate:t,app:e}=ft(),n=e?.allowlistConfig.errorTitle||"You don't have access to this app",r=e?.allowlistConfig.errorDetail||"Have you been invited?",i=e?.allowlistConfig.errorCtaText||"Try another account",a=e?.allowlistConfig.errorCtaLink;return p.jsx(Lrt,{title:n,subtitle:r,ctaText:i,ctaLink:a??void 0,onCtaClick:()=>{t(Da)}})}},Frt=({status:t,title:e,description:n,userIntentRequired:r,retriesRemaining:i,hasSelectedCta:a,onContinue:s,onRetry:o})=>{let l=k.useMemo((()=>{switch(t){case"loading":default:return;case"success":return r?{label:a?"Continuing...":"Continue",onClick:s,disabled:a,loading:a}:void 0;case"error":return i>0?{label:"Retry",onClick:o}:void 0}}),[t,a,s,o]),u=k.useMemo((()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading"),[t]);return p.jsx(kn,{icon:t==="loading"||t==="ready"?void 0:t==="success"?uv:N8,iconVariant:u,title:e,subtitle:n,primaryCta:l,watermark:!0})},dc={component:()=>{let{lastScreen:t,data:e,navigate:n,setModalData:r}=ft(),{status:i,token:a,waitForResult:s,reset:o,execute:l}=Ds(),u=k.useRef([]),d=O=>{u.current=[O,...u.current]},[h,g]=k.useState(!0);k.useEffect((()=>(d(setTimeout(g,1e3,!1)),()=>{u.current.forEach((O=>clearTimeout(O))),u.current=[]})),[]);let[m,b]=k.useState(""),[w,x]=k.useState("Checking that you are a human..."),[E,I]=k.useState(!1),[C,N]=k.useState(3),A=e?.captchaModalData,T=async O=>{try{await A?.callback(O),A?.onSuccessNavigateTo&&n(A?.onSuccessNavigateTo,!1)}catch(H){if(H instanceof e9)return;r({errorModalData:{error:H,previousScreen:t||Da}}),n(A?.onErrorNavigateTo||Or,!1)}};return k.useEffect((()=>{i==="success"?d(setTimeout((async()=>{let O=await s();!O||A?.userIntentRequired||T(O)}),1e3)):i==="ready"&&d(setTimeout((()=>{i==="ready"&&l()}),500))}),[i]),k.useEffect((()=>{if(!h)switch(i){case"success":b("Success!"),x("CAPTCHA passed successfully."),A?.userIntentRequired||setTimeout((()=>{I(!0),T(a)}),2e3);break;case"loading":b(""),x("Checking that you are a human...");break;case"error":b("Something went wrong"),x(C<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}}),[i,h,E]),p.jsx(Frt,{status:i,title:m,description:w,userIntentRequired:A?.userIntentRequired,retriesRemaining:C,hasSelectedCta:E,onContinue:()=>{I(!0),T(a)},onRetry:async()=>{if(C<=0)return;N((H=>H-1)),o(),l();let O=await s();!O||A?.userIntentRequired||T(O)}})}},zrt=t=>p.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:p.jsx("g",{children:p.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),Wrt=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:n="Phantom supports Ledger",subtitle:r=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>p.jsx(kn,{title:n,subtitle:p.jsx(Vrt,{children:r}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:p.jsxs(qrt,{children:[p.jsx(vse,{style:{width:"48px",height:"48px"}}),p.jsx(SNe,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),p.jsx(zrt,{style:{width:"48px",height:"48px"}})]})}),Hrt={component:function(){let{data:t,setModalData:e,navigate:n}=ft();return p.jsx(Wrt,{onContinueWithLedger:function(){e({...t,login:{...t?.login,isSigningInWithLedgerSolana:!0}}),n(pd)},onContinueWithoutLedger:function(){e({...t,login:{...t?.login,isSigningInWithLedgerSolana:!1}}),n(pd)}})}};let qrt=ue.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),Vrt=ue.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const Grt=({style:t,...e})=>p.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:p.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),Krt=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:n})=>p.jsx(kn,{title:t,subtitle:e,icon:Grt,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:n},showBack:!0,onBack:n,watermark:!0}),Tv={component:()=>{let{navigate:t}=ft();return p.jsx(Krt,{onGoBack:()=>{t(Da)}})}},Foe=t=>t?.privyErrorCode===ye.LINKED_TO_ANOTHER_USER?Kf.ERROR_USER_EXISTS:t instanceof ka&&!t.details.default?t.details:t instanceof mse?Kf.ERROR_TIMED_OUT:t instanceof yse?Kf.ERROR_USER_REJECTED_CONNECTION:t?.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE?Kf.ERROR_USER_LIMIT_REACHED:Kf.ERROR_WALLET_CONNECTION,Yrt=({walletLogo:t,title:e,subtitle:n,signSuccess:r,errorMessage:i,connectSuccess:a,separateConnectAndSign:s,signing:o,walletConnectRedirectUri:l,walletConnectFallbackUniversalUri:u,hasTabbedAway:d,showCoinbaseWalletResetCta:h,numRetries:g,onBack:m,onSign:b,onRetry:w,onCoinbaseReset:x,onDifferentWallet:E})=>{let I=h?{label:"Use a different wallet",onClick:x,disabled:r}:i===Kf.ERROR_USER_EXISTS&&m?{label:"Use a different wallet",onClick:E}:a&&!r&&s?{label:o?"Signing":"Sign with your wallet",onClick:b,disabled:o}:!r&&i?.retryable&&g<2?{label:"Retry",onClick:w,disabled:!1}:r||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return p.jsx(kn,{title:e,subtitle:n,icon:t,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!i},primaryCta:I,onBack:m,watermark:!0,children:!a&&l&&!d&&p.jsxs(Zrt,{children:["Still here?"," ",p.jsx(nm,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),u&&p.jsxs(p.Fragment,{children:[" ","or"," ",p.jsx(nm,{href:u,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},pd={component:()=>{let t,[e,n]=k.useState(!1),[r,i]=k.useState(!1),[a,s]=k.useState(void 0),{authenticated:o,logout:l}=bn(),{app:u,navigate:d,navigateBack:h,lastScreen:g,currentScreen:m,setModalData:b,data:w}=ft(),{getAuthFlow:x,walletConnectionStatus:E,closePrivyModal:I,initLoginWithWallet:C,loginWithWallet:N,updateWallets:A,createAnalyticsEvent:T}=lt(),{walletConnectors:O}=bn(),[H,U]=k.useState(0),{user:L}=bn(),G=Fm(),[R]=k.useState(L?.linkedAccounts.length||0),[F,_]=k.useState(""),[S,$]=k.useState(""),[D,z]=k.useState(!1),{hasTabbedAway:Y}=(function(){let[tt,Ee]=k.useState(!1),Ze=k.useCallback((()=>{document.hidden&&Ee(!0)}),[]);return k.useEffect((()=>(document.addEventListener("visibilitychange",Ze),()=>document.removeEventListener("visibilitychange",Ze))),[Ze]),{hasTabbedAway:tt,reset:()=>Ee(!1)}})(),{enabled:J,token:V}=Ds(),M=Md(E?.connector?.walletClientType||"unknown"),Q=Dn.isMobile&&E?.connector?.connectorType==="wallet_connect_v2"||Dn.isMobile&&E?.connector?.connectorType==="coinbase_wallet"||Dn.isMobile&&E?.connector?.connectorType==="base_account"||Dn.isMobile&&E?.connector?.connectorType==="injected"&&E?.connector?.walletClientType==="phantom"||Dn.isMobile&&E?.connector?.connectorType==="solana_adapter"&&E.connector.walletClientType==="mobile_wallet_adapter",ne=E?.status==="connected",K=E?.status==="switching_to_supported_chain";k.useEffect((()=>{let tt=x(),Ee=tt instanceof Sg||tt instanceof Z6?tt:void 0;ne&&E.connector?.chainType==="solana"&&E.connector?.walletClientType==="phantom"&&G(Loe)&&w?.login?.isSigningInWithLedgerSolana===void 0?d(Hrt,!1):(ne&&!Ee&&(!J||V||o?C(E.connectedWallet,V,w?.login?.disableSignup,w?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{z(!0)})):(b({captchaModalData:{callback:Ze=>C(E.connectedWallet,Ze,w?.login?.disableSignup,w?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{z(!0)})),userIntentRequired:!1,onSuccessNavigateTo:pd,onErrorNavigateTo:Or}}),d(dc,!1))),Ee instanceof Z6&&w?.login?.isSigningInWithLedgerSolana&&(Ee.messageType="transaction"),Ee&&Q&&ne&&!Ee.preparedMessage?Ee.buildMessage():Ee&&!Q&&ne&&(r||(async()=>{i(!0),s(void 0);try{E?.connector?.connectorType==="wallet_connect_v2"&&E?.connector?.walletClientType==="metamask"&&await J6(2500),await le()}catch(Ze){console.warn("Auto-prompted signature failed",Ze)}finally{i(!1)}})()))}),[H,ne,D]),k.useEffect((()=>{if(L&&e){let tt=900;if(u?.legal.requireUsersAcceptTerms&&!L.hasAcceptedTerms){let Ze=setTimeout((()=>{d(kp)}),tt);return()=>clearTimeout(Ze)}if(kh(L,u.embeddedWallets)){let Ze=setTimeout((()=>{b({createWallet:{onSuccess:()=>{},onFailure:xt=>{console.error(xt),T({eventName:"embedded_wallet_creation_failure_logout",payload:{error:xt,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),d(Dd)}),tt);return()=>clearTimeout(Ze)}A();let Ee=setTimeout((()=>I({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Pr);return()=>clearTimeout(Ee)}}),[L,e]);let se=tt=>{if(tt?.privyErrorCode!==ye.ALLOWLIST_REJECTED){if(tt?.privyErrorCode===ye.USER_LIMIT_REACHED)return console.error(new nv(tt).toString()),void d(Tv);if(tt?.privyErrorCode!==ye.USER_DOES_NOT_EXIST)return tt?.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&tt.data?.data?.nonce?(b({accountTransfer:{nonce:tt.data?.data?.nonce,account:x()?.meta.address,displayName:tt.data?.data?.account?.displayName,externalWalletMetadata:{walletClientType:x()?.meta.walletClientType,chainId:x()?.meta.chainId,connectorType:x()?.meta.connectorType},linkMethod:x()instanceof Sg?"siwe":"siws",embeddedWalletAddress:tt.data?.data?.otherUser?.embeddedWalletAddress}}),void d(Sp)):void s(Foe(tt));d(Sv)}else d(g9)};async function le(){try{await N(),n(!0)}catch(tt){se(tt)}finally{i(!1)}}k.useEffect((()=>{E?.connectError&&se(E?.connectError)}),[E]),((tt,Ee)=>{let Ze=k.useRef((()=>{}));k.useEffect((()=>{Ze.current=tt})),k.useEffect((()=>{if(Ee!==null){let xt=setInterval((()=>Ze.current()),Ee||0);return()=>clearInterval(xt)}}),[Ee])})((()=>{let tt=de==="wallet_connect_v2"&&E?.connector instanceof Ig?E.connector.redirectUri:void 0;tt&&_(tt);let Ee=de==="wallet_connect_v2"&&E?.connector instanceof Ig?E.connector.fallbackUniversalRedirectUri:void 0;Ee&&$(Ee)}),E?.connector instanceof Ig&&!F?500:null);let de=E?.connector?.connectorType||"injected",he=E?.connector?.walletClientType||"unknown",Ce=M?.metadata?.shortName||M?.name||E?.connector?.walletBranding.name||"Browser Extension",ke=M?.image_url?.md||E?.connector?.walletBranding.icon||(tt=>p.jsx(hO,{...tt})),Ie=Ce==="Browser Extension"?Ce.toLowerCase():Ce;t=e?`Successfully connected with ${Ie}`:a?a.message:K?"Switching networks":ne?r&&Q?"Signing":"Sign to verify":`Waiting for ${Ie}`;let De="Dont see your wallet? Check your other browser windows.";e?De=R===(L?.linkedAccounts.length||0)?"Wallet was already linked.":"Youre good to go!":H>=2&&a?De="Unable to connect wallet":a?De=a.detail:K?De="Switch your wallet to the requested network.":ne&&Q?De="Sign the message in your wallet to verify it belongs to you.":he==="metamask"&&Dn.isMobile?De="Click continue to open and connect MetaMask.":he==="metamask"?De="For the best experience, connect only one wallet at a time.":de==="wallet_connect"?De="Open your mobile wallet app to continue":de==="coinbase_wallet"?use()||(De=PG(L)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):w?.login?.isSigningInWithLedgerSolana&&(De="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let Ne=O?.walletConnectors?.find((tt=>tt.walletClientType==="coinbase_wallet")),We=he==="coinbase_wallet"&&(PG(L)||a===Kf.ERROR_USER_EXISTS);return p.jsx(Yrt,{walletLogo:ke,title:t,subtitle:De,signSuccess:e,errorMessage:a,connectSuccess:ne,separateConnectAndSign:Q,signing:r,walletConnectRedirectUri:F,walletConnectFallbackUniversalUri:S,hasTabbedAway:Y,showCoinbaseWalletResetCta:We,numRetries:H,onBack:g&&m!==g?h:void 0,onSign:()=>{i(!0),le()},onRetry:()=>{U(H+1),s(void 0),ne?(i(!0),le()):E?.connectRetry()},onCoinbaseReset:()=>{Ne&&Ne?.disconnect()},onDifferentWallet:h})}};let Zrt=ue.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-a5253f07-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const U5={component:()=>{let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:n}=lt(),{app:r,data:i,navigate:a}=ft(),s=jd(),o=i?.externalConnectWallet?.description,l=k.useRef(i?.externalConnectWallet?.suggestedAddress).current,u=k.useRef(i?.externalConnectWallet?.walletList??r.appearance.walletList),d=k.useRef(i?.externalConnectWallet?.walletChainType??r.appearance.walletChainType),h=u.current,g=d.current,m=n.current==="link"?void 0:()=>a(Da);return p.jsx(Boe,{walletList:h,walletChainType:g,onClose:e,onConnect:k.useCallback((({connector:b,wallet:w})=>{s("connectWallet","onSuccess",{wallet:w}),t({status:"connected",connectedWallet:w,connector:b,connectError:null,connectRetry:()=>null}),a(pd,!i?.externalConnectWallet?.preSelectedWalletId)}),[t,a,i?.login?.disableSignup,i?.externalConnectWallet?.preSelectedWalletId]),onConnectError:b=>{b instanceof Ma?(console.warn(b.cause?b.cause:b.message),s("connectWallet","onError",b.privyErrorCode||ye.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(b),s("connectWallet","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:m,suggestedAddress:l,customDescription:o||"",preSelectedWalletId:i?.externalConnectWallet?.preSelectedWalletId,app:r})},isUnauthenticatedScreem:!0},JT={component:()=>{let{closePrivyModal:t}=lt(),{app:e,data:n}=ft(),r=jd(),i=n?.externalConnectWallet?.description,a=k.useRef(n?.externalConnectWallet?.suggestedAddress).current,s=k.useRef(n?.externalConnectWallet?.walletList??e.appearance.walletList),o=k.useRef(n?.externalConnectWallet?.walletChainType??e.appearance.walletChainType);return p.jsx(Boe,{walletList:s.current,walletChainType:o.current,onClose:()=>{r("connectWallet","onError",ye.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({wallet:l})=>{r("connectWallet","onSuccess",{wallet:l}),t()},onConnectError:l=>{l instanceof Ma?(console.warn(l.cause?l.cause:l.message),r("connectWallet","onError",l.privyErrorCode||ye.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(l),r("connectWallet","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR))},suggestedAddress:a,customDescription:i,app:e})},isUnauthenticatedScreem:!0},OG=({chainType:t,withPadding:e})=>{let n="";return n=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",p.jsx(oet,{$withPadding:e,children:p.jsxs(cet,{children:[p.jsx(Eg,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),p.jsx("h3",{children:"No wallets available"}),p.jsxs("p",{children:["Please download an external wallet provider, like ",n,"."]})]})},"empty-wallet-state")};let Jrt=tte(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const m9=ji(["",""],(t=>t.$isLoading?ji(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],Jrt):"")),uu=({children:t,color:e,isLoading:n,isPulsing:r,...i})=>p.jsx(Xrt,{$color:e,$isLoading:n,$isPulsing:r,...i,children:t});let Xrt=ue.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],(t=>{let e,n;t.$color==="green"&&(e="var(--privy-color-success-dark)",n="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",n="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",n="var(--privy-color-background-2)");let r=tte(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],n,n);return ji(["color:",";background-color:",";",";"],e,n,t.$isPulsing&&ji(["animation:"," 3s linear infinite;"],r))}),m9);const M0=t=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),p.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[p.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),p.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),p.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),p.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_1715_1960",children:p.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),zoe=t=>{let[e,n]=k.useState(!1);return p.jsx(Qrt,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{n(!0),setTimeout((()=>n(!1)),1500)},justOpened:e,children:t.text})};let Qrt=ue.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.justOpened?"medium":"normal"),(t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"));const ps=ue.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]);let eit=ue.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),tit=ue.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],(t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)"),(t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)")),nit=ue.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),Woe=ue.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],(t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)")),rit=ue(Woe).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),iit=ue(ps).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),ait=ue(uc).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const sit=({value:t,title:e,placeholder:n,className:r,showCopyButton:i=!0,truncate:a,maxLength:s=40,disabled:o=!1})=>{let[l,u]=k.useState(!1),d=a&&t?((h,g,m)=>{if((h=h.startsWith("https://")?h.slice(8):h).length<=m)return h;if(g==="middle"){let b=Math.ceil(m/2)-2,w=Math.floor(m/2)-1;return`${h.slice(0,b)}...${h.slice(-w)}`}return`${h.slice(0,m-3)}...`})(t,a,s):t;return k.useEffect((()=>{if(l){let h=setTimeout((()=>u(!1)),3e3);return()=>clearTimeout(h)}}),[l]),p.jsxs(eit,{className:r,children:[e&&p.jsx(iit,{children:e}),p.jsxs(tit,{$disabled:o,children:[p.jsx(nit,{children:t?p.jsx(Woe,{$disabled:o,title:t,children:d}):p.jsx(rit,{$disabled:o,children:n||"No value"})}),i&&t&&p.jsx(ait,{onClick:function(h){h.stopPropagation(),navigator.clipboard.writeText(t).then((()=>u(!0))).catch(console.error)},size:"sm",children:p.jsxs(p.Fragment,l?{children:["Copied",p.jsx(yw,{size:14})]}:{children:["Copy",p.jsx(I6,{size:14})]})})]})]})},oit=({connectUri:t,loading:e,success:n,errorMessage:r,onBack:i,onClose:a,onOpenFarcaster:s})=>p.jsx(kn,Dn.isMobile||e?Dn.isIOS?{title:r?r.message:"Sign in with Farcaster",subtitle:r?r.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:M0,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:t&&s?{label:"Open Farcaster app",onClick:s}:void 0,onBack:i,onClose:a,watermark:!0}:{title:r?r.message:"Signing in with Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:M0,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:i,onClose:a,watermark:!0,children:t&&Dn.isMobile&&p.jsx(lit,{children:p.jsx(zoe,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:a,watermark:!0,children:p.jsxs(cit,{children:[p.jsx(uit,{children:t?p.jsx(Iv,{url:t,size:275,squareLogoElement:M0}):p.jsx(hit,{children:p.jsx(hl,{})})}),p.jsxs(dit,{children:[p.jsx(fit,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&p.jsx(sit,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),XT={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=bn(),{lastScreen:i,navigate:a,navigateBack:s,setModalData:o,app:l}=ft(),{getAuthFlow:u,loginWithFarcaster:d,closePrivyModal:h,createAnalyticsEvent:g}=lt(),[m,b]=k.useState(void 0),[w,x]=k.useState(!1),[E,I]=k.useState(!1),C=k.useRef([]),N=u(),A=N?.meta.connectUri;return k.useEffect((()=>{let T=Date.now(),O=setInterval((async()=>{let H=await N.pollForReady.execute(),U=Date.now()-T;if(H){clearInterval(O),x(!0);try{await d(),I(!0)}catch(L){let G={retryable:!1,message:"Authentication failed"};if(L?.privyErrorCode===ye.ALLOWLIST_REJECTED)return void a(g9);if(L?.privyErrorCode===ye.USER_LIMIT_REACHED)return console.error(new nv(L).toString()),void a(Tv);if(L?.privyErrorCode===ye.USER_DOES_NOT_EXIST)return void a(Sv);if(L?.privyErrorCode===ye.LINKED_TO_ANOTHER_USER)G.detail=L.message??"This account has already been linked to another user.";else{if(L?.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&L.data?.data?.nonce)return o({accountTransfer:{nonce:L.data?.data?.nonce,account:L.data?.data?.subject,displayName:L.data?.data?.account?.displayName,linkMethod:"farcaster",embeddedWalletAddress:L.data?.data?.otherUser?.embeddedWalletAddress,farcasterEmbeddedAddress:L.data?.data?.otherUser?.farcasterEmbeddedAddress}}),void a(Sp);L?.privyErrorCode===ye.INVALID_CREDENTIALS?(G.retryable=!0,G.detail="Something went wrong. Try again."):L?.privyErrorCode===ye.TOO_MANY_REQUESTS&&(G.detail="Too many requests. Please wait before trying again.")}b(G)}}else U>12e4&&(clearInterval(O),b({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))}),2e3);return()=>{clearInterval(O),C.current.forEach((H=>clearTimeout(H)))}}),[]),k.useEffect((()=>{if(n&&t&&E&&r){if(l?.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let T=setTimeout((()=>{a(kp)}),Pr);return()=>clearTimeout(T)}E&&(kh(r,l.embeddedWallets)?C.current.push(setTimeout((()=>{o({createWallet:{onSuccess:()=>{},onFailure:T=>{console.error(T),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:T,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),a(Dd)}),Pr)):C.current.push(setTimeout((()=>h({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Pr)))}}),[E,n,t,r]),p.jsx(oit,{connectUri:A,loading:w,success:E,errorMessage:m,onBack:i?s:void 0,onClose:h,onOpenFarcaster:()=>{A&&(window.location.href=A)}})}};let lit=ue.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-8d74ecf6-0"})(["margin-top:24px;"]),cit=ue.div.withConfig({displayName:"ContentContainer",componentId:"sc-8d74ecf6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),uit=ue.div.withConfig({displayName:"QrContainer",componentId:"sc-8d74ecf6-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),dit=ue.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-8d74ecf6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),fit=ue.div.withConfig({displayName:"InstructionText",componentId:"sc-8d74ecf6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),hit=ue.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-8d74ecf6-5"})(["position:relative;width:82px;height:82px;"]);const Hoe=()=>{let[t,e]=k.useState(!1),{currentScreen:n,navigate:r,setModalData:i,data:a}=ft(),{enabled:s,token:o}=Ds(),{initLoginWithFarcaster:l}=lt(),{accountType:u}=Sh();return p.jsxs(jr,{onClick:async()=>{e(!0);try{s&&!o?(i({captchaModalData:{callback:d=>l(d,a?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:XT,onErrorNavigateTo:Or}}),r(dc)):(await l(o,a?.login?.disableSignup),r(XT))}catch(d){i({errorModalData:{error:d,previousScreen:n||Da}}),r(Or)}finally{e(!1)}},disabled:!1,children:[p.jsx(M0,{width:32,height:32})," Farcaster",t&&p.jsx(Ah,{}),u==="farcaster"&&p.jsx(pit,{color:"gray",children:"Recent"})]})};let pit=ue(uu).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const git=({status:t,passkeySignupFlow:e=!1,error:n,onRetry:r})=>p.jsx(kn,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:p.jsx(mit,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(n instanceof Ma){if(n.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(n.privyErrorCode===ye.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:T6,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&r?{label:"Retry",onClick:r}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),cg={component:()=>{let{app:t,data:e,setModalData:n,navigate:r}=ft(),{loginWithPasskey:i,signupWithPasskey:a,closePrivyModal:s,createAnalyticsEvent:o}=lt(),{user:l,logout:u}=bn(),{passkeySignupFlow:d}=e?.passkeyAuthModalData??{},[h,g]=k.useState("loading"),[m,b]=k.useState(null),w=k.useRef([]),x=I=>{w.current=[I,...w.current]};k.useEffect((()=>()=>{w.current.forEach((I=>clearTimeout(I))),w.current=[]}),[]);let E=async()=>{g("loading");try{d?await a():await i(),g("success")}catch(I){b(I),g("error")}};return k.useEffect((()=>{if(h==="success"&&l){if(t?.legal.requireUsersAcceptTerms&&!l.hasAcceptedTerms)return void x(setTimeout((()=>{r(kp)}),900));if(!kh(l,t?.embeddedWallets))return void x(setTimeout((()=>{s({shouldCallAuthOnSuccess:!0,isSuccess:!0})}),Pr));x(setTimeout((()=>{n({createWallet:{onSuccess:()=>{},onFailure:I=>{console.error(I),o({eventName:"embedded_wallet_creation_failure_logout",payload:{error:I,screen:"PasskeyStatusScreen"}}),u()},callAuthOnSuccessOnClose:!0}}),r(Dd)}),900))}}),[l,h]),k.useEffect((()=>{E()}),[]),p.jsx(git,{status:h,passkeySignupFlow:d,error:m,onRetry:E})}};let mit=ue.span.withConfig({displayName:"SubtitleText",componentId:"sc-ad4f7fb3-0"})(["white-space:pre-wrap;"]);const yit=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:n,onLogin:r})=>p.jsx(kn,{title:t,subtitle:e,icon:T6,primaryCta:{label:"Create new account",onClick:n},secondaryCta:{label:"Log in with a passkey",onClick:r},watermark:!0}),bit={component:()=>{let{enabled:t,token:e}=Ds(),{navigate:n,setModalData:r}=ft(),{initSignupWithPasskey:i,initLoginWithPasskey:a}=lt();return p.jsx(yit,{onSignup:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:s=>i({captchaToken:s,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:cg,onErrorNavigateTo:Or}}),n(dc)):(await i({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!0}}),n(cg))},onLogin:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:s=>a({captchaToken:s,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:cg,onErrorNavigateTo:Or}}),n(dc)):(await a({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(cg))}})}},qoe=()=>{let{enabled:t,token:e}=Ds(),{navigate:n,setModalData:r,app:i,data:a}=ft(),{initLoginWithPasskey:s}=lt(),o=()=>{i.loginConfig.passkeysForSignupEnabled?n(bit):(async()=>t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:l=>s({captchaToken:l,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:cg,onErrorNavigateTo:Or}}),n(dc)):(await s({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(cg)))()};return k.useMemo((()=>{let l=a?.login?.loginMethods;return l?l.filter((u=>u!=="passkey")).length:Object.entries(i.loginMethods).filter((([u,d])=>d)).filter((([u])=>u!=="passkey")).length}),[i.loginMethods,a?.login])===0?p.jsxs(jr,{onClick:o,children:[p.jsx(tP,{})," Continue with passkey"]}):p.jsx(nm,{as:"button",onClick:o,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},wit=({value:t,onChange:e})=>p.jsx("select",{value:t,onChange:e,children:M9e.map((n=>p.jsxs("option",{value:n.code,children:[n.code," +",n.callCode]},n.code)))}),y9=k.forwardRef(((t,e)=>{let{app:n}=ft(),[r,i]=k.useState(!1),{accountType:a}=Sh(),[s,o]=k.useState(""),[l,u]=k.useState(n?.intl.defaultCountry??"US"),d=cx(s,l),h=R9e(l),g=j9e(l),m=ON(l),b=!d,[w,x]=k.useState(!1),E=m.length,I=A=>{let T=A.target.value;u(T),o(""),t.onChange&&t.onChange({rawPhoneNumber:s,qualifiedPhoneNumber:Q_(s,T),countryCode:T,isValid:cx(s,l)})},C=(A,T)=>{try{let O=A.replace(/\D/g,"")===s.replace(/\D/g,"")?A:h.input(A);o(O),t.onChange&&t.onChange({rawPhoneNumber:O,qualifiedPhoneNumber:Q_(A,T),countryCode:T,isValid:cx(A,T)})}catch(O){console.error("Error processing phone number:",O)}},N=()=>{x(!0);let A=Q_(s,l);t.onSubmit({rawPhoneNumber:s,qualifiedPhoneNumber:A,countryCode:l,isValid:cx(s,l)}).finally((()=>x(!1)))};return k.useEffect((()=>{if(t.defaultValue){let A=D9e(t.defaultValue);h.reset(),I({target:{value:A.countryCode}}),C(A.phone,A.countryCode)}}),[t.defaultValue]),p.jsxs(p.Fragment,{children:[p.jsx(vit,{children:p.jsxs(xit,{$callingCodeLength:E,$stacked:t.stacked,children:[p.jsx(wit,{value:l,onChange:I}),p.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:g,onFocus:()=>i(!0),onChange:A=>{C(A.target.value,l)},onKeyUp:A=>{A.key==="Enter"&&N()},value:s,autoComplete:"tel"}),a!=="phone"||r||t.hideRecent?t.stacked||t.noIncludeSubmitButton?p.jsx("span",{}):p.jsx(n9,{isSubmitting:w,onClick:N,disabled:b,children:"Submit"}):p.jsx(uu,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?p.jsx(Jn,{loading:w,loadingText:null,onClick:N,disabled:b,children:"Submit"}):null]})}));let vit=ue.div.withConfig({displayName:"InputContainer",componentId:"sc-f29a1304-0"})(["width:100%;"]),xit=ue.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-f29a1304-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$stacked?"16px":"88px"));const Voe=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=k.useRef(null),{authenticated:i}=bn(),{navigate:a,setModalData:s,currentScreen:o,data:l}=ft(),{initLoginWithSms:u}=lt(),{enabled:d,token:h}=Ds(),{whatsAppEnabled:g}=Rn();return p.jsxs(p.Fragment,{children:[p.jsx(em,{$if:!t,children:p.jsx(y9,{ref:r,onSubmit:async function({qualifiedPhoneNumber:m}){if(!d||h||i)try{await u({phoneNumber:m,captchaToken:h,withPrivyUi:!0,disableSignup:l?.login?.disableSignup}),a(Td)}catch(b){s({errorModalData:{error:b,previousScreen:o||Da}}),a(Or)}else s({captchaModalData:{callback:b=>u({phoneNumber:m,captchaToken:b,withPrivyUi:!0,disableSignup:l?.login?.disableSignup}),userIntentRequired:!1,onSuccessNavigateTo:Td,onErrorNavigateTo:Or}}),a(dc)},defaultValue:n})}),p.jsx(em,{$if:t,children:p.jsxs(jr,{onClick:()=>{e(),setTimeout((()=>{r.current?.focus()}),0)},children:[p.jsx(su,{children:p.jsx(Mne,{})}),"Continue with ",g?"WhatsApp":"SMS"]})})]})};let Eit={apple:{logo:Xae,displayName:"Apple"},discord:{logo:Qae,displayName:"Discord"},github:{logo:ese,displayName:"GitHub"},google:{logo:tse,displayName:"Google"},linkedin:{logo:ise,displayName:"LinkedIn"},spotify:{logo:ase,displayName:"Spotify"},instagram:{logo:nse,displayName:"Instagram"},twitter:{logo:ose,displayName:"Twitter"},tiktok:{logo:sse,displayName:"TikTok"},line:{logo:rse,displayName:"LINE"}};const mi=({provider:t})=>{let{enabled:e,token:n}=Ds(),{navigate:r,setModalData:i,data:a}=ft(),[s,o]=k.useState(!1),{initLoginWithOAuth:l}=lt(),{accountType:u}=Sh(),d=k.useMemo((()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?p9(u):null),[u]),{displayName:h,logo:g}=Eit[t];return p.jsxs(jr,{onClick:()=>{o(!0),setTimeout((()=>{o(!1)}),2e3),e&&!n?(i({captchaModalData:{callback:m=>l(t,m,a?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Or}}),r(dc)):l(t,void 0,a?.login?.disableSignup)},disabled:s,children:[p.jsx(su,{$fullSize:!0,children:p.jsx(g,{style:{width:"32px",height:"32px"}})}),h,d?.loginMethod===t&&p.jsx(_it,{color:"gray",children:"Recent"})]})};let _it=ue(uu).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function Goe(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[p.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),p.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),p.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),p.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const Ait=({success:t,errorMessage:e,onRetry:n})=>{let r=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return p.jsx(kn,{title:r,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:Goe,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e?.retryable&&n?{label:"Retry",onClick:n}:void 0,watermark:!0})},L5={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=bn(),{app:i,setModalData:a,navigate:s,resetNavigation:o,data:l}=ft(),{initLoginWithTelegram:u,loginWithTelegram:d,updateWallets:h,setReadyToTrue:g,closePrivyModal:m,createAnalyticsEvent:b,getAuthMeta:w}=lt(),[x,E]=k.useState(!1),[I,C]=k.useState(void 0),N=Ds();async function A(){try{let T=await(async function(){let O;if(!t){if(N.enabled&&N.status==="error")throw new e9(N.error,null,ye.CAPTCHA_FAILURE);return N.enabled&&N.status!=="success"&&(N.execute(),O=await N.waitForResult()),O}})();await d({captchaToken:T}),E(!0),g(!0)}catch(T){if(T?.privyErrorCode===ye.ALLOWLIST_REJECTED)return C(void 0),o(),void s(g9);if(T?.privyErrorCode===ye.USER_LIMIT_REACHED)return console.error(new nv(T).toString()),C(void 0),o(),void s(Tv);if(T?.privyErrorCode===ye.USER_DOES_NOT_EXIST)return C(void 0),o(),void s(Sv);if(T?.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&T.data?.data?.nonce)return C(void 0),o(),a({accountTransfer:{nonce:T.data?.data?.nonce,account:T.data?.data?.subject,telegramAuthResult:w()?.telegramAuthResult,telegramWebAppData:w()?.telegramWebAppData,displayName:T.data?.data?.account?.displayName,linkMethod:"telegram",embeddedWalletAddress:T.data?.data?.otherUser?.embeddedWalletAddress}}),void s(Sp);let{retryable:O,detail:H}=tG(T);C({retryable:O,detail:H,message:"Authentication failed"})}}return k.useEffect((()=>{A()}),[]),k.useEffect((()=>{if(!(n&&t&&x&&r))return;if(i?.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let O=setTimeout((()=>{s(kp)}),Pr);return()=>clearTimeout(O)}if(kh(r,i.embeddedWallets)){let O=setTimeout((()=>{a({createWallet:{onSuccess:()=>{},onFailure:H=>{console.error(H),b({eventName:"embedded_wallet_creation_failure_logout",payload:{error:H,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(Dd)}),Pr);return()=>clearTimeout(O)}h();let T=setTimeout((()=>m({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Pr);return()=>clearTimeout(T)}),[n,t,x,r]),p.jsx(Ait,{success:x,errorMessage:I,onRetry:I?.retryable?async()=>{try{C(void 0),l?.telegramAuthModalData?.seamlessAuth||await u(void 0,l?.login?.disableSignup),await A()}catch(T){let{retryable:O,detail:H}=tG(T);C({retryable:O,detail:H,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},Koe=()=>{let{enabled:t,token:e}=Ds(),{navigate:n,setModalData:r,data:i}=ft(),[a,s]=k.useState(!1),{initLoginWithTelegram:o}=lt(),{accountType:l}=Sh();async function u(d){try{await o(d,i?.login?.disableSignup),r({telegramAuthModalData:{seamlessAuth:!1}}),n(L5)}catch(h){console.error(h),s(!1)}}return p.jsxs(jr,{onClick:async function(){if(s(!0),t&&!e)return r({captchaModalData:{callback:u,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Or}}),void n(dc);await u(e)},disabled:a,children:[p.jsx(Goe,{width:32,height:32}),"Telegram",l==="telegram"&&p.jsx(Cit,{color:"gray",children:"Recent"})]})};let Cit=ue(uu).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const Yoe=({onClick:t,text:e})=>p.jsxs(jr,{onClick:t,children:[p.jsx(su,{children:p.jsx(MNe,{})}),p.jsx(fh,{children:e})]}),Zoe=({onClick:t,text:e,icon:n})=>p.jsxs(jr,{onClick:t,children:[p.jsx(su,{children:n}),p.jsx(fh,{children:e})]}),Joe=({connectOnly:t})=>{let{closePrivyModal:e}=lt(),{data:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i,navigate:a}=ft(),s=Rn(),o=n?.login,l=s.appearance.walletList,u=o?.walletChainType??s.appearance.walletChainType,{accountType:d,walletClientType:h,chainType:g}=Sh(),{wallets:m}=joe({walletList:l,walletChainType:u}),b=k.useMemo((()=>d&&d!=="guest"&&d!=="authorization_key"&&d!=="cross_app"?p9(d):null),[d]),{email:w,sms:x,google:E,twitter:I,discord:C,github:N,spotify:A,instagram:T,tiktok:O,line:H,linkedin:U,apple:L,wallet:G,farcaster:R,telegram:F}=k.useMemo((()=>o?.loginMethods?B9e(o.loginMethods,!0):null),[o])??s.loginMethods,{passkey:_}=s.loginMethods,S=[w&&"email",x&&"sms",E&&"google",I&&"twitter",C&&"discord",N&&"github",A&&"spotify",T&&"instagram",O&&"tiktok",H&&"line",U&&"linkedin",L&&"apple",R&&"farcaster",F&&"telegram"].filter((rt=>!!rt)),$=S.length>0,D=k.useMemo((()=>G&&!$?"web3-first":G&&s?.appearance.loginGroupPriority||"web2-first"),[G,$,s?.appearance.loginGroupPriority]),z=s?.appearance.hideDirectWeb2Inputs,[Y,J]=k.useState("default"),[V,M]=k.useState(o4({mostRecentlyUsedAccountType:d,smsAvailable:x,emailAvailable:w,prefilledType:o?.prefill?.type}));k.useEffect((()=>{M(o4({mostRecentlyUsedAccountType:d,smsAvailable:x,emailAvailable:w,prefilledType:o?.prefill?.type}))}),[w,x,d]);let Q=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{J("default")}),150)};i.current=Q;let ne=[];h&&G?ne.push(h):b?.loginMethod&&S.includes(b.loginMethod)&&ne.push(b.loginMethod);let K=rt=>{if(rt==="email")return p.jsx(ele,{isEditable:V==="email",setIsEditable:()=>{M("email")},defaultValue:o?.prefill?.type==="email"?o.prefill.value:void 0},rt);if(rt==="sms")return p.jsx(Voe,{isEditable:V==="sms",setIsEditable:()=>{M("sms")},defaultValue:o?.prefill?.type==="phone"?o.prefill.value:void 0},rt);if(rt==="apple")return p.jsx(mi,{provider:"apple"},rt);if(rt==="discord")return p.jsx(mi,{provider:"discord"},rt);if(rt==="farcaster")return p.jsx(Hoe,{},rt);if(rt==="github")return p.jsx(mi,{provider:"github"},rt);if(rt==="google")return p.jsx(mi,{provider:"google"},rt);if(rt==="linkedin")return p.jsx(mi,{provider:"linkedin"},rt);if(rt==="tiktok")return p.jsx(mi,{provider:"tiktok"},rt);if(rt==="line")return p.jsx(mi,{provider:"line"},rt);if(rt==="spotify")return p.jsx(mi,{provider:"spotify"},rt);if(rt==="instagram")return p.jsx(mi,{provider:"instagram"},rt);if(rt==="twitter")return p.jsx(mi,{provider:"twitter"},rt);if(rt==="telegram")return p.jsx(Koe,{},rt);let pt=m.findIndex((({id:ht})=>ht===ro.normalize(rt))),qe=g==="solana"?"solana-only":"ethereum-only";return p.jsx(ZT,{recent:!0,index:pt,data:{wallets:m,walletChainType:qe,handleWalletClick(ht){r((Ot=>({...Ot,externalConnectWallet:{walletList:l,walletChainType:qe,preSelectedWalletId:ht.id}}))),a(t?JT:U5)}}})},se=m.filter((rt=>rt.id!==ro.normalize(h||""))),le=se.map(((rt,pt)=>p.jsx(ZT,{index:pt,data:{walletChainType:u,wallets:se,handleWalletClick(qe){r((ht=>({...ht,externalConnectWallet:{walletList:l,walletChainType:u,preSelectedWalletId:qe.id}}))),a(t?JT:U5)}}},rt.id))),de=S.filter((rt=>rt!==b?.loginMethod)).flatMap(K),he=ne.flatMap(K);D==="web3-first"&&Y==="default"?le.unshift(...he):D==="web2-first"&&de.unshift(...he);let Ce=Y==="web2-overflow"?()=>J("default"):void 0,ke=S.filter((rt=>rt!=="email"&&rt!=="sms")),Ie=Iit({priority:D,email:w,sms:x,social:ke}),De=Tit({priority:D,email:w,sms:x,social:ke}),Ne=p.jsx(Yoe,{text:$it({priority:D}),onClick:()=>{r({...n,externalConnectWallet:{walletChainType:o?.walletChainType??s.appearance.walletChainType}}),a(U5)}}),We=p.jsx(Zoe,{text:Ie,icon:De,onClick:()=>J("web2-overflow")}),tt=z?0:1,Ee=G&&le.length>0,Ze=de.length===0&&G&&le.length===0,xt=5-(Ee?1:0),Ue=Y==="default"&&s?.appearance.logo,Ge=Y==="default"&&s.appearance.loginMessage;return p.jsxs(kn,{title:s.appearance.landingHeader,icon:Ue?p.jsx(Aoe,{}):void 0,iconVariant:Ue?"logo":void 0,onClose:Q,showClose:!0,onBack:Ce,showBack:!!Ce,helpText:s||_&&Y==="default"?p.jsxs(p.Fragment,{children:[_&&Y==="default"&&p.jsx(qoe,{}),s&&p.jsx(yO,{app:s})]}):void 0,watermark:!0,children:[Ge&&(typeof s.appearance.loginMessage=="string"?p.jsx(Sit,{children:s.appearance.loginMessage}):p.jsx(kit,{children:s.appearance.loginMessage})),p.jsx(Pse,{$colorScheme:s.appearance.palette.colorScheme,children:Y==="default"&&D==="web2-first"?p.jsxs(p.Fragment,{children:[de.length>xt?de.slice(0,xt-1):de,de.length>xt&&We,Ee&&Ne,Ze&&p.jsx(OG,{chainType:s.appearance.walletChainType})]}):Y==="default"&&D==="web3-first"?p.jsxs(p.Fragment,{children:[G&&p.jsxs(p.Fragment,{children:[le.length>xt?le.slice(0,xt-1):le,le.length>xt&&Ne]}),de.length>tt&&We,de.length===tt&&de[0],Ze&&p.jsx(OG,{chainType:s.appearance.walletChainType})]}):Y==="web2-overflow"?p.jsx(p.Fragment,{children:D==="web3-first"?de:de.slice(3)}):null})]})};let Sit=ue.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-a0c826dc-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),kit=ue.div.withConfig({displayName:"MessageContainer",componentId:"sc-a0c826dc-1"})(["margin-bottom:24px;"]),Iit=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"?"Other socials":e&&n&&r.length>0||e&&r.length>0?"Log in with email or socials":n&&r.length>0?"Log in with sms or socials":e&&n?"Continue with email or sms":e?"Continue with email":n?"Continue with sms":"Log in with a social account",Tit=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"||r.length>0?p.jsx(TNe,{}):e&&n?p.jsx(Brt,{}):e?p.jsx(wP,{}):n?p.jsx(Mne,{}):null,$it=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const o4=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:n,prefilledType:r})=>n&&(t==="email"&&r!=="phone"||r==="email")||!e||t!=="phone"&&r!=="phone"?"email":"sms",Xoe={component:()=>{let{app:t}=ft();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?p.jsx(ile,{connectOnly:!0}):p.jsx(Joe,{connectOnly:!0})}},Nit=({contactMethod:t,authFlow:e,appName:n="Privy",whatsAppEnabled:r=!1,onBack:i,onCodeSubmit:a,onResend:s,errorMessage:o,success:l=!1,resendCountdown:u=0,onInvalidInput:d,onClearError:h})=>{let[g,m]=k.useState(MG);k.useEffect((()=>{o||m(MG)}),[o]);let b=async w=>{w.preventDefault();let x=w.currentTarget.value.replace(" ","");if(x==="")return;if(isNaN(Number(x)))return void d?.("Code should be numeric");h?.();let E=Number(w.currentTarget.name?.charAt(5)),I=[...x||[""]].slice(0,RG-E),C=[...g.slice(0,E),...I,...g.slice(E+I.length)];m(C);let N=Math.min(Math.max(E+I.length,0),RG-1);isNaN(Number(w.currentTarget.value))||document.querySelector(`input[name=code-${N}]`)?.focus(),C.every((A=>A&&!isNaN(+A)))&&(document.querySelector(`input[name=code-${N}]`)?.blur(),await a?.(C.join("")))};return p.jsx(kn,{title:"Enter confirmation code",subtitle:p.jsxs("span",e==="email"?{children:["Please check ",p.jsx(jG,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",p.jsx(jG,{children:t})," for a",r?" WhatsApp":""," message from ",n," and enter your code below."]}),icon:e==="email"?Y8:lh,onBack:i,showBack:!0,helpText:p.jsxs(Dit,{children:[p.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),u?p.jsxs(Bit,{children:[p.jsx(BJe,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),p.jsx("span",{children:"Code sent"})]}):p.jsx(nm,{as:"button",size:"sm",onClick:s,children:"Resend code"})]}),children:p.jsx(Rit,{children:p.jsx(gtt,{children:p.jsxs(Mit,{children:[p.jsx("div",{children:g.map(((w,x)=>p.jsx("input",{name:`code-${x}`,type:"text",value:g[x],onChange:b,onKeyUp:E=>{E.key==="Backspace"&&(I=>{h?.(),m([...g.slice(0,I),"",...g.slice(I+1)]),I>0&&document.querySelector(`input[name=code-${I-1}]`)?.focus()})(x)},inputMode:"numeric",autoFocus:x===0,pattern:"[0-9]",className:`${l?"success":""} ${o?"fail":""}`,autoComplete:Dn.isMobile?"one-time-code":"off"},x)))}),p.jsx(jit,{$fail:!!o,$success:l,children:p.jsx("span",{children:o==="Invalid or expired verification code"?"Incorrect code":o||(l?"Success!":"")})})]})})})})};let RG=6,MG=Array(6).fill("");var _2,A2,Pit=((_2=Pit||{})[_2.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",_2[_2.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",_2),Oit=((A2=Oit||{})[A2.EMAIL=0]="EMAIL",A2[A2.SMS=1]="SMS",A2);const Td={component:()=>{let{app:t,navigate:e,lastScreen:n,navigateBack:r,setModalData:i,onUserCloseViaDialogOrKeybindRef:a}=ft(),{closePrivyModal:s,resendEmailCode:o,resendSmsCode:l,getAuthMeta:u,loginWithCode:d,updateWallets:h,createAnalyticsEvent:g}=lt(),{authenticated:m,logout:b,user:w}=bn(),{whatsAppEnabled:x}=Rn(),[E,I]=k.useState(!1),[C,N]=k.useState(null),[A,T]=k.useState(null),[O,H]=k.useState(0);a.current=()=>null;let U=u()?.email?0:1,L=U===0?u()?.email||"":u()?.phoneNumber||"";return k.useEffect((()=>{if(O){let G=setTimeout((()=>{H(O-1)}),1e3);return()=>clearTimeout(G)}}),[O]),k.useEffect((()=>{if(m&&E&&w){if(t?.legal.requireUsersAcceptTerms&&!w.hasAcceptedTerms){let G=setTimeout((()=>{e(kp)}),900);return()=>clearTimeout(G)}if(kh(w,t.embeddedWallets)){let G=setTimeout((()=>{i({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,screen:"AwaitingPasswordlessCodeScreen"}}),b()},callAuthOnSuccessOnClose:!0}}),e(Dd)}),900);return()=>clearTimeout(G)}{h();let G=setTimeout((()=>s({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Pr);return()=>clearTimeout(G)}}}),[m,E,w]),k.useEffect((()=>{if(C&&A===0){let G=setTimeout((()=>{N(null),T(null),document.querySelector("input[name=code-0]")?.focus()}),1400);return()=>clearTimeout(G)}}),[C,A]),p.jsx(Nit,{contactMethod:L,authFlow:U===0?"email":"sms",appName:t?.name,whatsAppEnabled:x,onBack:()=>r(),onCodeSubmit:async G=>{try{await d(G),I(!0)}catch(R){if(R instanceof no&&R.privyErrorCode===ye.INVALID_CREDENTIALS)N("Invalid or expired verification code"),T(0);else if(R instanceof no&&R.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE)N(R.message);else{if(R instanceof no&&R.privyErrorCode===ye.USER_LIMIT_REACHED)return console.error(new nv(R).toString()),void e(Tv);if(R instanceof no&&R.privyErrorCode===ye.USER_DOES_NOT_EXIST)return void e(Sv);if(R instanceof no&&R.privyErrorCode===ye.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:R,previousScreen:n??Td}}),void e(Or,!1);if(R instanceof no&&R.privyErrorCode===ye.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:R}}),void e(Xoe,!1);if(R instanceof no&&R.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&R.data?.data?.nonce)return i({accountTransfer:{nonce:R.data?.data?.nonce,account:L,displayName:R.data?.data?.account?.displayName,linkMethod:U===0?"email":"sms",embeddedWalletAddress:R.data?.data?.otherUser?.embeddedWalletAddress}}),void e(Sp);N("Issue verifying code"),T(0)}}},onResend:async()=>{H(30),U===0?await o():await l()},errorMessage:C||void 0,success:E,resendCountdown:O,onInvalidInput:G=>{N(G),T(1)},onClearError:()=>{A===1&&(N(null),T(null))}})}};let Rit=ue.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-5dd8bc26-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),Mit=ue.div.withConfig({displayName:"CodeInput",componentId:"sc-5dd8bc26-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),jit=ue.div.withConfig({displayName:"InputHelp",componentId:"sc-5dd8bc26-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],(t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent")),Dit=ue.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-5dd8bc26-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),Bit=ue.div.withConfig({displayName:"Badge",componentId:"sc-5dd8bc26-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),jG=ue.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-5dd8bc26-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const Qoe=k.forwardRef(((t,e)=>{let[n,r]=k.useState(t.defaultValue||""),[i,a]=k.useState(""),[s,o]=k.useState(!1),{authenticated:l}=bn(),{initLoginWithEmail:u}=lt(),{navigate:d,setModalData:h,currentScreen:g,data:m}=ft(),{enabled:b,token:w}=Ds(),[x,E]=k.useState(!1),{accountType:I}=Sh(),C=Rn();k.useEffect((()=>{!n&&C.disablePlusEmails&&m?.inlineError?.error instanceof Ma&&m?.inlineError?.error.privyErrorCode===ye.DISALLOWED_PLUS_EMAIL&&!i&&a("Please enter a valid email address without a '+'."),i&&a("")}),[n]);let N=dse(n),A=s||!N,T=()=>{h({login:m?.login,inlineError:void 0}),!b||w||l?(O=>{o(!0),u({email:n,captchaToken:O,disableSignup:m?.login?.disableSignup,withPrivyUi:!0}).then((()=>{d(Td)})).catch((H=>{h({errorModalData:{error:H,previousScreen:g||Da}}),d(Or)})).finally((()=>{o(!1)}))})(w):(h({captchaModalData:{callback:O=>u({email:n,captchaToken:O,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Td,onErrorNavigateTo:Or}}),d(dc))};return p.jsxs(p.Fragment,{children:[p.jsxs(Uit,{children:[i&&p.jsx(Id,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),p.jsxs(Lit,{stacked:t.stacked,$error:!!i,children:[p.jsx(Fit,{children:p.jsx(wP,{})}),p.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>E(!0),onChange:O=>r(O.target.value),onKeyUp:O=>{O.key==="Enter"&&T()},value:n,autoComplete:"email"}),I!=="email"||x?t.stacked?p.jsx("span",{}):p.jsx(n9,{isSubmitting:s,onClick:T,disabled:A,children:"Submit"}):p.jsx(uu,{color:"gray",children:"Recent"})]})]}),t.stacked?p.jsx(Jn,{loadingText:null,loading:s,disabled:A,onClick:T,style:{width:"100%"},children:"Submit"}):null]})}));let Uit=Roe,Lit=Irt,Fit=ue(su).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const ele=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=k.useRef(null);return p.jsxs(p.Fragment,{children:[p.jsx(em,{$if:!t,children:p.jsx(Qoe,{ref:r,defaultValue:n})}),p.jsx(em,{$if:t,children:p.jsxs(jr,{onClick:()=>{e(),setTimeout((()=>{r.current?.focus()}),0)},children:[p.jsx(su,{children:p.jsx(wP,{})}),"Continue with Email"]})})]})},tle=({icon:t,name:e})=>typeof t=="string"?p.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?p.jsx(Z8,{style:{height:24,width:24}}):t?p.jsx(t,{}):null;function QT(t){let e=t.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some((n=>e.includes(n)))}const zit=({walletLogo:t,success:e,errorMessage:n,title:r,subtitle:i,onRetry:a,onUseDifferentWallet:s,onBack:o,numRetries:l,maxRetries:u})=>p.jsx(kn,{title:r,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},primaryCta:n===Kf.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:s}:!e&&n?.retryable&&l<u?{label:"Retry",onClick:a,disabled:!n?.retryable||l>=u}:!e&&n&&l>=u?{label:"Use a different wallet",onClick:s}:void 0,onBack:o,watermark:!0}),e$={component:()=>{let t,{navigateBack:e,navigate:n,lastScreen:r,currentScreen:i,data:a,setModalData:s}=ft(),{walletConnectionStatus:o,closePrivyModal:l}=lt(),[u,d]=k.useState(void 0),[h,g]=k.useState(0),m=Md(o?.connector?.walletClientType||"unknown"),b=o?.status==="connected",w=o?.status==="switching_to_supported_chain";k.useEffect((()=>{if(b){let T;if(a?.externalConnectWallet?.onCompleteNavigateTo){let O=a.externalConnectWallet.onCompleteNavigateTo,H=o.connectedWallet?.address;T=setTimeout((()=>{a.funding&&s({...a,funding:{...a.funding,connectedWalletAddress:H}}),n(O({address:H,walletClientType:o.connector?.walletClientType,walletChainType:o.connector?.chainType}))}),Pr)}else T=setTimeout(l,Pr);return()=>clearTimeout(T)}}),[b]),k.useEffect((()=>{o?.connectError&&(T=>{d(Foe(T))})(o?.connectError)}),[o]);let x=o?.connector?.connectorType||"injected",E=o?.connector?.walletClientType||"unknown",I=m?.metadata?.shortName||m?.name||o?.connector?.walletBranding.name||"Browser Extension",C=m?.image_url?.md||o?.connector?.walletBranding.icon||(T=>p.jsx(hO,{...T})),N=I==="Browser Extension"?I.toLowerCase():I;t=b?`Successfully connected with ${N}`:u?u.message:w?"Switching networks":`Waiting for ${N}`;let A="Dont see your wallet? Check your other browser windows.";return b?A="Youre good to go!":h>=2&&u?A="Unable to connect wallet":u?A=u.detail:w?A="Switch your wallet to the requested network.":E==="metamask"&&Dn.isMobile?A="Click to continue to open and connect MetaMask.":E==="metamask"?A="For the best experience, connect only one wallet at a time.":x==="wallet_connect_v2"?A="Open your mobile wallet app to continue":x==="coinbase_wallet"&&(A="Open the Coinbase app on your phone to continue."),p.jsx(zit,{walletName:I,walletLogo:C,success:b,errorMessage:u,title:t,subtitle:A,onRetry:()=>{g(h+1),d(void 0),o?.connectRetry()},onUseDifferentWallet:e,onBack:i===r?void 0:e,numRetries:h,maxRetries:2})}},nle=ue.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),$g=({children:t,variant:e="default",icon:n})=>{let r=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return p.jsxs(Hit,{children:[p.jsx(Wit,{$variant:e,"data-variant":e,children:(()=>{if(n)return at.isValidElement(n)?at.cloneElement(n,{stroke:r(),strokeWidth:2}):n;switch(e){case"success":default:return p.jsx(yw,{size:12,stroke:r(),strokeWidth:3});case"error":return p.jsx(jNe,{size:12,stroke:r(),strokeWidth:3})}})()}),t]})};let Wit=ue.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}})),Hit=ue.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const qit=({walletName:t,installLink:e,title:n,subtitle:r="Follow the instructions below to get started.",onReload:i,onBack:a})=>{let s=n||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return p.jsx(kn,{title:s,subtitle:r,onBack:a,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Still not sure? "}),p.jsx(nm,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:p.jsxs(nle,{children:[p.jsx($g,{children:p.jsxs("div",{children:[p.jsx("span",{children:"Install the "})," ",p.jsxs(nm,{href:e,target:"_blank",children:[t," browser extension"]})]})}),p.jsx($g,{children:"Set up your first wallet"}),p.jsx($g,{children:"Store your recovery phrase in a safe place!"})]})})},Vit={component:()=>{let{navigateBack:t,data:e}=ft();if(!e?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:n}=e.installWalletModalData;return p.jsx(qit,{walletName:n.name,installLink:n.installLink,onReload:()=>{window.location.reload()},onBack:t})}},Git=({title:t,subtitle:e,buttonText:n,buttonHref:r,isLoading:i=!1,helpText:a,onButtonClick:s})=>p.jsx(kn,{title:t,subtitle:e,primaryCta:{label:n,onClick:()=>{r&&window.open(r,"_self"),s?.()},disabled:i},helpText:a,watermark:!0}),Kit={component:()=>{let{ready:t}=bn(),{data:e}=ft(),[n,r]=k.useState(!1);if(!e?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:a,chainType:s}=e.installWalletModalData,o=i.getMobileRedirect({useUniversalLink:!n,isSolana:s==="solana",connectOnly:a}),l=i.name.replace(/ wallet/gi,""),u={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(u.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,u.footnote="You can always return here to login via other methods."),n&&(u.title="Still here?",u.description=`You may need to install the ${i.name} mobile app.`,u.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),p.jsx(Git,{title:u.title,subtitle:u.description,buttonText:n?"Go to App Store":"Continue",buttonHref:o,isLoading:t&&!o,helpText:u.footnote||void 0,onButtonClick:()=>{setTimeout((()=>r(!0)),1e3)}})}},Rc=({provider:t,displayName:e,logo:n,connectOnly:r,connector:i})=>{let a,{navigate:s,setModalData:o}=ft(),{connectWallet:l}=lt(),u=Sh(),d=Md(t),h=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,g=window.matchMedia("(display-mode: standalone)").matches,m=Ese({connectorType:i.connectorType,walletClientType:h});a=m&&m.chainTypes.includes(i.chainType)?()=>{m.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(l(i,h),s(r?e$:pd)):Dn.isMobile?(o({installWalletModalData:{walletConfig:m,chainType:i.chainType,connectOnly:r}}),s(Kit)):(o({installWalletModalData:{walletConfig:m,chainType:i.chainType,connectOnly:r}}),s(Vit))}:i.connectorType!=="coinbase_wallet"||i.coinbaseWalletConfig.preference?.options!=="eoaOnly"||!Dn.isMobile||g||use()?()=>{(!QT(window.navigator.userAgent)||event?.isTrusted)&&(l(i,h),s(r?e$:pd))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let b=e||d?.metadata?.shortName||d?.name||i.walletClientType;return p.jsxs(Yit,{onClick:a,children:[p.jsx(tle,{icon:n||d?.image_url?.md,name:b}),p.jsx("span",{children:b}),p.jsxs(Zit,{id:"chip-container",children:[u?.walletClientType===h&&u?.chainType===i.chainType?p.jsx(DG,{color:"gray",children:"Recent"}):p.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&p.jsx(DG,{color:"gray",children:"Solana"})]})]})};let Yit=ue(jr).withConfig({displayName:"ConnectWalletButton",componentId:"sc-42d67b97-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),DG=ue(uu).withConfig({displayName:"StyledChip",componentId:"sc-42d67b97-1"})(["margin-left:auto;"]),Zit=ue.div.withConfig({displayName:"ChipContainer",componentId:"sc-42d67b97-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const Jit=["coinbase_wallet","base_account"];let Xit=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const Qit=["safe"],eat=["phantom","backpack","solflare","universal_profile"],rle=({walletList:t,walletChainType:e,connectors:n,connectOnly:r,ignore:i,walletConnectEnabled:a,forceWallet:s})=>{let o=[],l=[],u=[],d=n.filter((g=>e==="ethereum-only"?g.chainType==="ethereum":e!=="solana-only"||g.chainType==="solana")),h=d.find((g=>g.connectorType==="wallet_connect_v2"));for(let[g,m]of(s?[s.wallet]:t).entries()){if(m==="detected_ethereum_wallets"||m==="detected_wallets")for(let[b,w]of d.filter((({chainType:x,connectorType:E,walletClientType:I})=>x!=="solana"&&(I==="uniswap_wallet_extension"||I==="uniswap_extension"?!i.includes("uniswap"):I==="crypto.com_wallet_extension"||I==="crypto.com_onchain"?!i.includes("cryptocom"):E==="injected"&&!i.includes(I)))).entries()){let{walletClientType:x,walletBranding:E,chainType:I}=w;(x==="unknown"?l:o).push(p.jsx(Rc,{connectOnly:r,provider:x,logo:E.icon,displayName:E.name,connector:w},`${g}-${m}-${x}-${I}-${b}`))}if(m==="detected_solana_wallets"||m==="detected_wallets")for(let[b,w]of d.filter((({chainType:x,walletClientType:E})=>{if(x==="solana")return e!=="ethereum-only"&&!i.includes(E)})).entries()){let{walletClientType:x,walletBranding:E,chainType:I}=w;(x==="unknown"?l:o).push(p.jsx(Rc,{connectOnly:r,provider:x,logo:E.icon,displayName:E.name,connector:w},`${g}-${m}-${x}-${I}-${b}`))}if(eat.includes(m)){let b=d.find((w=>w.connectorType==="injected"&&w.walletClientType===m||w.connectorType===m));if(b&&o.push(p.jsx(Rc,{connectOnly:r,provider:m,connector:b},`${g}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let w=d.find((({chainType:x,walletClientType:E})=>x==="solana"&&E===m));w&&o.push(p.jsx(Rc,{connectOnly:r,provider:m,connector:w},`${m}-solana`))}}else if(Xit.includes(m)){let b=d.find((w=>m==="uniswap"?w.walletClientType==="uniswap_wallet_extension"||w.walletClientType==="uniswap_extension":m==="cryptocom"?w.walletClientType==="crypto.com_wallet_extension"||w.walletClientType==="crypto.com_onchain":w.connectorType==="injected"&&w.walletClientType===m));if(a&&!b&&(b=h),b&&o.push(p.jsx(Rc,{connectOnly:r,provider:m,connector:b,logo:b.connectorType==="injected"?b.walletBranding.icon:void 0,displayName:b.connectorType==="injected"?b.walletBranding.name:void 0},`${g}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let w=d.find((({chainType:x,walletClientType:E})=>x==="solana"&&E===m));w&&o.push(p.jsx(Rc,{connectOnly:r,provider:m,connector:w},`${m}-solana`))}}else if(Jit.includes(m)){let b=d.find((({connectorType:w})=>w===m));b&&o.push(p.jsx(Rc,{connectOnly:r,provider:m,connector:b,displayName:b.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:b.walletClientType==="coinbase_wallet"?pse:gse},`${g}-${m}`))}else if(Qit.includes(m))h&&u.push(p.jsx(Rc,{connectOnly:r,provider:m,connector:h},`${g}-${m}`));else if(m==="wallet_connect")h&&u.push(p.jsx(Rc,{connectOnly:r,provider:m,connector:h,logo:h.walletBranding.icon,displayName:"WalletConnect"},`${g}-${m}`));else if(m===s?.wallet){let b=s.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),w=s.chainType==="solana"&&t.includes("detected_solana_wallets");if(t.includes("detected_wallets")||b||w){let x=d.find((({walletClientType:E})=>E===m));x&&o.push(p.jsx(Rc,{connectOnly:r,provider:m,displayName:x.walletBranding?.name,logo:x.walletBranding?.icon,connector:x},`${g}-${m}`))}}}return[...l,...o,...u]},ile=({connectOnly:t})=>{let{closePrivyModal:e,connectors:n}=lt(),{app:r,onUserCloseViaDialogOrKeybindRef:i,data:a}=ft(),{appearance:{palette:{colorScheme:s}}}=Rn(),{accountType:o,walletClientType:l,chainType:u}=Sh(),d=k.useMemo((()=>o&&o!=="guest"&&o!=="authorization_key"&&o!=="cross_app"?p9(o):null),[o]),h=r.loginMethodsAndOrder?.primary??[],g=r.loginMethodsAndOrder?.overflow??[],m=k.useMemo((()=>[...h,...g]),[h,g]),b=r.loginMethods.passkey,w=a?.login,x=[];l&&m.includes(l)?x.push(l):o&&m.includes(d?.loginMethod)&&x.push(d?.loginMethod);let[E,I]=k.useState("default"),[C,N]=k.useState(o4({mostRecentlyUsedAccountType:o,smsAvailable:m.includes("sms"),emailAvailable:m.includes("email"),prefilledType:w?.prefill?.type}));k.useEffect((()=>{N(o4({mostRecentlyUsedAccountType:o,smsAvailable:m.includes("sms"),emailAvailable:m.includes("email"),prefilledType:w?.prefill?.type}))}),[m,o]),k.useEffect((()=>{o==="phone"&&N("sms");let R=m.indexOf("sms"),F=m.indexOf("email");R>-1&&R<F&&N("sms")}),[o,h,g]);let A=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{I("default")}),150)};i.current=A;let T=R=>R==="email"?p.jsx(ele,{isEditable:C==="email",setIsEditable:()=>{N("email")},defaultValue:w?.prefill?.type==="email"?w.prefill.value:void 0},R):R==="sms"?p.jsx(Voe,{isEditable:C==="sms",setIsEditable:()=>{N("sms")},defaultValue:w?.prefill?.type==="phone"?w.prefill.value:void 0},R):R==="apple"?p.jsx(mi,{provider:"apple"},R):R==="discord"?p.jsx(mi,{provider:"discord"},R):R==="farcaster"?p.jsx(Hoe,{},R):R==="github"?p.jsx(mi,{provider:"github"},R):R==="google"?p.jsx(mi,{provider:"google"},R):R==="linkedin"?p.jsx(mi,{provider:"linkedin"},R):R==="spotify"?p.jsx(mi,{provider:"spotify"},R):R==="instagram"?p.jsx(mi,{provider:"instagram"},R):R==="tiktok"?p.jsx(mi,{provider:"tiktok"},R):R==="line"?p.jsx(mi,{provider:"line"},R):R==="twitter"?p.jsx(mi,{provider:"twitter"},R):R==="telegram"?p.jsx(Koe,{},R):R.startsWith("privy:")?p.jsx(Jnt,{appId:R.replace("privy:","")},R):rle({walletList:r.appearance.walletList,walletChainType:w?.walletChainType??r.appearance.walletChainType,connectors:n,connectOnly:t,ignore:m,walletConnectEnabled:r.externalWallets.walletConnect.enabled,forceWallet:{wallet:R,chainType:u??"ethereum"}}),O=x.flatMap(T),H=h.filter((R=>R!==l&&R!==d?.loginMethod)).flatMap(T),U=g.filter((R=>R!==l&&R!==d?.loginMethod)).flatMap(T),[L,G]=((R,F)=>{let _=[],S=[];for(let[$,D]of R.entries())$<F?_.push(D):S.push(D);return[_,S]})([...O,...H,...U],tat({primary:H.length+O.length,overflow:U.length}));return p.jsxs(p.Fragment,{children:[p.jsx(dn,{title:r.appearance.landingHeader,onClose:A,backFn:E==="default"?void 0:()=>{I("default")}}),E==="default"&&p.jsx(nat,{}),E==="default"&&(typeof r.appearance.loginMessage=="string"?p.jsx(set,{children:r.appearance.loginMessage}):r.appearance.loginMessage),p.jsx(iet,{style:{overflow:"hidden"},children:p.jsxs(Pse,{$colorScheme:s,children:[E==="default"&&p.jsxs(p.Fragment,{children:[L,G.length>0&&p.jsx(Zoe,{text:"More options",icon:p.jsx(jJe,{}),onClick:()=>I("overflow")})]}),E==="overflow"&&p.jsx(p.Fragment,{children:G}),b&&E==="default"&&p.jsx(qoe,{})]})}),r&&p.jsx(yO,{app:r}),p.jsx(Pn,{})]})};let tat=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,nat=ue(Knt).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-d846420a-0"})(["margin-bottom:16px;"]);const Da={component:()=>{let{app:t}=ft();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?p.jsx(ile,{connectOnly:!1}):p.jsx(Joe,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},ale={component:()=>{let[t,e]=k.useState(null),[n,r]=k.useState(!1),[i,a]=k.useState(null),[s,o]=k.useState(""),{authenticated:l,user:u}=bn(),{client:d,walletProxy:h,refreshSessionAndUser:g,closePrivyModal:m,createAnalyticsEvent:b}=lt(),{app:w,navigate:x,data:E,onUserCloseViaDialogOrKeybindRef:I}=ft(),{onSuccess:C,onFailure:N}=E.setWalletPassword,A=cl(u),T=t?.recoveryMethod==="user-passcode",O=A?.recoveryMethod==="user-passcode";k.useEffect((()=>{l||(x(Da),N(new z7e("User must be authenticated before setting a password on a Privy wallet")))}),[l]);let H=()=>i?(N(i),void m({shouldCallAuthOnSuccess:!1})):T?(C(t),void m({shouldCallAuthOnSuccess:!1})):(N(new eh("Exited before password was added to wallet")),void m({shouldCallAuthOnSuccess:!1}));return I.current=H,p.jsx(Eoe,{appName:w?.name||"privy",config:{initiatedBy:"user",onCancel:H},error:i?"An error has occurred, please try again.":void 0,buttonLoading:n,buttonHideAnimations:!1,password:s,isResettingPassword:O,onPasswordGenerate:()=>o(xoe()),onPasswordChange:o,onSubmit:async()=>{T?(C(t),m({shouldCallAuthOnSuccess:!1})):(r(!0),a(null),await(async()=>{let U=await d.getAccessToken();if(U&&u&&A?.address&&s&&h)try{b({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:A.address,existingRecoveryMethod:A.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:O}});let{entropyId:L,entropyIdVerifier:G}=ua(u);if(!(await h.setRecovery({accessToken:U,entropyId:L,entropyIdVerifier:G,recoveryPassword:s,recoveryMethod:"user-passcode"})).entropyId)return a(new eh("Error setting password on privy wallet")),void b({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:A.address,existingRecoveryMethod:A.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:O,reason:"error setting password"}});let R=await g(),F=cl(R);if(!F)return a(new eh("Error setting password on privy wallet")),void b({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:A.address,existingRecoveryMethod:A.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:O,reason:"wallet disconnected"}});e(F),b({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:A.address,existingRecoveryMethod:A.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:O}})}catch(L){console.warn(L),a(L instanceof Error?L:Error("Error setting password on privy wallet")),b({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:A.address,reason:L}})}})(),r(!1))},onClose:H})}},rat=({onClose:t,onProceed:e})=>p.jsx(kn,{title:"Secure Your Account",subtitle:p.jsxs(p.Fragment,{children:["Please set a password to secure your account.",p.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:bP,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),iat={component:()=>{let{closePrivyModal:t}=lt(),{data:e,navigate:n,onUserCloseViaDialogOrKeybindRef:r}=ft(),{onFailure:i}=e.setWalletPassword,a=()=>{i(new eh("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return r.current=a,p.jsx(rat,{onClose:a,onProceed:()=>{n(ale)}})}},aat={component:()=>{let[t,e]=k.useState(!0),{authenticated:n,user:r}=bn(),{walletProxy:i,closePrivyModal:a,createAnalyticsEvent:s,client:o}=lt(),{navigate:l,data:u,onUserCloseViaDialogOrKeybindRef:d}=ft(),[h,g]=k.useState(void 0),[m,b]=k.useState(""),[w,x]=k.useState(!1),{entropyId:E,entropyIdVerifier:I,onCompleteNavigateTo:C,onSuccess:N,onFailure:A}=u.recoverWallet,T=(O="User exited before their wallet could be recovered")=>{a({shouldCallAuthOnSuccess:!1}),A(typeof O=="string"?new eh(O):O)};return d.current=T,k.useEffect((()=>{if(!n)return T("User must be authenticated and have a Privy wallet before it can be recovered")}),[n]),p.jsxs(rr,{children:[p.jsx(rr.Header,{icon:V0,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:T}),p.jsx(rr.Body,{children:p.jsx(sat,{children:p.jsxs("div",{children:[p.jsxs(c9,{children:[p.jsx(PO,{type:t?"password":"text",onChange:O=>(H=>{H&&g(H)})(O.target.value),disabled:w,style:{paddingRight:"2.3rem"}}),p.jsx(d9,{style:{right:"0.75rem"},children:t?p.jsx(f9,{onClick:()=>e(!1)}):p.jsx(h9,{onClick:()=>e(!0)})})]}),!!m&&p.jsx(oat,{children:m})]})})}),p.jsxs(rr.Footer,{children:[p.jsx(rr.HelpText,{children:p.jsxs(ytt,{children:[p.jsx("h4",{children:"Why is this necessary?"}),p.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),p.jsx(rr.Actions,{children:p.jsx(lat,{loading:w||!i,disabled:!h,onClick:async()=>{x(!0);let O=await o.getAccessToken(),H=Qo(r,E);if(!O||!H||h===null)return T("User must be authenticated and have a Privy wallet before it can be recovered");try{s({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:H.address}}),await i?.recover({accessToken:O,entropyId:E,entropyIdVerifier:I,recoveryPassword:h}),b(""),C?l(C):a({shouldCallAuthOnSuccess:!1}),N?.(H),s({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:H.address}})}catch(U){(function(L){return Lm(L)&&(L.type==="invalid_recovery_pin"||L.type==="invalid_request_arguments")})(U)?b("Invalid recovery password, please try again."):b("An error has occurred, please try again.")}finally{x(!1)}},$hideAnimations:!E&&w,children:"Recover your account"})}),p.jsx(rr.Watermark,{})]})]})}};let sat=ue.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),oat=ue.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),lat=ue(Jn).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],(({$hideAnimations:t})=>t&&ji(["&&{transition:none;}"])));const cat={component:()=>{let{app:t,navigate:e,data:n,onUserCloseViaDialogOrKeybindRef:r}=ft(),[i,a]=k.useState(""),[s,o]=k.useState(!1),[l,u]=k.useState(),[d,h]=k.useState(null),{create:g}=$O(),{authenticated:m,user:b}=bn(),{closePrivyModal:w,isNewUserThisSession:x,initializeWalletProxy:E}=lt(),{onSuccess:I,onFailure:C,callAuthOnSuccessOnClose:N,shouldCreateEth:A,shouldCreateSol:T}=n.createWallet,[O,H]=k.useState(null),U=new Ya((async()=>{try{let L;if(A&&T)L=await g({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:b}),L=await g({chainType:"solana",walletIndex:0,latestUser:L.user});else if(T)L=await g({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:b});else{if(!A)throw Error("Invalid args to create wallet");L=await g({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:b})}H(L),x?e(NO):(I(L),w({shouldCallAuthOnSuccess:N}))}catch(L){a(L.message)}}));return k.useEffect((()=>{d||E(3e4).then((L=>h(L)))}),[d]),k.useEffect((()=>{if(!m||!b)return e(Da),void C(Error("User must be authenticated before creating a Privy wallet"))}),[m]),r.current=()=>null,p.jsx(Eoe,{config:{initiatedBy:"automatic"},appName:t?.name||"privy",loading:!d,buttonLoading:s,buttonHideAnimations:!O&&s,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{O&&O.account.recoveryMethod!=="user-passcode"?(C(new eh("User created a wallet but failed to set a password for it")),w({shouldCallAuthOnSuccess:!1})):O?(I(O),w({shouldCallAuthOnSuccess:N})):(C(new eh("User wallet creation failed")),w({shouldCallAuthOnSuccess:!1}))},onPasswordChange:u,onPasswordGenerate:()=>u(xoe()),onSubmit:async()=>(o(!0),U.execute().then((()=>new Promise((L=>setTimeout(L,250))))).finally((()=>o(!1))))})}},uat=ue.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],(t=>t.$color??"var(--privy-color-accent)")),ph=ue.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),$d=ue.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),dat={component:()=>{let{user:t}=bn(),{client:e,walletProxy:n,refreshSessionAndUser:r,closePrivyModal:i}=lt(),a=ft(),{entropyId:s,entropyIdVerifier:o}=a.data?.recoverWallet,[l,u]=k.useState(!1),[d,h]=k.useState(null),[g,m]=k.useState(null);function b(){if(!l){if(g)return a.data?.setWalletPassword?.onFailure(g),void i();if(!d)return a.data?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),void i()}}a.onUserCloseViaDialogOrKeybindRef.current=b;let w=!(!l&&!d);return p.jsxs(p.Fragment,g?{children:[p.jsx(dn,{onClose:b},"header"),p.jsx(uat,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:p.jsx(hp,{height:38,width:38,stroke:"var(--privy-color-error)"})}),p.jsx($d,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),p.jsx(fh,{style:{minHeight:"2rem"}}),p.jsx(Q6,{onClick:()=>m(null),children:"Try again"}),p.jsx(Pn,{})]}:{children:[p.jsx(dn,{onClose:b},"header"),p.jsx(Dae,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),p.jsx($d,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),p.jsx(ph,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),p.jsx(fh,{style:{minHeight:"2rem"}}),p.jsx(Q6,{loading:l,disabled:w,onClick:()=>(async function(){u(!0);try{let x=await e.getAccessToken(),E=Qo(t,s);if(!x||!n||!E)return;if(!(await n.setRecovery({accessToken:x,entropyId:s,entropyIdVerifier:o,existingRecoveryMethod:E.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let I=await r();if(!I)throw Error("Unable to set recovery on wallet");let C=Qo(I,E.address);if(!C)throw Error("Unabled to set recovery on wallet");h(!!I),setTimeout((()=>{a.data?.setWalletPassword?.onSuccess(C),i()}),Pr)}catch(x){m(x)}finally{u(!1)}})(),children:d?"Success":"Confirm"}),p.jsx(Pn,{})]})}};function sle({isCreatingWallet:t,skipSplashScreen:e}){return t?cat:e?ale:iat}function ole({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?dat:n||e.length===1?sle({isCreatingWallet:t==="create",skipSplashScreen:r}):qT}function lle(t){switch(t){case"user-passcode":return aat;case"google-drive":case"icloud":return hoe;default:throw Error("Recovery method not supported")}}const cle=({children:t,theme:e})=>p.jsxs(fat,{$theme:e,children:[p.jsx(bXe,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),p.jsx(hat,{$theme:e,children:t})]});let fat=ue.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),hat=ue.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const ule=ji(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],(t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:"")),b9=ue.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],ule);let pat=ue(b9).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),gat=ue.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),mat=ue.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),yat=ue.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),bat=ue(ps).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),wat=ue(Id).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),vat=ue(uc).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const w9=({errMsg:t,balance:e,address:n,className:r,title:i,showCopyButton:a=!1})=>{let[s,o]=k.useState(!1);return k.useEffect((()=>{if(s){let l=setTimeout((()=>o(!1)),3e3);return()=>clearTimeout(l)}}),[s]),p.jsxs("div",{children:[i&&p.jsx(bat,{children:i}),p.jsx(pat,{className:r,$state:t?"error":void 0,children:p.jsxs(gat,{children:[p.jsxs(mat,{children:[p.jsx(gn,{address:n,showCopyIcon:!1}),e!==void 0&&p.jsx(yat,{children:e})]}),a&&p.jsx(vat,{onClick:function(l){l.stopPropagation(),navigator.clipboard.writeText(n).then((()=>o(!0))).catch(console.error)},size:"sm",children:p.jsxs(p.Fragment,s?{children:["Copied",p.jsx(yw,{size:14})]}:{children:["Copy",p.jsx(I6,{size:14})]})})]})}),t&&p.jsx(wat,{children:t})]})};function dle({rpcConfig:t,appId:e,address:n,chain:r}){let{chains:i}=lt(),[a,s]=k.useState(0n),[o,l]=k.useState(!1),u=k.useMemo((()=>{let h=r||i[0];if(h)return Ed({chain:r,transport:_d(kd(h,t,e))})}),[r,t,e]),d=k.useCallback((async()=>{if(!n||!u)return;l(!0);let h=await u.getBalance({address:n}).catch(console.error);return h?(s(h),l(!1),h):void 0}),[u,n,s]);return k.useEffect((()=>{d().catch(console.error)}),[]),{balance:a,isLoading:o,reloadBalance:d}}const fc="sdk_fiat_on_ramp_completed_with_status",DO=async({chain:t,address:e,appId:n,rpcConfig:r,erc20Address:i})=>({balance:await Ed({chain:t,transport:_d(kd(t,r,n))}).readContract({address:i,abi:xat,functionName:"balanceOf",args:[e]}).catch((()=>0n)),chain:t});let xat=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const $v=Symbol("solana-funding-plugin"),Eat=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:a},{privateKey:s,chainType:o})=>{if(!i)throw t("linkAccount","onError",ye.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new me("User must be authenticated before linking an account.");let[l,u]=await Promise.all([e(),n(15e3)]);if(!u||!l)throw t("linkAccount","onError",ye.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new me("User must be authenticated before linking an account.");await u.importWallet({privateKey:s,accessToken:l,chainType:o,mode:a.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device"});let d=await r(),h=o==="solana"?i8(d):Gk(d);if(!h)throw t("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:h}),h};class _at{async handleSignMessage(e){if(!e.params||typeof e.params.message!="string")throw Error("Message must be provided as a string for Solana signMessage RPC");let n=await this.signMessage(Pa(e.params.message,"base64"));return{signature:Pa(n).toString("base64")}}async request(e){if(console.debug("EmbeddedSolanaProvider.request() called with args",e),!await nr())throw Error("User must be authenticated to use embedded Solana wallet");if(!await Hlt({address:this.address}))throw new me("Unable to connect to Solana embedded wallet");if(e.method==="signMessage")return await this.handleSignMessage(e);throw Error("Embedded Solana provider does not yet support this RPC method.")}constructor(e,n,r){this.walletProxy=e,this.address=n,this.signMessage=r}}async function t$({tx:t,accessToken:e,walletProxy:n,entropyId:r,entropyIdVerifier:i,transactingWalletAddress:a,transactingWalletIndex:s}){let o=e4(t,a),l=hh(t)?Pa(t.message.serialize()):t.serializeMessage(),{response:u}=await n.rpc({accessToken:e,entropyId:r,entropyIdVerifier:i,chainType:"solana",hdWalletIndex:s,request:{method:"signMessage",params:{message:l.toString("base64")}}}),d=Pa(u.data.signature,"base64");return t.addSignature(o,d),t}const Aat=t=>t.reduce(((e,n)=>!e||e.walletIndex<n.walletIndex?n:e),null);let BG=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:a,recoverEmbeddedWallet:s,user:o,walletIndex:l,setModalData:u,openModal:d,chainType:h,setUser:g})=>{if(l<0)throw r("createWallet","onError",ye.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let m=cl(o);if(l>0&&!m)throw r("createWallet","onError",ye.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",ye.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!m&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await UG({emitPrivyEvent:r,setModalData:u,openModal:d,chainType:h});let b=TO(o,{chainType:h,walletIndex:l})[0];if(b)return{user:o,account:b};if(l===0&&!i)return UG({emitPrivyEvent:r,setModalData:u,openModal:d,chainType:h});if(!i)throw r("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return foe({appConfig:e,walletIndex:l,chainType:h,user:o,accessToken:t,proxy:i,refreshSessionAndUser:a,privy:n,recoverEmbeddedWallet:s,setUser:g})},UG=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise(((i,a)=>{e({createWallet:{onSuccess:({user:s,account:o})=>{t("createWallet","onSuccess",{wallet:o}),i({user:s,account:o})},onFailure:s=>{t("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),a(s)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n(Dd)}));const fle=()=>{let t=Rn(),e=jd(),{setModalData:n}=ft(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:a,openModal:s,refreshSessionAndUser:o,privy:l,client:u}=lt();return{create:async({chainType:d,options:h,latestUser:g})=>{let m=g;if(m||(m=await o()),!m)throw e("createWallet","onError",ye.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:b,getAccessToken:w,initializeWalletProxy:x,user:E,privy:I,emitPrivyEvent:C,recoverEmbeddedWallet:N,setModalData:A,openModal:T,setUser:O,options:H,timeoutDuration:U,refreshSessionAndUser:L,chainType:G})=>{let[R,F]=await Promise.all([x(U),w()]);if(!F||!E)throw C("createWallet","onError",ye.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!R&&b.customAuth?.enabled)throw C("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(H&&"walletIndex"in H&&typeof H.walletIndex=="number"){if(b.embeddedWallets.mode==="user-controlled-server-wallets-only")throw C("createWallet","onError",ye.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return BG({accessToken:F,appConfig:b,privy:I,emitPrivyEvent:C,openModal:T,proxy:R,refreshSessionAndUser:L,recoverEmbeddedWallet:N,setModalData:A,user:E,walletIndex:H.walletIndex,chainType:G,setUser:O})}let _=H&&"createAdditional"in H&&H.createAdditional,S=TO(E,{chainType:G});if(S[0]&&!_)throw C("createWallet","onError",ye.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return BG({accessToken:F,appConfig:b,privy:I,emitPrivyEvent:C,openModal:T,proxy:R,recoverEmbeddedWallet:N,setModalData:A,user:E,walletIndex:(Aat(S)?.walletIndex??-1)+1,chainType:G,refreshSessionAndUser:L,setUser:O})})({appConfig:t,privy:l,getAccessToken:()=>u.getAccessToken(),refreshSessionAndUser:o,initializeWalletProxy:r,user:m,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:s,setUser:a,options:h,timeoutDuration:Yae,chainType:d})}}};function Cat(t){let{create:e}=fle();return Bm("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const Sat=()=>{let{user:t}=bn(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=lt(),i=jd(),a=Rn();return{importWallet:k.useCallback((({privateKey:s})=>Eat({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:a},{privateKey:s,chainType:"ethereum"})),[t,e,n,r,i])}},zm=()=>{let{importWallet:t}=Sat(),{createWallet:e}=Cat();return{...k.useContext(_m),importWallet:t,createWallet:e}},BO=t=>t.filter((e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1)))),hle=t=>!!t.fundingConfig&&BO(t.fundingConfig.options).length>=1,n$=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let kat=2n**256n-1n;const l4=({amount:t,decimals:e})=>t===kat?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),ple=({chains:t,appId:e,address:n,rpcConfig:r,includeUsdc:i})=>Promise.all(t.map((async a=>{let s=Ed({chain:a,transport:_d(kd(a,r,e))}),o=await s.getBalance({address:n}).catch((()=>0n)),l=null,u=U9e[a.id];if(i&&u){let{balance:d}=await DO({address:n,chain:a,rpcConfig:r,appId:e,erc20Address:u});l=d}return{balance:o,erc20Balance:l,erc20Address:u,chain:a}}))),Wm=ue.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),ct=ue.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),vt=ue.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),Iat=ue(vt).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),Nt=ue.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],m9),Tat=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[p.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[p.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),p.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),p.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),p.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[p.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),p.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),p.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),p.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[p.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),p.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),p.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let $at={[ml.id]:t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:p.jsx("g",{id:"Layer_x0020_1",children:p.jsxs("g",{id:"_2405588477232",children:[p.jsx("rect",{fill:"none",width:"2500",height:"2500"}),p.jsx("g",{children:p.jsxs("g",{children:[p.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),p.jsx("g",{children:p.jsxs("g",{children:[p.jsx("g",{children:p.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),p.jsx("g",{children:p.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),p.jsx("g",{children:p.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),p.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),p.jsxs("g",{children:[p.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),p.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[vm.id]:t=>p.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[yl.id]:t=>p.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),p.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[G4.id]:t=>p.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),p.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[EX.id]:t=>p.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),p.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[p.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),p.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_2303_643",children:p.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[bl.id]:t=>p.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[p.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),p.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),p.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),p.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),p.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[hu.id]:t=>p.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),p.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),p.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[Rs.id]:t=>p.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),p.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[yN.id]:t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[p.jsx("g",{clipPath:"url(#clip0)",children:p.jsx("g",{clipPath:"url(#clip1)",children:p.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),p.jsxs("defs",{children:[p.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[p.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),p.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),p.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),p.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),p.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),p.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),p.jsx("clipPath",{id:"clip0",children:p.jsx("rect",{width:"30",height:"30",fill:"white"})}),p.jsx("clipPath",{id:"clip1",children:p.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const gle=({chainId:t,...e})=>{if(t==="solana")return p.jsx(Tat,{...e});let n=$at[t];return p.jsx(n||jae,{...e})},Nat=({balance:t,className:e,chain:n})=>p.jsx(b9,{className:e,$state:void 0,children:p.jsx(r$,{balance:t,chain:n})}),r$=({balance:t,chain:e})=>p.jsxs(p.Fragment,{children:[p.jsxs(Pat,{children:[p.jsx(Rat,{chainId:"id"in e?e.id:"solana"}),p.jsx(Nt,{children:e.name})]}),p.jsxs(uu,{isLoading:!1,isPulsing:!1,color:"gray",children:[p.jsx(Oat,{children:p.jsx(Z8,{})}),t]})]});let Pat=ue.div.withConfig({displayName:"Container",componentId:"sc-d24ae982-0"})(["display:flex;align-items:center;"]),Oat=ue.div.withConfig({displayName:"IconContainer",componentId:"sc-d24ae982-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),Rat=ue(gle).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-d24ae982-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const Mat=({options:t,onSelect:e,selected:n,className:r})=>p.jsxs(ENe,{as:jat,children:[p.jsxs($ne,{as:Uat,children:[p.jsx(r$,{balance:n.balance,chain:n.chain}),p.jsx(i$,{height:16})]}),p.jsx(Nne,{as:Dat,className:r,children:t.map(((i,a)=>p.jsx(Pne,{as:Bat,onClick:()=>e(a),children:p.jsx(r$,{balance:i.balance,chain:i.chain})},a)))})]});let jat=ue.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),Dat=ue.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),Bat=ue.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),i$=ue(m8).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),Uat=ue.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],ule,i$,i$);const Lat=({passkeys:t,isLoading:e,errorReason:n,success:r,expanded:i,onLinkPasskey:a,onUnlinkPasskey:s,onExpand:o,onBack:l,onClose:u})=>p.jsx(kn,r?{title:"Passkeys updated",icon:uv,iconVariant:"success",primaryCta:{label:"Done",onClick:u},onClose:u,watermark:!0}:i?{icon:T6,title:"Your passkeys",onBack:l,onClose:u,watermark:!0,children:p.jsx(LG,{passkeys:t,expanded:i,onUnlink:s,onExpand:o})}:{icon:T6,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:a,loading:e},onClose:u,watermark:!0,helpText:n||void 0,children:t.length===0?p.jsx(zat,{}):p.jsx(Fat,{children:p.jsx(LG,{passkeys:t,expanded:i,onUnlink:s,onExpand:o})})});let Fat=ue.div.withConfig({displayName:"ContentContainer",componentId:"sc-e693657c-0"})(["margin-bottom:12px;"]),LG=({passkeys:t,expanded:e,onUnlink:n,onExpand:r})=>{let[i,a]=k.useState([]),s=e?t.length:2,o=l=>l.authenticatorName?l.createdWithBrowser?`${l.authenticatorName} on ${l.createdWithBrowser}`:l.authenticatorName:l.createdWithBrowser?l.createdWithOs?`${l.createdWithBrowser} on ${l.createdWithOs}`:`${l.createdWithBrowser}`:"Unknown device";return p.jsxs("div",{children:[p.jsx(Gat,{children:"Your passkeys"}),p.jsxs(Vat,{children:[t.slice(0,s).map((l=>p.jsxs(Zat,{children:[p.jsxs("div",{children:[p.jsx(Kat,{children:o(l)}),p.jsxs(Yat,{children:["Last used: ",(l.latestVerifiedAt??l.verifiedAt).toLocaleString()]})]}),p.jsx(Xat,{disabled:i.includes(l.credentialId),onClick:()=>(async u=>{a((d=>d.concat([u]))),await n(u),a((d=>d.filter((h=>h!==u))))})(l.credentialId),children:i.includes(l.credentialId)?p.jsx(Ah,{}):p.jsx(RNe,{size:16})})]},l.credentialId))),t.length>2&&!e&&p.jsx(qat,{onClick:r,children:"View all"})]})]})},zat=()=>p.jsxs(nle,{style:{color:"var(--privy-color-foreground)"},children:[p.jsx($g,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),p.jsx($g,{children:"Takes seconds to set up and use"}),p.jsx($g,{children:"Use your passkey to verify transactions and login to your account"})]});const Wat={component:()=>{let{user:t,unlinkPasskey:e}=bn(),{linkWithPasskey:n,closePrivyModal:r}=lt(),i=t?.linkedAccounts.filter((m=>m.type==="passkey")),[a,s]=k.useState(!1),[o,l]=k.useState(""),[u,d]=k.useState(!1),[h,g]=k.useState(!1);return k.useEffect((()=>{i.length===0&&g(!1)}),[i.length]),p.jsx(Lat,{passkeys:i,isLoading:a,errorReason:o,success:u,expanded:h,onLinkPasskey:()=>{s(!0),n().then((()=>d(!0))).catch((m=>{if(m instanceof Ma){if(m.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(m.privyErrorCode===ye.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")})).finally((()=>{s(!1)}))},onUnlinkPasskey:async m=>(s(!0),await e(m).then((()=>d(!0))).catch((b=>{b instanceof Ma&&b.privyErrorCode===ye.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")})).finally((()=>{s(!1)}))),onExpand:()=>g(!0),onBack:()=>g(!1),onClose:()=>r()})}},mle=ue.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-e693657c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let Hat=ji(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const qat=ue.button.withConfig({displayName:"LinkButton",componentId:"sc-e693657c-2"})(["",""],Hat);let Vat=ue.div.withConfig({displayName:"List",componentId:"sc-e693657c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),Gat=ue.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-e693657c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),Kat=ue.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-e693657c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),Yat=ue.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-e693657c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),Zat=ue.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-e693657c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),Jat=ji([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),Xat=ue.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-e693657c-8"})(["",""],Jat);const Qat=ue.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),z2=ue.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),yle=ue.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),ble=ue.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),wle=ue.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),est=ue(wle).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),vle=ue.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),xle=ue.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),tst=ue.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),nst=ue.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),Ele=({displayName:t,errorMessage:e,configuredFundingChain:n,formattedBalance:r,fundingAmount:i,fundingCurrency:a,fundingAmountInUsd:s,options:o,selectedOption:l,isPreparing:u,isSubmitting:d,addressToFund:h,fundingWalletAddress:g,onSubmit:m,onSelect:b,onAmountChange:w,erc20ContractInfo:x})=>{let E=k.useRef(null);return p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx(pc,{}),p.jsx($d,{children:"Transfer from another network"}),p.jsxs(ph,{children:["You need more funds on the ",n.name," network. Bridge from another blockchain network."]}),p.jsxs(yle,{style:{marginTop:"2rem"},children:[p.jsxs(ble,{onClick:()=>E.current?.focus(),children:[p.jsx(wle,{ref:E,value:i,onChange:I=>{let C=I.target.value;if(/^[0-9.]*$/.test(C)&&C.split(".").length-1<=1){let N=/\.$/.test(C)?".":"",A=Number(C.replace(/\.$/,"")||"0");if(Number.isNaN(A))return void w("0");w(A.toString()+N)}}}),p.jsx(vle,{children:a})]}),s&&p.jsx(xle,{children:s})]}),p.jsxs(ct,{style:{marginTop:"1.5rem"},children:[p.jsx(vt,{children:"From"}),p.jsx(vt,{children:YL(g)})]}),p.jsx(Mat,{selected:{chain:l.chain,balance:l.isErc20Quote?l4({amount:l.erc20Balance??0n,decimals:x?.decimals??6})+` ${x?.symbol||""}`:Jl(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:o.map((({chain:I,balance:C,isErc20Quote:N,erc20Balance:A})=>({chain:I,balance:N?l4({amount:A??0n,decimals:x?.decimals??6})+` ${x?.symbol||""}`:Jl(C,I.nativeCurrency.symbol,3,!0)}))),onSelect:b}),p.jsxs(ct,{style:{marginTop:"1.5rem"},children:[p.jsx(vt,{children:"To"}),p.jsx(vt,{children:YL(h)})]}),p.jsx(Nat,{chain:n,balance:r}),p.jsx(Id,{style:{marginTop:"1rem"},children:e}),p.jsxs(Q6,{style:{marginTop:"1rem"},loading:d||u,disabled:u||d,onClick:m,children:["Confirm with ",t]}),p.jsx(xo,{}),p.jsx(Pn,{})]})},v9=({wallet:t,displayName:e,addressToFund:n,chainId:r,chainName:i,isBridging:a,isErc20Flow:s,totalPriceInNativeCurrency:o,totalPriceInUsd:l,gasPriceInNativeCurrency:u,gasPriceInUsd:d})=>{let h=Md(t.walletClientType);return p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx(Cp,{}),p.jsx(_O,{style:{marginTop:"16px"},children:p.jsx(tle,{icon:h?.image_url?.md,name:t.walletClientType})}),p.jsx(mo,{style:{marginTop:"8px",marginBottom:"12px"},title:`${a?"Bridging":"Confirming"} with ${e}`}),!a&&!s&&p.jsxs(Wm,{children:[p.jsxs(ct,{children:[p.jsx(vt,{children:"Total"}),p.jsx(Nt,{children:l||o})]}),p.jsxs(ct,{children:[p.jsx(vt,{children:"To"}),p.jsx(Nt,{children:p.jsx(gn,{address:n,showCopyIcon:!1})})]}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Network"}),p.jsx(Nt,{children:p.jsxs(rst,{children:[p.jsx(gle,{chainId:r,height:16,width:16})," ",i]})})]}),u&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Estimated fee"}),p.jsx(Nt,{children:d||u})]})]}),p.jsx(btt,{height:24}),p.jsx(Pn,{})]})};let rst=ue.div.withConfig({displayName:"NetworkColumn",componentId:"sc-ec6320ce-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const _le={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:r}=lt(),{navigate:i,setModalData:a,app:s,data:o}=ft(),{wallets:l}=Ch(),[u,d]=k.useState(!1),[h,g]=k.useState(0n),[m,b]=k.useState(!1),[w,x]=k.useState(null),[E,I]=k.useState(null),[C,N]=k.useState([]),[A,T]=k.useState(0),[O,H]=k.useState(!1),[U,L]=k.useState(!1),[G,R]=k.useState(!1),[F,_]=k.useState(!1),[S,$]=k.useState(),[D,z]=k.useState();if(!o?.funding||o.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:Y,chain:J,connectedWalletAddress:V}=o.funding,M=o.funding.address,Q=o.funding.erc20Address,[ne,K]=k.useState(o.funding.amount);k.useEffect((()=>{Q&&!Y&&x(Error("Unable to fetch token details"))}),[]);let se=!!Q&&!!Y,le=se?BigInt(parseFloat(ne)*10**Y.decimals):kJ(ne),de=V?l.find((({address:gt})=>gt===V)):l[0],he=Md(de?.walletClientType||"unknown"),Ce=he?.name||"wallet",[ke,Ie]=k.useState(null);k.useEffect((()=>{(async()=>{if(!de)return;let gt=await de.getEthereumProvider();Ie(mX({account:de.address,transport:bX(gt)}).extend(pN))})().catch(console.error)}),[de]);let[De,Ne]=k.useState(0n);k.useEffect((()=>{Ed({chain:J,transport:_d(kd(J,t,e))}).getBalance({address:M}).then(Ne).catch(console.error)}),[]);let[We,tt]=k.useState(0n);k.useEffect((()=>{se&&DO({chain:J,address:M,appId:e,rpcConfig:t,erc20Address:Q}).then((gt=>tt(gt.balance))).catch(console.error)}),[]);let{tokenPrice:Ee}=Um(J.id),[Ze,xt]=k.useState({to:M,chain:J,value:le,data:void 0});k.useEffect((()=>{(async()=>{let gt,yt;if(!ke||!de||O||G)return;H(!0);let re=Ed({chain:Ze.chain,transport:_d(kd(Ze.chain,t,e))});if(se&&!Ze.data)return await re.simulateContract({address:Q,chain:Ze.chain,abi:n$,functionName:"transfer",args:[M,le],account:de.address}).catch((Z=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",Z)}))?(H(!1),void xt({to:Q,chain:Ze.chain,data:Ps({abi:n$,functionName:"transfer",args:[M,le]}),value:"0x0"})):(H(!1),void b(!0));try{gt=await re.prepareTransactionRequest({account:de.address,to:Ze.to,chain:Ze.chain,data:Ze.data,value:BigInt(Ze.value??0)})}catch(Z){if(console.error(Z),C.length>1)I(Z.shortMessage??"Something went wrong");else if(U&&C.length===0)return void x(new me(`Wallet ${fa(de.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE))}if(!gt)return H(!1),void b(!0);H(!1),R(!0),d(!0),g(gt.gas);try{await ke.switchChain({id:Ze.chain.id})}catch{await ke.addChain({chain:Ze.chain}),await ke.switchChain({id:Ze.chain.id})}try{yt=await ke.sendTransaction(gt)}catch(Z){if(console.error(Z),Z.name==="TransactionExecutionError")if(C.length<1){let X=Z.shortMessage;(Z.shortMessage.includes("rejected the request")||Z.details.includes("rejected the request"))&&(X="User rejected the request."),x(new me(X,void 0,ye.TRANSACTION_FAILURE))}else I(Z.shortMessage??"Something went wrong")}if(yt)return await ke.waitForTransactionReceipt({hash:yt}),R(!1),U?($(yt),void z("pending")):(_(!0),void r({eventName:fc,payload:{provider:"external",status:"success",txHash:yt,address:de.address,chainId:Ze.chain.id,chainType:"ethereum",value:Ze.value?pa(BigInt(Ze.value),Y?.decimals??18):void 0,token:Y?.symbol??Q??"ETH",destinationAddress:M,destinationChainId:J.id,destinationChainType:"ethereum",destinationValue:le?pa(le,Y?.decimals??18):void 0,destinationToken:Y?.symbol??Q??J.nativeCurrency.name}}));R(!1)})().catch(console.error)}),[ke,Ze]),k.useEffect((()=>{(async()=>{if(!m||!ke||!de)return;let gt=bN(s.chains).filter((ve=>ve.id!==J.id&&!!ve.testnet==!!J.testnet));se&&gt.unshift(J);let yt=await ple({chains:gt,address:de.address,appId:e,rpcConfig:t,includeUsdc:o.funding?.isUSDC}),re=se?yt.filter((ve=>ve.balance>0n)):yt.filter((ve=>ve.balance>le)),Z=se&&yt.every((ve=>ve.balance===0n));if(re.length<1)return void x(new me(Z?`Wallet ${fa(de.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${fa(de.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE));re.sort(((ve,nt)=>Number(se?(nt.erc20Balance??0n)-(ve.erc20Balance??0n):nt.balance-ve.balance)));let X=re.flatMap((ve=>{let nt=[{...ve,isErc20Quote:!1,isTestnet:!!J.testnet,input:Tg({amount:le.toString(),user:de.address,recipient:M,destinationChainId:J.id,destinationCurrency:Q,originChainId:ve.chain.id})}];return se&&Q&&(ve.erc20Balance??0n)>=le&&nt.push({...ve,isErc20Quote:!0,isTestnet:!!J.testnet,input:Tg({amount:le.toString(),user:de.address,recipient:M,destinationChainId:J.id,destinationCurrency:Q,originChainId:ve.chain.id,originCurrency:ve.erc20Address})}),nt})),ae=(await Promise.allSettled(X.map((async ve=>({...ve,quote:await $w(ve)}))))).filter((ve=>ve.status==="fulfilled")).map((ve=>ve.value));if(ae.length<1)return void x(new me(`Wallet ${fa(de.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE));let ge=ae.map((ve=>({bridgeTx:a4(ve.quote),balance:ve.balance,chain:ve.chain,erc20Balance:ve.erc20Balance,isErc20Quote:ve.isErc20Quote}))).filter((ve=>!!ve.bridgeTx));if(ge.length>1)return void N(ge);let xe=ge[0];xe?(L(!0),xt({data:xe.bridgeTx.data,to:xe.bridgeTx.to,value:xe.bridgeTx.value,chain:xe.chain})):x(new me(`Wallet ${fa(de.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE))})().catch(console.error)}),[m]),jO({transactionHash:S,wallet:de,isTestnet:!!J.testnet,bridgingStatus:D,setBridgingStatus:z,onSuccess({transactionHash:gt,wallet:yt}){L(!1),_(!0),r({eventName:fc,payload:{provider:"external",status:"success",txHash:gt,address:yt.address,chainId:Ze.chain.id,chainType:"ethereum",value:Ze.value?pa(BigInt(Ze.value),Y?.decimals??18):void 0,token:Y?.symbol??Q??"ETH",destinationAddress:M,destinationChainId:J.id,destinationChainType:"ethereum",destinationValue:le?pa(le,Y?.decimals??18):void 0,destinationToken:Y?.symbol??Q??J.nativeCurrency.name}})},onFailure({error:gt}){L(!1),x(gt)}}),k.useEffect((()=>{w&&(a({funding:o?.funding,solanaFundingData:o?.solanaFundingData,sendTransaction:o?.sendTransaction,errorModalData:{error:w,previousScreen:Hm}}),i(Or,!1))}),[w]);let Ue=!se&&Ee?Use(ne??"0",Ee):void 0,Ge=se?h:xO([h,le]),rt=Ge&&Ee?R0(Ge,Ee):void 0,pt=Ge?Jl(Ge,o?.funding?.erc20Address?o?.funding?.erc20ContractInfo?.symbol||"ETH":o?.funding?.chain.nativeCurrency.symbol||"ETH"):void 0,qe=h&&Ee?R0(h,Ee):void 0,ht=h?Jl(h,J?.nativeCurrency?.symbol||"ETH"):void 0;if(k.useEffect((()=>{if(!F)return;let gt=setTimeout(n,J8);return()=>clearTimeout(gt)}),[F]),F)return p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx(pc,{}),p.jsxs(Av,{children:[p.jsx(jm,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(mo,{title:"Success!",description:`Youve successfully added ${ne} ${se?Y.symbol:J.nativeCurrency.symbol} to your ${s.name} wallet. It may take a minute before the funds are available to use.`})]}),p.jsx(xo,{}),p.jsx(Pn,{})]});let Ot=se?`${l4({amount:We,decimals:Y.decimals})}  ${Y.symbol}`:Jl(De,J.nativeCurrency.symbol,3,!0),Ct=C[A];return C.length>1&&Ct?p.jsx(Ele,{displayName:Ce,configuredFundingChain:J,erc20ContractInfo:Y,formattedBalance:Ot,fundingAmount:ne,fundingCurrency:se?Y.symbol:J.nativeCurrency.symbol,fundingAmountInUsd:Ue,options:C,selectedOption:Ct,isPreparing:O,isSubmitting:G,addressToFund:M,fundingWalletAddress:de?.address||"",errorMessage:E,onSubmit:()=>{o.funding?.amount!==ne?(async function(){if(de&&Ct)try{let gt=await $w({isTestnet:!!J.testnet,input:Tg({amount:le.toString(),user:de.address,recipient:M,destinationChainId:J.id,destinationCurrency:Q,originChainId:Ct.chain.id})}),yt=a4(gt);if(!yt)throw Error("Invalid transaction request");L(!0),xt({data:yt.data,to:yt.to,value:yt.value,chain:Ct.chain})}catch(gt){console.error(gt),x(new me("Unable to fetch quotes for bridging",gt,ye.INSUFFICIENT_BALANCE))}})().catch(console.error):xt({to:Ct.bridgeTx.to,data:Ct.bridgeTx.data,value:Ct.bridgeTx.value,chain:Ct.chain})},onSelect:gt=>{gt!==A&&(I(null),T(gt))},onAmountChange:K}):u&&h&&de&&o?.funding?p.jsx(v9,{wallet:de,displayName:Ce,addressToFund:M,isBridging:U,isErc20Flow:se,totalPriceInUsd:rt,totalPriceInNativeCurrency:pt,gasPriceInUsd:qe,gasPriceInNativeCurrency:ht,chainId:J.id,chainName:J.name}):p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx(Cp,{}),p.jsx("div",{style:{marginTop:"1rem"}}),p.jsx(Pn,{})]})}},Ale={component:function(){let{closePrivyModal:t,createAnalyticsEvent:e}=lt(),{navigate:n,setModalData:r,app:i,data:a}=ft(),{wallets:s}=Nv(),o=k.useRef(!1),l=Fm(),[u,d]=k.useState(!1),[h,g]=k.useState(!1),[m,b]=k.useState(null),[w,x]=k.useState(),[E,I]=k.useState();if(!a?.funding||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:C,connectedWalletAddress:N,chain:A,cluster:T,isUSDC:O}=a.funding,H=a.funding.address,U=a.funding.erc20Address,L=a.funding.isUSDC?"USDC":A.nativeCurrency.symbol,G=T??{name:"mainnet-beta"},R=N?s.find((({address:S})=>S===N)):s[0],F=Md(R?.walletClientType||"unknown"),_=F?.name||"wallet";return k.useEffect((()=>{(async function(){if(!R||!A||o.current)return;let S=l($v);if(!S)return void b(new me("Unable to solana plugin"));o.current=!0,A?.testnet&&console.warn("Solana testnets are not supported for bridging");let $=O?1e6*parseFloat(C):kJ(C),D=await $w({isTestnet:!!A.testnet,input:Tg({amount:$.toString(),user:R.address,recipient:H,destinationChainId:A.id,originChainId:jT,originCurrency:O?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":DT,destinationCurrency:O?U:void 0})}).catch(console.error);if(!D)return void b(new me(`Unable to fetch quotes for bridging. Wallet ${eS(R.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE));let z=await S.createBridgeTransactionFromRelayQuote({quote:D,from:R.address,cluster:G});if(z)try{d(!0);let{connection:Y,transaction:J}=z,V=await Y.simulateTransaction(J);if(V.value.err)return V.value.logs?.find((ne=>/insufficient (lamports|funds)/gi.test(ne)))?void b(new me(`Wallet ${eS(R?.address)} does not have enough funds. ${D.details.currencyIn.amountFormatted} ${L} are needed to complete the transaction.`,void 0,ye.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",V.value.err),void b(new me("Something went wrong",void 0,ye.TRANSACTION_FAILURE)));let M=await R.sendTransaction(J,Y),Q=await Y.confirmTransaction(M);if(Q.value.err)return console.error("Transaction failed:",Q.value.err),void b(new me("Something went wrong",void 0,ye.TRANSACTION_FAILURE));x(M),I("pending")}catch(Y){if(console.error(Y),/user rejected the request/gi.test(Y.message||""))return void b(new me("Transaction was rejected by the user",void 0,ye.TRANSACTION_FAILURE));b(new me("Something went wrong",void 0,ye.TRANSACTION_FAILURE))}else b(new me(`Unable to select bridge option from quotes. Wallet ${eS(R.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE))})().catch(console.error)}),[]),jO({transactionHash:w,wallet:R,isTestnet:!1,bridgingStatus:E,setBridgingStatus:I,onSuccess({transactionHash:S,wallet:$}){d(!1),g(!0),e({eventName:fc,payload:{provider:"external",status:"success",txHash:S,address:$.address,chainType:"solana",clusterName:G.name,token:"SOL",destinationAddress:H,destinationChainId:A.id,destinationChainType:"ethereum",destinationValue:C,destinationToken:O?"USDC":"ETH"}})},onFailure({error:S}){d(!1),b(S)}}),k.useEffect((()=>{if(!h)return;let S=setTimeout(t,J8);return()=>clearTimeout(S)}),[h]),k.useEffect((()=>{m&&(r({funding:a?.funding,solanaFundingData:a?.solanaFundingData,sendTransaction:a?.sendTransaction,errorModalData:{error:m,previousScreen:Hm}}),n(Or,!1))}),[m]),h?p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx(pc,{}),p.jsxs(Av,{children:[p.jsx(jm,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(mo,{title:"Success!",description:`Youve successfully added ${C} ${L} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),p.jsx(xo,{}),p.jsx(Pn,{})]}):u&&R?p.jsx(v9,{wallet:R,displayName:_,addressToFund:H,isBridging:u,isErc20Flow:!1,chainId:A.id,chainName:A.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx(Cp,{}),p.jsx("div",{style:{marginTop:"1rem"}}),p.jsx(Pn,{})]})}},FG={component:()=>{let{data:t,setModalData:e}=ft(),n=t?.funding,r=n.chainType==="solana",i=k.useRef(null),{tokenPrice:a}=Um(r?"solana":n.chain.id),s=r?void 0:n,o=!(!s?.erc20Address||s?.erc20ContractInfo),l=r?n.isUSDC?"USDC":"SOL":n.erc20Address?n.erc20ContractInfo?.symbol:n.chain.nativeCurrency.symbol||"ETH",u=parseFloat(n.amount),d=!isNaN(u)&&u>0,h=a?Use(n.amount,a):void 0;return p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx($d,{children:"Confirm or edit amount"}),p.jsxs(i9,{style:{marginTop:"32px"},children:[p.jsx(yle,{children:o?p.jsx(Cp,{size:"50px"}):p.jsxs(p.Fragment,{children:[p.jsxs(ble,{onClick:()=>i.current?.focus(),children:[p.jsx(est,{ref:i,value:n.amount,onChange:g=>{let m=g.target.value;/^[0-9.]*$/.test(m)&&m.split(".").length-1<=1&&e({...t,funding:{...n,amount:m},solanaFundingData:t?.solanaFundingData?{...t.solanaFundingData,amount:m}:void 0})}}),p.jsx(vle,{children:l})]}),!s?.erc20Address&&p.jsx(xle,{children:h&&d?`${h} USD`:""})]})}),p.jsx(Q6,{style:{marginTop:"1rem"},disabled:!d,onClick:n.onContinueWithExternalWallet,children:"Continue"})]}),p.jsx(Pn,{})]})}},Hm={component:()=>{let t,{connectors:e}=lt(),{app:n,setModalData:r,data:i,navigate:a}=ft(),{wallets:s}=Ch(),{wallets:o}=Nv(),[l,u]=k.useState("default"),d=i?.funding?.chainType==="solana",h=!!i?.funding?.crossChainBridgingEnabled;t=i?.funding?.chainType==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":h&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":h&&!i.funding?.isUSDC?"ethereum-and-solana":"solana-only";let g=s.filter((A=>A.walletClientType!=="privy")),m=g.map((A=>A.walletClientType)),b=o.filter((A=>A.walletClientType!=="privy")),w=b.map((A=>A.walletClientType)),x=[],E={...i.funding};E.usingDefaultFundingMethod&&(E.usingDefaultFundingMethod=!1);let I=({address:A,walletChainType:T,walletClientType:O})=>{r({...i,funding:{...E,connectedWalletAddress:A,onContinueWithExternalWallet:()=>a(N({destChainType:d?"solana":"ethereum",sourceChainType:T}))},solanaFundingData:i?.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:A,walletClientType:O}}:void 0}),a(FG)};t!=="solana-only"&&x.push(...g.map(((A,T)=>p.jsx(zG,{onClick:()=>I({address:A.address,walletChainType:"ethereum",walletClientType:A.walletClientType}),icon:A.meta.icon,name:A.meta.name,chainType:A.type},T)))),t!=="ethereum-only"&&x.push(...b.map(((A,T)=>p.jsx(zG,{onClick:()=>I({address:A.address,walletChainType:"solana",walletClientType:A.walletClientType}),icon:A.meta.icon,name:A.meta.name,chainType:A.type},T)))),x.push(...rle({walletList:n.appearance.walletList.filter((A=>!g.some((T=>T.walletClientType===A))&&!b.some((T=>T.walletClientType===A)))),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...n.appearance.walletList,...m,...w],walletConnectEnabled:n.externalWallets.walletConnect.enabled}));let C=p.jsx(Yoe,{text:"More wallets",onClick:()=>u("overflow")}),N=({sourceChainType:A,destChainType:T})=>A==="ethereum"&&T==="solana"?Ule:A==="ethereum"&&T==="ethereum"?_le:A==="solana"&&T==="ethereum"?Ale:E.externalSolanaFundingScreen;return k.useEffect((()=>{r({...i,externalConnectWallet:{onCompleteNavigateTo:({address:A,walletClientType:T,walletChainType:O})=>(r({...i,funding:{...E,onContinueWithExternalWallet:()=>{a(N({destChainType:d?"solana":"ethereum",sourceChainType:O??"ethereum"}))}},solanaFundingData:i?.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:A||"",walletClientType:T||""}}:void 0}),FG)}})}),[]),p.jsxs(p.Fragment,l==="overflow"?{children:[p.jsx(dn,{backFn:()=>u("default")},"header"),p.jsxs(BT,{children:[p.jsx(ph,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),x]}),p.jsx(Pn,{})]}:{children:[p.jsx(Ts,{}),p.jsx(mo,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),p.jsxs(BT,{children:[x.length>4?x.slice(0,3):x,x.length>4&&C]}),p.jsx(Pn,{})]})}};let zG=({onClick:t,icon:e,name:n,chainType:r})=>p.jsxs(jr,{onClick:t,children:[p.jsx(z2,{style:{width:20},children:p.jsx("img",{src:e})}),n,p.jsx(uu,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),r==="solana"&&p.jsx(uu,{color:"gray",children:"Solana"})]});const UO={component:()=>{let{closePrivyModal:t,createAnalyticsEvent:e}=lt(),{navigate:n,setModalData:r,app:i,data:a}=ft(),{wallets:s}=Nv(),o=Fm(),[l,u]=k.useState(0n),[d,h]=k.useState(null),[g,m]=k.useState(!1),[b,w]=k.useState(!1),x=k.useRef(!1);if(!a?.funding||a.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:E,amount:I,cluster:C,connectedWalletAddress:N}=a.funding,A=(function({name:S,rpcUrl:$}){if($)return $;switch(S){case"mainnet-beta":return"https://api.mainnet-beta.solana.com";case"testnet":return"https://api.testnet.solana.com";case"devnet":return"https://api.devnet.solana.com"}})(C),{tokenPrice:T}=Um("solana"),{fundingAmountInBaseUnit:O,totalPriceInUsd:H,totalPriceInNativeCurrency:U,feePriceInNativeCurrency:L,feePriceInUsd:G}=Fse({amount:I,fee:l,tokenPrice:T,isUsdc:a.funding.isUSDC}),R=N?s.find((({address:S})=>S===N)):s[0],F=Md(R?.walletClientType||"unknown"),_=F?.name||"wallet";return k.useEffect((()=>{(async()=>{if(R?.type==="solana"&&R.sendTransaction&&!g&&!x.current){x.current=!0;try{let S=o($v);if(!S)throw new me("Unable to load solana plugin");let{connection:$,transaction:D}=a.funding?.isUSDC?await S.createSplTransferTransaction({from:R.address,to:E,amount:O,mintAddress:g5[C.name],cluster:C}):await S.createTransferTransaction({from:R.address,to:E,amount:O,cluster:C}),z=await D.getEstimatedFee($);z!=null&&u(BigInt(z)),m(!0);let Y=await $.simulateTransaction(D);if(Y.value.err){let Q=Y.value.logs?.find((K=>/insufficient funds/gi.test(K))),ne=Y.value.logs?.find((K=>/insufficient lamports/gi.test(K)));return Q?void h(new me(`Wallet ${fa(R.address,void 0,void 0,"solana")} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE)):ne?void h(new me(`Wallet ${fa(R.address,void 0,void 0,"solana")} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`,void 0,ye.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",Y.value.err),void h(new me("Something went wrong",void 0,ye.TRANSACTION_FAILURE)))}let J=await R.sendTransaction(D,$),{value:V,token:M}=a.funding?.isUSDC?{value:pa(O,6),token:"USDC"}:{value:pa(O,9),token:"SOL"};e({eventName:fc,payload:{provider:"external",status:"success",txHash:J,rpcEndpoint:A,address:R.address,value:V,chainType:"solana",clusterName:C.name,token:M,destinationAddress:E,destinationValue:V,destinationChainType:"solana",destinationClusterName:C.name,destinationToken:M}}),m(!1),w(!0)}catch(S){if(console.error(S),m(!1),/user rejected the request/gi.test(S.message||""))return void h(new me("Transaction was rejected by the user",void 0,ye.TRANSACTION_FAILURE));h(new me("Something went wrong",void 0,ye.TRANSACTION_FAILURE))}}})().catch(console.error).finally((()=>x.current=!1))}),[]),k.useEffect((()=>{d&&(r({funding:a?.funding,solanaFundingData:a?.solanaFundingData,sendTransaction:a?.sendTransaction,errorModalData:{error:d,previousScreen:Hm}}),n(Or,!1))}),[d]),k.useEffect((()=>{if(!b)return;let S=setTimeout(t,J8);return()=>clearTimeout(S)}),[b]),b?p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx(pc,{}),p.jsxs(Av,{children:[p.jsx(jm,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(mo,{title:"Success!",description:`Youve successfully added ${I} ${a.funding?.isUSDC?"USDC":"SOL"} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),p.jsx(xo,{}),p.jsx(Pn,{})]}):R&&g?p.jsx(v9,{wallet:R,displayName:_,addressToFund:E,isBridging:!1,isErc20Flow:!!a.funding?.isUSDC,totalPriceInUsd:H,totalPriceInNativeCurrency:U,gasPriceInUsd:G,gasPriceInNativeCurrency:L,chainId:"solana",chainName:C.name}):p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx(Cp,{}),p.jsx("div",{style:{marginTop:"1rem"}}),p.jsx(Pn,{})]})}},Cle=({children:t,theme:e})=>p.jsxs(ist,{$theme:e,children:[p.jsx(nO,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),p.jsx(ast,{$theme:e,children:t})]});let ist=ue.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),ast=ue.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const sst=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:p.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),ost=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[p.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),p.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),p.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),p.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),p.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),p.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),p.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),WG=t=>{let[e,n]=k.useState();return k.useEffect((()=>{t().then((r=>{n(r)})).catch((()=>{}))}),[]),e},Sle=async({address:t,chain:e,rpcConfig:n,privyAppId:r})=>{try{let i=Ed({chain:e,transport:_d(kd(e,n,r))}),[a,s]=await Promise.all([i.readContract({abi:HG,address:t,functionName:"symbol"}),i.readContract({abi:HG,address:t,functionName:"decimals"})]);return{decimals:s,symbol:a}}catch(i){return console.log(i),null}};let HG=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];const lst={component:()=>{let{data:t,setModalData:e,navigate:n,navigateBack:r}=ft(),{closePrivyModal:i,createAnalyticsEvent:a,client:s}=lt(),[o,l]=k.useState("pending-in-flow"),u=k.useRef(0),d={...t?.funding,showAlternateFundingMethod:!0};d.usingDefaultFundingMethod&&(d.usingDefaultFundingMethod=!1);let{partnerUserId:h,popup:g}=t?.coinbaseOnrampStatus??{};return k.useEffect((()=>{if(o==="pending-in-flow"||o==="pending-after-flow"){let m=setInterval((async()=>{if(h)try{let{status:b}=await s.getCoinbaseOnRampStatus({partnerUserId:h});if(b==="success")return void l("success");if(b==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(u.current>=3)return e({funding:d,solanaFundingData:t?.solanaFundingData}),void n(ks);g?.closed&&(u.current=u.current+1,l("pending-after-flow"))}catch(b){console.error(b),l("error"),a({eventName:fc,payload:{status:"failure",provider:"coinbase-onramp",error:b.message}}),e({funding:{...d,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t?.solanaFundingData}),n(ks)}}),1500);return()=>clearInterval(m)}}),[h,g,o]),p.jsxs(p.Fragment,{children:[p.jsx(dn,{title:"Fund account",backFn:()=>{e({funding:d,solanaFundingData:t?.solanaFundingData}),r()}},"header"),p.jsx(cst,{status:o,onClickCta:i}),p.jsx(Pn,{})]})}};let cst=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=k.useMemo((()=>(a=>{switch(a){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t)),[t]);return p.jsxs(p.Fragment,{children:[p.jsxs(fst,{children:[p.jsx(ust,{isSucccess:t==="success"}),p.jsxs(AO,{children:[p.jsx("h3",{children:n}),p.jsx(dst,{children:r})]})]}),i&&p.jsx(Jn,{onClick:e,children:i})]})},ust=({isSucccess:t})=>{if(!t){let r="var(--privy-color-foreground-4)";return p.jsxs("div",{style:{position:"relative"},children:[p.jsx(hl,{color:r,style:{position:"absolute"}}),p.jsx(bO,{color:r}),p.jsx(EQe,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(r=>r?kw:()=>p.jsx(iO,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),n=(r=>r?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return p.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&p.jsx(e,{width:"4rem",height:"4rem",color:n})})},dst=ue.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),fst=ue.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),hst={[bl.id]:"ethereum",[yl.id]:"base",[hu.id]:"optimism",[Rs.id]:"polygon",[ml.id]:"arbitrum"};const qG=(t,e,n,r,i,a)=>new Promise((async(s,o)=>{let l=s9();if(!l)return void o(Error("Unable to initialize flow"));let u=e.chainType==="ethereum"?(function(b){let w=hst[b];if(!w)throw new me(`Unsupported chainId: ${b} for Coinbase Onramp`);return w})(e.chain.id):"solana",d=e.isUSDC?"USDC":e.chainType==="ethereum"?V9e(e.chain.id):"SOL",h=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[u]}],assets:[d]}),{url:g}=H9e({appId:t.getAppId(),input:h,amount:e.amount,blockchain:u,asset:d,experience:a});l.location=g.toString();let m={...i?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(m.usingDefaultFundingMethod=!1),n({funding:m,solanaFundingData:i?.solanaFundingData,coinbaseOnrampStatus:{popup:l}}),r(lst),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),setTimeout((()=>{n({funding:m,solanaFundingData:i?.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:h.partner_user_id,popup:l}})}),5e3),s()})),pst=({size:t=61,...e})=>p.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:p.jsxs("g",{id:"moonpay_symbol_wht 2",children:[p.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),p.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),kle={component:()=>{let{app:t,data:e,setModalData:n,navigateBack:r}=ft(),{closePrivyModal:i}=lt(),{externalTransactionId:a}=e?.moonpayStatus,s=(function(o,l=!1){let[u,d]=k.useState(null),{createAnalyticsEvent:h}=lt(),{data:g,navigate:m,setModalData:b}=ft(),w=g?.funding,x=k.useRef(0);return k.useEffect((()=>{let E=setInterval((async()=>{if(o)try{let[I]=await(async function(N,A){return PQ(`${A?dQe:uQe}/transactions/ext/${N}`,{query:{apiKey:A?hQe:fQe}})})(o,l),C=I.status==="waitingAuthorization"&&I.paymentMethod==="credit_debit_card"?"pending":I.status;if(["failed","completed","awaitingAuthorization"].includes(C)&&(h({eventName:fc,payload:{status:C,provider:VG,paymentMethod:I.paymentMethod,cardPaymentType:I.cardPaymentType,currency:I.currency?.code,baseCurrencyAmount:I.baseCurrencyAmount,quoteCurrencyAmount:I.quoteCurrencyAmount,feeAmount:I.feeAmount,extraFeeAmount:I.extraFeeAmount,networkFeeAmount:I.networkFeeAmount,isSandbox:l}}),clearInterval(E)),C==="failed"||C==="serviceFailure")return b({funding:{...w,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:g?.solanaFundingData}),void m(ks);d(C)}catch(I){I.response?.status!==404&&(x.current+=1),x.current>=3&&(h({eventName:fc,payload:{status:"serviceFailure",provider:VG}}),clearInterval(E),b({funding:{...w,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:g?.solanaFundingData}),m(ks))}}),3e3);return()=>clearInterval(E)}),[o,x]),u})(a||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return p.jsxs(p.Fragment,{children:[p.jsx(dn,{title:"Fund account",backFn:()=>{let o={...e?.funding,showAlternateFundingMethod:!0};o.usingDefaultFundingMethod&&(o.usingDefaultFundingMethod=!1),n({funding:o,solanaFundingData:e?.solanaFundingData}),r()}}),p.jsx(gst,{status:s,onClickCta:i}),p.jsx(Pn,{})]})}};let gst=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=k.useMemo((()=>(a=>{switch(a){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t)),[t]);return p.jsxs(p.Fragment,{children:[p.jsxs(bst,{children:[p.jsx(mst,{status:t}),p.jsxs(AO,{children:[p.jsx("h3",{children:n}),p.jsx(yst,{children:r})]})]}),i&&p.jsx(Jn,{onClick:e,children:i})]})},mst=({status:t})=>{if(!t||t==="pending"){let r="var(--privy-color-foreground-4)";return p.jsxs("div",{style:{position:"relative"},children:[p.jsx(hl,{color:r,style:{position:"absolute"}}),p.jsx(bO,{color:r}),p.jsx(pst,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(r=>{switch(r){case"completed":return kw;case"waitingAuthorization":return()=>p.jsx(iO,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),n=(r=>r?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[r]:"var(--privy-color-foreground-4)")(t);return p.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&p.jsx(e,{width:"4rem",height:"4rem",color:n})})},yst=ue.p.withConfig({displayName:"StatusBody",componentId:"sc-75e2a891-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),bst=ue.div.withConfig({displayName:"ConnectContainer",componentId:"sc-75e2a891-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const wst=async(t,e,n,r,i,a,s,o)=>{let l=s9();if(!l)throw Error("Unable to initialize flow");let u=e.chainType==="ethereum"?e.moonpayConfigOverride?.currencyCode??w9e(e.chain.id,r):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:d,externalTransactionId:h}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:n.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:n.appearance.palette.accent,theme:n.appearance.palette.colorScheme},...e.moonpayConfigOverride,paymentMethod:o,currencyCode:u,quoteCurrencyAmount:e.moonpayConfigOverride?.quoteCurrencyAmount??Est(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),l.location=d;let g={...s?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(g.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:g,solanaFundingData:s?.solanaFundingData}),a(kle),setTimeout((()=>{i({moonpayStatus:{externalTransactionId:h},funding:g,solanaFundingData:s?.solanaFundingData})}),8e3)};let Ile=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const vst=()=>Ile("https://apple.com/apple-pay"),xst=()=>Ile("https://google.com/pay"),ks={component:()=>{let{wallets:t}=Ch(),{wallets:e}=Nv(),{navigate:n,data:r,setModalData:i}=ft(),{client:a}=lt(),s=Rn(),o=r?.funding,l=WG(vst),u=WG(xst),d=o.chainType==="solana",h=d?void 0:o,g=k.useMemo((()=>((C,N,A,T,O,H)=>{let U,L,G=A.chainType==="solana",R=G?void 0:A,F=A.isUSDC?"USDC":R?.erc20Address?void 0:"native-currency",_=!!G||F&&b9e(Number(A.chain.id),F),S=!!G||F&&q9e(Number(A.chain.id),F),$=[];for(let D of(A.preferredCardProvider&&A.supportedOptions.sort((z=>z.provider===A.preferredCardProvider?-1:1)),A.supportedOptions))D.method==="card"&&D.provider==="coinbase"&&S&&$.push((()=>qG(N,A,T,O,H,"buy"))),D.method==="card"&&D.provider==="moonpay"&&_&&F&&$.push((()=>wst(N,A,C,F,T,O,H,"credit_debit_card")));for(let D of A.supportedOptions)D.method==="exchange"&&D.provider==="coinbase"&&S&&(U=()=>qG(N,A,T,O,H,"buy"));for(let D of H?.funding?.supportedOptions??[])D.method==="wallets"&&(L=()=>O(Hm));return{onFundWithCard:$,onFundWithExchange:U,onFundWithWallet:L}})(s,a,o,i,n,r)),[s,a,o,r,i,n]),m=d?e.find((({address:C})=>C===o.address)):t.find((({address:C})=>Qr(C)===Qr(o.address))),b=Md(m?.walletClientType||"unknown"),w=b?.name||"wallet",x=m&&m.walletClientType!=="privy"?w:s.name,E=k.useMemo((()=>o.uiConfig?.landing?.title?o.uiConfig?.landing?.title:`Add funds to your ${x?.toLowerCase().endsWith("wallet")?x:x+" wallet"}`),[o.uiConfig?.landing?.title,x]);k.useEffect((()=>{if(o?.defaultFundingMethod&&o.usingDefaultFundingMethod)switch(i({funding:{...o,usingDefaultFundingMethod:!1},solanaFundingData:r?.solanaFundingData}),o?.defaultFundingMethod){case"card":g.onFundWithCard[0]&&g.onFundWithCard[0]();break;case"exchange":g.onFundWithExchange&&g.onFundWithExchange();break;case"wallet":g.onFundWithWallet&&g.onFundWithWallet();break;case"manual":n(c4)}}),[]),k.useEffect((()=>{h?.erc20Address&&!h.erc20ContractInfo&&Sle({address:h.erc20Address,chain:h.chain,rpcConfig:s.rpcConfig,privyAppId:s.id}).then((C=>{i({...r,funding:{...h,erc20ContractInfo:C?{symbol:C.symbol,decimals:C.decimals}:void 0}})})).catch(console.error)}),[h?.erc20Address,h?.chain]);let I=!(!h?.erc20Address||h?.erc20ContractInfo);return p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx("h3",{children:E}),p.jsxs(Qat,{children:[o.errorMessage&&p.jsx(Cle,{theme:s.appearance.palette.colorScheme,children:o.errorMessage}),g.onFundWithCard?.[0]&&p.jsxs(jr,{disabled:I,onClick:g.onFundWithCard[0],children:[p.jsx(z2,{children:p.jsx(cXe,{style:{width:24}})}),"Pay with card",l?p.jsx(sst,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):u?p.jsx(ost,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),g.onFundWithExchange&&p.jsxs(jr,{disabled:I,onClick:g.onFundWithExchange,children:[p.jsx(z2,{children:p.jsx(iO,{style:{width:24}})}),"Transfer from an exchange"]}),g.onFundWithWallet&&p.jsxs(jr,{disabled:I,onClick:g.onFundWithWallet,children:[p.jsx(z2,{children:p.jsx(Moe,{style:{width:24}})}),"Transfer from wallet"]}),p.jsxs(jr,{disabled:I,onClick:()=>n(c4),children:[p.jsx(z2,{children:p.jsx(IXe,{style:{width:24}})}),"Receive funds"]}),o?.showAlternateFundingMethod&&g.onFundWithCard?.[1]&&p.jsx(cle,{theme:s.appearance.palette.colorScheme,children:p.jsxs(tst,{children:["Having trouble or facing location restrictions?"," ",p.jsx(nst,{onClick:g.onFundWithCard[1],children:"Try a different provider."})]})})]}),p.jsx(Pn,{})]})}},VG="moonpay";function Est(t){return parseFloat(t)}function _st(t){return!!t&&t.config!==void 0&&t.provider!==void 0}function wS(t){return!!t&&(t.chain!==void 0||t.amount!==void 0)}const GG={[bl.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[mN.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[hu.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[K4.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Rs.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Jw.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[yl.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[V4.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[vm.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[gN.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ml.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[q4.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},KG=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:a=!1})=>{let s,o;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let l=BO(e.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");s=i||(wS(n)&&n.chain?n.chain.id:ooe(e.fundingConfig.defaultRecommendedCurrency.chain));let u=e.chains.find((b=>b.id===s));if(!u)throw new me(`Funding chain ${s} is not in PrivyProvider chains list`);let d=wS(n)&&n.amount?n.amount:e.fundingConfig.defaultRecommendedAmount,h=!1;function g(){if(!s)return;let b=GG[s];l.find((w=>w.method==="wallets"))&&!b&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),o=b,h=!0}wS(n)&&"asset"in n?n.asset==="USDC"?g():typeof n.asset!="string"&&"erc20"in n.asset&&(h=((b,w)=>b===GG[w.id])(o=n.asset.erc20,u)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&g();let m=n?.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:d,chain:u,erc20Address:o,erc20ContractInfo:h?{symbol:"USDC",decimals:6}:void 0,isUSDC:h,methodScreen:r,supportedOptions:l,comingFromSendTransactionScreen:a,defaultFundingMethod:m,usingDefaultFundingMethod:!!m,preferredCardProvider:n?.card?.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,cluster:{name:"mainnet-beta",rpcUrl:e.solanaClusters["mainnet-beta"].rpcUrl},..._st(n)?{moonpayConfigOverride:n.config}:{},uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:UO}};function Ast({address:t,fundWalletConfig:e,appConfig:n,comingFromSendTransactionScreen:r,externalSolanaFundingScreen:i,methodScreen:a}){if(!n.fundingConfig)throw Error("Wallet funding is not enabled");let s=BO(n.fundingConfig.options);if(s.length<1)throw Error("Wallet funding is not enabled");if(e?.asset==="USDC"&&e?.cluster?.name==="testnet")throw Error("USDC funding is not supported on the Solana testnet");let o=e?.amount??n.fundingConfig.defaultRecommendedAmount,l=e?.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:s,amount:o,isUSDC:e?.asset==="USDC",methodScreen:a,comingFromSendTransactionScreen:r,cluster:{name:e?.cluster?.name??"mainnet-beta",rpcUrl:n.solanaClusters[e?.cluster?.name??"mainnet-beta"].rpcUrl},crossChainBridgingEnabled:n.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:l,preferredCardProvider:e?.card?.preferredProvider,usingDefaultFundingMethod:!!l,uiConfig:e?.uiConfig,externalSolanaFundingScreen:i}}const Tle=({children:t,theme:e})=>p.jsxs(Cst,{$theme:e,children:[p.jsx(hp,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),p.jsx(Sst,{$theme:e,children:t})]});let Cst=ue.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Sst=ue.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const kst=({address:t,accessToken:e,appConfigTheme:n,onClose:r,isLoading:i=!1,exportButtonProps:a})=>p.jsx(kn,{title:"Export wallet",subtitle:p.jsxs(p.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",p.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:r,watermark:!0,children:p.jsxs(Ist,{children:[p.jsx(Tle,{theme:n,children:"Never share your private key or seed phrase with anyone."}),p.jsx(w9,{title:"Your wallet",address:t,showCopyButton:!0}),p.jsx("div",{style:{width:"100%"},children:i?p.jsx(Tst,{}):e&&a&&p.jsx(Pst,{accessToken:e,dimensions:{height:"44px"},...a})})]})});let Ist=ue.div.withConfig({displayName:"ContentContainer",componentId:"sc-e0132ced-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),Tst=()=>p.jsx($st,{children:p.jsx(Nst,{children:"Loading..."})}),$st=ue.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-e0132ced-1"})(["display:flex;gap:12px;height:44px;"]),Nst=ue.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-e0132ced-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function Pst(t){let[e,n]=k.useState(t.dimensions.width),[r,i]=k.useState(void 0),a=k.useRef(null);k.useEffect((()=>{if(a.current&&e===void 0){let{width:l}=a.current.getBoundingClientRect();n(l)}let o=getComputedStyle(document.documentElement);i({background:o.getPropertyValue("--privy-color-background"),background2:o.getPropertyValue("--privy-color-background-2"),foreground3:o.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:o.getPropertyValue("--privy-color-foreground-accent"),accent:o.getPropertyValue("--privy-color-accent"),accentDark:o.getPropertyValue("--privy-color-accent-dark"),success:o.getPropertyValue("--privy-color-success"),colorScheme:o.getPropertyValue("color-scheme")})}),[]);let s=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return p.jsx("div",{ref:a,children:e&&p.jsxs(Ost,{children:[p.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:fse(t.origin,`/apps/${t.appId}/embedded-wallets/export`,t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:s,...r}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:s,...r},{token:t.accessToken})}),p.jsx(YG,{children:"Loading..."}),s&&p.jsx(YG,{children:"Loading..."})]})})}const a$={component:()=>{let[t,e]=k.useState(null),{authenticated:n,user:r}=bn(),{closePrivyModal:i,createAnalyticsEvent:a,clientAnalyticsId:s,client:o}=lt(),l=Rn(),{data:u,onUserCloseViaDialogOrKeybindRef:d}=ft(),{onFailure:h,onSuccess:g,origin:m,appId:b,appClientId:w,entropyId:x,entropyIdVerifier:E,walletId:I,hdWalletIndex:C,chainType:N,address:A,isUnifiedWallet:T,imported:O}=u.keyExport,H=L=>{i({shouldCallAuthOnSuccess:!1}),h(typeof L=="string"?Error(L):L)},U=()=>{i({shouldCallAuthOnSuccess:!1}),g(),a({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:A}})};return k.useEffect((()=>{if(!n)return H("User must be authenticated before exporting their wallet");o.getAccessToken().then(e).catch(H)}),[n,r]),d.current=U,p.jsx(kst,{address:A,accessToken:t,appConfigTheme:l.appearance.palette.colorScheme,onClose:U,isLoading:!t,exportButtonProps:t?{origin:m,appId:b,appClientId:w,clientAnalyticsId:s,entropyId:x,entropyIdVerifier:E,walletId:I,hdWalletIndex:C,isUnifiedWallet:T,imported:O,chainType:N}:void 0})}};let Ost=ue.div.withConfig({displayName:"ButtonContainer",componentId:"sc-e0132ced-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),YG=ue.div.withConfig({displayName:"LoadingButton",componentId:"sc-e0132ced-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const Rst=({connectionFailed:t,onClose:e})=>p.jsx(kn,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:N8,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),Ff={component:()=>{let{authenticated:t,user:e}=bn(),{client:n,closePrivyModal:r,createAnalyticsEvent:i,walletProxy:a}=lt(),{navigate:s,data:o,setModalData:l,onUserCloseViaDialogOrKeybindRef:u}=ft(),d=k.useMemo((()=>Date.now()),[]),[h,g]=k.useState(!1),{onCompleteNavigateTo:m,onFailure:b,shouldForceMFA:w,entropyId:x,entropyIdVerifier:E,recoveryMethod:I,connectingWalletAddress:C,isUnifiedWallet:N=!1}=o?.connectWallet,A=T=>{h||(g(!0),b(typeof T=="string"?Error(T):T))};return k.useEffect((()=>{let T;return t?a?((async()=>{let O=await n.getAccessToken();if(!O)return A("User must be authenticated and have a Privy wallet before it can be connected");try{N||await a.connect({accessToken:O,entropyId:x,entropyIdVerifier:E}),w&&await a.verifyMfa({accessToken:O});let H=(Date.now()-d)/1e3;m===a$&&H<1?T=setTimeout((()=>{s(m,!1)}),1e3*(1-H)):s(m,!1)}catch(H){if(Tw(H)&&I==="privy"){let U=await n.getAccessToken();if(!U)return A("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:C}}),(await a?.recover({accessToken:U,entropyId:x,entropyIdVerifier:E}))?.entropyId||A(Error("Unable to recover wallet")),m?s(m):r({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:C}}),s(m)}catch{A("An error has occurred, please try again.")}}else Tw(H)&&I!=="privy"&&I!=="privy-v2"?(l({...o,recoverWallet:{entropyId:x,entropyIdVerifier:E,onCompleteNavigateTo:m,onFailure:b},recoveryOAuthStatus:{provider:I,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),s(lle(I))):A(H)}})(),()=>clearTimeout(T)):void 0:A("User must be authenticated and have a Privy wallet before it can be connected")}),[t,e,a]),u.current=()=>{A("User exited before wallet could be connected"),r({shouldCallAuthOnSuccess:!1})},p.jsx(Rst,{connectionFailed:h,onClose:()=>r({shouldCallAuthOnSuccess:!1})})}},$le=ue(vt).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var ZG=({iconUrl:t,value:e,symbol:n,usdValue:r,nftName:i,nftCount:a,decimals:s,$isLoading:o})=>{if(o)return p.jsx(JG,{$isLoading:o});let l=e&&r&&s?(function(u,d,h){let g=parseFloat(u),m=parseFloat(h);if(g===0||m===0||Number.isNaN(g)||Number.isNaN(m))return u;let b=Math.ceil(-Math.log10(.01/(m/g))),w=Math.pow(10,b=Math.max(b=Math.min(b,d),1)),x=+(Math.floor(g*w)/w).toFixed(b).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:d}).format(x)})(e,s,r):e;return p.jsxs("div",{children:[p.jsxs(JG,{$isLoading:o,children:[t&&p.jsx(jst,{src:t,alt:"Token icon"}),a&&a>1?a+"x":void 0," ",i,l," ",n]}),r&&p.jsxs(Mst,{$isLoading:o,children:["$",r]})]})};let JG=ue.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],m9);const Mst=ue.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],m9);let jst=ue.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const Dst=t=>{let{chain:e,transactionDetails:n,isTokenContractInfoLoading:r,symbol:i}=t,{action:a,functionName:s}=n;return p.jsx(b9,{children:p.jsxs(Wm,{children:[a!=="transaction"&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Action"}),p.jsx(Nt,{children:s})]}),s==="mint"&&"args"in n&&n.args.filter((o=>o)).map(((o,l)=>p.jsxs(ct,{children:[p.jsx(vt,{children:`Param ${l}`}),p.jsx(Nt,{children:typeof o=="string"&&Is(o)?p.jsx(gn,{address:o,url:e?.blockExplorers?.default?.url,showCopyIcon:!1}):o?.toString()})]},l))),s==="setApprovalForAll"&&n.operator&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Operator"}),p.jsx(Nt,{children:p.jsx(gn,{address:n.operator,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),s==="setApprovalForAll"&&n.approved!==void 0&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Set approval to"}),p.jsx(Nt,{children:n.approved?"true":"false"})]}),s==="transfer"||s==="transferFrom"||s==="safeTransferFrom"||s==="approve"?p.jsxs(p.Fragment,{children:["formattedAmount"in n&&n.formattedAmount&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Amount"}),p.jsxs(Nt,{$isLoading:r,children:[n.formattedAmount," ",i]})]}),"tokenId"in n&&n.tokenId&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token ID"}),p.jsx(Nt,{children:n.tokenId.toString()})]})]}):null,s==="safeBatchTransferFrom"&&p.jsxs(p.Fragment,{children:["amounts"in n&&n.amounts&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Amounts"}),p.jsx(Nt,{children:n.amounts.join(", ")})]}),"tokenIds"in n&&n.tokenIds&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token IDs"}),p.jsx(Nt,{children:n.tokenIds.join(", ")})]})]}),s==="approve"&&n.spender&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Spender"}),p.jsx(Nt,{children:p.jsx(gn,{address:n.spender,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),(s==="transferFrom"||s==="safeTransferFrom"||s==="safeBatchTransferFrom")&&n.transferFrom&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Transferring from"}),p.jsx(Nt,{children:p.jsx(gn,{address:n.transferFrom,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),(s==="transferFrom"||s==="safeTransferFrom"||s==="safeBatchTransferFrom")&&n.transferTo&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Transferring to"}),p.jsx(Nt,{children:p.jsx(gn,{address:n.transferTo,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]})]})})},Bst=({variant:t,setPreventMaliciousTransaction:e,colorScheme:n="light",preventMaliciousTransaction:r})=>t==="warn"?p.jsx(XG,{children:p.jsxs(Tle,{theme:n,children:[p.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),p.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?p.jsx(p.Fragment,{children:p.jsxs(XG,{children:[p.jsx(Cle,{theme:n,children:p.jsxs("div",{children:[p.jsx("strong",{children:"This is a malicious transaction"}),p.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),p.jsxs(Ust,{children:[p.jsx(moe,{color:"var(--privy-color-error)",checked:!r,readOnly:!0,onClick:()=>e(!r)}),p.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let XG=ue.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),Ust=ue.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const Lst=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,Fst=({img:t,submitError:e,prepareError:n,onClose:r,action:i,title:a,subtitle:s,to:o,tokenAddress:l,network:u,missingFunds:d,fee:h,from:g,cta:m,disabled:b,chain:w,isSubmitting:x,isPreparing:E,isTokenPriceLoading:I,isTokenContractInfoLoading:C,isSponsored:N,symbol:A,balance:T,onClick:O,transactionDetails:H,transactionIndex:U,maxIndex:L,onBack:G,chainName:R,validation:F,hasScanDetails:_,setIsScanDetailsOpen:S,preventMaliciousTransaction:$,setPreventMaliciousTransaction:D,tokensSent:z,tokensReceived:Y,isScanning:J,isCancellable:V,functionName:M})=>{let{showTransactionDetails:Q,setShowTransactionDetails:ne,hasMoreDetails:K,isErc20Ish:se}=(he=>{let[Ce,ke]=k.useState(!1),Ie=!0,De=!1;return(!he||he.isErc20Ish||he.action==="transaction")&&(Ie=!1),Ie&&(De=Object.entries(he||{}).some((([Ne,We])=>We&&!["action","isErc20Ish","isNFTIsh"].includes(Ne)))),{showTransactionDetails:Ce,setShowTransactionDetails:ke,hasMoreDetails:Ie&&De,isErc20Ish:he?.isErc20Ish}})(H),le=Rn(),de=se&&C||E||I||J;return p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:r,backFn:G}),t&&p.jsx(Ole,{children:t}),p.jsxs($d,{style:{marginTop:t?"1.5rem":0},children:[a,p.jsx(Lst,{maxIndex:L,transactionIndex:U})]}),p.jsx(ph,{children:s}),p.jsxs(Wm,{style:{marginTop:"2rem"},children:[(!!z[0]||de)&&p.jsxs(ct,{children:[Y.length>0?p.jsx(vt,{children:"Send"}):p.jsx(vt,{children:i==="approve"?"Approval amount":"Amount"}),p.jsx("div",{className:"flex flex-col",children:z.map(((he,Ce)=>p.jsx(ZG,{iconUrl:he.iconUrl,value:M==="setApprovalForAll"?"All":he.value,usdValue:he.usdValue,symbol:he.symbol,nftName:he.nftName,nftCount:he.nftCount,decimals:he.decimals},Ce)))})]}),Y.length>0&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Receive"}),p.jsx("div",{className:"flex flex-col",children:Y.map(((he,Ce)=>p.jsx(ZG,{iconUrl:he.iconUrl,value:he.value,usdValue:he.usdValue,symbol:he.symbol,nftName:he.nftName,nftCount:he.nftCount,decimals:he.decimals},Ce)))})]}),H&&"spender"in H&&H?.spender?p.jsxs(ct,{children:[p.jsx(vt,{children:"Spender"}),p.jsx(Nt,{children:p.jsx(gn,{address:H.spender,url:w?.blockExplorers?.default?.url})})]}):null,o&&p.jsxs(ct,{children:[p.jsx(vt,{children:"To"}),p.jsx(Nt,{children:p.jsx(gn,{address:o,url:w?.blockExplorers?.default?.url,showCopyIcon:!0})})]}),l&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token address"}),p.jsx(Nt,{children:p.jsx(gn,{address:l,url:w?.blockExplorers?.default?.url})})]}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Network"}),p.jsx(Nt,{children:u})]}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Estimated fee"}),p.jsx(Nt,{$isLoading:E||I||N===void 0,children:N?p.jsxs(Wst,{children:[p.jsxs(Hst,{children:["Sponsored by ",le.name]}),p.jsx(JJe,{height:16,width:16})]}):h})]}),K&&!_&&p.jsxs(p.Fragment,{children:[p.jsx(ct,{className:"cursor-pointer",onClick:()=>ne(!Q),children:p.jsxs(Iat,{className:"flex items-center gap-x-1",children:["Details"," ",p.jsx(m8,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:Q?"rotate(180deg)":void 0}})]})}),Q&&H&&p.jsx(Dst,{action:i,chain:w,transactionDetails:H,isTokenContractInfoLoading:C,symbol:A})]}),_&&p.jsx(ct,{children:p.jsxs($le,{onClick:()=>S(!0),children:[p.jsx("span",{className:"text-color-primary",children:"Details"}),p.jsx(vSe,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),p.jsx(fh,{}),e?p.jsx(Id,{style:{marginTop:"2rem"},children:e.message}):n&&U===0?p.jsx(Id,{style:{marginTop:"2rem"},children:n.shortMessage??Ple}):null,p.jsx(Bst,{variant:F,preventMaliciousTransaction:$,setPreventMaliciousTransaction:D}),p.jsx(Nle,{$useSmallMargins:!(!n&&!e&&F!=="warn"&&F!=="error"),address:g,balance:T,errMsg:E||n||e||!d?void 0:`Add funds on ${w?.name??R} to complete transaction.`}),p.jsx(Jn,{style:{marginTop:"1rem"},loading:x,disabled:b||E,onClick:O,children:m}),V&&p.jsx(n9,{style:{marginTop:"1rem"},onClick:r,isSubmitting:!1,children:"Not now"}),p.jsx(Pn,{})]})},zst=({img:t,title:e,subtitle:n,cta:r,instructions:i,network:a,blockExplorerUrl:s,isMissingFunds:o,submitError:l,parseError:u,total:d,swap:h,transactingWalletAddress:g,fee:m,balance:b,disabled:w,isSubmitting:x,isPreparing:E,isTokenPriceLoading:I,onClick:C,onClose:N,onBack:A})=>{let T=E||I,[O,H]=k.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:N,backFn:A}),t&&p.jsx(Ole,{children:t}),p.jsx($d,{style:{marginTop:t?"1.5rem":0},children:e}),p.jsx(ph,{children:n}),p.jsxs(Wm,{style:{marginTop:"2rem",marginBottom:".5rem"},children:[(d||T)&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Amount"}),p.jsx(Nt,{$isLoading:T,children:d})]}),h&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Swap"}),p.jsx(Nt,{children:h})]}),a&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Network"}),p.jsx(Nt,{children:a})]}),(m||T)&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Estimated fee"}),p.jsx(Nt,{$isLoading:T,children:m})]})]}),p.jsx(ct,{children:p.jsxs($le,{onClick:()=>H((U=>!U)),children:[p.jsx("span",{children:"Advanced"}),p.jsx(m8,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:O?"rotate(180deg)":void 0}})]})}),O&&p.jsx(p.Fragment,{children:i.map(((U,L)=>U.type==="sol-transfer"?p.jsxs(Uo,{children:[p.jsx(ct,{children:p.jsxs(ps,{children:["Transfer ",U.withSeed?"with seed":""]})}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Amount"}),p.jsxs(Nt,{children:[Fa({amount:U.value,decimals:U.token.decimals})," ",U.token.symbol]})]}),!!U.toAccount&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Destination"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.toAccount,url:s})})]})]},L):U.type==="spl-transfer"?p.jsxs(Uo,{children:[p.jsx(ct,{children:p.jsxs(ps,{children:["Transfer ",U.token.symbol]})}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Amount"}),p.jsx(Nt,{children:U.value.toString()})]}),!!U.fromAta&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Source"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.fromAta,url:s})})]}),!!U.toAta&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Destination"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.toAta,url:s})})]}),!!U.token.address&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.token.address,url:s})})]})]},L):U.type==="ata-creation"?p.jsxs(Uo,{children:[p.jsx(ct,{children:p.jsx(ps,{children:"Create token account"})}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Program ID"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.program,url:s})})]}),!!U.owner&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Owner"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.owner,url:s})})]})]},L):U.type==="create-account"?p.jsxs(Uo,{children:[p.jsx(ct,{children:p.jsxs(ps,{children:["Create account ",U.withSeed?"with seed":""]})}),!!U.account&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Account"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.account,url:s})})]}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Amount"}),p.jsxs(Nt,{children:[Fa({amount:U.value,decimals:9})," SOL"]})]})]},L):U.type==="spl-init-account"?p.jsxs(Uo,{children:[p.jsx(ct,{children:p.jsx(ps,{children:"Initialize token account"})}),!!U.account&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Account"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.account,url:s})})]}),!!U.mint&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Mint"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.mint,url:s})})]}),!!U.owner&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Owner"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.owner,url:s})})]})]},L):U.type==="spl-close-account"?p.jsxs(Uo,{children:[p.jsx(ct,{children:p.jsx(ps,{children:"Close token account"})}),!!U.source&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Source"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.source,url:s})})]}),!!U.destination&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Destination"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.destination,url:s})})]}),!!U.owner&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Owner"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.owner,url:s})})]})]},L):U.type==="spl-sync-native"?p.jsxs(Uo,{children:[p.jsx(ct,{children:p.jsx(ps,{children:"Sync native"})}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Program ID"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.program,url:s})})]})]},L):U.type==="raydium-swap-base-input"?p.jsxs(Uo,{children:[p.jsx(ct,{children:p.jsxs(ps,{children:["Raydium swap"," ",U.tokenIn&&U.tokenOut?`${U.tokenIn.symbol}  ${U.tokenOut.symbol}`:""]})}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Amount in"}),p.jsx(Nt,{children:U.amountIn.toString()})]}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Minimum amount out"}),p.jsx(Nt,{children:U.minimumAmountOut.toString()})]}),U.mintIn&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token in"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.mintIn,url:s})})]}),U.mintOut&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token out"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.mintOut,url:s})})]})]},L):U.type==="raydium-swap-base-output"?p.jsxs(Uo,{children:[p.jsx(ct,{children:p.jsxs(ps,{children:["Raydium swap"," ",U.tokenIn&&U.tokenOut?`${U.tokenIn.symbol}  ${U.tokenOut.symbol}`:""]})}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Max amount in"}),p.jsx(Nt,{children:U.maxAmountIn.toString()})]}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Amount out"}),p.jsx(Nt,{children:U.amountOut.toString()})]}),U.mintIn&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token in"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.mintIn,url:s})})]}),U.mintOut&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token out"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.mintOut,url:s})})]})]},L):U.type==="jupiter-swap-shared-accounts-route"?p.jsxs(Uo,{children:[p.jsx(ct,{children:p.jsxs(ps,{children:["Jupiter swap"," ",U.tokenIn&&U.tokenOut?`${U.tokenIn.symbol}  ${U.tokenOut.symbol}`:""]})}),p.jsxs(ct,{children:[p.jsx(vt,{children:"In amount"}),p.jsx(Nt,{children:U.inAmount.toString()})]}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Quoted out amount"}),p.jsx(Nt,{children:U.quotedOutAmount.toString()})]}),U.mintIn&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token in"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.mintIn,url:s})})]}),U.mintOut&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token out"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.mintOut,url:s})})]})]},L):U.type==="jupiter-swap-exact-out-route"?p.jsxs(Uo,{children:[p.jsx(ct,{children:p.jsxs(ps,{children:["Jupiter swap"," ",U.tokenIn&&U.tokenOut?`${U.tokenIn.symbol}  ${U.tokenOut.symbol}`:""]})}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Quoted in amount"}),p.jsx(Nt,{children:U.quotedInAmount.toString()})]}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Amount out"}),p.jsx(Nt,{children:U.outAmount.toString()})]}),U.mintIn&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token in"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.mintIn,url:s})})]}),U.mintOut&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Token out"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.mintOut,url:s})})]})]},L):p.jsxs(Uo,{children:[p.jsxs(ct,{children:[p.jsx(vt,{children:"Program ID"}),p.jsx(Nt,{children:p.jsx(gn,{address:U.program,url:s})})]}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Data"}),p.jsx(Nt,{children:U.discriminator})]})]},L)))}),p.jsx(fh,{}),l?p.jsx(Id,{style:{marginTop:"2rem"},children:l.message}):u?p.jsx(Id,{style:{marginTop:"2rem"},children:Ple}):null,p.jsx(Nle,{$useSmallMargins:!(!u&&!l),title:"Your wallet",address:g,balance:b,errMsg:E||u||l||!o?void 0:"Add funds on Solana to complete transaction."}),p.jsx(Jn,{style:{marginTop:"1rem"},loading:x,disabled:w||E,onClick:C,children:r}),p.jsx(Pn,{})]})};let Nle=ue(w9).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-4e16a794-0"})(["",""],(t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;")),Uo=ue(Wm).withConfig({displayName:"InstructionRows",componentId:"sc-4e16a794-1"})(["margin-top:0.5rem;border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-sm);padding:0.5rem;"]),Ple="There was an error preparing your transaction. Your transaction request will likely fail.",Ole=ue.div.withConfig({displayName:"ImageContainer",componentId:"sc-4e16a794-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),Wst=ue.span.withConfig({displayName:"SponsoredRow",componentId:"sc-4e16a794-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),Hst=ue.span.withConfig({displayName:"SponsoredText",componentId:"sc-4e16a794-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),qst=()=>p.jsxs(Yst,{children:[p.jsx(Jst,{}),p.jsx(Zst,{})]});const Rle=({transactionError:t,chainId:e,onClose:n,onRetry:r,network:i,rpcEndpoint:a,transactionHash:s})=>{let{chains:o}=lt(),[l,u]=k.useState(!1),{errorCode:d,errorMessage:h}=((m,b)=>{if(b==="ethereum")return{errorCode:m.details??m.message,errorMessage:m.shortMessage};let w=m.txSignature,x=m?.transactionMessage||"Something went wrong.";if(Array.isArray(m.logs)){let E=m.logs.find((I=>/insufficient (lamports|funds)/gi.test(I)));E&&(x=E)}return{transactionHash:w,errorMessage:x}})(t,i),g=(({chains:m,chainId:b,network:w,rpcEndpoint:x,transactionHash:E})=>w==="ethereum"?m.find((I=>I.id===b))?.blockExplorers?.default.url??"https://etherscan.io":(function(I,C){return`https://explorer.solana.com/tx/${I}?cluster=${C}`})(E||"",Dm(x||"")))({chains:o,chainId:e,network:i,rpcEndpoint:a,transactionHash:s});return p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:n}),p.jsxs(Vst,{children:[p.jsx(qst,{}),p.jsx(Gst,{children:d}),p.jsx(Kst,{children:"Please try again."}),p.jsxs(eK,{children:[p.jsx(QG,{children:"Error message"}),p.jsx(tK,{$clickable:!1,children:h})]}),s&&p.jsxs(eK,{children:[p.jsx(QG,{children:"Transaction hash"}),p.jsxs(Qst,{children:["Copy this hash to view details about the transaction on a"," ",p.jsx("u",{children:p.jsx("a",{href:g,children:"block explorer"})}),"."]}),p.jsxs(tK,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(s),u(!0)},children:[s,p.jsx(not,{clicked:l})]})]}),p.jsx(Xst,{onClick:()=>r({resetNonce:!!s}),children:"Retry transaction"})]}),p.jsx(ai,{})]})};let Vst=ue.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-9ada48aa-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),Gst=ue.span.withConfig({displayName:"ErrorCode",componentId:"sc-9ada48aa-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),Kst=ue.span.withConfig({displayName:"Subtitle",componentId:"sc-9ada48aa-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),Yst=ue.div.withConfig({displayName:"CircleContainer",componentId:"sc-9ada48aa-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),Zst=ue(nO).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-9ada48aa-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),Jst=ue.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-9ada48aa-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),Xst=ue(Jn).withConfig({displayName:"RetryButton",componentId:"sc-9ada48aa-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),QG=ue.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-9ada48aa-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),eK=ue.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-9ada48aa-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),Qst=ue.text.withConfig({displayName:"HelperText",componentId:"sc-9ada48aa-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),tK=ue.span.withConfig({displayName:"TextBox",componentId:"sc-9ada48aa-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],(t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`)),eot=ue(aXe).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-9ada48aa-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),tot=ue(Mae).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-9ada48aa-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),not=({clicked:t})=>p.jsx(t?tot:eot,{});const rot=ue.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],(t=>t.color??"var(--privy-color-accent)"),(t=>t.color??"var(--privy-color-accent)")),iot=({instruction:t,fees:e,transactionInfo:n,solPrice:r,rpcEndpoint:i})=>p.jsxs(Wm,{children:[n?.action&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Action"}),p.jsx(Nt,{children:n.action})]}),t?.total!=null&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Total"}),p.jsx(Nt,{children:t.total})]}),!t?.total&&t?.amount!=null&&p.jsxs(ct,{children:[p.jsx(vt,{children:"Total"}),p.jsx(Nt,{children:p.jsx(yG,{quantities:[t.amount,e],tokenPrice:r})})]}),p.jsxs(ct,{children:[p.jsx(vt,{children:"Fees"}),p.jsx(Nt,{children:p.jsx(yG,{quantities:[e],tokenPrice:r})})]}),t?.to&&p.jsxs(ct,{children:[p.jsx(vt,{children:"To"}),p.jsx(Nt,{children:p.jsx(LT,{walletAddress:t.to,rpcEndpoint:i,network:"solana"})})]})]}),aot=({fees:t,onClose:e,receiptHeader:n,receiptDescription:r,transactionInfo:i,solPrice:a,rpcEndpoint:s,signOnly:o,instruction:l})=>p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:e}),p.jsx(CO,{style:{marginBottom:"16px"},children:p.jsxs("div",{children:[p.jsx(rot,{color:"var(--privy-color-success-light)"}),p.jsx(jm,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),p.jsx(mo,{title:n??`Transaction ${o?"signed":"complete"}!`,description:r??"You're all set."}),p.jsx(iot,{solPrice:a,instruction:l,fees:t,transactionInfo:i,rpcEndpoint:s}),p.jsx(fh,{}),p.jsx(sot,{loading:!1,onClick:e,children:"Close"}),p.jsx(xo,{}),p.jsx(Pn,{})]});let sot=ue(Jn).withConfig({displayName:"SubmitButton",componentId:"sc-df6d4eec-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const oot={component:()=>{let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:r}=ft(),{client:i,closePrivyModal:a,walletProxy:s,showFiatPrices:o}=lt(),l=Rn(),{user:u}=bn(),[d,h]=k.useState(t?.sendSolanaTransaction?.transactionRequest),[g,m]=k.useState(),[b,w]=k.useState(),[x,E]=k.useState({value:0n,isLoading:!1}),[I,C]=k.useState(!1),[N,A]=k.useState(),[T,O]=k.useState(),H=t?.sendSolanaTransaction?.connection,U=t?.sendSolanaTransaction?.transactingWallet,L=!!t?.sendSolanaTransaction?.signOnly,G=U?.imported?i8(u):cl(u),R=Dm(H?.rpcEndpoint||""),{solPrice:F,isSolPriceLoading:_}=Xse({enabled:o}),S=k.useMemo((()=>{if(!g)return;let V=g.spender,M=rh(g.fee),Q=rh(x.value,3,!0),ne=g.instructions.filter((se=>["sol-transfer","spl-transfer","raydium-swap-base-input","raydium-swap-base-output","jupiter-swap-shared-accounts-route","jupiter-swap-exact-out-route"].includes(se.type))),K=ne.at(0);return!K||ne.length>1?{fee:M,spender:V,balance:Q}:K.type==="sol-transfer"?{fee:M,spender:V,balance:Q,total:rh(K.value)}:K.type==="spl-transfer"?{fee:M,spender:V,balance:Q,total:`${Fa({amount:K.value,decimals:K.token.decimals})} ${K.token.symbol}`}:K.type==="raydium-swap-base-input"&&K.tokenIn&&K.tokenOut?{fee:M,spender:V,balance:Q,swap:`${`${Fa({amount:K.amountIn,decimals:K.tokenIn.decimals})} ${K.tokenIn.symbol}`}  ${`${Fa({amount:K.minimumAmountOut,decimals:K.tokenOut.decimals})} ${K.tokenOut.symbol}`}`}:K.type==="raydium-swap-base-output"&&K.tokenIn&&K.tokenOut?{fee:M,spender:V,balance:Q,swap:`${`${Fa({amount:K.maxAmountIn,decimals:K.tokenIn.decimals})} ${K.tokenIn.symbol}`}  ${`${Fa({amount:K.amountOut,decimals:K.tokenOut.decimals})} ${K.tokenOut.symbol}`}`}:K.type==="jupiter-swap-shared-accounts-route"&&K.tokenIn&&K.tokenOut?{fee:M,spender:V,balance:Q,swap:`${`${Fa({amount:K.inAmount,decimals:K.tokenIn.decimals})} ${K.tokenIn.symbol}`}  ${`${Fa({amount:K.quotedOutAmount,decimals:K.tokenOut.decimals})} ${K.tokenOut.symbol}`}`}:K.type==="jupiter-swap-exact-out-route"&&K.tokenIn&&K.tokenOut?{fee:M,spender:V,balance:Q,swap:`${`${Fa({amount:K.quotedInAmount,decimals:K.tokenIn.decimals})} ${K.tokenIn.symbol}`}  ${`${Fa({amount:K.outAmount,decimals:K.tokenOut.decimals})} ${K.tokenOut.symbol}`}`}:{fee:M,spender:V,balance:Q}}),[g,U?.address,x]),$=k.useMemo((()=>{let V;if(!g||!o||!F||_)return;function M(...K){return pb(K.reduce(((se,le)=>se+le),0n),F??0)}U?.address===g.spender&&(V=M(g.fee));let Q=M(x.value),ne=g.instructions.filter((K=>K.type==="sol-transfer"||K.type==="spl-transfer")).at(0);return!ne||g.instructions.length>1?{fee:V,balance:Q}:ne.type==="sol-transfer"?{fee:V,balance:Q,total:M(ne.value,U?.address===g.spender?g.fee:0n)}:ne.type==="spl-transfer"?{fee:V,balance:Q,total:`${Fa({amount:ne.value,decimals:ne.token.decimals})} ${ne.token.symbol}`}:{fee:V,balance:Q}}),[g,o,F,_,U?.address,x]);if(k.useEffect((()=>{(async function(){if(d&&H&&i)try{w(void 0);let V=await ltt({tx:d,connection:H,client:i,checkFunds:!L});m(V)}catch(V){console.error("Failed to prepare transaction",V),w(V)}})()}),[d,H,i,L]),k.useEffect((()=>{(async function(){if(!U||!H)return;E({value:x.value,isLoading:!0});let V=new G9e({name:"mainnet-beta",rpcUrl:H.rpcEndpoint});E({value:await V.getBalance(U.address).catch((()=>0n))??0n,isLoading:!1})})().catch(console.error)}),[g,H]),!(d&&t?.sendSolanaTransaction&&U&&H)){let V=Error("Invalid transaction request");return p.jsx(kv,{error:V,allowlistConfig:l.allowlistConfig,onRetry:()=>{t?.sendSolanaTransaction?.onFailure(V),a({shouldCallAuthOnSuccess:!1})}})}let D=()=>{if(!I)return N?t?.sendSolanaTransaction?.onSuccess(N):t?.sendSolanaTransaction?.onFailure(T??b??Error("User exited the modal before submitting the transaction")),a({shouldCallAuthOnSuccess:!1})};e.current=D;let z=t.sendSolanaTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?p.jsx("img",{src:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,Y=!!(t.funding&&t.funding.supportedOptions.length>0),J=!g?.hasFunds&&Y;if(N){let V=g?.instructions.filter((Q=>Q.type==="sol-transfer"||Q.type==="spl-transfer")),M=V?.length===1?V?.at(0):void 0;return p.jsx(aot,{fees:N.fees,onClose:D,transactionInfo:t.sendSolanaTransaction?.uiOptions.transactionInfo,solPrice:F,receiptHeader:t.sendSolanaTransaction?.uiOptions.successHeader,receiptDescription:t.sendSolanaTransaction?.uiOptions.successDescription,rpcEndpoint:H.rpcEndpoint,signOnly:L,instruction:M?.type==="sol-transfer"?{to:M.toAccount,amount:M.value}:{to:M?.toAccount||M?.toAta,total:S?.total}})}return T?p.jsx(Rle,{transactionError:T,rpcEndpoint:H.rpcEndpoint,onClose:D,network:"solana",onRetry:async()=>{O(void 0);let{blockhash:V}=await H.getLatestBlockhash();hh(d)?d.message.recentBlockhash=V:d.recentBlockhash=V,h(d)}}):p.jsx(zst,{img:z,title:t.sendSolanaTransaction?.uiOptions?.transactionInfo?.title||"Confirm transaction",subtitle:t.sendSolanaTransaction?.uiOptions?.description||`${l.name} wants your permission to approve the following transaction.`,cta:J?"Add funds":t.sendSolanaTransaction?.uiOptions?.buttonText||"Approve",instructions:g?.instructions??[],network:R=="mainnet-beta"?"Solana":R,blockExplorerUrl:l.solanaClusters[R].blockExplorerUrl,total:o?$?.total:S?.total,fee:o?$?.fee:S?.fee,balance:o?$?.balance:S?.balance,swap:S?.swap,transactingWalletAddress:U.address,disabled:!g?.hasFunds&&!Y,isSubmitting:I,isPreparing:!g||x.isLoading,isTokenPriceLoading:o&&_,isMissingFunds:!g?.hasFunds,submitError:T??void 0,parseError:b,onClick:J?async()=>{if(U){if(!Y)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:ks},solanaFundingData:t?.solanaFundingData}),r(ks)}}:async()=>{try{if(C(!0),I||!U||!s||!u||!G)return;let V=await t.sendSolanaTransaction.onConfirm();A(V)}catch(V){console.warn({transaction:d,error:V}),O(V)}finally{C(!1)}},onClose:D})}},lot=({privy:t,appConfig:e,getAccessToken:n,isHeadlessSigning:r,emitPrivyEvent:i,setModalData:a,openModal:s,walletProxy:o,user:l,signWithUserSigner:u,recoverEmbeddedWallet:d,connectedExternalWallet:h},{transaction:g,connection:m,transactionOptions:b,fundWalletConfig:w,uiOptions:x,address:E,signOnly:I})=>new Promise((async(C,N)=>{let{requesterAppId:A}=x||{},T="sendSolanaTransaction",O=E?Qo(l,E):fp(l);if(!O&&E&&h)try{{let L=await h.sendTransaction(g,m,b),G=await m.getParsedTransaction(L,{maxSupportedTransactionVersion:0}),R=mG(L,g,G??null);return i(T,"onSuccess",{response:R}),void C(R)}}catch(L){throw i(T,"onError",ye.TRANSACTION_FAILURE),N(L),L}if(!O)return i(T,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),void N(new me("No wallet found for address",ye.EMBEDDED_WALLET_NOT_FOUND));if(!l)return i(T,"onError",ye.MUST_BE_AUTHENTICATED),void N(new me("User must be authenticated before signing with a Privy wallet",ye.MUST_BE_AUTHENTICATED));let H=Fi(O);if(!await d({address:O.address}).catch((()=>!1)))throw i(T,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),new me(`Cannot sendSolanaTransaction before embedded wallet ${O.address} is connected`,ye.EMBEDDED_WALLET_NOT_FOUND);let U=async()=>{let L=await n();if(!L||!o)throw i(T,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),N(new me("Must have valid access token and Privy wallet to send transaction",ye.EMBEDDED_WALLET_NOT_FOUND)),new me("Must have valid access token and Privy wallet to send transaction",ye.EMBEDDED_WALLET_NOT_FOUND);try{let G,R;if(!await d({address:O.address}))throw i(T,"onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),N(new me("Unable to connect to wallet",ye.UNKNOWN_CONNECT_WALLET_ERROR)),new me("Unable to connect to wallet",ye.UNKNOWN_CONNECT_WALLET_ERROR);if(r({showWalletUIs:x?.showWalletUIs})&&!I)try{if(!await zse(g,m))throw i(T,"onError",ye.INSUFFICIENT_BALANCE),N(new me("Solana wallet has insufficient funds for this transaction.",ye.INSUFFICIENT_BALANCE)),new me("Solana wallet has insufficient funds for this transaction.",ye.INSUFFICIENT_BALANCE)}catch(S){throw console.error(S),i(T,"onError",ye.TRANSACTION_FAILURE),N(new me(S instanceof Error?S.message:"Transaction failed.",ye.TRANSACTION_FAILURE)),new me(S instanceof Error?S.message:"Transaction failed.",ye.TRANSACTION_FAILURE)}let{entropyId:F,entropyIdVerifier:_}=ua(l);if(H){let S=hh(g)?Pa(g.message.serialize()):g.serializeMessage(),$=await Ha(t,u,{chain_type:"solana",method:"signMessage",params:{message:S.toString("base64"),encoding:"base64"},wallet_id:O.id});if(!$.data||!("signature"in $.data))throw Error("Failed to sign transaction");g.addSignature(e4(g,O.address),Pa($.data.signature,"base64")),G=g}else G=await t$({accessToken:L,tx:g,walletProxy:o,entropyId:F,entropyIdVerifier:_,transactingWalletAddress:O.address,transactingWalletIndex:O.walletIndex??0});{let{signature:S,receipt:$}=await(async function({tx:D,connection:z,transactionOptions:Y}){let J;try{let V=D.serialize();J=await z.sendRawTransaction(V,Y);let M=await z.confirmTransaction(J);if(M.value.err||M.value.err){let Q=M.value.err||M.value.err;throw typeof Q=="string"?Error(Q):Q}return{signature:J,signedTransaction:D,receipt:await z.getParsedTransaction(J,{maxSupportedTransactionVersion:0})}}catch(V){throw V.txSignature=J,V}})({tx:G,connection:m,transactionOptions:b});R=mG(S,g,$),i("sendSolanaTransaction","onSuccess",{response:R})}return C(R),R}catch(G){throw i(T,"onError",ye.TRANSACTION_FAILURE),N(G),G}};if(r({showWalletUIs:x?.showWalletUIs}))U();else{let{entropyId:L,entropyIdVerifier:G}=ua(l,O),R={recoveryMethod:O.recoveryMethod,connectingWalletAddress:O.address,entropyId:L,entropyIdVerifier:G,isUnifiedWallet:H,onCompleteNavigateTo:oot,onFailure:_=>{i(T,"onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),N(_)}},F=hle(e)?Ast({address:O.address,appConfig:e,methodScreen:ks,fundWalletConfig:w,comingFromSendTransactionScreen:!0,externalSolanaFundingScreen:UO}):void 0;a({connectWallet:R,sendSolanaTransaction:{transactionRequest:g,connection:m,transactionOptions:b,transactingWallet:O,onConfirm:U,onSuccess:_=>{i("sendSolanaTransaction","onSuccess",{response:_}),C(_)},onFailure:_=>{i(T,"onError",ye.TRANSACTION_FAILURE),N(_)},uiOptions:x||{},requesterAppId:A,signOnly:I},funding:F}),s(Ff)}}));function cot(t){let e=Rn(),{user:n}=zm(),{setModalData:r}=ft(),{client:i,isHeadlessSigning:a,openModal:s,walletProxy:o,recoverEmbeddedWallet:l,privy:u,solanaWallets:d}=lt(),h=jd(),{signWithUserSigner:g}=MN();return Bm("sendSolanaTransaction",t),{sendTransaction:async({transaction:m,connection:b,uiOptions:w,transactionOptions:x,fundWalletConfig:E,address:I})=>{let C=I?d.find((N=>N.address===I&&N.walletClientType!=="privy")):void 0;return await lot({privy:u,appConfig:e,getAccessToken:()=>i.getAccessToken(),isHeadlessSigning:a,emitPrivyEvent:h,setModalData:r,openModal:s,walletProxy:o,user:n,signWithUserSigner:g,recoverEmbeddedWallet:l,connectedExternalWallet:C},{transaction:m,connection:b,transactionOptions:x,uiOptions:w,fundWalletConfig:E,address:I,signOnly:!1})}}}const uot=({style:t,color:e,...n})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...n,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),LO=t=>{let[e,n]=k.useState(!1);return p.jsxs(dot,{color:t.color,onClick:()=>{n(!0),navigator.clipboard.writeText(t.text),setTimeout((()=>n(!1)),1500)},$justCopied:e,children:[e?p.jsx(uot,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):p.jsx(Noe,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let dot=ue.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.$justCopied?"medium":"normal"),(t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"));const fot=ue.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],(t=>t.size==="sm"?"65px":"140px"),(t=>t.size==="sm"?"65px":"140px"));let hot=({data:t})=>{let e=n=>typeof n=="object"&&n!==null?p.jsx(pot,{children:Object.entries(n).map((([r,i])=>p.jsxs("li",{children:[p.jsxs("strong",{children:[r,":"]})," ",e(i)]},r)))}):p.jsx("span",{children:String(n)});return p.jsx("div",{children:e(t)})};const Mle=ue.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let pot=ue.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const jle=({data:t,className:e})=>p.jsx(Mle,{className:e,children:p.jsx(hot,{data:t})});let got=t=>{if(!Oa(t))return t;try{let e=upe(t);return e.includes("")?t:e}catch{return t}},mot=t=>JSON.stringify(t,null,2),yot=t=>{let{types:e,primaryType:n,...r}=t.typedData;return p.jsxs(p.Fragment,{children:[p.jsx(xot,{data:r}),p.jsx(LO,{text:mot(t.typedData),itemName:"full payload to clipboard"})," "]})};const bot=({method:t,messageData:e,copy:n,iconUrl:r,isLoading:i,success:a,walletProxyIsLoading:s,errorMessage:o,isCancellable:l,onSign:u,onCancel:d,onClose:h})=>p.jsx(kn,{title:n.title,subtitle:n.description,showClose:!0,onClose:h,icon:ONe,iconVariant:"subtle",helpText:o?p.jsx(vot,{children:o}):void 0,primaryCta:{label:n.buttonText,onClick:u,disabled:i||a||s,loading:i},secondaryCta:l?{label:"Not now",onClick:d,disabled:i||a||s}:void 0,watermark:!0,children:p.jsxs(AO,{children:[r?p.jsx(fot,{style:{alignSelf:"center"},size:"sm",src:r,alt:"app image"}):null,p.jsxs(wot,{children:[t==="personal_sign"&&p.jsx(nK,{children:got(e)}),t==="eth_signTypedData_v4"&&p.jsx(yot,{typedData:e}),t==="solana_signMessage"&&p.jsx(nK,{children:e})]})]})}),s$={component:()=>{let{authenticated:t}=bn(),{initializeWalletProxy:e,closePrivyModal:n}=lt(),{navigate:r,data:i,onUserCloseViaDialogOrKeybindRef:a}=ft(),[s,o]=k.useState(!0),[l,u]=k.useState(""),[d,h]=k.useState(),[g,m]=k.useState(null),[b,w]=k.useState(!1);k.useEffect((()=>{t||r(Da)}),[t]),k.useEffect((()=>{e(Yae).then((H=>{o(!1),H||(u("An error has occurred, please try again."),h(new ka(new kg(l,Hl.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))}))}),[]);let{method:x,data:E,confirmAndSign:I,onSuccess:C,onFailure:N,uiOptions:A}=i.signMessage,T={title:A?.title||"Sign message",description:A?.description||"Signing this message will not cost you any fees.",buttonText:A?.buttonText||"Sign and continue"},O=H=>{H?C(H):N(d||new ka(new kg("The user rejected the request.",Hl.E4001_USER_REJECTED_REQUEST.eipCode))),n({shouldCallAuthOnSuccess:!1}),setTimeout((()=>{m(null),u(""),h(void 0)}),200)};return a.current=()=>{O(g)},p.jsx(bot,{method:x,messageData:E,copy:T,iconUrl:A?.iconUrl&&typeof A.iconUrl=="string"?A.iconUrl:void 0,isLoading:b,success:g!==null,walletProxyIsLoading:s,errorMessage:l,isCancellable:A?.isCancellable,onSign:async()=>{w(!0),u("");try{let H=await I();m(H),w(!1),setTimeout((()=>{O(H)}),Pr)}catch(H){console.error(H),u("An error has occurred, please try again."),h(new ka(new kg(l,Hl.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),w(!1)}},onCancel:()=>O(null),onClose:()=>O(g)})}};let wot=ue.div.withConfig({displayName:"MessageContainer",componentId:"sc-21a0e112-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),vot=ue.p.withConfig({displayName:"ErrorText",componentId:"sc-21a0e112-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),xot=ue(jle).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-21a0e112-2"})(["margin-top:0;"]),nK=ue(Mle).withConfig({displayName:"StyledMessage",componentId:"sc-21a0e112-3"})(["margin-top:0;"]);function Eot(t){let{isHeadlessSigning:e,walletProxy:n,initializeWalletProxy:r,recoverEmbeddedWallet:i,openModal:a,privy:s,solanaWallets:o,client:l}=lt(),{user:u}=zm(),d=jd(),{setModalData:h}=ft(),{signWithUserSigner:g}=MN();return Bm("signSolanaMessage",t),{signMessage:({message:m,options:b})=>new Promise((async(w,x)=>{let E=b?.address?Qo(u,b.address):fp(u);if(!E&&b?.address){let O=o.find((H=>H.address===b.address&&H.walletClientType!=="privy"));if(O)try{let H=await O.signMessage(m);d("signSolanaMessage","onSuccess",{signature:H}),w(H)}catch(H){d("signSolanaMessage","onError",ye.UNABLE_TO_SIGN),x(H)}}if(!E)return d("signSolanaMessage","onError",ye.UNABLE_TO_SIGN),void x(Error("No embedded or connected wallet found for address."));if(!u)return d("signSolanaMessage","onError",ye.MUST_BE_AUTHENTICATED),void x(Error("User must be authenticated before signing with a Privy wallet"));let{entropyId:I,entropyIdVerifier:C}=ua(u,E),N=Fi(E),A=Pa(m).toString("base64");if(A.length<1)return d("signMessage","onError",ye.INVALID_MESSAGE),void x(Error("Message must be a non-empty string"));let T=async()=>{let O;if(!u)throw Error("User must be authenticated before signing with a Privy wallet");let H=await l.getAccessToken();if(!H)throw Error("User must be authenticated to use their embedded wallet.");let U=n??await r(15e3);if(!U)throw Error("Failed to initialize embedded wallet proxy.");if(!await i({address:E.address}))throw Error("Unable to connect to wallet");if(N){let L=await Ha(s,g,{chain_type:"solana",method:"signMessage",params:{message:A,encoding:"base64"},wallet_id:E.id});if(!L.data||!("signature"in L.data))throw Error("Failed to sign message");O=L.data.signature}else{let{response:L}=await U.rpc({accessToken:H,entropyId:I,entropyIdVerifier:C,chainType:"solana",hdWalletIndex:E.walletIndex??0,request:{method:"signMessage",params:{message:A}}});O=L.data.signature}return O};if(e({showWalletUIs:b?.uiOptions?.showWalletUIs}))try{let O=await T(),H=new Uint8Array(Pa(O,"base64"));d("signSolanaMessage","onSuccess",{signature:H}),w(H)}catch(O){x(O)}else h({signMessage:{method:"solana_signMessage",data:A,confirmAndSign:T,onSuccess:O=>{let H=new Uint8Array(Pa(O,"base64"));d("signSolanaMessage","onSuccess",{signature:H}),w(H)},onFailure:O=>{x(O)},uiOptions:b?.uiOptions},connectWallet:{recoveryMethod:E.recoveryMethod,connectingWalletAddress:E.address,entropyId:I,entropyIdVerifier:C,isUnifiedWallet:N,onCompleteNavigateTo:s$,onFailure:O=>{d("signSolanaMessage","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),x(O)}}}),a(Ff)}))}}const Nv=()=>{let{client:t,exportSolanaWallet:e,solanaWallets:n,walletProxy:r,recoverEmbeddedWallet:i,privy:a}=lt(),{sendTransaction:s}=cot(),{signMessage:o}=Eot(),{create:l}=fle(),{signWithUserSigner:u}=MN(),{user:d}=zm(),{ready:h}=Ch(),g=k.useMemo((()=>{if(!r)return n;let m=[...zQ(d),i8(d)].filter((b=>!!b)).map((b=>({type:"solana",imported:b.imported,address:b.address,connectedAt:Date.now(),walletClientType:"privy",connectorType:"embedded",walletIndex:b.walletIndex??void 0,meta:{name:"Privy Wallet",icon:void 0,id:"io.privy.solana.wallet"},linked:!0,fund(){throw new me("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:()=>{throw new me("Cannot unlink an embedded Solana wallet")},async getProvider(){return new _at(r,b.address,this.signMessage)},signMessage:async w=>await o({message:w,options:{address:b.address,uiOptions:{showWalletUIs:!1}}}),async sendTransaction(w,x,E){let{signature:I}=await s({transaction:w,connection:x,transactionOptions:E,address:b.address});return I},async signTransaction(w){let x=await t.getAccessToken();if(!x||!r)throw new me("Must have valid access token and Privy wallet to send transaction",ye.MUST_BE_AUTHENTICATED);if(!await i({address:b.address}).catch((()=>!1)))throw new me("Wallet couldn't be connected",ye.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:E,entropyIdVerifier:I}=ua(d,b);if(Fi(b)){let C=hh(w)?Pa(w.message.serialize()):w.serializeMessage(),N=await Ha(a,u,{chain_type:"solana",method:"signMessage",params:{message:C.toString("base64"),encoding:"base64"},wallet_id:b.id});if(N.data&&"signature"in N.data)return w.addSignature(e4(w,b.address),Pa(N.data.signature,"base64")),w;throw Error("Failed to sign transaction")}return await t$({tx:w,accessToken:x,walletProxy:r,entropyId:E,entropyIdVerifier:I,transactingWalletAddress:b.address,transactingWalletIndex:b.walletIndex??0})},async signAllTransactions(w){let x=await t.getAccessToken();if(!x||!r)throw new me("Must have valid access token and Privy wallet to send transaction",ye.MUST_BE_AUTHENTICATED);if(!await i({address:b.address}).catch((()=>!1)))throw new me("Wallet couldn't be connected",ye.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:E,entropyIdVerifier:I}=ua(d,b);if(Fi(b))return await Promise.all(w.map((async C=>{let N=hh(C)?Pa(C.message.serialize()):C.serializeMessage(),A=await Ha(a,u,{chain_type:"solana",method:"signMessage",params:{message:N.toString("base64"),encoding:"base64"},wallet_id:b.id});if(A.data&&"signature"in A.data)return C.addSignature(e4(C,b.address),Pa(A.data.signature,"base64")),C;throw Error("Failed to sign transaction")})));for(let C of w)await t$({tx:C,accessToken:x,walletProxy:r,entropyId:E,entropyIdVerifier:I,transactingWalletAddress:b.address,transactingWalletIndex:b.walletIndex??0});return w},loginOrLink:async()=>{throw new me("Cannot login or link with an embedded Solana wallet")},disconnect:()=>{},isConnected:async()=>!0})));return n.concat(m)}),[d,r,t,n]);return{ready:!(!h||!r),createWallet:async m=>{m&&"target"in m&&m&&(m=void 0);let{account:b}=await l({chainType:"solana",options:m});return b},exportWallet:e,wallets:g}},c4={component:()=>{let{wallets:t}=Ch(),{wallets:e}=Nv(),{data:n,setModalData:r,navigate:i,lastScreen:a}=ft(),{rpcConfig:s,appId:o,createAnalyticsEvent:l,closePrivyModal:u}=lt(),d=Rn(),[h,g]=k.useState(void 0),[m,b]=k.useState(!1),w=Fm(),x=n?.funding,{reloadBalance:E}=dle({rpcConfig:s,appId:o,address:x.chainType==="ethereum"?x.address:void 0,chain:x.chainType==="ethereum"?x.chain:void 0}),I=x.chainType==="solana",C=I?x.isUSDC?"USDC":"SOL":x.erc20Address?x.erc20ContractInfo?.symbol:x.chain.nativeCurrency.symbol,N=I?e.find((({address:L})=>L===x.address)):t.find((({address:L})=>fa(L)===fa(x.address)));if(!x)return r({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:a||ks},funding:n?.funding,solanaFundingData:n?.solanaFundingData,sendTransaction:n?.sendTransaction}),i(Or),p.jsx(p.Fragment,{});k.useEffect((()=>{let L=I?async function(){if(x.chainType!=="solana")return;let R=w($v);R?(x.isUSDC?R.getTokenBalance({address:x.address,cluster:x.cluster,mintAddress:g5[x.cluster.name]}).then((({amount:F})=>F)):R.getBalance({address:x.address,cluster:x.cluster})).then((F=>{let _=BigInt(F);h&&_>h&&(b(!0),l({eventName:fc,payload:{provider:"manual",status:"success",chainType:"solana",address:N?.address,value:x.isUSDC?pa(_-h,6):pa(_-h,9),token:x.isUSDC?"USDC":"SOL"}})),g(_)})):console.warn("Unable to load solana plugin, skipping balance")}:async function(){x.chainType==="ethereum"&&(async()=>{if(!x.erc20Address)return await E()??BigInt(0);{let{balance:R}=await DO({chain:x.chain,address:x.address,erc20Address:x.erc20Address,rpcConfig:s,appId:o});return R}})().then((R=>{h&&R>h&&(b(!0),l({eventName:fc,payload:{provider:"manual",status:"success",chainType:"ethereum",address:N?.address,chainId:x.chain.id,value:pa(R-h,x.erc20ContractInfo?.decimals??18),token:x.erc20ContractInfo?.symbol??x.erc20Address??"ETH"}})),g(R)})).catch((()=>g(void 0)))},G=setInterval(L,2e3);return L(),()=>clearInterval(G)}),[h]);let A=k.useMemo((()=>h==null?"":x.isUSDC?Fa({amount:h,decimals:6}):I?rh(h,3,!0,!0):x.erc20ContractInfo?.decimals!=null?Fa({amount:h,decimals:x.erc20ContractInfo.decimals}):K9e({wei:h})),[h,I,x]),T=x.chainType==="ethereum"?x.chain.name:Aot[x.cluster.name],O=k.useMemo((()=>x.uiConfig?.receiveFundsTitle===""?null:p.jsx($d,{children:x.uiConfig?.receiveFundsTitle??`Receive ${x.amount} ${C??""}`.trim()})),[x.uiConfig?.receiveFundsTitle,x.amount,C]),H=k.useMemo((()=>x.uiConfig?.receiveFundsSubtitle===""?null:p.jsx(ph,{children:x.uiConfig?.receiveFundsSubtitle??`Scan this code or copy your wallet address to receive funds on ${T}.`})),[x.uiConfig?.receiveFundsSubtitle,T]),U=x.chainType==="solana"&&x.isUSDC&&g5[x.cluster.name]?`?spl-token=${g5[x.cluster.name]}`:"";return p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),O,H,p.jsxs(i9,{style:{gap:"1rem",margin:O||H?"1rem 0":"0"},children:[p.jsx(Iv,{url:`${x.chainType}:${x.address}${U}`,size:200,squareLogoElement:_ot}),p.jsxs(cle,{theme:d.appearance.palette.colorScheme,children:["Make sure to send funds on ",T,"."]}),p.jsx(w9,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${A} ${C}`,address:x.address}),m&&p.jsx(Jn,{onClick:()=>u({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),p.jsx(Pn,{})]})}};let _ot=({...t})=>p.jsx(wse,{color:"black",...t}),Aot={devnet:"Devnet","mainnet-beta":"Solana",testnet:"Testnet"},Cot=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Sot=ue.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var kot=({onBack:t,details:e})=>p.jsxs(Sot,{children:[p.jsx(dn,{backFn:t}),p.jsx(jle,{data:e}),p.jsx(Pn,{})]});let Iot=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return ni(t*e)}catch{return}};const Tot=({txn:t,receipt:e,transactionInfo:n,onClose:r,tokenPrice:i,tokenSymbol:a,receiptHeader:s,receiptDescription:o})=>p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:r}),p.jsx(gnt,{title:s??"Transaction complete!",description:o??"You're all set."}),p.jsx(Jse,{tokenPrice:i,from:e.from,to:e.to,gas:Iot(e),txn:t,transactionInfo:n,tokenSymbol:a}),p.jsx(fh,{}),p.jsx($ot,{loading:!1,onClick:r,children:"All Done"}),p.jsx(xo,{}),p.jsx(Pn,{})]});let $ot=ue(Jn).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const Not=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Pot=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],Oot=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Rot=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],Mot=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],jot=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Dot=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Bot=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Uot=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Dle=(t,e)=>{let n=Hu(Oot,t);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let r=Hu(n$,t);if(r)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:r.args[0],amount:r.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=Hu(Not,t);if(i&&typeof i.args[1]=="string"){let h=Lot(i.args[1]);if(h&&h[4].encodedInitData)return Dle(h[4].encodedInitData,e)}let a=Hu(jot,t);if(a)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:a.args[0],approved:a.args[1]};let s=Hu(Dot,t);if(s)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:s.args[0],transferTo:s.args[1],tokenId:s.args[2]};let o=Hu(Mot,t);if(o)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let l=Hu(Uot,t);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let u=Hu(Bot,t);if(u)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:u.args[0],transferTo:u.args[1],tokenIds:u.args[2],amounts:u.args[3]};let d=Hu(Rot,t);return d?{action:"mint",functionName:d.functionName,isNFTIsh:!0,isErc20Ish:!1,args:d.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let Hu=(t,e)=>{try{let n=iZ({abi:t,data:e});return{functionName:n.functionName,args:n.args||[]}}catch{return null}},Lot=t=>{try{if(typeof t=="string")return ym(Pot,`0x${t.slice(10)}`)}catch{return null}},vS=t=>`${parseFloat(t).toFixed(2)}`;const Fot=(t,e,n,r)=>{let[i,a]=k.useState(null),{walletProxy:s}=lt();return k.useEffect((()=>{i&&a(null),(async()=>{if(!s||!e)return null;let o=[],l=!0,u=await t4(t,n,e,r).catch((d=>(d.message&&d.message.includes("Insufficient balance for transaction")||d.details&&d.details.includes("insufficient funds")?l=!1:o.push(d),t)));return{tx:u,totalGasEstimate:u.gas,hasFunds:l,errors:o}})().then(a)}),[t]),i};let rK=new ka(new kg("There was an issue preparing your transaction",Hl.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),iK=(t,e)=>t?.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const Ble={component:()=>{let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:r}=ft(),{client:i,rpcConfig:a,chains:s,closePrivyModal:o,walletProxy:l,showFiatPrices:u}=lt(),{user:d}=bn(),h=Rn(),[g,m]=k.useState(0),[b,w]=k.useState(0),[x,E]=k.useState(iK(t,g)),[I,C]=k.useState(null),[N,A]=k.useState(),[T,O]=k.useState(!1),[H,U]=k.useState(null),[L,G]=k.useState(null),[R,F]=k.useState(null),[_,S]=k.useState(void 0),[$,D]=k.useState(void 0),[z,Y]=k.useState(!1),[J,V]=k.useState(!1),[M,Q]=k.useState([]),[ne,K]=k.useState([]),[se,le]=k.useState("uninitiated"),[de,he]=k.useState(void 0);if(!x||!t?.sendTransaction||!t?.sendTransaction)return p.jsx(kv,{error:Error("Invalid transaction request"),allowlistConfig:h.allowlistConfig,onRetry:()=>{t?.sendTransaction?.onFailure(rK),o({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:Ce}=t.sendTransaction,ke=k.useMemo((()=>s.find((Ye=>Number(Ye.id)===Number(x.chainId)))),[x.chainId]),Ie=ke?.nativeCurrency.symbol??"ETH",De=k.useMemo((()=>Dle(x.data,!!h.embeddedWallets.extendedCalldataDecoding)),[x.data]),{action:Ne,isErc20Ish:We,isNFTIsh:tt,functionName:Ee}=De,{toAddress:Ze,tokenAddress:xt}=k.useMemo((()=>({toAddress:De.isErc20Ish?De.transferTo:x.to??void 0,tokenAddress:De.isErc20Ish?x.to:void 0})),[De]);k.useEffect((()=>{x.to&&ke&&We&&Sle({address:x.to,chain:ke,rpcConfig:h.rpcConfig,privyAppId:h.id}).then(C).catch(console.error)}),[x.to,ke]);let{tokenPrice:Ue,isTokenPriceLoading:Ge}=Um(x.chainId),{balance:rt}=dle({rpcConfig:h.rpcConfig,appId:h.id,address:Ce,chain:ke}),pt=(function({rpcConfig:Ye,appId:jt,address:Xt,chain:it,tokenInfo:Zt}){let{chains:ir}=lt(),[tn,W]=k.useState(null),[j,q]=k.useState(!1),ee=k.useMemo((()=>{let ce=it||ir[0];if(ce)return Ed({chain:it,transport:_d(x8e(ce,Ye,jt))})}),[it,Ye,jt]),ie=k.useCallback((async()=>{if(Xt&&ee&&Zt.address)try{return q(!0),await ee.readContract({address:Zt.address,abi:Cot,functionName:"balanceOf",args:[Xt]})}catch(ce){console.error(ce)}finally{q(!1)}}),[ee,Xt,Zt?.address,it]);return k.useEffect((()=>{ie().then((ce=>ce!=null&&W(ce)))}),[ie]),{balance:tn,isLoading:j&&tn==null,formattedBalance:Fa({amount:tn??BigInt(0),decimals:Zt.decimals})}})({rpcConfig:h.rpcConfig,appId:h.id,address:Ce,tokenInfo:{address:xt||"",decimals:I?.decimals??18},chain:ke}),qe=k.useMemo((()=>Qg(Number(x.chainId),s,a,{appId:h.id})),[x.chainId,a]),ht=Fot(x,Ce,qe,t?.sendTransaction?.prepareTransactionRequest);k.useEffect((()=>{E(iK(t,g))}),[g]),k.useEffect((()=>{t.sendTransaction?.getIsSponsored?t.sendTransaction.getIsSponsored().then(A).catch(console.error):A(!1)}),[t.sendTransaction.getIsSponsored]);let Ot=()=>{if(!T)return H?t?.sendTransaction?.onSuccess({hash:H}):R||ht?.errors[0]?t?.sendTransaction?.onFailure(R??ht?.errors[0]??rK):t?.sendTransaction?.onFailure(new ka(new kg("The user rejected the request",Hl.E4001_USER_REJECTED_REQUEST.eipCode))),o({shouldCallAuthOnSuccess:!1})};e.current=Ot;let Ct=!!(t.funding&&t.funding.supportedOptions.length>0),gt=Jl(BigInt(ht?.totalGasEstimate??0n),Ie),yt=u&&Ue?R0(BigInt(ht?.totalGasEstimate??0n),Ue):void 0,re=Jl(rt??0n,Ie,void 0,!0),Z=u&&Ue?R0(rt??0n,Ue):void 0,X=I&&!pt.isLoading&&We&&Ne!=="approve"?`${pt.formattedBalance} ${I.symbol}`:void 0,ae=t.sendTransaction?.uiOptions?.transactionInfo?.title;ae||(ae=Ne==="approve"?We?"Confirm address":"Confirm action":`Approve ${Ne}`);let ge=k.useMemo((()=>{if(t.sendTransaction?.uiOptions?.description)return t.sendTransaction?.uiOptions?.description;if(Ne==="approve"&&Ee==="setApprovalForAll"&&De.approved){let Ye=p.jsx(gn,{address:De.operator||"",url:ke?.blockExplorers?.default?.url});return p.jsxs(p.Fragment,{children:[h.name," would like your permission for ",Ye," to transfer tokens on your behalf."]})}if(Ne==="approve"&&Ee==="setApprovalForAll"&&!De.approved){let Ye=p.jsx(gn,{address:De.operator||"",url:ke?.blockExplorers?.default?.url});return p.jsxs(p.Fragment,{children:[h.name," would like your permission to revoke permissions of ",Ye," from transferring tokens on your behalf."]})}return We&&Ne==="approve"||We&&Ne==="approve"?`${h.name} would like your permission for ${fa(De.spender)} to spend tokens on your behalf.`:`${h.name} wants your permission to approve the following transaction.`}),[h.name,We,De,t.sendSolanaTransaction?.uiOptions.description,Ee]),xe=t.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?p.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,ve=!(!ht||ht.errors[0]||ht.hasFunds||N!==!1),nt=ve&&Ct,Ke=nt?"Add funds":t.sendTransaction?.uiOptions?.buttonText||(g<b?"Continue":"Approve"),mt=Ye=>{if(!Ye)throw Error("Transaction scan failed");if(Ye.validation.status==="Success"&&(Ye.validation.result_type==="Benign"?D("safe"):Ye.validation.result_type==="Warning"?D("warn"):Ye.validation.result_type==="Malicious"&&(D("error"),V(!0))),Ye.simulation.status!=="Success")throw Error("Simulation failed");{S(Ye.simulation.params);let{assetsIn:jt,assetsOut:Xt}=(function(it,Zt){let ir=[],tn=new Map;if(it){for(let W of it)if(W.in[0]){let j;j=W.asset.type==="ERC721"||W.in[0].value==="approve_for_all"?{id:`nft:${W.asset.name}`,nftName:W.asset.name,nftCount:W.in.length}:{id:`token:${W.asset.type}:${W.asset.symbol}:${W.asset.name}`,iconUrl:W.asset.logo_url,value:W.in[0].value,symbol:W.asset.symbol,usdValue:W.in[0].usd_price?vS(W.in[0].usd_price):void 0,decimals:W.asset.decimals},ir.push(j)}else if(W.out[0]?.value){let j;j=W.asset.type==="ERC721"||W.out[0].value==="approve_for_all"?{id:`nft:${W.asset.name}`,nftName:W.asset.name}:{id:`token:${W.asset.type}:${W.asset.symbol}:${W.asset.name}`,iconUrl:W.asset.logo_url,value:W.out[0].value,symbol:W.asset.symbol,usdValue:W.out[0].usd_price?vS(W.out[0].usd_price):void 0,decimals:W.asset.decimals},tn.has(j.id)||tn.set(j.id,j)}}for(let W of Zt)for(let j of Object.keys(W.spenders)){let q;q=W.asset.type==="ERC721"||W.spenders[j]?.value==="approve_for_all"?{id:`nft:${W.asset.name}`,nftName:W.asset.name}:{id:`token:${W.asset.type}:${W.asset.symbol}:${W.asset.name}`,iconUrl:W.asset.logo_url,value:W.spenders[j]?.value,symbol:W.asset.symbol,usdValue:W.spenders[j]?.usd_price?vS(W.spenders[j]?.usd_price):void 0,decimals:W.asset.decimals},tn.has(q.id)||tn.set(q.id,q)}return{assetsIn:ir,assetsOut:Array.from(tn.values())}})(Ye.simulation.assets_diffs,Ye.simulation.exposures);if(Xt.length===0&&jt.length===0)throw Error("No tokens found");Q(Xt),K(jt)}};if(k.useEffect((()=>{t.sendTransaction?.scanTransaction&&h.embeddedWallets.transactionScanning.enabled&&se==="uninitiated"&&(le("in progress"),t.sendTransaction.scanTransaction().then((Ye=>{mt(Ye),le("completed")})).catch((()=>le("failed"))))}),[!!t.sendTransaction?.scanTransaction]),k.useEffect((()=>{t.sendTransaction?.scanTransaction&&se!=="failed"||((Ye,jt,Xt)=>{if(w((it=>it?.sendTransaction?"transactionRequest"in it.sendTransaction?0:it.sendTransaction.transactionRequests.length-1:0)(t)),jt.isErc20Ish&&jt.amount&&Xt){let it=l4({amount:jt.amount,decimals:Xt.decimals});he(it),Q([{value:it,symbol:Xt?.symbol,decimals:Xt?.decimals}])}else if(Ye.value){let it=BigInt(Ye.value),Zt=Ue?R0(it,Ue):void 0;Q(u&&Zt?[{value:Zt}]:[{value:Lse(it),symbol:Ie,decimals:18,usdValue:Zt}])}else Q(u?[{value:"$0"}]:[{value:"0",symbol:Ie,decimals:18}])})(ht?.tx??x,De,I)}),[x,ht?.tx,De,I,se]),L)return p.jsx(Tot,{txn:ht?.tx??x,onClose:Ot,receipt:L,transactionInfo:t.sendTransaction?.uiOptions.transactionInfo,tokenPrice:Ue,tokenSymbol:Ie,receiptHeader:t.sendTransaction?.uiOptions.successHeader,receiptDescription:t.sendTransaction?.uiOptions.successDescription});if(R)return p.jsx(Rle,{transactionError:R,transactionHash:H??void 0,network:"ethereum",chainId:ht?.tx.chainId??x.chainId,onClose:Ot,onRetry:({resetNonce:Ye})=>{F(null);let jt={...ht?.tx??x};Ye&&(jt.nonce=void 0),E(jt)}});let Mt=b!==0&&typeof g=="number"&&g!==0?()=>{m(g-1)}:void 0;return z&&_?p.jsx(kot,{details:_,onBack:()=>Y(!1)}):p.jsx(Fst,{transactionIndex:g,onBack:Mt,maxIndex:b,disabled:ve&&!Ct||J,isSubmitting:T,submitError:R,isPreparing:!ht,isTokenPriceLoading:Ge,isTokenContractInfoLoading:!tt&&!I,prepareError:ht?.errors[0],symbol:I?.symbol,chain:ke,img:xe,title:ae,subtitle:ge,txValue:x.value,fee:yt??gt,isSponsored:N,from:Ce??"",to:Ze,tokenAddress:xt??void 0,network:h.chains.find((Ye=>Ye.id===x.chainId))?.name??"",transactionDetails:{...De,formattedAmount:de},cta:Ke,missingFunds:ve,action:Ne,balance:X??Z??re,onClose:Ot,onClick:nt?async()=>{if(Ce){if(!Ct)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:ks,chainType:"ethereum",amount:op(BigInt(ht?.tx.value??0)+BigInt(ht?.totalGasEstimate?.toString()??0)),chain:ke},solanaFundingData:t?.solanaFundingData}),r(ks)}}:async()=>{if(g<b)m(g+1);else{O(!0);try{let Ye=await i.getAccessToken();if(T||!Ye||!l||!d)return;let jt=await t.sendTransaction.onConfirm({transactionRequest:ht?.tx??x});if(U(jt),t.sendTransaction?.signOnly)return await new Promise((it=>setTimeout(it,Pr))),t?.sendTransaction?.onSuccess({hash:jt}),o({shouldCallAuthOnSuccess:!1});let Xt=await qe.waitForTransactionReceipt({hash:jt});if(Xt.status==="reverted")throw Error("Transaction failed");G(Xt)}catch(Ye){console.warn({transaction:ht?.tx??x,error:Ye}),F(Ye)}finally{O(!1)}}},validation:$,hasScanDetails:!!_,setIsScanDetailsOpen:Y,preventMaliciousTransaction:J,setPreventMaliciousTransaction:V,tokensSent:M,tokensReceived:ne,isScanning:se==="in progress",isCancellable:t.sendTransaction?.uiOptions?.isCancellable??!1,functionName:Ee})}};function Ts({title:t}){let{currentScreen:e,navigateBack:n,navigate:r,data:i,setModalData:a}=ft();return p.jsx(dn,{title:t,backFn:e===c4?n:e===i?.funding?.methodScreen?i.funding.comingFromSendTransactionScreen?()=>r(Ble):void 0:i?.funding?.methodScreen?()=>{let s=i.funding;s.usingDefaultFundingMethod&&(s.usingDefaultFundingMethod=!1),a({funding:s,solanaFundingData:i?.solanaFundingData}),r(s.methodScreen)}:void 0})}const Ule={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:r}=lt(),{navigate:i,setModalData:a,app:s,data:o}=ft(),{wallets:l}=Ch(),u=Fm(),[d,h]=k.useState(null),[g,m]=k.useState(null),[b,w]=k.useState([]),[x,E]=k.useState(0),[I,C]=k.useState(!1),[N,A]=k.useState(!1),[T,O]=k.useState(!1),[H,U]=k.useState(!1),[L,G]=k.useState(),[R,F]=k.useState();if(!o?.funding||o.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:_,cluster:S,connectedWalletAddress:$}=o.funding,[D,z]=k.useState(o.funding.amount),Y=$?l.find((({address:De})=>De===$)):l[0],J=Md(Y?.walletClientType||"unknown"),V=J?.name||"wallet",[M,Q]=k.useState(null);k.useEffect((()=>{(async()=>{if(!Y)return;let De=await Y.getEthereumProvider();Q(mX({account:Y.address,transport:bX(De)}).extend(pN))})().catch(console.error)}),[Y]);let[ne,K]=k.useState(0n),se=rh(ne);k.useEffect((()=>{let De=u($v);De?De.getBalance({address:_,cluster:S}).then((Ne=>K(BigInt(Ne)))):console.warn("Unable to load solana plugin, skipping balance")}),[]);let[le,de]=k.useState(),{tokenPrice:he}=Um("solana"),{fundingAmountInBaseUnit:Ce,fundingAmountInUsd:ke}=Fse({amount:D,fee:0n,tokenPrice:he,isUsdc:o.funding.isUSDC});if(k.useEffect((()=>{(async()=>{if(!M||!Y)return;let De=["testnet","devnet"].includes(S.name);De&&console.warn("Solana testnets are not supported for bridging");let Ne=bN(s.chains).filter((({testnet:xt})=>!!xt===De)),We=(await ple({chains:Ne,address:Y.address,appId:e,rpcConfig:t})).filter((xt=>xt.balance>0n));if(We.length<1)return void h(new me(`Wallet ${fa(Y.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE));We.sort(((xt,Ue)=>Number(Ue.balance-xt.balance)));let tt=(await Promise.allSettled(We.map((async xt=>({...xt,quote:await $w({isTestnet:!1,input:Tg({amount:Ce.toString(),user:Y.address,recipient:_,destinationChainId:jT,destinationCurrency:DT,originChainId:xt.chain.id})})}))))).filter((xt=>xt.status==="fulfilled")).map((xt=>xt.value));if(tt.length<1)return void h(new me(`Unable to fetch quotes for bridging. Wallet ${fa(Y.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE));let Ee=tt.map((({quote:xt,balance:Ue,chain:Ge})=>({bridgeTx:a4(xt),balance:Ue,chain:Ge,isErc20Quote:!1}))).filter((({bridgeTx:xt})=>!!xt));if(Ee.length>1)return void w(Ee);let Ze=Ee.at(0);Ze?(A(!0),de({data:Ze.bridgeTx.data,to:Ze.bridgeTx.to,value:Ze.bridgeTx.value,chain:Ze.chain})):h(new me(`Unable to select bridge option from quotes. Wallet ${fa(Y.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE))})().catch(console.error)}),[M]),k.useEffect((()=>{(async()=>{let De,Ne;if(!M||!Y||I||T||!le)return;C(!0);let We=Ed({chain:le.chain,transport:_d(kd(le.chain,t,e))});try{De=await We.prepareTransactionRequest({account:Y.address,to:le.to,chain:le.chain,data:le.data,value:BigInt(le.value??0)})}catch(tt){console.error(tt),b.length>1&&m(tt.shortMessage??"Something went wrong")}if(De){C(!1),O(!0);try{await M.switchChain({id:le.chain.id})}catch{await M.addChain({chain:le.chain}),await M.switchChain({id:le.chain.id})}try{Ne=await M.sendTransaction(De)}catch(tt){console.error(tt),tt.name==="TransactionExecutionError"&&(b.length<1?h(new me(tt.shortMessage,void 0,ye.TRANSACTION_FAILURE)):m(tt.shortMessage??"Something went wrong"))}if(Ne)return await M.waitForTransactionReceipt({hash:Ne}),N?(F("pending"),void G(Ne)):(O(!1),U(!0),void r({eventName:fc,payload:{provider:"external",status:"success",txHash:Ne,address:Y.address,chainId:le.chain.id,chainType:"ethereum",value:le.value?pa(BigInt(le.value),18):void 0,token:"ETH",destination:_,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:pa(Ce,9),destinationToken:"SOL"}}));O(!1)}else C(!1)})().catch(console.error)}),[M,le]),jO({transactionHash:L,wallet:Y,isTestnet:!1,bridgingStatus:R,setBridgingStatus:F,onSuccess({transactionHash:De,wallet:Ne}){A(!1),U(!0),r({eventName:fc,payload:{provider:"external",status:"success",txHash:De,address:Ne.address,chainId:le?.chain.id,chainType:"ethereum",value:le?.value?pa(BigInt(le.value),18):void 0,token:"ETH",destination:_,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:pa(Ce,9),destinationToken:"SOL"}})},onFailure({error:De}){A(!1),h(De)}}),k.useEffect((()=>{d&&(a({funding:o?.funding,solanaFundingData:o?.solanaFundingData,sendTransaction:o?.sendTransaction,errorModalData:{error:d,previousScreen:Hm}}),i(Or,!1))}),[d]),k.useEffect((()=>{if(!H)return;let De=setTimeout(n,J8);return()=>clearTimeout(De)}),[H]),H)return p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx(pc,{}),p.jsxs(Av,{children:[p.jsx(jm,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(mo,{title:"Success!",description:`Youve successfully added ${D} SOL to your ${s.name} wallet. It may take a minute before the funds are available to use.`})]}),p.jsx(xo,{}),p.jsx(Pn,{})]});let Ie=b[x];return b.length>1&&Ie?p.jsx(Ele,{displayName:V,configuredFundingChain:S,formattedBalance:se,fundingAmount:D,fundingCurrency:"SOL",fundingAmountInUsd:ke,options:b,selectedOption:Ie,isPreparing:I,isSubmitting:T,addressToFund:_,fundingWalletAddress:Y?.address||"",errorMessage:g,onSubmit:()=>{o.funding?.amount!==D?(async function(){if(Y&&Ie)try{let De=await $w({isTestnet:!1,input:Tg({amount:Ce.toString(),user:Y.address,recipient:_,destinationChainId:jT,destinationCurrency:DT,originChainId:Ie.chain.id})}),Ne=a4(De);if(!Ne)throw Error("Invalid transaction request");A(!0),de({data:Ne.data,to:Ne.to,value:Ne.value,chain:Ie.chain})}catch(De){console.error(De),h(new me("Unable to fetch quotes for bridging",De,ye.INSUFFICIENT_BALANCE))}})().catch(console.error):de({to:Ie.bridgeTx.to,data:Ie.bridgeTx.data,value:Ie.bridgeTx.value,chain:Ie.chain})},onSelect:De=>{De!==x&&(m(null),E(De))},onAmountChange:z}):T&&Y?p.jsx(v9,{wallet:Y,displayName:V,addressToFund:_,isBridging:N,isErc20Flow:!1,chainId:"solana",chainName:S.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):p.jsxs(p.Fragment,{children:[p.jsx(Ts,{}),p.jsx(Cp,{}),p.jsx("div",{style:{marginTop:"1rem"}}),p.jsx(Pn,{})]})}},xS=new Map([[ks,null],[Hm,"external"],[_le,"external"],[UO,"external"],[Ule,"external"],[Ale,"external"],[c4,"manual"],[kle,"moonpay"]]),zot=()=>{let t=Rn(),{user:e}=bn(),{client:n,refreshSessionAndUser:r,walletProxy:i}=lt();return{migrate:k.useCallback((async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new me("User must be authenticated before migrating wallets",ye.MUST_BE_AUTHENTICATED);let a=cl(e);if(!a||Fi(a)||!tm(a))return{success:!0};if(!i)throw new me("Cannot connect to wallet proxy");let s=await n.getAccessToken();if(!s)throw new me("User must be authenticated before migrating wallets",ye.MUST_BE_AUTHENTICATED);let o=a.imported?[a]:e.linkedAccounts.filter((d=>d.type==="wallet"&&d.walletClientType==="privy"&&!d.imported)).filter(tm),{entropyId:l,entropyIdVerifier:u}=ua(e,a);try{await i.connect({accessToken:s,entropyId:l,entropyIdVerifier:u})}catch(d){if(!Tw(d)||a.recoveryMethod!=="privy")throw d;await i.recover({accessToken:s,entropyId:l,entropyIdVerifier:u})}return await i.createDelegatedAction({accessToken:s,rootWallet:{address:a.address,chainType:a.chainType,imported:a.imported},delegatedWallets:o}),await r(),{success:!0}}),[t.embeddedWallets.mode,e,i,n,r])}},Wot=({disabled:t})=>{let{migrate:e}=zot(),{user:n}=bn(),{walletProxy:r}=lt();return k.useEffect((()=>{!t&&n&&r&&e().catch((i=>{console.debug("Unable to migrate wallets: ",i)}))}),[n,r,t,e]),null},Hot=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type});function qot(t){let{logout:e}=k.useContext(_m);return Bm("logout",t),{logout:e}}const Vot=({providerApp:t,success:e,error:n,onClose:r})=>{let{title:i,subtitle:a}=k.useMemo((()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:n?{title:"Authentication failed",subtitle:n.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`}),[e,n,t.name]);return p.jsx(kn,{title:i,subtitle:a,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},onBack:r,watermark:!0})},Got={component:()=>{let t=Rn(),{data:e,navigate:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i}=ft(),{crossAppAuthFlow:a,updateWallets:s,closePrivyModal:o,createAnalyticsEvent:l}=lt(),{logout:u}=qot(),[d,h]=k.useState({}),g=e?.crossAppAuth,m={id:g.appId,name:g.name,logoUrl:g.logoUrl},b=new me(`There was an issue connecting your ${m.name} account. Please try again.`),w=new Ya((async E=>{if(g.popup)try{let I=await a({appId:E,popup:g.popup,action:g.action});h({data:I})}catch(I){if(I instanceof me)h({error:I});else if(I instanceof no){if(I.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&I.data?.data?.nonce)return r({accountTransfer:{nonce:I.data?.data?.nonce,account:I.data?.data?.subject,displayName:I.data?.data?.account?.displayName,linkMethod:`privy:${m.id}`,embeddedWalletAddress:I.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:I.data?.data?.otherUser?.oAuthUserInfo}}),void n(Sp);g.popup&&g.popup.close(),h({error:b})}else h({error:b})}else h({error:b})})),x=()=>{d.data&&(s(),g.onSuccess(d.data),o({shouldCallAuthOnSuccess:!0,isSuccess:!0})),g.onError(d.error??new me("User canceled flow")),o({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=x,k.useEffect((()=>{m.id.length&&w.execute(m.id)}),[m.id]),k.useEffect((()=>{if(!d.data)return;let E=d.data;if(t.legal.requireUsersAcceptTerms&&!E.hasAcceptedTerms){let C=setTimeout((()=>{n(kp)}),Pr);return()=>clearTimeout(C)}if(kh(E,t.embeddedWallets)){let C=setTimeout((()=>{r({createWallet:{onSuccess:()=>{},onFailure:N=>{console.error(N),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:N,provider:`privy:${m.id}`,screen:"CrossAppAuthScreen"}}),u()},callAuthOnSuccessOnClose:!0}}),n(Dd)}),Pr);return()=>clearTimeout(C)}let I=setTimeout(x,Pr);return()=>clearTimeout(I)}),[d.data]),p.jsx(Vot,{providerApp:m,success:!!d.data,error:d.error,onClose:x})}},Kot=({appName:t,address:e,success:n,error:r,onAccept:i,onDecline:a,onClose:s})=>p.jsx(kn,n||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:r?Rne:uv,iconVariant:r?"error":"success",onBack:s,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:$Ne,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:a},onBack:s,watermark:!0,children:p.jsx(w9,{address:e,title:"Wallet"})}),Yot={component:()=>{let{app:t,data:e}=ft(),{closePrivyModal:n}=lt(),[r,i]=k.useState(!1),[a,s]=k.useState(),{address:o,onDelegate:l,onSuccess:u,onError:d}=e.delegatedActions.consent,h=async()=>{r?u():d(a??new me("User declined delegating actions.")),n({shouldCallAuthOnSuccess:!1})};return k.useEffect((()=>{if(!r&&!a)return;let g=setTimeout(h,sO);return()=>clearTimeout(g)}),[r,a]),p.jsx(Kot,{appName:t.name,address:o,success:r,error:a,onAccept:async()=>{try{await l(),i(!0)}catch(g){s(g)}},onDecline:()=>{h()},onClose:h})}},Zot=({appName:t,success:e,error:n,onRevoke:r,onDeny:i,onClose:a})=>p.jsx(kn,e||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":"You've successfully revoked permissions.",icon:n?Rne:uv,iconVariant:n?"error":"success",onBack:a,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:kNe,primaryCta:{label:"Confirm",onClick:r},secondaryCta:{label:"Deny",onClick:i},onBack:a,watermark:!0}),Jot={component:()=>{let{app:t,data:e}=ft(),{closePrivyModal:n}=lt(),[r,i]=k.useState(!1),[a,s]=k.useState(),{onRevoke:o,onSuccess:l,onError:u}=e.delegatedActions.revoke,d=async()=>{r?l():u(a??new me("User declined revoking access to their delegated wallet.")),n({shouldCallAuthOnSuccess:!1})};return k.useEffect((()=>{if(!r&&!a)return;let h=setTimeout(d,sO);return()=>clearTimeout(h)}),[r,a]),p.jsx(Zot,{appName:t.name,success:r,error:a,onRevoke:async()=>{try{await o(),i(!0)}catch(h){s(h)}},onDeny:()=>{d()},onClose:d})}};let aK="#8a63d2";const Xot=({appName:t,loading:e,success:n,errorMessage:r,connectUri:i,onBack:a,onClose:s,onOpenFarcaster:o})=>p.jsx(kn,Dn.isMobile||e?Dn.isIOS?{title:r?r.message:"Add a signer to Farcaster",subtitle:r?r.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:M0,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:i&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:a,onClose:s,watermark:!0}:{title:r?r.message:"Requesting signer from Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:M0,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:a,onClose:s,watermark:!0,children:i&&Dn.isMobile&&p.jsx(Qot,{children:p.jsx(zoe,{text:"Take me to Farcaster",url:i,color:aK})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:a,onClose:s,watermark:!0,children:p.jsxs(elt,{children:[p.jsx(tlt,{children:i?p.jsx(Iv,{url:i,size:275,squareLogoElement:M0}):p.jsx(ilt,{children:p.jsx(hl,{})})}),p.jsxs(nlt,{children:[p.jsx(rlt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&p.jsx(LO,{text:i,itemName:"link",color:aK})]})]})});let Qot=ue.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-da518e1f-0"})(["margin-top:24px;"]),elt=ue.div.withConfig({displayName:"ContentContainer",componentId:"sc-da518e1f-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),tlt=ue.div.withConfig({displayName:"QrContainer",componentId:"sc-da518e1f-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),nlt=ue.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-da518e1f-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),rlt=ue.div.withConfig({displayName:"InstructionText",componentId:"sc-da518e1f-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),ilt=ue.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-da518e1f-5"})(["position:relative;width:82px;height:82px;"]);const alt={component:()=>{let{lastScreen:t,navigateBack:e,data:n,app:r}=ft(),{requestFarcasterSignerStatus:i,closePrivyModal:a}=lt(),[s,o]=k.useState(void 0),[l,u]=k.useState(!1),[d,h]=k.useState(!1),g=k.useRef([]),m=n?.farcasterSigner;k.useEffect((()=>{let w=Date.now(),x=setInterval((async()=>{if(!m?.public_key)return clearInterval(x),void o({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});m.status==="approved"&&(clearInterval(x),u(!1),h(!0),g.current.push(setTimeout((()=>a({shouldCallAuthOnSuccess:!1,isSuccess:!0})),Pr)));let E=await i(m?.public_key),I=Date.now()-w;E.status==="approved"?(clearInterval(x),u(!1),h(!0),g.current.push(setTimeout((()=>a({shouldCallAuthOnSuccess:!1,isSuccess:!0})),Pr))):I>3e5?(clearInterval(x),o({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):E.status==="revoked"&&(clearInterval(x),o({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))}),2e3);return()=>{clearInterval(x),g.current.forEach((E=>clearTimeout(E)))}}),[]);let b=m?.status==="pending_approval"?m.signer_approval_url:void 0;return p.jsx(Xot,{appName:r.name,loading:l,success:d,errorMessage:s,connectUri:b,onBack:t?e:void 0,onClose:a,onOpenFarcaster:()=>{b&&(window.location.href=b)}})}},slt=({onClose:t})=>p.jsx(kn,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:kI,primaryCta:{label:"Close",onClick:t},watermark:!0}),sK={component:()=>{let{closePrivyModal:t}=lt();return p.jsx(slt,{onClose:()=>t()})}},olt=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>p.jsx(kn,{title:t,subtitle:e,icon:Y8,watermark:!0,children:p.jsx(Vse,{children:p.jsx(Qoe,{stacked:!0})})}),llt={component:()=>{let{app:t}=ft();return p.jsx(olt,{subtitle:`Add your email to your ${t?.name} account`})}},clt=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:n,isSubmitting:r=!1})=>{let[i,a]=k.useState(null),s=async()=>{i?.qualifiedPhoneNumber&&await n(i)};return p.jsx(kn,{title:t,subtitle:e,icon:lh,primaryCta:{label:r?"Submitting":"Submit",onClick:s,disabled:!i?.isValid||r},watermark:!0,children:p.jsx(y9,{onChange:o=>{a(o)},onSubmit:s,noIncludeSubmitButton:!0,hideRecent:!0})})},FO={component:()=>{let{app:t,currentScreen:e,data:n,navigate:r,setModalData:i}=ft(),{initLoginWithSms:a}=lt(),[s,o]=k.useState(!1);return p.jsx(clt,{subtitle:`Add your number to your ${t?.name} account`,onSubmit:async l=>{o(!0);try{await a({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),r(Td)}catch(u){i({errorModalData:{error:u,previousScreen:n?.errorModalData?.previousScreen||e||FO}}),r(Or)}finally{o(!1)}},isSubmitting:s})}},ult=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:n="Try again",secondaryCtaText:r="Cancel",onTryAgain:i,onCancel:a})=>p.jsx(kn,{title:t,subtitle:e,icon:N8,iconVariant:"error",primaryCta:{label:n,onClick:i},secondaryCta:{label:r,onClick:a},watermark:!0}),dlt={component:()=>{let{closePrivyModal:t}=lt(),{navigate:e}=ft();return p.jsx(ult,{onTryAgain:()=>{e(Da)},onCancel:async()=>{await t()}})}};function Lle(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:a,unenroll:s,enrollInMfa:o}=k.useContext(_m);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:a,unenrollWithSms:()=>s("sms"),unenrollWithTotp:()=>s("totp"),unenrollWithPasskey:l=>s("passkey",l),showMfaEnrollmentModal:()=>o(!0),closeMfaEnrollmentModal:()=>o(!1)}}const flt=t=>p.jsxs(hlt,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[p.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let hlt=ue.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],(t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);"));const plt=({showIntro:t,userMfaMethods:e,appMfaMethods:n,userHasAuthSms:r,isTotpLoading:i,isPasskeyLoading:a,error:s,onClose:o,onBackToIntro:l,handleSelectMethod:u,setRemovingMfaMethod:d})=>{let h=e.reduce(((m,b)=>({...m,[b]:!0})),{}),g=n.reduce(((m,b)=>({...m,[b]:!0})),{});return p.jsxs(p.Fragment,{children:[p.jsx(dn,{backFn:t?l:void 0,onClose:o},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(V0,{})}),p.jsx(vs,{children:"Choose a verification method"}),e.length>0?p.jsx(nl,{children:"To add or delete verification methods, verification is required."}):p.jsx(nl,{children:"How would you like to verify your identity?"}),s&&p.jsx(jse,{style:{marginTop:"1.25rem"},children:s.message}),p.jsxs(Rse,{children:[(g.passkey||h.passkey)&&p.jsxs(cS,{children:[p.jsx(jr,{style:{justifyContent:"center"},onClick:()=>u("passkey"),disabled:h.passkey||a,children:a?p.jsx(hl,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):p.jsxs(fS,{children:[p.jsxs(dS,{children:[p.jsx(tP,{}),"Passkey"]}),h.passkey?p.jsx(ES,{color:"green",children:"Enabled"}):p.jsx(gG,{$isAccent:!0,children:p.jsx(nXe,{})})]})}),h.passkey&&p.jsx(uS,{style:{position:"absolute",right:0},onClick:()=>d("passkey"),children:p.jsx(CC,{})})]},"passkey"),(g.totp||h.totp)&&p.jsxs(cS,{children:[p.jsx(jr,{style:{justifyContent:"center"},disabled:h.totp||i,onClick:()=>u("totp"),children:i?p.jsx(hl,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):p.jsxs(fS,{children:[p.jsxs(dS,{children:[p.jsx(g8,{}),"Authenticator app"]}),h.totp&&p.jsx(ES,{color:"green",children:"Enabled"})]})}),h.totp&&p.jsx(uS,{style:{position:"absolute",right:0},onClick:()=>d("totp"),children:p.jsx(CC,{})})]},"totp"),(g.sms||h.sms)&&p.jsxs(cS,{children:[p.jsx(jr,{disabled:h.sms||r,onClick:()=>u("sms"),children:p.jsxs(fS,{children:[p.jsxs(dS,{children:[p.jsx(lh,{}),"SMS"]}),h.sms&&p.jsx(ES,{color:"green",children:"Enabled"}),r&&p.jsx(gG,{children:"Disabled"})]})}),h.sms&&p.jsx(uS,{style:{position:"absolute",right:0},onClick:()=>d("sms"),children:p.jsx(CC,{})})]},"sms")]}),p.jsx(glt,{children:"You can always change your selection later"}),p.jsx(ai,{})]})};let ES=ue(uu).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),glt=ue(Mse).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const Fle=({style:t,...e})=>p.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[p.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[p.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),p.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),p.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),p.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),p.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),p.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),p.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),p.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),p.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),p.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),p.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),p.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),p.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),p.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),p.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),p.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),p.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),p.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),p.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),p.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),p.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),p.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_113_33841",children:p.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),mlt=({onClose:t,onReset:e,submitEnrollmentWithPasskey:n})=>{let{user:r}=bn(),{initLinkWithPasskey:i,linkWithPasskey:a}=lt(),{app:s}=ft(),[o,l]=k.useState(!1),[u,d]=k.useState(!1),[h,g]=k.useState(null),m=k.useMemo((()=>r?.linkedAccounts.filter((x=>x.type==="passkey"))??[]),[r]),b=async x=>{l(!0);try{await n(x)}catch(E){g(E)}finally{l(!1)}},w=async()=>{d(!0),g(null);try{await i();let x=await a(),E=x?.linkedAccounts.filter((I=>I.type==="passkey")).map((I=>I.credentialId))??[];await b(E)}catch(x){g(x)}finally{d(!1)}};return m.length===0||u?p.jsx(ylt,{onReset:e,onClose:t,onClick:w,isCreating:u}):h?p.jsx(kv,{allowlistConfig:s.allowlistConfig,error:h,onBack:()=>g(null),onRetry:()=>g(null)}):p.jsx(blt,{passkeys:m,isSubmitting:o,isCreating:u,onReset:e,onClose:t,onSubmitEnrollment:()=>b(m.map((x=>x.credentialId))),onAddPasskey:w})};let ylt=({onReset:t,onClose:e,onClick:n,isCreating:r})=>p.jsxs(p.Fragment,{children:[p.jsx(dn,{backFn:t,onClose:e},"header"),p.jsx(vO,{children:p.jsxs(mle,{children:[p.jsx(SO,{}),p.jsx(Fle,{})]})}),p.jsx(vs,{children:"Set up passkey verification"}),p.jsxs(r9,{children:[p.jsxs(O0,{children:[p.jsx(P0,{children:p.jsx(V0,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),p.jsxs(O0,{children:[p.jsx(P0,{children:p.jsx(oXe,{})}),"Takes seconds to set up and use"]}),p.jsxs(O0,{children:[p.jsx(P0,{children:p.jsx(YJe,{})}),"Use your passkey to verify transactions and login to your account"]})]}),p.jsx(Jn,{style:{marginTop:"2.25rem"},onClick:n,loading:r,children:"Add a new passkey"}),p.jsx(ai,{})]}),blt=({onReset:t,onClose:e,onAddPasskey:n,onSubmitEnrollment:r,passkeys:i,isSubmitting:a,isCreating:s})=>{let[o,l]=k.useState(!1),u=o?i.length:i.length>3?2:3;return p.jsxs(p.Fragment,{children:[p.jsx(dn,{backFn:o?()=>l(!1):t,onClose:e},"header"),!o&&p.jsx(vO,{children:p.jsxs(mle,{children:[p.jsx(SO,{}),p.jsx(Fle,{})]})}),p.jsx(vs,{children:"Enable your passkeys for verification"}),p.jsxs(r9,{children:[i.slice(0,u).map((d=>p.jsxs(wlt,{children:[p.jsx(vlt,{children:Elt(d)}),p.jsxs(xlt,{children:["Last used: ",d.latestVerifiedAt?.toLocaleString()]})]},d.credentialId))),!o&&i.length>3&&p.jsx(oK,{onClick:()=>l(!0),children:"View All"})]}),p.jsx(Jn,{style:{marginTop:"1.5rem"},onClick:r,loading:a,children:"Enable passkeys"}),i.length<5&&p.jsx(oK,{style:{marginTop:"0.5rem"},onClick:n,disabled:s,children:s?p.jsx(hl,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),p.jsx(ai,{})]})},wlt=ue.div.withConfig({displayName:"PasskeyItem",componentId:"sc-9b5fbdd5-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),vlt=ue.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-9b5fbdd5-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),xlt=ue.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-9b5fbdd5-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),Elt=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const oK=ue.button.withConfig({displayName:"StyledLink",componentId:"sc-9b5fbdd5-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),_lt=({appName:t,onComplete:e,onReset:n,onClose:r})=>{let[i,a]=k.useState(""),[s,o]=k.useState(!1),[l,u]=k.useState(null),[d,h]=k.useState("enroll"),{initEnrollmentWithSms:g,submitEnrollmentWithSms:m}=Lle(),{app:b,data:w}=ft();function x(){w?.mfaEnrollmentFlow?.onSuccess(),e()}return l?p.jsx(kv,{allowlistConfig:b.allowlistConfig,error:l,onBack:()=>u(null),onRetry:()=>u(null)}):p.jsxs(p.Fragment,d==="enroll"?{children:[p.jsx(dn,{backFn:n,onClose:r},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(lh,{})}),p.jsx(vs,{children:"Set up SMS verification"}),p.jsxs(nl,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),p.jsxs(tp,{children:[p.jsx(y9,{onSubmit:async function({qualifiedPhoneNumber:E}){try{await g({phoneNumber:E}),a(E),h("verify")}catch(I){u(I)}},hideRecent:!0}),p.jsxs(Mse,{children:["By providing your mobile number, you agree to receive text messages from ",b?.name,". Some carrier charges may apply"]})]}),p.jsx(ai,{})]}:s?{children:[p.jsx(dn,{onClose:x},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(jm,{})}),p.jsx(vs,{children:"SMS verification added"}),p.jsxs(nl,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),p.jsx(Z1,{children:p.jsx(Jn,{onClick:x,children:"Done"})}),p.jsx(ai,{})]}:{children:[p.jsx(dn,{backFn:function(){d==="verify"?h("enroll"):n()},onClose:r},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(lh,{})}),p.jsx(vs,{children:"Enter enrollment code"}),p.jsxs(tp,{children:[p.jsx(n4,{onChange:async function(E){try{if(!E)return;await m({phoneNumber:i,mfaCode:E}),o(!0)}catch(I){throw noe(I)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):IO(I)?Error("The code you entered is not valid"):kO(I)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):roe(I)?Error("Verification canceled"):Error("Unknown error")}}}),p.jsxs(nl,{children:["To continue, enter the 6-digit code sent to ",p.jsx("strong",{children:O9e(i)})]})]}),p.jsx(ai,{})]})},Alt=ue.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]),Clt=({size:t,authUrl:e})=>p.jsx(Iv,{url:e,squareLogoElement:oQe,size:t,fgColor:"#1F1F1F"}),Slt=({onClose:t,onReset:e,totpInfo:n,submitEnrollmentWithTotp:r,error:i})=>{let[a,s]=k.useState("enroll");return p.jsxs(p.Fragment,a==="enroll"?{children:[p.jsx(dn,{backFn:e,onClose:t},"header"),p.jsx($d,{children:"Scan QR code"}),p.jsx(ph,{children:"Open your authenticator app and scan this code to continue"}),p.jsx(mtt,{children:p.jsx(Clt,{authUrl:n.authUrl,size:240})}),p.jsx(ps,{style:{textAlign:"left"},children:"Setup key"}),p.jsxs(b9,{style:{marginTop:"0.25rem"},children:[p.jsx(Alt,{children:"".repeat(16)}),p.jsx(LO,{itemName:" ",text:n.secret})]}),p.jsx(Jn,{style:{marginTop:"1rem"},onClick:function(){s("verify")},children:"Continue"}),p.jsx(ai,{})]}:{children:[p.jsx(dn,{backFn:function(){a==="verify"?s("enroll"):e()},onClose:t},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(g8,{})}),p.jsx($d,{children:"Enter enrollment code"}),p.jsx(ph,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),p.jsx(tp,{children:p.jsx(n4,{onChange:async function(o){try{if(!o)return;await r({mfaCode:o})}catch(l){throw noe(l)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):IO(l)?Error("The code you entered is not valid"):kO(l)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):roe(l)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i?.message})}),p.jsx(ai,{})]})},klt={component:()=>{let{user:t,enrollInMfa:e,ready:n}=bn(),[r,i]=k.useState(null),{unenrollWithSms:a,unenrollWithTotp:s,unenrollWithPasskey:o,submitEnrollmentWithTotp:l,initEnrollmentWithPasskey:u,submitEnrollmentWithPasskey:d,initEnrollmentWithTotp:h}=Lle(),{app:g,data:m,onUserCloseViaDialogOrKeybindRef:b}=ft(),{closePrivyModal:w}=lt(),{promptMfa:x}=ioe(),[E,I]=k.useState(!1),[C,N]=k.useState(null),[A,T]=k.useState(null),O=()=>{w({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout((()=>{i(null),N(null)}),500)},[H,U]=k.useState(!1),[L,G]=k.useState();b.current=O;let R=t?.mfaMethods.includes("sms"),F=!!t?.phone,_=t?.mfaMethods.includes("totp"),S=t?.mfaMethods.includes("passkey"),$=R||_||S,D=t?.linkedAccounts.filter((V=>V.type==="passkey")).map((V=>V.credentialId))??[];function z(){i(null),N(null)}async function Y(V=D){U(!0);try{return await u(),await d({credentialIds:V},{removeForLogin:m?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa}),m?.mfaEnrollmentFlow?.onSuccess(),O()}catch(M){G(M)}finally{U(!1)}}if(k.useEffect((()=>{$&&I(!0)}),[$]),!n||!t||!g)return p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:O},"header"),p.jsx(vO,{children:p.jsx(flt,{})}),p.jsx(tp,{children:p.jsx(hl,{})}),p.jsx(ai,{})]});if(r==="sms")return p.jsxs(p.Fragment,{children:[p.jsx(dn,{backFn:z,onClose:O},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(Eg,{})}),p.jsx(vs,{children:"Remove SMS verification?"}),p.jsxs(nl,{children:["MFA adds an extra layer of security to your ",g?.name," account. Make sure you have other methods to secure your account."]}),p.jsx(Z1,{children:p.jsx(Jn,{$warn:!0,onClick:async function(){i(null);try{await a()}catch{i(null)}},children:"Remove"})}),p.jsx(ai,{})]});if(r==="totp")return p.jsxs(p.Fragment,{children:[p.jsx(dn,{backFn:z,onClose:O},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(Eg,{})}),p.jsx(vs,{children:"Remove authenticator app verification?"}),p.jsxs(nl,{children:["MFA adds an extra layer of security to your ",g?.name," account. Make sure you have other methods to secure your account."]}),p.jsx(Z1,{children:p.jsx(Jn,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),p.jsx(ai,{})]});if(r==="passkey"){let V=m?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa??!0;return p.jsxs(p.Fragment,{children:[p.jsx(dn,{backFn:z,onClose:O},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(Eg,{})}),p.jsx(vs,{children:"Are you sure you want to remove this passkey?"}),p.jsx(nl,{children:V?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),p.jsx(Z1,{children:p.jsx(Jn,{$warn:!0,onClick:async function(){i(null);try{await o({removeForLogin:m?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),p.jsx(ai,{})]})}if(m.mfaEnrollmentFlow.mfaMethods.length===0&&!$)return p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:O},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(V0,{})}),p.jsx(vs,{children:"Add more security"}),p.jsxs(nl,{children:[g?.name," does not have any verification methods enabled."]}),p.jsx(Z1,{children:p.jsx(Jn,{onClick:O,children:"Close"})}),p.jsx(ai,{})]});let J=!$&&!E;return J?p.jsxs(p.Fragment,{children:[p.jsx(dn,{onClose:O},"header"),p.jsx(rl,{style:{marginBottom:"1.5rem"},children:p.jsx(V0,{})}),p.jsx(vs,{children:"Transaction Protection"}),p.jsx(nl,{children:"Set up transaction protection to add an extra layer of security to your account"}),p.jsxs(r9,{children:[p.jsxs(O0,{children:[p.jsx(P0,{children:p.jsx(rQe,{})}),"Enable 2-Step verification for your ",g?.name," wallet."]}),p.jsxs(O0,{children:[p.jsx(P0,{children:p.jsx(aQe,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),p.jsxs(Z1,{children:[p.jsx(Jn,{onClick:()=>I(!0),children:"Continue"}),p.jsx(uc,{onClick:O,children:"Not now"})]}),p.jsx(ai,{})]}):C==="sms"?p.jsx(_lt,{appName:g?.name||"Privy",onComplete:O,onReset:z,onClose:O}):C==="totp"&&A?p.jsx(Slt,{onClose:O,onReset:z,submitEnrollmentWithTotp:({mfaCode:V})=>(async function(M){try{return G(void 0),await l({mfaCode:M}),m?.mfaEnrollmentFlow?.onSuccess(),O()}catch(Q){G(Q)}finally{i(null)}})(V),totpInfo:{...A,appName:g?.name||"Privy"}}):C==="passkey"?p.jsx(mlt,{onReset:z,onClose:O,submitEnrollmentWithPasskey:Y}):p.jsx(plt,{showIntro:J,userMfaMethods:t.mfaMethods,appMfaMethods:g.mfa.methods,userHasAuthSms:F,onBackToIntro:function(){I(!1)},handleSelectMethod:async function(V){try{await x()}catch(M){return void G(M)}return V==="totp"?(N(V),T(null),void h().then((M=>{T(M)})).catch((()=>{T(null),z()}))):V==="passkey"&&D.length===1?await Y():void N(V)},isTotpLoading:C==="totp"&&!A,isPasskeyLoading:H,error:L,onClose:O,setRemovingMfaMethod:async V=>{try{await x()}catch(M){return void G(M)}i(V)}})}},Ilt=({providerName:t,ProviderLogo:e,success:n,errorMessage:r,onRetry:i})=>{let a=n?`Successfully connected with ${t}`:r?r.message:`Verifying connection to ${t}`;return p.jsx(kn,{title:a,subtitle:n?"You're good to go!":r?r.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},secondaryCta:r?.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},lK={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=bn(),{app:i,setModalData:a,navigate:s,resetNavigation:o}=ft(),{getAuthMeta:l,initLoginWithOAuth:u,loginWithOAuth:d,updateWallets:h,setReadyToTrue:g,closePrivyModal:m,createAnalyticsEvent:b}=lt(),[w,x]=k.useState(!1),[E,I]=k.useState(void 0),C=l()?.provider||"google",{name:N,component:A}=QC(C);return k.useEffect((()=>{d(C).then((()=>{x(!0),g(!0)})).catch((T=>{if(g(!1),T?.privyErrorCode===ye.ALLOWLIST_REJECTED)return I(void 0),o(),void s(g9);if(T?.privyErrorCode===ye.USER_LIMIT_REACHED)return console.error(new nv(T).toString()),I(void 0),o(),void s(Tv);if(T?.privyErrorCode===ye.USER_DOES_NOT_EXIST)return I(void 0),o(),void s(Sv);if(T?.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&T.data?.data?.nonce)return I(void 0),o(),a({accountTransfer:{nonce:T.data?.data?.nonce,account:T.data?.data?.subject,displayName:T.data?.data?.account?.displayName,linkMethod:l()?.provider,embeddedWalletAddress:T.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:T.data?.data?.otherUser?.oAuthUserInfo}}),void s(Sp);let{retryable:O,detail:H}=(function(U,L){let G={detail:"",retryable:!1},R=Jae(L);if(U?.privyErrorCode===ye.LINKED_TO_ANOTHER_USER&&(G.detail="This account has already been linked to another user."),U?.privyErrorCode===ye.INVALID_CREDENTIALS&&(G.retryable=!0,G.detail="Something went wrong. Try again."),U.privyErrorCode===ye.OAUTH_USER_DENIED&&(G.detail=`Retry and check ${R} to finish connecting your account.`,G.retryable=!0),U?.privyErrorCode===ye.TOO_MANY_REQUESTS&&(G.detail="Too many requests. Please wait before trying again."),U?.privyErrorCode===ye.TOO_MANY_REQUESTS&&U.message.includes("provider rate limit")){let F=QC(L).name;G.detail=`Request limit reached for ${F}. Please wait a moment and try again.`}if(U?.privyErrorCode===ye.OAUTH_ACCOUNT_SUSPENDED){let F=QC(L).name;G.detail=`Your ${F} account is suspended. Please try another login method.`}return U?.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE&&(G.detail="You cannot authorize more than one account for this user."),U?.privyErrorCode===ye.OAUTH_UNEXPECTED&&L.startsWith("privy:")&&(G.detail="Something went wrong. Please try again."),G})(T,C);I({retryable:O,detail:H,message:"Authentication failed"})})).finally((()=>{$T()}))}),[N,C]),k.useEffect((()=>{if(n&&t&&w&&r){if(i?.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let T=setTimeout((()=>{s(kp)}),Pr);return()=>clearTimeout(T)}if(kh(r,i.embeddedWallets)){let T=setTimeout((()=>{a({createWallet:{onSuccess:()=>{},onFailure:O=>{console.error(O),b({eventName:"embedded_wallet_creation_failure_logout",payload:{error:O,provider:C,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(Dd)}),Pr);return()=>clearTimeout(T)}{let T=setTimeout((()=>m({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Pr);return h(),()=>clearTimeout(T)}}}),[n,t,w,r]),p.jsx(Ilt,{providerName:N,ProviderLogo:A,success:w,errorMessage:E,onRetry:E?.retryable?()=>{$T(),u(C),I(void 0)}:void 0})}},Tlt=k.forwardRef(((t,e)=>{let[n,r]=k.useState(""),[i,a]=k.useState(""),[s,o]=k.useState(!1),{authenticated:l,user:u}=bn(),{initUpdateEmail:d}=lt(),{navigate:h,setModalData:g,currentScreen:m}=ft(),{enabled:b,token:w}=Ds(),x=Rn(),E=dse(n)&&(x.disablePlusEmails&&n.includes("+")?(i||a("Please enter a valid email address without a '+'."),!1):(i&&a(""),!0)),I=s||!E,C=()=>{!b||w||l?(async N=>{if(!u?.email)throw Error("User is required to have an email address to update it.");o(!0);try{await d({oldAddress:u.email.address,newAddress:n,captchaToken:N}),h(Td)}catch(A){g({errorModalData:{error:A,previousScreen:m||Da}})}o(!1)})(w):(g({captchaModalData:{callback:N=>{if(!u?.email)throw Error("User is required to have an email address to update it.");return d({oldAddress:u.email.address,newAddress:n,captchaToken:N})},userIntentRequired:!1,onSuccessNavigateTo:Td,onErrorNavigateTo:Or}}),h(dc))};return p.jsxs(p.Fragment,{children:[p.jsxs($lt,{children:[i&&p.jsx(Id,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),p.jsxs(Nlt,{$error:!!i,children:[p.jsx(Y8,{}),p.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:N=>r(N.target.value),onKeyUp:N=>{N.key==="Enter"&&C()},value:n,autoComplete:"email"}),t.stacked?null:p.jsx(n9,{isSubmitting:s,onClick:C,disabled:I,children:"Submit"})]})]}),t.stacked?p.jsx(Jn,{loadingText:null,loading:s,disabled:I,onClick:C,style:{width:"100%"},children:"Submit"}):null]})}));let $lt=Roe,Nlt=Ooe;const Plt=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>p.jsx(kn,{title:t,subtitle:e,icon:Y8,watermark:!0,children:p.jsx(Vse,{children:p.jsx(Tlt,{stacked:!0})})}),Olt={component:()=>p.jsx(Plt,{})},Rlt=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:n,isSubmitting:r=!1})=>{let[i,a]=k.useState(null);return p.jsx(kn,{title:t,subtitle:e,icon:lh,primaryCta:{label:r?"Submitting":"Update",onClick:async()=>{i?.qualifiedPhoneNumber&&await n(i)},disabled:!i?.isValid||r},watermark:!0,children:p.jsx(y9,{onChange:s=>{a(s)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},Mlt={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:r}=ft(),{user:i}=bn(),{initUpdatePhone:a}=lt(),[s,o]=k.useState(!1);return p.jsx(Rlt,{onSubmit:async l=>{o(!0);try{if(!i?.phone?.number)throw Error("User is required to have an phone number to update it.");await a(i?.phone?.number,l.qualifiedPhoneNumber),n(Td)}catch(u){r({errorModalData:{error:u,previousScreen:e?.errorModalData?.previousScreen||t||FO}}),n(Or)}finally{o(!1)}},isSubmitting:s})}};function jlt({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:a}){let{client:s,onCustomAuthAuthenticated:o}=lt(),{logout:l,authenticated:u,ready:d}=zm();if(!s)throw new me("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[h,g]=k.useState({status:"initial"}),m=k.useRef(),b=k.useRef(!1),w=k.useRef(e);k.useEffect((()=>{w.current=e}),[e]);let x=k.useRef(r);k.useEffect((()=>{x.current=r}),[r]);let E=k.useRef(i);k.useEffect((()=>{E.current=i}),[i]);let I=k.useRef(a);return k.useEffect((()=>{I.current=a}),[a]),k.useEffect((()=>{if(!n||!d)return;let C=async()=>{if(!b.current){b.current=!0;try{g({status:"loading"});let N=await w.current();if(m.current!==void 0&&m.current===N)return void g({status:"done"});if(!N)return u&&(await l(),E.current?.()),m.current=N,void g({status:"done"});s.startAuthFlow(new Tse(N));let{user:A,isNewUser:T=!1}=await s.authenticate();if(!A)throw new me("Failed to sync with custom auth provider");x.current?.({user:A,isNewUser:T}),o(A,T),m.current=N,g({status:"done"})}catch(N){if(console.warn(N),await l().catch((()=>{})),E.current?.(),N instanceof no&&N.privyErrorCode===ye.LINKED_TO_ANOTHER_USER)return g({status:"initial"}),void setTimeout((()=>{C()}),0);I.current?.(N),g({status:"error",error:N})}finally{b.current=!1}}};return C(),t(C)}),[t,s,o,u,l,n,d]),n?{state:h}:{state:{status:"not-enabled"}}}let Dlt=Cm((()=>({jwtAuthFlowState:{status:"not-enabled"}})));function Blt({customAuth:t}){let{jwtAuthFlowState:e}=(function({customAuth:n}){let r=jd(),i=k.useRef(),a=k.useCallback((l=>(i.current=l,()=>{i.current=void 0})),[]),s=n?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:o}=jlt({enabled:n?.enabled===!0,subscribe:a,getExternalJwt:s,onAuthenticated:({user:l,isNewUser:u})=>{r("login","onComplete",{user:l,isNewUser:u,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:l})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:l=>{r("login","onError",l.privyErrorCode||ye.UNKNOWN_AUTH_ERROR)}});return k.useEffect((()=>{(async()=>n&&!n.isLoading&&i.current?.())()}),[n?.enabled,n?.getCustomAccessToken,n?.isLoading]),{jwtAuthFlowState:o}})({customAuth:t});return k.useEffect((()=>{Dlt.setState({jwtAuthFlowState:e})}),[e]),null}const zle=k.createContext(!1);let ug,Wle,Hle,qle,Vle,Gle,Kle;async function nr(){return ug?ug.getAccessToken():Promise.resolve(Bt.get(R5)||Bt.get(L2)||null)}const Ult=(t,e)=>Wle(t,e),Llt=(t,e)=>Hle(t,e),Flt=(t,e)=>qle(t,e),zlt=(t,e)=>Vle(t,e),Wlt=t=>Gle(t),Hlt=t=>Kle(t),qlt=({config:t,...e})=>{var n;if((()=>{if(k.useContext(zle))throw new me("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new me("Embedded wallet is only available over HTTPS");if(typeof(n=e.appId)!="string"||n.length!==25)throw new me("Cannot initialize the Privy provider with an invalid Privy app ID");ug||(ug=new XQe({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let r=Object.assign({},t),i=k.useMemo((()=>new I9e({appId:e.appId,clientId:e.clientId,storage:Bt,baseUrl:e.apiUrl,sdkVersion:"react-auth:2.25.0"})),[]);return p.jsx(UQe,{client:i,legacyClient:ug,clientConfig:r,children:p.jsx(Urt,{children:p.jsx(Vlt,{...e,client:ug,privy:i})})})};let Vlt=t=>{let e=t.client,n=t.privy,r=Fm();dnt();let[i,a]=k.useState(!1),[s,o]=k.useState(!1),[l,u]=k.useState(!1),[d,h]=k.useState(null),[g,m]=k.useState([]),[b,w]=k.useState([]),[x,E]=k.useState(void 0),[I,C]=k.useState(!1),[N,A]=k.useState(null),[T,O]=k.useState(!1),[H,U]=k.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:Oe}),[L,G]=k.useState({status:"initial"}),[R,F]=k.useState({status:"initial"}),[_,S]=k.useState({status:"initial"}),[$,D]=k.useState({status:"initial"}),[z,Y]=k.useState({status:"initial"}),[J,V]=k.useState({status:"initial"}),[M,Q]=k.useState(null),ne=Rn(),K=Sse(),[se,le]=k.useState({}),[de,he]=k.useState(null),Ce=k.useRef(null),[ke,Ie]=k.useState(!1),[De,Ne]=k.useState(!1),We=k.useRef(null),tt=k.useRef(null),Ee=k.useRef(net),[Ze,xt]=k.useState(!1);e.onStoreCustomerAccessToken=W=>{W&&Qe(Ee,"accessToken","onAccessTokenGranted",{accessToken:W})},e.onDeleteCustomerAccessToken=()=>{h(null),u(!1),Qe(Ee,"accessToken","onAccessTokenRemoved")};let Ue=k.useRef(null),Ge=k.useRef(null),rt=k.useRef(!1),pt=({showWalletUIs:W})=>rt.current?rt.current:W!==void 0?!W:!ne.embeddedWallets.showWalletUIs,qe=W=>{A(W),setTimeout((()=>{a(!0)}),15)};k.useEffect((()=>{if(!d)return void e.connectors?.removeEmbeddedWalletConnectors();let W=Gc(d),j=LQ(d),q=Gk(d);W&&j.length||e.connectors?.removeEmbeddedWalletConnectors(),q||e.connectors?.removeImportedWalletConnector(),e.connectors?M?(W&&e.connectors.addEmbeddedWalletConnectors({walletProxy:M,user:d,embeddedWallets:j,defaultChain:ne.defaultChain,appId:t.appId,privyClient:n}),q&&e.connectors.addImportedWalletConnector(M,q.address,ne.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")}),[M,d]),k.useEffect((()=>{M&&Ce.current?.(M)}),[M]);let ht=k.useCallback(((W,j)=>{h(W),C(j),u(!0),Ne(!0)}),[]);k.useEffect((()=>{De&&M&&d&&(async()=>{let W=RO(d,ne.embeddedWallets.ethereum.createOnLogin),j=MO(d,ne.embeddedWallets.solana.createOnLogin),q=await nr();if(q){if(W&&j){let ee=await M.create({accessToken:q});return await M.createSolana({accessToken:q,ethereumAddress:ee?.address}),void Ne(!1)}if(j)return await M.createSolana({accessToken:q,ethereumAddress:Gc(d)?.address}),await it.refreshSessionAndUser(),void Ne(!1);if(W)return await M.create({accessToken:q}),void Ne(!1)}})().catch(console.error)}),[De&&M&&d]),k.useEffect((()=>{if(ne.externalWallets.solana.connectors)return ne.externalWallets.solana.connectors.onMount(),()=>ne.externalWallets.solana.connectors?.onUnmount()}),[ne.externalWallets.solana.connectors]),k.useEffect((()=>{!s&&K&&(async function(){let W,j=Ot(),q=Ct(),ee=p0e();e.initializeConnectorManager({walletConnectCloudProjectId:ne.walletConnectCloudProjectId,rpcConfig:ne.rpcConfig,chains:ne.chains,defaultChain:ne.defaultChain,store:ee,walletList:ne.appearance.walletList,shouldEnforceDefaultChainOnConnect:ne.shouldEnforceDefaultChainOnConnect,externalWalletConfig:ne.externalWallets,appName:ne.name??"Privy",walletChainType:ne.appearance.walletChainType,appKit:ne.externalWallets.walletConnect.appKit,setBaseAccountSdk:E}),e.connectors?.on("connectorInitialized",(()=>{W&&clearTimeout(W);let pe=e.connectors.walletConnectors.length,je=e.connectors.walletConnectors.reduce(((ot,st)=>ot+(st.initialized?1:0)),0);je===pe?xt(!0):W=setTimeout((()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:je,expected:pe}),xt(!0)}),1500)})),e.connectors?.initialize().then((()=>{X()}));let ie=await e.getAuthenticatedUser(),ce=!!ie;ne.legal.requireUsersAcceptTerms&&ie&&!ie.hasAcceptedTerms?(await e.logout(),it.setReadyToTrue(!0),Qe(Ee,"logout","onSuccess")):(ne.customAuth?.enabled||(u(!!ie),ie&&Qe(Ee,"login","onComplete",{user:ie,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),h(ie)),j?Ge.current=ce?"link":"login":q&&!ce?(Ge.current="login",le({telegramAuthModalData:{seamlessAuth:!0}}),qe(L5)):it.setReadyToTrue(!!ie))})()}),[e,de,s,K]),k.useEffect((()=>{if(s){if(!d||!d.linkedAccounts.find((W=>W.type==="wallet"&&W.walletClientType==="privy")))return void Ie(!!M);if([...g].some((W=>W.walletClientType==="privy")))return void Ie(!0);Ie(!!M)}}),[s,d,g,M]),k.useEffect((()=>{e.connectors?.setWalletList(ne.appearance.walletList)}),[ne.appearance.walletList.join()]);let Ot=()=>{let W=gQe();return W.inProgress&&W.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):W.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:W.stateCode,authorizationCode:W.authorizationCode}):(W.inProgress&&(function(j){return j.startsWith("privy:")})(W.provider)&&!W.popupFlow&&(new BroadcastChannel(_G).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:W.stateCode,authorizationCode:W.authorizationCode}),window.close()),!!W.inProgress&&!!W.withPrivyUi&&(e.startAuthFlow(new Y1({...W,customOAuthRedirectUrl:ne.customOAuthRedirectUrl})),qe(lK),!0))},Ct=()=>{let W=(function(){let q;return(q=(function(){let ee=new URLSearchParams(window.location.search),ie=Number(ee.get("id")||""),ce=ee.get("hash"),pe=Number(ee.get("auth_date")||""),je=ee.get("first_name");if(ie&&je&&pe&&ce)return Object.fromEntries(ee.entries())})())?(rG(),{flowType:"login-url",authData:q}):(q=(function(){let ee=window.location.hash;if(!ee||!ee.startsWith("#tgWebAppData"))return;let ie=nG(ee.replace("#tgWebAppData=","")),{user:ce,auth_date:pe,hash:je}=ie;return ce&&pe&&je?ie:void 0})())?(rG(),{flowType:"web-app",authData:q}):void 0})();if(!W||!ne.loginMethods.telegram||!ne.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let j=new b2;return e.startAuthFlow(j),W.flowType==="login-url"&&(j.meta.telegramWebAppData=void 0,j.meta.telegramAuthResult=W.authData),W.flowType==="web-app"&&(j.meta.telegramAuthResult=void 0,j.meta.telegramWebAppData=W.authData),!0},gt=async(W,j,q,ee)=>{if(W!=="solana_adapter")yt(await e.connectors?.createEthereumWalletConnector({connectorType:W,walletClientType:j})||null,j,q,ee);else{let ie=e.connectors?.findSolanaWalletConnector(j);if(!ie)return;yt(ie,j,q,ee)}};async function yt(W,j,q,ee){if(!W)return U({status:"disconnected",connectedWallet:null,connectError:new br("Unable to connect to wallet."),connector:null,connectRetry:Oe}),ee?.(null,q);U({status:"disconnected",connectedWallet:null,connectError:null,connector:W,connectRetry:Oe}),W instanceof Ig&&j&&await W.resetConnection(j),U({connector:W,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>yt(W,j,q,ee)});try{let ie=await W.connect({showPrompt:!0});if((!ie||nd(ie))&&ne.shouldEnforceDefaultChainOnConnect&&!ne.chains.find((ce=>ce.id===Number(ie?.chainId.replace("eip155:",""))))&&(ie?.connectorType!=="wallet_connect_v2"||ie?.walletClientType!=="metamask")){U((ce=>({...ce,connector:W,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:Oe})));try{await ie?.switchChain(ne.defaultChain.id),ie&&(ie.chainId=hb(ni(ne.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${ne.defaultChain.id}`)}}return U((ce=>({...ce,status:"connected",connectedWallet:ie,connectError:null,connectRetry:Oe}))),ie&&Qe(Ee,"connectWallet","onSuccess",{wallet:ie}),ee?.(ie,q)}catch(ie){return ie instanceof Ma?(console.warn(ie.cause?ie.cause:ie.message),Qe(Ee,"connectWallet","onError",ie.privyErrorCode||ye.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(ie),Qe(Ee,"connectWallet","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR)),U((ce=>({...ce,status:"disconnected",connectedWallet:null,connectError:ie}))),ee?.(null,q)}}let re=async(W,j,q)=>{if(W===null||!nd(W))return;let ee=new Sg(e,W,j,q);e.startAuthFlow(ee)},Z=async(W,j,q,ee="plain")=>{let ie=r(Loe);if(ee==="transaction"&&!ie)throw new me("useSolanaLedger plugin hook must be mounted");if(W===null||!oG(W))return;let ce=new Z6(W,e,j,q,ee,ie?{deserializeTransactionFromB64String:ie.deserializeTransactionFromB64String,prepareSiwsTransactionWithMemo:ie.prepareSiwsTransactionWithMemo}:void 0);e.startAuthFlow(ce)},X=()=>{let W=new URLSearchParams(window.location.search),j=W.get("privy_connector"),q=W.get("privy_wallet_client"),ee=W.get("privy_connect_only")==="true";if(!j||!q)return;let ie=Ese({connectorType:j,walletClientType:q});if(!ie||!ie.isInstalled)return qe(dlt);if(!e.connectors)throw new me("Connector not initialized");qe(ee?e$:pd);let ce=new URL(window.location.href);ce.searchParams.delete("privy_connector"),ce.searchParams.delete("privy_wallet_client"),ce.searchParams.delete("privy_connect_only"),window.history.pushState({},"",ce),gt(j,q,void 0,ee?void 0:j==="solana_adapter"?Z:re)};k.useEffect((()=>{s&&l&&d===null&&e.getAuthenticatedUser().then(h)}),[s,l,d,e]);let ae=W=>{if(!l)throw Qe(Ee,"linkAccount","onError",ye.MUST_BE_AUTHENTICATED,{linkMethod:W}),new me("User must be authenticated before linking an account.")},ge=W=>{if(!l||!d)return!1;if(W.walletClientType==="privy")return!0;for(let j of d.linkedAccounts)if(j.type==="wallet"&&j.address===W.address&&j.walletClientType!=="privy")return!0;return!1},xe=async W=>{let j;if(!e.connectors)throw new me("Connector not initialized");j=W.type==="ethereum"?e.connectors.findWalletConnector(W.connectorType,W.walletClientType)||null:e.connectors.findSolanaWalletConnector(W.walletClientType)||null,U((q=>({...q,connector:j,status:"connected",connectedWallet:W,connectError:null,connectRetry:Oe}))),ne.captchaEnabled&&!l?(le({captchaModalData:{callback:q=>nd(W)?re(W,q):Z(W,q),userIntentRequired:!1,onSuccessNavigateTo:pd,onErrorNavigateTo:Or}}),qe(dc)):(nd(W)?await re(W):await Z(W),qe(pd))},ve=()=>{m((W=>{let j=e.connectors?.wallets.filter(nd).map((q=>({...q,linked:ge(q),loginOrLink:async()=>{if(!await q.isConnected())throw new me("Wallet is not connected");if(q.connectorType==="embedded"&&q.walletClientType==="privy")throw new me("Cannot link or login with embedded wallet");xe(q)},fund:async ee=>{await it.fundWallet(q.address,ee)},unlink:async()=>{if(!l)throw new me("User is not authenticated.");if(q.connectorType==="embedded"&&q.walletClientType==="privy")throw new me("Cannot unlink an embedded wallet");h(await e.unlinkEthereumWallet(q.address))}})))||[];return RT(W,j)?W:j})),w((W=>{let j=(e.connectors?.wallets??[]).filter(oG).map((q=>({...q,linked:ge(q),loginOrLink:async()=>{if(!await q.isConnected())throw new me("Wallet is not connected");if(q.connectorType==="embedded"&&q.walletClientType==="privy")throw new me("Cannot link or login with embedded wallet");xe(q)},fund:async()=>{throw new me("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:async()=>{if(!l)throw new me("User is not authenticated.");if(q.connectorType==="embedded"&&q.walletClientType==="privy")throw new me("Cannot unlink an embedded wallet");h(await e.unlinkSolanaWallet(q.address))}})));return RT(W,j)?W:j}))};k.useEffect((()=>{ve()}),[d?.linkedAccounts,l,s]),k.useEffect((()=>{if(s){if(!e.connectors)throw new me("Connector not initialized");ve(),e.connectors.on("walletsUpdated",ve)}}),[s]),k.useEffect((()=>{[...ne.loginMethodsAndOrder?.primary??[],...ne.loginMethodsAndOrder?.overflow??[]].filter((W=>W.startsWith("privy:"))).forEach((W=>e.getCrossAppProviderDetails(W.replace("privy:",""))))}),[!!e]);let nt=({transaction:W,sponsor:j,uiOptions:q,fundWalletConfig:ee,address:ie,signOnly:ce})=>new Promise((async(pe,je)=>{let{requesterAppId:ot}=q||{},st=ce?"signTransaction":"sendTransaction",At=ie?Qo(d,ie):Gc(d);if(!At&&ie){let zt=tA(g,ie);if(zt){if(j)throw new me("Cannot sponsor transactions for externally connected wallet.");try{let Gn=await zt.getEthereumProvider(),nn={...W,from:ie,chainId:W.chainId||Number(zt.chainId.replace("eip155:","")),value:W.value!==void 0?ni(W.value):void 0},Mn=await Gn.request({method:st==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[nn]});return Qe(Ee,st,"onSuccess",{hash:Mn}),void pe({hash:Mn})}catch(Gn){return Qe(Ee,st,"onError",ye.TRANSACTION_FAILURE),void je(Gn??new ka("Unable to "+st+Gn))}}}if(!At)return Qe(Ee,st,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),void je(new me("No embedded or connected wallet found for address."));if(!l||!d)return Qe(Ee,st,"onError",ye.MUST_BE_AUTHENTICATED),void je(Error("User must be authenticated before signing with a Privy wallet"));let Je=At.address,It=At.walletIndex??0,{entropyId:St,entropyIdVerifier:Wt}=ua(d,At),Ht=Zt.wallets.find((zt=>zt.walletClientType==="privy"&&Qr(zt.address)===Qr(Je)));if(!Ht)return Qe(Ee,st,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),void je(Error("Must have a Privy wallet before signing"));let Xn=await Ht.getEthereumProvider(),ar=await Xn.request({method:"eth_chainId"}),qn=W.chainId?Number(W.chainId):ooe(ar);(zt=>{if(!ne.chains.map((Gn=>Gn.id)).includes(zt))throw new br(`Chain ID ${zt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,ye.UNSUPPORTED_CHAIN_ID)})(qn);let mn={...W,from:W.from??Je,chainId:qn},Vn=await nr();if(!Vn||!M)return Qe(Ee,st,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),void je(Error("Must have valid access token and Privy wallet to send transaction"));let wr=Qg(mn.chainId,ne.chains,ne.rpcConfig,{appId:t.appId}),wa=Fi(At),Ba=async({transactionRequest:zt})=>{try{let Gn;if(!await it.recoverEmbeddedWallet({address:Je}))throw Qe(Ee,st,"onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),je(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(j){let nn=await(async({transactionRequest:Mn})=>{if(!wa)throw new me("Sponsoring is only supported for wallets on the TEE stack");if(ce)throw new me("Cannot sponsor a sign transaction request");let Lr=Ua=>Ua==null?void 0:ni(Ua),Bs=await Ha(n,(async({message:Ua})=>await M.signWithUserSigner({accessToken:Vn,requesterAppId:ot,message:Ua})),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:hb(ni(Mn.chainId)),sponsor:!0,params:{transaction:{from:Mn.from,to:Mn.to,chain_id:Lr(Mn.chainId),data:Oa(Mn.data)?Mn.data?Mn.data:ni(Uint8Array.from(Mn.data)):void 0,value:Lr(Mn.value)}},wallet_id:At.id});if(Bs.data&&"hash"in Bs.data)return Bs.data.hash;throw new ka("Unable to sign transaction")})({transactionRequest:zt});return Qe(Ee,"sendTransaction","onSuccess",{hash:nn}),nn}if(wa){let nn=Lr=>Lr==null?void 0:ni(Lr),Mn=await Ha(n,(async({message:Lr})=>await M.signWithUserSigner({accessToken:Vn,requesterAppId:ot,message:Lr})),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:zt.from,to:zt.to,nonce:nn(zt.nonce),chain_id:nn(zt.chainId),data:Oa(zt.data)?zt.data?zt.data:ni(Uint8Array.from(zt.data)):void 0,value:nn(zt.value),type:zt.type,gas_limit:nn(zt.gasLimit??zt.gas),gas_price:nn(zt.gasPrice??zt.gas),max_fee_per_gas:nn(zt.maxFeePerGas),max_priority_fee_per_gas:nn(zt.maxPriorityFeePerGas)}},wallet_id:At.id});if(!Mn.data||!("signed_transaction"in Mn.data))throw new ka("Unable to sign transaction");Gn=Mn.data.signed_transaction}else Gn=await(async function({accessToken:nn,entropyId:Mn,entropyIdVerifier:Lr,transactingWalletIndex:Bs,walletProxy:Ua,transactionRequest:gc,requesterAppId:yu}){return(await Ua.rpc({entropyId:Mn,entropyIdVerifier:Lr,hdWalletIndex:Bs??0,chainType:"ethereum",accessToken:nn,requesterAppId:yu,request:{method:"eth_signTransaction",params:[gc]}})).response.data})({accessToken:Vn,entropyId:St,entropyIdVerifier:Wt,transactingWalletIndex:It,walletProxy:M,transactionRequest:zt,requesterAppId:ot});if(ce)return Qe(Ee,"signTransaction","onSuccess",{signature:Gn}),Gn;{let nn=await wr.sendRawTransaction({serializedTransaction:Gn});return Qe(Ee,"sendTransaction","onSuccess",{hash:nn}),nn}}catch(Gn){throw Qe(Ee,st,"onError",ye.TRANSACTION_FAILURE),Gn}};if(pt({showWalletUIs:q?.showWalletUIs})){let zt=ce||j?mn:await t4(mn,wr,mn.from);try{let Gn=await Ba({transactionRequest:zt});ce?Qe(Ee,"signTransaction","onSuccess",{signature:Gn}):Qe(Ee,"sendTransaction","onSuccess",{hash:Gn}),pe({hash:Gn})}catch(Gn){Qe(Ee,st,"onError",ye.TRANSACTION_FAILURE),je(Gn)}}else{let zt={connectingWalletAddress:Je,recoveryMethod:At.recoveryMethod,entropyId:St,entropyIdVerifier:Wt,onCompleteNavigateTo:Ble,isUnifiedWallet:wa,onFailure:nn=>{Qe(Ee,st,"onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),je(nn)}},Gn=hle(ne)?KG({address:Je,appConfig:ne,fundWalletConfig:ee,methodScreen:ks,chainIdOverride:mn.chainId,comingFromSendTransactionScreen:!0}):void 0;le({connectWallet:zt,sendTransaction:{transactionRequest:mn,transactingWalletIndex:It,transactingWalletAddress:Je,entropyId:St,entropyIdVerifier:Wt,signOnly:ce,scanTransaction:async()=>{let nn=await t4(mn,wr,mn.from);return await e.scanTransaction({metadata:{domain:ne.embeddedWallets.transactionScanning.domain},chain_id:nn.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:nn.from,to:nn.to,value:nn.value?.toString(),gas:nn.gas?.toString(),gasPrice:nn.gasPrice?.toString(),nonce:nn.nonce?.toString(),data:nn.data}]}})},getIsSponsored:async()=>!!j,onConfirm:({transactionRequest:nn})=>Ba({transactionRequest:nn}),onSuccess:nn=>{ce?Qe(Ee,"signTransaction","onSuccess",{signature:nn.hash}):Qe(Ee,"sendTransaction","onSuccess",{hash:nn.hash}),pe(nn)},onFailure:nn=>{Qe(Ee,st,"onError",ye.TRANSACTION_FAILURE),je(nn)},uiOptions:q||{},fundWalletConfig:ee,requesterAppId:ot},funding:Gn}),qe(Ff)}}));function Ke(){return new Promise((async(W,j)=>{let q=await nr();if(!q||!M)throw Error("Must have valid access token to enroll in MFA");try{await M.verifyMfa({accessToken:q}),W()}catch(ee){j(ee)}}))}let mt=W=>W?.linkedAccounts.filter((j=>j.latestVerifiedAt!==null&&!(j.type==="wallet"&&j.walletClientType==="privy"))).sort(((j,q)=>q.latestVerifiedAt.getTime()-j.latestVerifiedAt.getTime()))[0],Mt=W=>{let j=d?.linkedAccounts.filter((ie=>ie.type===W)).length??0,{displayName:q,loginMethod:ee}=p9(W);if(W==="passkey"&&j>=5||W!=="passkey"&&j>=1)throw Qe(Ee,"linkAccount","onError",ye.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:ee}),new me(`User already has an account of type ${q} linked.`)};async function Ye({showAutomaticRecovery:W=!1,legacySetWalletPasswordFlow:j=!1}){A(null);let q=j?"setWalletPassword":"setWalletRecovery";if(!l||!d)throw Qe(Ee,q,"onError",ye.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let ee=cl(d);if(!ee||!M)throw Qe(Ee,q,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let ie=Fi(ee);if(ie)throw Qe(Ee,q,"onError",ye.UNSUPPORTED_WALLET_TYPE),new me("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Ke()}catch(ce){throw Qe(Ee,q,"onError",ye.MISSING_MFA_CREDENTIALS),ce}return new Promise(((ce,pe)=>{let je=ee.recoveryMethod==="user-passcode",ot=ole({walletAction:"update",availableRecoveryMethods:ne.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:j,isResettingPassword:je,showAutomaticRecovery:W}),{entropyId:st,entropyIdVerifier:At}=ua(d),Je={recoveryMethod:ee.recoveryMethod,connectingWalletAddress:ee.address,onCompleteNavigateTo:ot,shouldForceMFA:!1,entropyId:st,isUnifiedWallet:ie,entropyIdVerifier:At,onFailure:It=>{Qe(Ee,q,"onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),pe(It)}};le({setWalletPassword:{onSuccess:It=>{Qe(Ee,q,"onSuccess",{method:"user-passcode",wallet:It}),ce(It)},onFailure:It=>{Qe(Ee,q,"onError",ye.USER_EXITED_SET_PASSWORD_FLOW),pe(It)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:st,entropyIdVerifier:At,onFailure:pe},connectWallet:Je,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:je,shouldCreateEth:!1,shouldCreateSol:!1}}),qe(Ff)}))}async function jt({appId:W,action:j}){let q=await nr();if(j==="link"&&!q)throw Qe(Ee,"linkAccount","onError",ye.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${W}`}),new me("User must be authenticated before linking an account.");if(j==="login"&&q)throw Qe(Ee,"login","onError",ye.UNKNOWN_AUTH_ERROR),new me("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Ue.current=`privy:${W}`,Ge.current=j;let ee=s9();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:W}}),new Promise((async(ie,ce)=>{let{name:pe,logoUrl:je}=await loe({api:e.api,providerAppId:W,requesterAppId:ne.id});le({crossAppAuth:{appId:W,name:pe,logoUrl:je,action:j,popup:ee,onSuccess:ie,onError:ce}}),qe(Got)}))}let Xt={ready:s,authenticated:l,user:d,walletConnectors:e.connectors||null,connectWallet:W=>{W&&"target"in W&&W&&(W=void 0),le({externalConnectWallet:{walletList:W?.walletList&&W?.walletList.length>0?W.walletList:void 0,suggestedAddress:W?.suggestedAddress,walletChainType:W?.walletChainType,description:W?.description}}),qe(JT)},linkWallet:W=>{W&&"target"in W&&W&&(W=void 0),ae("siwe"),Ue.current="siwe",Ge.current="link",le({...se,externalConnectWallet:{...se.externalConnectWallet,suggestedAddress:W?.suggestedAddress,walletList:W?.walletList,walletChainType:W?.walletChainType,description:W?.suggestedAddress?p.jsxs("span",{children:["Link the wallet with address"," ",p.jsx(gn,{showCopyIcon:!1,address:W?.suggestedAddress})," ",ne?.name?`to ${ne.name}.`:"."]}):`Link a wallet to your ${ne?.name} account`}}),qe(U5)},startCrossAppAuthFlow:jt,linkEmail:()=>{ae("email"),Mt("email"),Ue.current="email",Ge.current="link",qe(llt)},linkPhone:()=>{ae("sms"),Mt("phone"),Ue.current="sms",Ge.current="link",qe(FO)},linkGoogle:async()=>{ae("google"),Mt("google_oauth"),Ge.current="link",await it.initLoginWithOAuth("google")},linkTwitter:async()=>{ae("twitter"),Mt("twitter_oauth"),Ge.current="link",await it.initLoginWithOAuth("twitter")},linkDiscord:async()=>{ae("discord"),Mt("discord_oauth"),Ge.current="link",await it.initLoginWithOAuth("discord")},linkGithub:async()=>{ae("github"),Mt("github_oauth"),Ge.current="link",await it.initLoginWithOAuth("github")},linkSpotify:async()=>{ae("spotify"),Mt("spotify_oauth"),Ge.current="link",await it.initLoginWithOAuth("spotify")},linkInstagram:async()=>{ae("instagram"),Mt("instagram_oauth"),Ge.current="link",await it.initLoginWithOAuth("instagram")},linkTiktok:async()=>{ae("tiktok"),Mt("tiktok_oauth"),Ge.current="link",await it.initLoginWithOAuth("tiktok")},linkLine:async()=>{ae("line"),Mt("line_oauth"),Ge.current="link",await it.initLoginWithOAuth("line")},linkLinkedIn:async()=>{ae("linkedin"),Mt("linkedin_oauth"),Ge.current="link",await it.initLoginWithOAuth("linkedin")},linkApple:async()=>{ae("apple"),Mt("apple_oauth"),Ge.current="link",await it.initLoginWithOAuth("apple")},linkPasskey:async()=>{ae("passkey"),Mt("passkey"),await it.initLinkWithPasskey(),qe(Wat)},linkTelegram:async W=>{if(ae("telegram"),Mt("telegram"),Ge.current="link",Ue.current="telegram",W?.launchParams)if(W.launchParams.initDataRaw){let j=new b2;e.startAuthFlow(j),j.meta.telegramAuthResult=void 0,j.meta.telegramWebAppData=nG(W.launchParams.initDataRaw),le({telegramAuthModalData:{seamlessAuth:!0}}),qe(L5)}else Qe(Ee,"linkAccount","onError",ye.INVALID_DATA,{linkMethod:"telegram"});else await it.initLoginWithTelegram();qe(L5)},linkFarcaster:async()=>{ae("farcaster"),Mt("farcaster"),await it.initLoginWithFarcaster(),Ge.current="link",Ue.current="farcaster",qe(XT)},updateEmail:()=>{if(ae("email"),!d?.email)throw new me("User does not have an email linked to their account.");Ge.current="update",Ue.current="email",qe(Olt)},updatePhone:()=>{if(ae("sms"),!d?.phone)throw new me("User does not have a phone number linked to their account.");Ge.current="update",Ue.current="sms",qe(Mlt)},login:async W=>{W&&"target"in W&&W&&(W=void 0);let j="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!s){let q=await new Promise((ee=>{he((ie=>ee.bind(ie)))}));if(he(null),q)return void console.warn(j)}!d||d.isGuest?(Ge.current="login",le({login:W}),qe(Da)):console.warn(j)},connectOrCreateWallet:async()=>{s||(await new Promise((W=>{he((()=>W))})),he(null)),l?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(Ge.current="connect-or-create",qe(Xoe))},logout:async()=>{if(Ge.current=null,Ue.current=null,d&&e.clearProviderAcccessTokens(d),A(null),await e.logout(),d&&M)try{await M.clearMfa({userId:d.id})}catch{}h(null),u(!1),Qe(Ee,"logout","onSuccess"),a(!1),Bt.del(kT),Bt.del(Gae(ne.id))},getAccessToken:k.useCallback((()=>e.getCustomerAccessToken()),[e]),unlinkWallet:async W=>{let j;return h(j=W.startsWith("0x")?await e.unlinkEthereumWallet(W):await e.unlinkSolanaWallet(W)),j},unlinkEmail:async W=>{let j=await e.unlinkEmail(W);return h(j),j},unlinkPhone:async W=>{let j=await e.unlinkPhone(W);return h(j),j},unlinkGoogle:async W=>{let j=await e.unlinkOAuth("google",W);return h(j),j},unlinkTwitter:async W=>{let j=await e.unlinkOAuth("twitter",W);return h(j),j},unlinkDiscord:async W=>{let j=await e.unlinkOAuth("discord",W);return h(j),j},unlinkGithub:async W=>{let j=await e.unlinkOAuth("github",W);return h(j),j},unlinkSpotify:async W=>{let j=await e.unlinkOAuth("spotify",W);return h(j),j},unlinkInstagram:async W=>{let j=await e.unlinkOAuth("instagram",W);return h(j),j},unlinkTiktok:async W=>{let j=await e.unlinkOAuth("tiktok",W);return h(j),j},unlinkLine:async W=>{let j=await e.unlinkOAuth("line",W);return h(j),j},unlinkLinkedIn:async W=>{let j=await e.unlinkOAuth("linkedin",W);return h(j),j},unlinkApple:async W=>{let j=await e.unlinkOAuth("apple",W);return h(j),j},unlinkFarcaster:async W=>{let j=await e.unlinkFarcaster(W);return h(j),j},unlinkTelegram:async W=>{let j=await e.unlinkTelegram(W);return h(j),j},unlinkPasskey:async W=>{let j=await nr();if(!j)throw Error("Must have valid access token to enroll in MFA");if(!M)throw Error("Wallet proxy not initialized.");let q=ne.passkeys.shouldUnenrollMfaOnUnlink;await M.unlinkPasskeyAccount({credentialId:W,accessToken:j,removeAsMfa:q});let ee=await e.getAuthenticatedUser();return h(ee),ee},unlinkCrossAppAccount:async({subject:W})=>{let j=d?.linkedAccounts.find((ee=>ee.type==="cross_app"&&ee.subject===W))?.providerApp;if(!j)throw new me("Invalid subject");e.storeProviderAccessToken(j.id,null);let q=await e.unlinkOAuth(`privy:${j.id}`,W);return h(q),q},setWalletRecovery:async W=>Ye({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:W?.showAutomaticRecovery??!1}),setWalletPassword:async()=>Ye({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(W,j)=>new Promise((async(q,ee)=>{let{requesterAppId:ie}=j?.uiOptions||{},ce=W.message,pe=j?.address?Qo(d,j.address):Gc(d);if(!pe&&j?.address!==void 0){let St=tA(g,j.address);if(St)try{let Wt=await St.getEthereumProvider(),Ht=await Wt.request({method:"personal_sign",params:[ce,St.address]});return Qe(Ee,"signMessage","onSuccess",{signature:Ht}),void q({signature:Ht})}catch(Wt){return Qe(Ee,"signMessage","onError",ye.UNABLE_TO_SIGN),void ee(Wt??new ka("Unable to sign message"))}}if(!pe)throw new me("No embedded or connected wallet found for address.");if(!l||!d)return Qe(Ee,"signMessage","onError",ye.MUST_BE_AUTHENTICATED),void ee(Error("User must be authenticated before signing with a Privy wallet"));let je=pe.address,ot=pe.walletIndex??0,{entropyId:st,entropyIdVerifier:At}=ua(d,pe),Je=Fi(pe);if(typeof ce!="string"||ce.length<1)return Qe(Ee,"signMessage","onError",ye.INVALID_MESSAGE),void ee(Error("Message must be a non-empty string"));let It=async()=>{let St;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let Wt=await nr();if(!M||!Wt||!await it.recoverEmbeddedWallet({address:je}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:je,requesterAppId:ie}}),Je){let Ht=Oa(W.message,{strict:!0}),Xn=await Ha(n,(async({message:ar})=>await M.signWithUserSigner({accessToken:Wt,requesterAppId:ie,message:ar})),{chain_type:"ethereum",method:"personal_sign",params:Ht?{message:ce.slice(2),encoding:"hex"}:{message:ce,encoding:"utf-8"},wallet_id:pe.id});if(!Xn.data||!("signature"in Xn.data))throw new ka("Unable to sign message");St=Xn.data.signature}else{let{response:Ht}=await M.rpc({accessToken:Wt,entropyId:st,entropyIdVerifier:At,chainType:"ethereum",hdWalletIndex:ot,requesterAppId:ie,request:{method:"personal_sign",params:[ce,je]}});St=Ht.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:je,requesterAppId:ie}}),St};if(pt({showWalletUIs:j?.uiOptions?.showWalletUIs}))try{let St=await It();Qe(Ee,"signMessage","onSuccess",{signature:St}),q({signature:St})}catch(St){Qe(Ee,"signMessage","onError",ye.UNABLE_TO_SIGN),ee(St??new ka("Unable to sign message"))}else le({signMessage:{method:"personal_sign",data:ce,confirmAndSign:It,onSuccess:St=>{Qe(Ee,"signMessage","onSuccess",{signature:St}),q({signature:St})},onFailure:St=>{Qe(Ee,"signMessage","onError",ye.UNABLE_TO_SIGN),ee(St)},uiOptions:j?.uiOptions||{}},connectWallet:{recoveryMethod:pe.recoveryMethod,connectingWalletAddress:je,entropyId:st,entropyIdVerifier:At,onCompleteNavigateTo:s$,isUnifiedWallet:Je,onFailure:St=>{Qe(Ee,"signMessage","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),ee(St)}}}),qe(Ff)})),signTypedData:(W,j)=>new Promise((async(q,ee)=>{let{requesterAppId:ie}=j?.uiOptions||{},ce=j?.address?Qo(d,j.address):Gc(d);if(!ce&&j?.address){let St=tA(g,j.address);if(St)try{let Wt=await St.getEthereumProvider(),Ht=M5(W),Xn=await Wt.request({method:"eth_signTypedData_v4",params:[St.address,Ht]});return Qe(Ee,"signTypedData","onSuccess",{signature:Xn}),void q({signature:Xn})}catch(Wt){return Qe(Ee,"signTypedData","onError",ye.UNABLE_TO_SIGN),void ee(Wt??new ka("Unable to sign typed data "+Wt))}}if(!ce)throw new me("No embedded or connected wallet found for address.");if(!l||!d)return Qe(Ee,"signTypedData","onError",ye.MUST_BE_AUTHENTICATED),void ee(Error("User must be authenticated before signing with a Privy wallet"));let pe=ce.address,je=ce.walletIndex??0,{entropyId:ot,entropyIdVerifier:st}=ua(d,ce),At=Fi(ce),Je=M5(W),It=async()=>{let St;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let Wt=await nr();if(!M||!Wt||!await it.recoverEmbeddedWallet({address:pe}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:pe,requesterAppId:ie}}),At){let{domain:Ht,types:Xn,primaryType:ar,message:qn}=Je,mn=await Ha(n,(async({message:Vn})=>await M.signWithUserSigner({accessToken:Wt,requesterAppId:ie,message:Vn})),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:Ht,types:Xn,primary_type:ar,message:qn}},wallet_id:ce.id});if(!mn.data||!("signature"in mn.data))throw new ka("Unable to sign message");St=mn.data.signature}else{let{response:Ht}=await M.rpc({accessToken:Wt,entropyId:ot,entropyIdVerifier:st,chainType:"ethereum",hdWalletIndex:je,requesterAppId:ie,request:{method:"eth_signTypedData_v4",params:[pe,Je]}});St=Ht.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:pe,requesterAppId:ie}}),St};if(pt({showWalletUIs:j?.uiOptions?.showWalletUIs}))try{let St=await It();Qe(Ee,"signTypedData","onSuccess",{signature:St}),q({signature:St})}catch(St){Qe(Ee,"signTypedData","onError",ye.UNABLE_TO_SIGN),ee(St??new ka("Unable to sign message"))}else le({signMessage:{method:"eth_signTypedData_v4",data:Je,confirmAndSign:It,onSuccess:St=>{Qe(Ee,"signTypedData","onSuccess",{signature:St}),q({signature:St})},onFailure:St=>{Qe(Ee,"signTypedData","onError",ye.UNABLE_TO_SIGN),ee(St)},uiOptions:j?.uiOptions||{}},connectWallet:{recoveryMethod:ce.recoveryMethod,connectingWalletAddress:ce.address,entropyId:ot,isUnifiedWallet:At,entropyIdVerifier:st,onCompleteNavigateTo:s$,onFailure:St=>{Qe(Ee,"signMessage","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),ee(St)}}}),qe(Ff)})),sendTransaction:async(W,j)=>await nt({transaction:W,sponsor:j?.sponsor,uiOptions:j?.uiOptions,fundWalletConfig:j?.fundWalletConfig,address:j?.address,signOnly:!1}),signTransaction:async(W,j)=>({signature:(await nt({transaction:W,uiOptions:j?.uiOptions,address:j?.address,signOnly:!0})).hash}),exportWallet:W=>new Promise((async(j,q)=>{if(!l||!d)return void q(Error("User must be authenticated before exporting their Privy wallet"));W&&"target"in W&&W&&(W=void 0);let ee=W?.address?Qo(d,W.address):Gc(d);if(!ee)return void q(new me("User must have an embedded wallet."));let ie=ee.address,{entropyId:ce,entropyIdVerifier:pe}=ua(d,ee),je=Fi(ee);if(!ie)return void q(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!Is(ie))return void q(Error("Must provide a valid Ethereum address."));let ot={recoveryMethod:ee.recoveryMethod,connectingWalletAddress:ee.address,isUnifiedWallet:je,entropyId:ce,entropyIdVerifier:pe,onCompleteNavigateTo:a$,onFailure:q,shouldForceMFA:!0};le(se),await nr()&&M?M?tm(ee)?(le({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:ee.address,entropyId:ce,entropyIdVerifier:pe,hdWalletIndex:ee.walletIndex,chainType:ee.chainType,walletId:ee.id,isUnifiedWallet:je,imported:ee.imported,onSuccess:j,onFailure:q},connectWallet:ot}),qe(Ff)):q(Error(`Export is not supported for ${ee.chainType} wallets`)):q(Error("Must have a Privy wallet before exporting")):q(Error("Must have valid access token to enroll in MFA"))})),promptMfa:Ke,async init(W){switch(W){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${W}`)}},async submit(W,j){switch(W){case"totp":case"sms":if(typeof j!="string")throw new me("Invalid MFA code");We.current?.resolve({mfaMethod:W,mfaCode:j,relyingParty:window.origin}),await new Promise(((ie,ce)=>{tt.current={resolve:ie,reject:ce}}));break;case"passkey":if(typeof j=="string")throw new me("Invalid authenticator response");let q=await lo(()=>import("./index.RgRXXzcQ.js"),[]),ee=Hot(await q.startAuthentication(j));We.current?.resolve({mfaMethod:W,mfaCode:ee,relyingParty:window.origin}),await new Promise(((ie,ce)=>{tt.current={resolve:ie,reject:ce}}));break;default:throw We.current?.reject(new me("Unsupported MFA method")),new me(`Unsupported MFA method: ${W}`)}},cancel(){We.current?.reject(new me("MFA canceled"))},async initEnrollmentWithSms(W){let j=await nr();if(!j||!M)throw Error("Must have valid access token to enroll in MFA");await M.initEnrollMfa({method:"sms",accessToken:j,phoneNumber:W.phoneNumber})},enrollInMfa:W=>new Promise(((j,q)=>{if(!W)return it.closePrivyModal(),void j();ne.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),le({mfaEnrollmentFlow:{mfaMethods:ne.mfa.methods,shouldUnlinkOnUnenrollMfa:ne.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:j,onFailure:q}}),qe(klt)})),async initEnrollmentWithTotp(){let W=await nr();if(!W||!M)throw Error("Must have valid access token to enroll in MFA");let j=await M.initEnrollMfa({method:"totp",accessToken:W});return{secret:j.secret,authUrl:j.authUrl}},async submitEnrollmentWithSms(W){let j=await nr();if(!j||!M)throw Error("Must have valid access token to enroll in MFA");await M.submitEnrollMfa({method:"sms",accessToken:j,phoneNumber:W.phoneNumber,code:W.mfaCode}),h(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(W){let j=await nr();if(!j||!M)throw Error("Must have valid access token to enroll in MFA");await M.submitEnrollMfa({method:"totp",accessToken:j,code:W.mfaCode}),h(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:W},j={}){let q=await nr();if(!q||!M)throw Error("Must have valid access token to enroll in MFA");await M.submitEnrollMfa({method:"passkey",accessToken:q,credentialIds:W,removeForLogin:j.removeForLogin}),h(await e.getAuthenticatedUser())},async unenroll(W,j={}){let q=await nr();if(!q||!M)throw Error("Must have valid access token to remove MFA");W==="passkey"?await M.submitEnrollMfa({method:"passkey",accessToken:q,credentialIds:[],removeForLogin:j.removeForLogin}):await M.unenrollMfa({method:W,accessToken:q}),h(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let W=await nr(),j=d?.linkedAccounts.find((ee=>ee.type==="wallet"&&ee.walletClientType==="privy"));if(!W)throw Error("Must have valid access token to connect with Farcaster");if(!M||!j)throw Error("Must have an embedded wallet to use Farcaster signers");if(Fi(j))throw new me("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!d?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await it.recoverEmbeddedWallet({address:j.address}))throw Error("Unable to connect to wallet");let q=await M.initFarcasterSigner({address:j.address,hdWalletIndex:null,accessToken:W,mfaCode:null,mfaMethod:null,relyingParty:window.origin});q.status==="approved"&&h(await e.getAuthenticatedUser()||d||null),le({farcasterSigner:q}),qe(alt)},getFarcasterSignerPublicKey:async()=>{let W,j=await nr(),q=d?.linkedAccounts.find((ee=>ee.type==="wallet"&&ee.walletClientType==="privy"));if(!j)throw Error("Must have valid access token to connect with Farcaster");if(!M||!q)throw Error("Must have an embedded wallet to use Farcaster signers");if(Fi(q))throw new me("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!d?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await it.recoverEmbeddedWallet({address:q.address}))throw Error("Unable to connect to wallet");if(!d.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return W=d.farcaster.signerPublicKey.slice(2),Uint8Array.from(W.match(/.{1,2}/g).map((ee=>parseInt(ee,16))))},signFarcasterMessage:async W=>{let j=await nr(),q=d?.linkedAccounts.find((ce=>ce.type==="wallet"&&ce.walletClientType==="privy"));if(!j)throw Error("Must have valid access token to connect with Farcaster");if(!M||!q)throw Error("Must have an embedded wallet to use Farcaster signers");if(Fi(q))throw new me("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!d?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await it.recoverEmbeddedWallet({address:q.address}))throw Error("Unable to connect to wallet");if(!d.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let ee=await lo(()=>import("./index.RgRXXzcQ.js"),[]),ie=await M.signFarcasterMessage({address:q.address,hdWalletIndex:null,accessToken:j,mfaCode:null,mfaMethod:null,payload:{hash:ee.bufferToBase64URLString(W)},fid:BigInt(d.farcaster.fid),relyingParty:window.origin});return new Uint8Array(ee.base64URLStringToBuffer(ie.signature))},signMessageWithCrossAppWallet(W,{address:j,chainId:q}){let ee=d?.linkedAccounts.some((ie=>ie.type==="cross_app"&&ie.smartWallets.some((ce=>ce.address===j))));return qx({user:d,client:e,address:j,requesterAppId:ne.id,request:{method:ee?"privy_signSmartWalletMessage":"personal_sign",params:[W,j],chainId:q},reconnect:jt})},signTypedDataWithCrossAppWallet(W,{address:j,chainId:q}){let ee=d?.linkedAccounts.some((ce=>ce.type==="cross_app"&&ce.smartWallets.some((pe=>pe.address===j)))),ie=M5(W);return qx({user:d,client:e,address:j,requesterAppId:ne.id,request:{method:ee?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[j,ie],chainId:q},reconnect:jt})},sendTransactionWithCrossAppWallet(W,{address:j}){let q=d?.linkedAccounts.some((ee=>ee.type==="cross_app"&&ee.smartWallets.some((ie=>ie.address===j))));return qx({user:d,client:e,address:j,requesterAppId:ne.id,request:{method:q?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[W],chainId:W.chainId},reconnect:jt})},signTransactionWithCrossAppWallet(W,{address:j}){let q=d?.linkedAccounts.some((ee=>ee.type==="cross_app"&&ee.smartWallets.some((ie=>ie.address===j))));return qx({user:d,client:e,address:j,requesterAppId:ne.id,request:{method:q?"privy_signSmartWalletTx":"eth_signTransaction",params:[W],chainId:W.chainId},reconnect:jt})},isModalOpen:i,mfaMethods:ne.mfa.methods};Wle=Xt.signMessage,Hle=Xt.signTypedData,Vle=async(W,j)=>await nt({transaction:W,...j,signOnly:!1}),qle=async(W,j)=>({signature:(await nt({transaction:W,...j,signOnly:!0})).hash});let it={privy:n,setAuthenticated:u,setUser:h,setIsNewUser:C,isNewUserThisSession:I,pendingTransaction:null,walletConnectionStatus:H,setWalletConnectionStatus:U,connectors:e.connectors?.walletConnectors??[],solanaWallets:b,rpcConfig:ne.rpcConfig,chains:ne.chains,appId:t.appId,showFiatPrices:ne.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:ht,hideWalletUIs:rt,isHeadlessSigning:k.useCallback(pt,[ne.embeddedWallets.showWalletUIs]),emailOtpState:R,setEmailOtpState:F,smsOtpState:_,setSmsOtpState:S,oAuthState:z,setOAuthState:Y,telegramAuthState:J,setTelegramAuthState:V,siweState:$,setSiweState:D,isHeadlessOAuthLoading:T,baseAccountSdk:x,setBaseAccountSdk:E,nativeTokenSymbolForChainId:W=>ne.chains.find((j=>j.id===Number(W)))?.nativeCurrency.symbol,initializeWalletProxy:async W=>{if(M)return M;let j=new Promise((ie=>{Ce.current=ie})),q=new Promise((ie=>setTimeout((()=>ie(null)),W))),ee=await Promise.race([j,q]);return Ce.current=null,ee},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>e.authFlow?.meta,client:e,closePrivyModal:async(W={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let j,q=s&&l&&d;q&&Ue.current&&(j=mt(d)),Ge.current==="login"?W.shouldCallAuthOnSuccess&&q&&Ue.current?Qe(Ee,"login","onComplete",{user:d,isNewUser:I,wasAlreadyAuthenticated:!1,loginMethod:Ue.current,loginAccount:j??null}):Qe(Ee,"login","onError",ye.USER_EXITED_AUTH_FLOW):Ge.current==="link"&&j?W.isSuccess&&q&&Ue.current?Qe(Ee,"linkAccount","onSuccess",{user:d,linkMethod:Ue.current,linkedAccount:j}):Ue.current&&Qe(Ee,"linkAccount","onError",ye.USER_EXITED_LINK_FLOW,{linkMethod:Ue.current}):Ge.current==="update"&&j?W.isSuccess&&q&&Ue.current?Qe(Ee,"update","onSuccess",{user:d,updateMethod:Ue.current,updatedAccount:j}):Ue.current&&Qe(Ee,"update","onError",ye.USER_EXITED_UPDATE_FLOW,{linkMethod:Ue.current}):Ge.current==="connect-or-create"&&(g[0]?Qe(Ee,"connectOrCreateWallet","onSuccess",{wallet:g[0]}):Qe(Ee,"connectOrCreateWallet","onError",ye.USER_EXITED_AUTH_FLOW));let ee=N&&xS.has(N),ie=N===Or&&se.errorModalData&&xS.has(se.errorModalData.previousScreen);if((ee||ie)&&se.funding){let ce,pe=xS.get(N)??null;if(se.funding.chainType==="solana"){let je=r($v);if(je)try{ce=BigInt(await je.getBalance({address:se.funding.address,cluster:se.funding.cluster}))}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Qe(Ee,"fundSolanaWallet","onUserExited",{address:se.funding.address,cluster:se.funding.cluster,fundingMethod:pe,balance:ce})}else{let je=Qg(se.funding.chain.id,ne.chains,ne.rpcConfig,{appId:t.appId});try{ce=await je.getBalance({address:se.funding.address})}catch{console.error("Unable to pull wallet balance")}Qe(Ee,"fundWallet","onUserExited",{address:se.funding.address,chain:se.funding.chain,fundingMethod:pe,balance:ce})}}le((ce=>({...ce,externalConnectWallet:{suggestedAddress:void 0}}))),Ge.current=null,Ue.current=null,C(!1),a(!1),setTimeout((()=>{e.authFlow=void 0}),200)},openPrivyModal:qe,connectWallet:yt,initLoginWithWallet:async(W,j,q,ee)=>{nd(W)?(Ue.current="siwe",re(W,j,q)):(Ue.current="siws",Z(W,j,q,ee))},loginWithWallet:async()=>{let W,j,q;if(!s)throw new Kh;if(e.authFlow instanceof Sg?W="siwe":e.authFlow instanceof Z6&&(W="siws"),!W)throw new me("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:j}=await e.link()),Ue.current=W}catch(ee){throw Qe(Ee,"linkAccount","onError",ee.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:W}),ee}else try{({user:j,isNewUser:q}=await e.authenticate()),Ue.current=W}catch(ee){throw Qe(Ee,"login","onError",ee.privyErrorCode||ye.GENERIC_CONNECT_WALLET_ERROR),ee}h(j||d||null),C(q||!1),u(!0)},delegateWallet:async({address:W,chainType:j,showDelegationUIs:q})=>new Promise((async(ee,ie)=>{let ce=await nr();if(!l||!d||!ce)throw new me("User must be authenticated and have an embedded wallet to delegate actions.");if(j!=="solana"&&j!=="ethereum")throw new me("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let pe=it.walletProxy??await it.initializeWalletProxy(15e3);if(!pe)throw new me("Wallet proxy not initialized.");if((({address:Je,user:It})=>!!EG(It).find((St=>St.address===Je)))({address:W,user:d}))return ee();let je=Qo(d,W);if(!je)throw new me("Address to delegate is not associated with current user.");if(Fi(je))throw new me("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let ot=cnt({address:W,user:d}),st=unt({address:W,user:d}),At=async()=>{await pe.createDelegatedAction({accessToken:ce,rootWallet:st,delegatedWallets:[ot]}),await it.refreshSessionAndUser()};if(await it.recoverEmbeddedWallet({address:W}),q)le({delegatedActions:{consent:{address:W,onDelegate:At,onSuccess:async()=>{ee()},onError:async Je=>{ie(Je)}}}}),qe(Yot);else try{await At(),ee()}catch(Je){ie(Je)}})),revokeDelegatedWallets:async({showDelegationUIs:W})=>new Promise((async(j,q)=>{if(!l||!d)throw new me("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let ee=EG(d);if(ee.length===0)throw new me("User has no delegated wallets to revoke.");if(ee.some(Fi))throw new me("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let ie=async()=>{await e.revokeDelegatedWallet(),await it.refreshSessionAndUser()};if(W)le({delegatedActions:{revoke:{onRevoke:ie,onSuccess:async()=>{j()},onError:async ce=>{q(ce)}}}}),qe(Jot);else try{await ie(),j()}catch(ce){q(ce)}})),initLoginWithFarcaster:async(W,j)=>{let q=new KV(W,j);e.startAuthFlow(q);try{Ue.current="farcaster",await q.initializeFarcasterConnect()}catch(ee){throw Ge.current==="login"?Qe(Ee,"login","onError",ee.privyErrorCode||ye.UNKNOWN_AUTH_ERROR):Ge.current==="link"&&Qe(Ee,"linkAccount","onError",ee.privyErrorCode||ye.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),ee}},loginWithFarcaster:async()=>{let W,j;if(!s)throw new Kh;if(!(e.authFlow instanceof KV))throw new me("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:W}=await e.link()),Ue.current="farcaster"}catch(q){throw Qe(Ee,"linkAccount","onError",q.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),q}else try{({user:W,isNewUser:j}=await e.authenticate()),Ue.current="farcaster"}catch(q){throw Qe(Ee,"login","onError",q.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),q}h(W||null),C(j||!1),u(!0)},async crossAppAuthFlow({appId:W,popup:j,action:q}){let ee=`privy:${W}`;Ue.current=ee;let{url:ie,stateCode:ce,codeVerifier:pe}=await(async function({api:je,appId:ot}){let st=Q8(),At=lO(),Je=await cO(st);try{let{url:It}=await je.post(MQ,{provider:`privy:${ot}`,redirect_to:window.location.href,code_challenge:Je,state_code:At});return{url:It,stateCode:At,codeVerifier:st}}catch(It){throw Sn(It)}})({api:e.api,appId:W});if(!ie)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:W}}),new me("No authorization URL returned for cross-app auth.");try{let je=await(async function({url:It,popup:St}){return St.location=It,new Promise(((Wt,Ht)=>{let Xn,ar=setTimeout((()=>{Ht(new me("Authorization request timed out after 2 minutes.")),qn()}),12e4);function qn(){St?.close(),window.removeEventListener("message",Vn)}let mn=setInterval((()=>{St?.closed&&!Xn&&(qn(),clearInterval(mn),clearTimeout(ar),Ht(new me("User rejected request")))}),300);function Vn(wr){wr.data&&(wr.data.type==="PRIVY_OAUTH_RESPONSE"&&wr.data.stateCode&&wr.data.authorizationCode&&(clearTimeout(ar),Wt(wr.data),qn()),wr.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(ar),Ht(new me(wr.data.error)),qn()),wr.data.type===AG&&((Xn=new BroadcastChannel(_G)).onmessage=Vn))}window.addEventListener("message",Vn)}))})({url:ie,popup:j,provider:ee}),ot=je.stateCode,st=je.authorizationCode;if(ot!==ce)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:ee,storedStateCode:ce??"",returnedStateCode:ot??""}}),new me("Unexpected auth flow. This may be a phishing attempt.",void 0,ye.OAUTH_UNEXPECTED);let At=await(async function({appId:It,stateCode:St,codeVerifier:Wt,authorizationCode:Ht,action:Xn,client:ar}){if(!Ht||!St)throw new me("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(Ht==="undefined")throw new me("User denied confirmation during cross-app auth flow");try{let qn=new fnt({authorizationCode:Ht,stateCode:St,codeVerifier:Wt,provider:`privy:${It}`});ar.startAuthFlow(qn);let mn=Xn==="link"?await ar.link():await ar.authenticate(),Vn=mn.oAuthTokens?.accessToken;return console.debug(),Vn}catch(qn){let mn=Sn(qn);throw mn.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED?mn:mn.privyErrorCode?new me(mn.message||"Invalid code during cross-app auth flow.",void 0,mn.privyErrorCode):mn.message==="User denied confirmation during cross-app auth flow"?new me("Invalid code during cross-app auth flow.",void 0,ye.OAUTH_USER_DENIED):new me("Invalid code during cross-app auth flow.",void 0,ye.UNKNOWN_AUTH_ERROR)}})({appId:W,codeVerifier:pe,stateCode:ot,authorizationCode:st,action:q,client:e});At&&e.storeProviderAccessToken(W,At);let Je=await it.refreshSessionAndUser();if(!Je)throw new me("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:W}}),Je}catch(je){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:je.toString(),provider:ee}}),je}},async initLoginWithOAuth(W,j,q){if(Ue.current=W,!CT()||W==="google"&&QT(window.navigator.userAgent))return void qe(sK);W==="twitter"&&window.opener&&window.opener.postMessage({type:AG},"*"),Bt.del(Y6),Bt.del(fb);let ee=new Y1({provider:W,disableSignup:!!q,withPrivyUi:!0,customOAuthRedirectUrl:ne.customOAuthRedirectUrl});j&&ee.addCaptchaToken(j),e.startAuthFlow(ee);let ie=await e.authFlow.getAuthorizationUrl();if(ie&&ie.url)if(W==="twitter"&&Dn.isAndroid&&(ie.url=ie.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&IT())try{let{privyOAuthCode:ce,privyOAuthState:pe}=await QV(ie.url);qe(lK),ee.meta.stateCode=pe,ee.meta.authorizationCode=ce}catch(ce){throw console.error("OAuth in chrome extension flow failed:",ce),ce}else window.location.assign(ie.url)},async initLoginWithTelegram(W,j){if(!s)throw new Kh;Ue.current="telegram";let q=new b2(W,j);e.startAuthFlow(q),V({status:"loading"}),q.meta.telegramWebAppData=void 0,q.meta.telegramAuthResult=await new Promise(((ee,ie)=>ne.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:ne.loginConfig.telegramAuthConfiguration.botId,request_access:!0},(ce=>ce?ee(ce):ie(new me("Telegram auth failed or was canceled by the client")))):ie(new me("Telegram was not initialized")):ie(new me("Telegram Auth configuration is not loaded"))))},async loginWithTelegram(W){let j,q;if(!(e.authFlow instanceof b2))throw new me("Must initialize Telegram flow before calling loginWithTelegram");e.authFlow.meta.captchaToken||=W?.captchaToken;let ee=await nr(),ie=W?.intent||Ge.current;if(ie==="login")try{let pe=await e.authenticate();j=pe.user,q=pe.isNewUser,Ue.current="telegram"}catch(pe){throw Qe(Ee,"login","onError",pe.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),pe}else{if(ie!=="link")throw new me("Unknown auth intent");try{j=(await e.link()).user,Ue.current="telegram"}catch(pe){throw Qe(Ee,"linkAccount","onError",pe.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),pe}}h(j),C(q||!1),u(!0),V({status:"done"});let ce=j?.linkedAccounts.find((({type:pe})=>pe==="telegram"))||null;return{user:j,isNewUser:q||!1,wasAlreadyAuthenticated:!!ee,loginAccount:ce}},async loginWithOAuth(W){let j,q,ee;if(!(e.authFlow instanceof Y1))throw new me("Must initialize OAuth flow before calling loginWithOAuth");let ie=Bt.get(K6),ce=e.authFlow.meta.stateCode;if(ie!==ce)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:W,storedStateCode:ie??"",returnedStateCode:ce??""}}),new me("Unexpected auth flow. This may be a phishing attempt.",void 0,ye.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let pe=await e.link();j=pe.user,ee=pe.oAuthTokens,Ue.current=W}catch(pe){throw Qe(Ee,"linkAccount","onError",pe.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:W}),pe}else try{let pe=await e.authenticate();j=pe.user,q=pe.isNewUser,ee=pe.oAuthTokens,Ue.current=W}catch(pe){throw Ge.current==="login"?Qe(Ee,"login","onError",pe.privyErrorCode||ye.UNKNOWN_AUTH_ERROR):Ge.current==="link"&&Qe(Ee,"linkAccount","onError",pe.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:W}),pe}return h(j),C(q||!1),u(!0),ee&&j&&Qe(Ee,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:ee,user:j}),ee},passkeyAuthState:L,setPasskeyAuthState:G,async initSignupWithPasskey({captchaToken:W,withPrivyUi:j}){let q=new L1({captchaToken:W,setPasskeyAuthState:G});e.startAuthFlow(q),Ge.current="login";try{Ue.current="passkey",G({status:"generating-challenge"}),await q.initRegisterFlow(j),G({status:"awaiting-passkey"})}catch(ee){throw G({status:"error",error:ee}),Qe(Ee,"login","onError",ee.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),ee}},async signupWithPasskey(){let W,j;if(!s)throw new Kh;if(!(e.authFlow instanceof L1))throw new me("Must initialize Passkey flow first.");if(Ue.current!=="passkey"){let ie=new me("Must init login with Passkey flow first.");throw G({status:"error",error:ie}),ie}let q=await nr();try{Ue.current="passkey",G({status:"awaiting-passkey"}),{user:W,isNewUser:j}=await e.authenticate()}catch(ie){throw G({status:"error",error:ie}),Qe(Ee,"login","onError",ie.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),ie}h(W),C(j||!1),u(!0),G({status:"done"});let ee=W?.linkedAccounts.find((({type:ie})=>ie==="passkey"))||null;return{user:W,isNewUser:j||!1,wasAlreadyAuthenticated:!!q,loginAccount:ee}},async initLoginWithPasskey({captchaToken:W,withPrivyUi:j}){let q=new L1({captchaToken:W,setPasskeyAuthState:G});e.startAuthFlow(q),Ge.current="login";try{Ue.current="passkey",G({status:"generating-challenge"}),await q.initAuthenticationFlow(j),G({status:"awaiting-passkey"})}catch(ee){throw G({status:"error",error:ee}),Qe(Ee,"login","onError",ee.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),ee}},async loginWithPasskey(W){let j,q;if(!s)throw new Kh;if(!(e.authFlow instanceof L1))throw new me("Must initialize Passkey flow first.");if(W?.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=W.credentialIds),Ue.current!=="passkey"){let ce=new me("Must init login with Passkey flow first.");throw G({status:"error",error:ce}),ce}let ee=await nr();try{Ue.current="passkey",G({status:"awaiting-passkey"}),{user:j,isNewUser:q}=await e.authenticate()}catch(ce){throw G({status:"error",error:ce}),Qe(Ee,"login","onError",ce.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),ce}h(j),C(q||!1),u(!0),G({status:"done"});let ie=j?.linkedAccounts.find((({type:ce})=>ce==="passkey"))||null;return{user:j,isNewUser:q||!1,wasAlreadyAuthenticated:!!ee,loginAccount:ie}},async initLinkWithPasskey(W){let j=new L1({captchaToken:W});e.startAuthFlow(j),Ge.current="link",Ue.current="passkey",G({status:"generating-challenge"});try{await j.initLinkFlow(),G({status:"awaiting-passkey"})}catch(q){throw Qe(Ee,"linkAccount","onError",q.privyErrorCode||ye.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),G({status:"error",error:q}),q}},async linkWithPasskey(){let W;if(!s)throw new Kh;if(!(e.authFlow instanceof L1))throw new me("Must initialize Passkey flow first.");if(Ue.current!=="passkey")throw new me("Must init login with Passkey flow first.");try{Ue.current="passkey",{user:W}=await e.link()}catch(j){throw Qe(Ee,"linkAccount","onError",j.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),j}return h(W||d||null),G({status:"done"}),W},async initLoginWithHeadlessOAuth(W,j,q){if(!CT()||W==="google"&&QT(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let ee=new Y1({provider:W,withPrivyUi:!1,disableSignup:q??!1,customOAuthRedirectUrl:ne.customOAuthRedirectUrl});j&&ee.addCaptchaToken(j),Y({status:"loading"});let ie=await e.startAuthFlow(ee).getAuthorizationUrl();if(ie?.url)if(window.location.protocol==="chrome-extension:"&&IT())try{let{privyOAuthCode:ce,privyOAuthState:pe}=await QV(ie.url);ee.meta.stateCode=pe,ee.meta.authorizationCode=ce,await this.loginWithHeadlessOAuth(ee.meta)}catch(ce){throw Y({status:"error",error:ce}),ce}else window.location.assign(ie.url)},async loginWithHeadlessOAuth(W){let j,q,ee;O(!0),Y({status:"loading"}),e.startAuthFlow(new Y1({...W,customOAuthRedirectUrl:ne.customOAuthRedirectUrl}));let ie=Bt.get(K6),ce=W.stateCode;if(ie!==ce)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:W.provider,storedStateCode:ie??"",returnedStateCode:ce??""}}),O(!1),new me("Unexpected auth flow. This may be a phishing attempt.",void 0,ye.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:j,oAuthTokens:ee}=await e.link()),Ue.current=W.provider;let pe=mt(j);j&&pe&&Qe(Ee,"linkAccount","onSuccess",{user:j,linkMethod:Ue.current,linkedAccount:pe})}catch(pe){throw O(!1),Qe(Ee,"linkAccount","onError",pe.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:W.provider}),pe}else try{({user:j,isNewUser:q,oAuthTokens:ee}=await e.authenticate()),Ue.current=W.provider;let pe=mt(j);j&&pe&&q!==void 0&&Qe(Ee,"login","onComplete",{user:j,isNewUser:q,wasAlreadyAuthenticated:!1,loginMethod:Ue.current,loginAccount:pe})}catch(pe){throw O(!1),Y({status:"error",error:pe}),Qe(Ee,"login","onError",pe.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),pe}return h(j),C(q||!1),u(!0),O(!1),Y({status:"done"}),ee&&j&&Qe(Ee,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:ee,user:j}),j??void 0},initLoginWithEmail:async({email:W,captchaToken:j,disableSignup:q,withPrivyUi:ee})=>{let ie=new sg({email:W,captchaToken:j,disableSignup:q});e.startAuthFlow(ie);try{Ue.current="email",F({status:"sending-code"}),await ie.sendCodeEmail({withPrivyUi:ee}),F({status:"awaiting-code-input"})}catch(ce){throw F({status:"error",error:ce}),Ge.current==="login"?Qe(Ee,"login","onError",ce.privyErrorCode||ye.UNKNOWN_AUTH_ERROR):Ge.current==="link"&&Qe(Ee,"linkAccount","onError",ce.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),ce}},initUpdateEmail:async({oldAddress:W,newAddress:j,captchaToken:q})=>{let ee=new lQe(W,j,q);e.startAuthFlow(ee);try{await ee.sendCodeEmail({withPrivyUi:!0})}catch(ie){Qe(Ee,"update","onError",ie.privyErrorCode||ye.UNKNOWN_AUTH_ERROR,{linkMethod:Ue.current})}},initUpdatePhone:async(W,j,q)=>{let ee=new yQe(W,j,q);e.startAuthFlow(ee);try{await ee.sendSmsCode({withPrivyUi:!0})}catch(ie){Qe(Ee,"update","onError",ie.privyErrorCode||ye.UNKNOWN_AUTH_ERROR,{linkMethod:Ue.current})}},initLoginWithSms:async({phoneNumber:W,captchaToken:j,disableSignup:q,withPrivyUi:ee})=>{S({status:"sending-code"});let ie=new og({phoneNumber:W,captchaToken:j,disableSignup:q});e.startAuthFlow(ie);try{Ue.current="sms",await ie.sendSmsCode({withPrivyUi:ee}),S({status:"awaiting-code-input"})}catch(ce){throw S({status:"error",error:ce}),Ge.current==="login"?Qe(Ee,"login","onError",ce.privyErrorCode||ye.UNKNOWN_AUTH_ERROR):Ge.current==="link"&&Qe(Ee,"linkAccount","onError",ce.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),ce}},resendEmailCode:async()=>{await e.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await e.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async W=>{let j,q;function ee(je){e.authFlow instanceof sg?F(je):e.authFlow instanceof og&&S(je)}if(ee({status:"submitting-code"}),!s){let je=new Kh;throw ee({status:"error",error:je}),je}if(e.authFlow instanceof sg)e.authFlow.meta.emailCode=W.trim();else{if(!(e.authFlow instanceof og)){let je=new me("Must initialize a passwordless code flow first");throw ee({status:"error",error:je}),je}e.authFlow.meta.smsCode=W.trim()}let ie=await nr();if(Ge.current==="link")try{({user:j}=await e.link())}catch(je){throw ee({status:"error",error:je}),Qe(Ee,"linkAccount","onError",je.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:Ue.current}),je}else if(Ge.current==="update")try{({user:j}=await e.link())}catch(je){throw ee({status:"error",error:je}),Qe(Ee,"update","onError",je.privyErrorCode||ye.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Ue.current}),je}else try{({user:j,isNewUser:q}=await e.authenticate())}catch(je){throw ee({status:"error",error:je}),Qe(Ee,"login","onError",je.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),je}let ce=j||d;h(ce||null),C(q||!1),u(!0),ee({status:"done"});let pe=null;return e.authFlow instanceof sg?pe=ce?.linkedAccounts.find((({type:je})=>je==="email"))||null:e.authFlow instanceof og&&(pe=ce?.linkedAccounts.find((({type:je})=>je==="phone"))||null),{user:ce,isNewUser:q||!1,wasAlreadyAuthenticated:!!ie,linkedAccount:pe}},generateSiweMessage:async({address:W,chainId:j,captchaToken:q})=>{Ge.current=l?"link":"login",Ue.current="siwe",D({status:"generating-message"});let ee=await e.generateSiweNonce({address:W,captchaToken:q});return D({status:"awaiting-signature"}),NT({address:W,chainId:j.replace("eip155:",""),nonce:ee})},generateSiweMessageForSmartWallet:async({address:W,chainId:j})=>{let q=await e.generateSiweNonce({address:W});return NT({address:W,chainId:j.replace("eip155:",""),nonce:q})},linkSmartWallet:async({message:W,signature:j,smartWalletType:q,smartWalletVersion:ee})=>{let ie;ie=await e.linkSmartWallet({message:W,signature:j,smartWalletType:q,smartWalletVersion:ee}),h((ie=await it.refreshSessionAndUser()??ie)||d||null)},loginWithSiwe:async({message:W,signature:j,captchaToken:q,disableSignup:ee})=>{let ie,ce=null;try{if(d)throw Error("User already authenticated");let pe=new Sg(e,void 0,q,ee,{message:W,signature:j});if(e.startAuthFlow(pe),Ue.current="siwe",Ge.current="login",D({status:"submitting-signature"}),{user:ce,isNewUser:ie}=await e.authenticate(),!ce)throw Error("Authentication failed - no user returned")}catch(pe){throw Qe(Ee,"login","onError",pe.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),D({status:"error",error:pe}),pe}return h(ce),C(ie||!1),u(!0),D({status:"done"}),Ge.current=null,Ue.current=null,ce},linkWithSiwe:async({message:W,signature:j,chainId:q,walletClientType:ee,connectorType:ie})=>{let ce;ae("siwe");let pe=null;try{D({status:"submitting-signature"}),ce=await e.linkWithSiwe({message:W,signature:j,chainId:q,walletClientType:ee,connectorType:ie}),ce=await it.refreshSessionAndUser()??ce,D({status:"done"}),(pe=mt(ce)||null)&&Qe(Ee,"linkAccount","onSuccess",{user:ce,linkMethod:"siwe",linkedAccount:pe})}catch(ot){throw Qe(Ee,"linkAccount","onError",ot.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),Ge.current=null,Ue.current=null,D({status:"error",error:ot}),ot}let je=ce||d;return h(je||null),Ge.current=null,Ue.current=null,{user:je,linkedAccount:pe}},refreshSessionAndUser:async()=>{let W=await e.getAuthenticatedUser();return u(!!W),h(W),W},walletProxy:M,createAnalyticsEvent:({eventName:W,payload:j,timestamp:q})=>e.createAnalyticsEvent({eventName:W,payload:j,timestamp:q}),acceptTerms:async()=>{let W=await e.acceptTerms();return h(W),W},getUsdTokenPrice:W=>e.getUsdTokenPrice(W),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:W=>e.getSplTokenMetadata(W),recoverEmbeddedWallet:async W=>new Promise((async(j,q)=>{if(!d)return void j(!0);let ee=W?.address?Qo(d,W.address):cl(d)||Gk(d)||i8(d);if(!ee||Fi(ee))return void j(!0);let ie=await nr();if(!ie||!M||!ee)return void q(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:ce,entropyIdVerifier:pe}=ua(d,ee);try{await M.connect({accessToken:ie,entropyId:ce,entropyIdVerifier:pe}),j(!0)}catch(je){if(Tw(je)&&ee.recoveryMethod==="privy"){let ot;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:ee.address}});try{ot=await M.recover({entropyId:ce,entropyIdVerifier:pe,accessToken:ie})}catch(st){return void q(st)}ot.entropyId||q(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:ee.address}}),j(!0)}else Tw(je)&&ee.recoveryMethod!=="privy"&&ee.recoveryMethod!=="privy-v2"?(le({recoverWallet:{entropyId:ce,entropyIdVerifier:pe,onFailure:q,onSuccess:()=>j(!0)},recoveryOAuthStatus:{provider:ee.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),qe(lle(ee.recoveryMethod))):q(je)}})),exportSolanaWallet:W=>new Promise((async(j,q)=>{if(!l||!d)return void q(Error("User must be authenticated before exporting their Privy wallet"));let ee=W?.address?Qo(d,W.address):fp(d);if(!ee)return void q(new me("User must have an embedded wallet."));let{entropyId:ie,entropyIdVerifier:ce}=ua(d,ee),pe=Fi(ee);if(!await nr()||!M)return void q(Error("Must have valid access token to enroll in MFA"));if(!M)return void q(Error("Must have a Privy wallet before exporting"));let je={recoveryMethod:ee.recoveryMethod,connectingWalletAddress:ee.address,isUnifiedWallet:pe,entropyId:ie,entropyIdVerifier:ce,onCompleteNavigateTo:a$,onFailure:q,shouldForceMFA:!0};tm(ee)?(le({connectWallet:je,keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:ee.address,entropyId:ie,entropyIdVerifier:ce,hdWalletIndex:ee.walletIndex,chainType:ee.chainType,walletId:ee.id,isUnifiedWallet:pe,imported:ee.imported,onSuccess:j,onFailure:q}}),qe(Ff)):q(Error(`Export is not supported for ${ee.chainType} wallets`))})),setReadyToTrue:W=>{o(!0),de?.(W)},updateWallets:()=>ve(),fundWallet:async(W,j)=>{le({funding:KG({address:W,appConfig:ne,fundWalletConfig:j,methodScreen:ks})}),qe(ks)},openModal:qe,requestFarcasterSignerStatus:async W=>{let j=await nr(),q=d?.linkedAccounts.find((ie=>ie.type==="wallet"&&ie.walletClientType==="privy"));if(!j)throw Error("Must have valid access token to connect with Farcaster");if(!M||!q)throw Error("Must have an embedded wallet to use Farcaster signers");if(!d?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let ee=await e.requestFarcasterSignerStatus(W);return ee.status==="approved"&&h(await e.getAuthenticatedUser()||d||null),ee},connectCoinbaseSmartWallet:async()=>{ne.externalWallets.coinbaseWallet.config.preference={...ne.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let W=e.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||e.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(W)return W.updateConnectionPreference("smartWalletOnly"),yt(W);await gt("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let W=e.connectors?.findWalletConnector("base_account","base_account");if(W)return yt(W);await gt("base_account","base_account")},initiateAccountTransfer:async({nonce:W,account:j,accountType:q,externalWalletMetadata:ee,telegramAuthResult:ie,telegramWebAppData:ce,farcasterEmbeddedAddress:pe,oAuthUserInfo:je})=>{let ot=await e.sendAccountTransferRequest({nonce:W,account:j,accountType:q,externalWalletMetadata:ee,telegramAuthResult:ie,telegramWebAppData:ce,farcasterEmbeddedAddress:pe,oAuthUserInfo:je});return h(ot),ot},inProgressAuthFlowRef:Ge,inProgressLoginOrLinkMethodRef:Ue};Gle=it.recoverEmbeddedWallet,Kle=it.recoverEmbeddedWallet;let Zt=k.useMemo((()=>({wallets:g,ready:ke&&Ze})),[g,ke,Ze]),ir=e.authFlow instanceof b2,tn=!ne.headless&&ne.captchaEnabled&&!l&&(s||ir);return p.jsx(zle.Provider,{value:!0,children:p.jsx(_m.Provider,{value:Xt,children:p.jsx($se.Provider,{value:Ee,children:p.jsx(Qse.Provider,{value:Zt,children:p.jsx(xQe,{...ne,children:p.jsxs(UQ.Provider,{value:it,children:[p.jsx(Gnt,{children:p.jsxs(LQe,{data:se,setModalData:le,setInitialScreen:A,initialScreen:N,authenticated:l,open:i,children:[t.children,p.jsx(Blt,{customAuth:ne.customAuth}),tn&&p.jsx(eet,{delayedExecution:!1}),p.jsx(ant,{}),p.jsx(Wot,{disabled:ne.embeddedWallets.disableAutomaticMigration}),p.jsx(Htt,{palette:ne.appearance.palette||{}}),!ne.render.standalone&&p.jsx(Qtt,{open:i})]})}),p.jsx(lnt,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:d?.mfaMethods,mfaPromise:We,mfaSubmitPromise:tt,onLoad:Q,onLoadFailed:()=>null}),ne.loginConfig.telegramAuthConfiguration&&p.jsx(em,{$if:!0,children:p.jsx(tnt,{scriptHost:t.apiUrl||ST,botUsername:ne.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};class _S extends at.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error in component:",e,n)}render(){return this.state.hasError?p.jsxs("div",{style:{padding:"40px",backgroundColor:"#ffdede",borderRadius:"8px",color:"red"},children:[p.jsx("h2",{children:"Something went wrong."}),p.jsx("p",{children:"This part of the application has encountered an error."}),p.jsx("details",{style:{whiteSpace:"pre-wrap"},children:this.state.error&&this.state.error.toString()})]}):this.props.children}}var Yle={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cK=at.createContext&&at.createContext(Yle),Glt=["attr","size","title"];function Klt(t,e){if(t==null)return{};var n=Ylt(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ylt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u4(){return u4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u4.apply(this,arguments)}function uK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uK(Object(n),!0).forEach(function(r){Zlt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zlt(t,e,n){return e=Jlt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jlt(t){var e=Xlt(t,"string");return typeof e=="symbol"?e:e+""}function Xlt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zle(t){return t&&t.map((e,n)=>at.createElement(e.tag,d4({key:n},e.attr),Zle(e.child)))}function Jle(t){return e=>at.createElement(Qlt,u4({attr:d4({},t.attr)},e),Zle(t.child))}function Qlt(t){var e=n=>{var{attr:r,size:i,title:a}=t,s=Klt(t,Glt),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),at.createElement("svg",u4({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:d4(d4({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&at.createElement("title",null,a),t.children)};return cK!==void 0?at.createElement(cK.Consumer,null,n=>e(n)):e(Yle)}function ect(t){return Jle({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function tct(t){return Jle({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}const nct=()=>{const[t,e]=k.useState("dark");k.useEffect(()=>{document.body.setAttribute("data-theme",t)},[t]);const n=()=>{e(t==="light"?"dark":"light")};return p.jsx("button",{onClick:n,className:"theme-switcher",children:t==="light"?p.jsx(ect,{}):p.jsx(tct,{})})},rct=()=>{const t="bg-card-background text-text-primary",e="text-text-secondary hover:bg-card-background hover:text-text-primary";return p.jsxs("nav",{className:"flex justify-center items-center gap-2 md:gap-4 bg-background rounded-lg p-2",children:[p.jsx(i5,{to:"/arbitrage-bot",className:({isActive:n})=>`${n?t:e} px-4 py-2 rounded-lg text-sm font-medium transition-colors`,children:"Bot Status"}),p.jsx(i5,{to:"/",className:({isActive:n})=>`${n?t:e} px-4 py-2 rounded-lg text-sm font-medium transition-colors`,children:"Manual Trade"}),p.jsx(i5,{to:"/history",className:({isActive:n})=>`${n?t:e} px-4 py-2 rounded-lg text-sm font-medium transition-colors`,children:"Trade History"}),p.jsx(nct,{})]})},AS=()=>{const{login:t}=zm();return p.jsxs("div",{className:"login-prompt-container",children:[p.jsx("h2",{children:"Please Log In"}),p.jsx("p",{children:"You need to be logged in to access the application."}),p.jsx("button",{onClick:t,children:"Log In"})]})},ict=k.lazy(()=>lo(()=>import("./ArbitrageBotPage.DOWZ8yQA.js"),[])),act=k.lazy(()=>lo(()=>import("./ManualTradePage.DLl_Hf96.js"),[])),sct=k.lazy(()=>lo(()=>import("./HistoryPage.Dps_OVrj.js"),[])),oct=()=>{const{login:t,logout:e,ready:n,authenticated:r}=zm();return p.jsx(Zhe,{children:p.jsxs("div",{id:"app-container",children:[p.jsxs("header",{children:[p.jsx("h1",{children:p.jsx(w$,{to:"/",children:"FlashBot"})}),p.jsx("div",{children:n&&r?p.jsx("button",{onClick:e,children:"Logout"}):p.jsx("button",{onClick:t,children:"Login"})})]}),p.jsxs("div",{className:"container",children:[p.jsx(rct,{}),p.jsx("main",{children:p.jsx(k.Suspense,{fallback:p.jsx("div",{className:"loading-container",children:p.jsx("h2",{children:"Loading..."})}),children:p.jsxs(khe,{children:[p.jsx(t5,{path:"/",element:p.jsx(_S,{children:n&&r?p.jsx(act,{}):p.jsx(AS,{})})}),p.jsx(t5,{path:"/arbitrage-bot",element:p.jsx(_S,{children:n&&r?p.jsx(ict,{}):p.jsx(AS,{})})}),p.jsx(t5,{path:"/history",element:p.jsx(_S,{children:n&&r?p.jsx(sct,{}):p.jsx(AS,{})})})]})})})]})]})})},Xle=k.createContext(),Spt=()=>k.useContext(Xle),lct=({children:t})=>{const[e]=k.useState("base-mainnet");return p.jsx(Xle.Provider,{value:{network:e},children:t})},Qle="6.15.0";async function zO(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,a)=>(r[e[a]]=i,r),{})}function uo(t,e,n){for(let r in e){let i=e[r];Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function dg(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>dg(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return dg(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${dg(r,e)}: ${dg(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function cct(t,e,n){let r=t;{const a=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${dg(n)}`);for(const s in n){if(s==="shortMessage")continue;const o=n[s];a.push(s+"="+dg(o))}}a.push(`code=${e}`),a.push(`version=${Qle}`),a.length&&(t+=" ("+a.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return uo(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&uo(i,{shortMessage:r}),i}function An(t,e,n,r){if(!t)throw cct(e,n,r)}function Me(t,e,n,r){An(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}const uct=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function ece(t){An(uct.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function x9(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),An(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function tce(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let a=0;a<r.length;a++)r[a]=parseInt(t.substring(i,i+2),16),i+=2;return r}Me(!1,"invalid BytesLike value",e||"value",t)}function Pt(t,e){return tce(t,e,!1)}function d0(t,e){return tce(t,e,!0)}function du(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function E9(t){return du(t,!0)||t instanceof Uint8Array}const dK="0123456789abcdef";function Et(t){const e=Pt(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=dK[(i&240)>>4]+dK[i&15]}return n}function xi(t){return"0x"+t.map(e=>Et(e).substring(2)).join("")}function mb(t){return du(t,!0)?(t.length-2)/2:Pt(t).length}function WO(t,e,n){const r=Pt(t);return n>r.length&&An(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Et(r.slice(e,n))}function dct(t,e,n){const r=Pt(t);An(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),i.set(r,e-r.length),Et(i)}function gh(t,e){return dct(t,e)}const HO=BigInt(0),f0=BigInt(1),fg=9007199254740991;function fct(t,e){let n=xr(t,"value");const r=BigInt(sl(e,"width")),i=f0<<r-f0;if(n<HO){n=-n,An(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const a=(f0<<r)-f0;return(~n&a)+f0}else An(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function hct(t,e){const n=qO(t,"value"),r=BigInt(sl(e,"bits"));return n&(f0<<r)-f0}function xr(t,e){switch(typeof t){case"bigint":return t;case"number":return Me(Number.isInteger(t),"underflow",e||"value",t),Me(t>=-fg&&t<=fg,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){Me(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}Me(!1,"invalid BigNumberish value",e||"value",t)}function qO(t,e){const n=xr(t,e);return An(n>=HO,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const fK="0123456789abcdef";function nce(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=fK[n>>4],e+=fK[n&15];return BigInt(e)}return xr(t)}function sl(t,e){switch(typeof t){case"bigint":return Me(t>=-fg&&t<=fg,"overflow",e||"value",t),Number(t);case"number":return Me(Number.isInteger(t),"underflow",e||"value",t),Me(t>=-fg&&t<=fg,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return sl(BigInt(t),e)}catch(n){Me(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}Me(!1,"invalid numeric value",e||"value",t)}function rm(t,e){let r=qO(t,"value").toString(16);{const i=sl(e,"width");for(An(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function vi(t){const e=qO(t,"value");if(e===HO)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const a=i*2;r[i]=parseInt(n.substring(a,a+2),16)}return r}function pct(t){let e=Et(E9(t)?t:vi(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const f4="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Vx=null;function gct(t){if(Vx==null){Vx={};for(let n=0;n<f4.length;n++)Vx[f4[n]]=BigInt(n)}const e=Vx[t];return Me(e!=null,"invalid base58 value","letter",t),e}const mct=BigInt(0),o$=BigInt(58);function yct(t){const e=Pt(t);let n=nce(e),r="";for(;n;)r=f4[Number(n%o$)]+r,n/=o$;for(let i=0;i<e.length&&!e[i];i++)r=f4[0]+r;return r}function bct(t){let e=mct;for(let n=0;n<t.length;n++)e*=o$,e+=gct(t[n]);return e}function j0(t,e){Me(typeof t=="string","invalid string value","str",t),e!=null&&(ece(e),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const a=t.charCodeAt(r);Me(r<t.length&&(a&64512)===56320,"invalid surrogate pair","str",t);const s=65536+((i&1023)<<10)+(a&1023);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function wct(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function hK(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function pK(t,e,n,r){const i=[];for(;n<e+1+r;){const a=rce(t,n);i.push(a.result),n+=a.consumed,An(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function rce(t,e){An(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{An(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=hK(t,e+1,r);return n(e+1+r+i),pK(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),pK(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=hK(t,e+1,r);n(e+1+r+i);const a=Et(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:a}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=Et(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:wct(t[e])}}function Pv(t){const e=Pt(t,"data"),n=rce(e,0);return Me(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function gK(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function ice(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(a){r=r.concat(ice(a))}),r.length<=55)return r.unshift(192+r.length),r;const i=gK(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Pt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=gK(e.length);return n.unshift(183+n.length),n.concat(e)}const mK="0123456789abcdef";function mh(t){let e="0x";for(const n of ice(t))e+=mK[n>>4],e+=mK[n&15];return e}function vct(t){const e=Pt(t,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const n=Et(e);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}function io(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function VO(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function ace(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");io(t.outputLen),io(t.blockLen)}function im(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function sce(t,e){VO(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const CS=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const oce=t=>t instanceof Uint8Array,F5=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),z5=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Mc=(t,e)=>t<<32-e|t>>>e,xct=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!xct)throw new Error("Non little-endian hardware is not supported");const Ect=async()=>{};async function yK(t,e,n){let r=Date.now();for(let i=0;i<t;i++){n(i);const a=Date.now()-r;a>=0&&a<e||(await Ect(),r+=a)}}function _ct(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function am(t){if(typeof t=="string"&&(t=_ct(t)),!oce(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Act(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!oce(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class GO{clone(){return this._cloneInto()}}const Cct={}.toString;function lce(t,e){if(e!==void 0&&Cct.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function _9(t){const e=r=>t().update(am(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Sct(t=32){if(CS&&typeof CS.getRandomValues=="function")return CS.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class cce extends GO{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ace(e);const r=am(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return im(this),this.iHash.update(e),this}digestInto(e){im(this),VO(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const A9=(t,e,n)=>new cce(t,e).update(n).digest();A9.create=(t,e)=>new cce(t,e);function kct(t,e,n,r){ace(t);const i=lce({dkLen:32,asyncTick:10},r),{c:a,dkLen:s,asyncTick:o}=i;if(io(a),io(s),io(o),a<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=am(e),u=am(n),d=new Uint8Array(s),h=A9.create(t,l),g=h._cloneInto().update(u);return{c:a,dkLen:s,asyncTick:o,DK:d,PRF:h,PRFSalt:g}}function Ict(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function KO(t,e,n,r){const{c:i,dkLen:a,DK:s,PRF:o,PRFSalt:l}=kct(t,e,n,r);let u;const d=new Uint8Array(4),h=z5(d),g=new Uint8Array(o.outputLen);for(let m=1,b=0;b<a;m++,b+=o.outputLen){const w=s.subarray(b,b+o.outputLen);h.setInt32(0,m,!1),(u=l._cloneInto(u)).update(d).digestInto(g),w.set(g.subarray(0,w.length));for(let x=1;x<i;x++){o._cloneInto(u).update(g).digestInto(g);for(let E=0;E<w.length;E++)w[E]^=g[E]}}return Ict(o,l,s,u,g)}function Tct(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a),l=r?4:0,u=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+u,o,r)}class YO extends GO{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=z5(this.buffer)}update(e){im(this);const{view:n,buffer:r,blockLen:i}=this;e=am(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const l=z5(e);for(;i<=a-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){im(this),sce(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:a}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let h=s;h<i;h++)n[h]=0;Tct(r,i-8,BigInt(this.length*8),a),this.process(r,0);const o=z5(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)o.setUint32(4*h,d[h],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%n&&e.buffer.set(r),e}}const $ct=(t,e,n)=>t&e^~t&n,Nct=(t,e,n)=>t&e^t&n^e&n,Pct=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$f=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Nf=new Uint32Array(64);class Oct extends YO{constructor(){super(64,32,8,!1),this.A=$f[0]|0,this.B=$f[1]|0,this.C=$f[2]|0,this.D=$f[3]|0,this.E=$f[4]|0,this.F=$f[5]|0,this.G=$f[6]|0,this.H=$f[7]|0}get(){const{A:e,B:n,C:r,D:i,E:a,F:s,G:o,H:l}=this;return[e,n,r,i,a,s,o,l]}set(e,n,r,i,a,s,o,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)Nf[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const g=Nf[h-15],m=Nf[h-2],b=Mc(g,7)^Mc(g,18)^g>>>3,w=Mc(m,17)^Mc(m,19)^m>>>10;Nf[h]=w+Nf[h-7]+b+Nf[h-16]|0}let{A:r,B:i,C:a,D:s,E:o,F:l,G:u,H:d}=this;for(let h=0;h<64;h++){const g=Mc(o,6)^Mc(o,11)^Mc(o,25),m=d+g+$ct(o,l,u)+Pct[h]+Nf[h]|0,w=(Mc(r,2)^Mc(r,13)^Mc(r,22))+Nct(r,i,a)|0;d=u,u=l,l=o,o=s+m|0,s=a,a=i,i=r,r=m+w|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,a,s,o,l,u,d)}roundClean(){Nf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const qm=_9(()=>new Oct),Gx=BigInt(2**32-1),l$=BigInt(32);function uce(t,e=!1){return e?{h:Number(t&Gx),l:Number(t>>l$&Gx)}:{h:Number(t>>l$&Gx)|0,l:Number(t&Gx)|0}}function dce(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:s}=uce(t[i],e);[n[i],r[i]]=[a,s]}return[n,r]}const Rct=(t,e)=>BigInt(t>>>0)<<l$|BigInt(e>>>0),Mct=(t,e,n)=>t>>>n,jct=(t,e,n)=>t<<32-n|e>>>n,Dct=(t,e,n)=>t>>>n|e<<32-n,Bct=(t,e,n)=>t<<32-n|e>>>n,Uct=(t,e,n)=>t<<64-n|e>>>n-32,Lct=(t,e,n)=>t>>>n-32|e<<64-n,Fct=(t,e)=>e,zct=(t,e)=>t,fce=(t,e,n)=>t<<n|e>>>32-n,hce=(t,e,n)=>e<<n|t>>>32-n,pce=(t,e,n)=>e<<n-32|t>>>64-n,gce=(t,e,n)=>t<<n-32|e>>>64-n;function Wct(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Hct=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),qct=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Vct=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Gct=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Kct=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Yct=(t,e,n,r,i,a)=>e+n+r+i+a+(t/2**32|0)|0,hn={fromBig:uce,split:dce,toBig:Rct,shrSH:Mct,shrSL:jct,rotrSH:Dct,rotrSL:Bct,rotrBH:Uct,rotrBL:Lct,rotr32H:Fct,rotr32L:zct,rotlSH:fce,rotlSL:hce,rotlBH:pce,rotlBL:gce,add:Wct,add3L:Hct,add3H:qct,add4L:Vct,add4H:Gct,add5H:Yct,add5L:Kct},[Zct,Jct]=hn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Pf=new Uint32Array(80),Of=new Uint32Array(80);class Xct extends YO{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:a,Cl:s,Dh:o,Dl:l,Eh:u,El:d,Fh:h,Fl:g,Gh:m,Gl:b,Hh:w,Hl:x}=this;return[e,n,r,i,a,s,o,l,u,d,h,g,m,b,w,x]}set(e,n,r,i,a,s,o,l,u,d,h,g,m,b,w,x){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=a|0,this.Cl=s|0,this.Dh=o|0,this.Dl=l|0,this.Eh=u|0,this.El=d|0,this.Fh=h|0,this.Fl=g|0,this.Gh=m|0,this.Gl=b|0,this.Hh=w|0,this.Hl=x|0}process(e,n){for(let C=0;C<16;C++,n+=4)Pf[C]=e.getUint32(n),Of[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){const N=Pf[C-15]|0,A=Of[C-15]|0,T=hn.rotrSH(N,A,1)^hn.rotrSH(N,A,8)^hn.shrSH(N,A,7),O=hn.rotrSL(N,A,1)^hn.rotrSL(N,A,8)^hn.shrSL(N,A,7),H=Pf[C-2]|0,U=Of[C-2]|0,L=hn.rotrSH(H,U,19)^hn.rotrBH(H,U,61)^hn.shrSH(H,U,6),G=hn.rotrSL(H,U,19)^hn.rotrBL(H,U,61)^hn.shrSL(H,U,6),R=hn.add4L(O,G,Of[C-7],Of[C-16]),F=hn.add4H(R,T,L,Pf[C-7],Pf[C-16]);Pf[C]=F|0,Of[C]=R|0}let{Ah:r,Al:i,Bh:a,Bl:s,Ch:o,Cl:l,Dh:u,Dl:d,Eh:h,El:g,Fh:m,Fl:b,Gh:w,Gl:x,Hh:E,Hl:I}=this;for(let C=0;C<80;C++){const N=hn.rotrSH(h,g,14)^hn.rotrSH(h,g,18)^hn.rotrBH(h,g,41),A=hn.rotrSL(h,g,14)^hn.rotrSL(h,g,18)^hn.rotrBL(h,g,41),T=h&m^~h&w,O=g&b^~g&x,H=hn.add5L(I,A,O,Jct[C],Of[C]),U=hn.add5H(H,E,N,T,Zct[C],Pf[C]),L=H|0,G=hn.rotrSH(r,i,28)^hn.rotrBH(r,i,34)^hn.rotrBH(r,i,39),R=hn.rotrSL(r,i,28)^hn.rotrBL(r,i,34)^hn.rotrBL(r,i,39),F=r&a^r&o^a&o,_=i&s^i&l^s&l;E=w|0,I=x|0,w=m|0,x=b|0,m=h|0,b=g|0,{h,l:g}=hn.add(u|0,d|0,U|0,L|0),u=o|0,d=l|0,o=a|0,l=s|0,a=r|0,s=i|0;const S=hn.add3L(L,R,_);r=hn.add3H(S,U,G,F),i=S|0}({h:r,l:i}=hn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:a,l:s}=hn.add(this.Bh|0,this.Bl|0,a|0,s|0),{h:o,l}=hn.add(this.Ch|0,this.Cl|0,o|0,l|0),{h:u,l:d}=hn.add(this.Dh|0,this.Dl|0,u|0,d|0),{h,l:g}=hn.add(this.Eh|0,this.El|0,h|0,g|0),{h:m,l:b}=hn.add(this.Fh|0,this.Fl|0,m|0,b|0),{h:w,l:x}=hn.add(this.Gh|0,this.Gl|0,w|0,x|0),{h:E,l:I}=hn.add(this.Hh|0,this.Hl|0,E|0,I|0),this.set(r,i,a,s,o,l,u,d,h,g,m,b,w,x,E,I)}roundClean(){Pf.fill(0),Of.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ZO=_9(()=>new Xct);function Qct(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Kt<"u")return Kt;throw new Error("unable to locate global object")}const bK=Qct(),wK=bK.crypto||bK.msCrypto;function eut(t){switch(t){case"sha256":return qm.create();case"sha512":return ZO.create()}Me(!1,"invalid hashing algorithm name","algorithm",t)}function tut(t,e){const n={sha256:qm,sha512:ZO}[t];return Me(n!=null,"invalid hmac algorithm","algorithm",t),A9.create(n,e)}function nut(t,e,n,r,i){const a={sha256:qm,sha512:ZO}[i];return Me(a!=null,"invalid pbkdf2 algorithm","algorithm",i),KO(a,t,e,{c:n,dkLen:r})}function rut(t){An(wK!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),Me(Number.isInteger(t)&&t>0&&t<=1024,"invalid length","length",t);const e=new Uint8Array(t);return wK.getRandomValues(e),e}let mce=!1;const yce=function(t,e,n){return tut(t,e).update(n).digest()};let bce=yce;function Vm(t,e,n){const r=Pt(e,"key"),i=Pt(n,"data");return Et(bce(t,r,i))}Vm._=yce;Vm.lock=function(){mce=!0};Vm.register=function(t){if(mce)throw new Error("computeHmac is locked");bce=t};Object.freeze(Vm);const[wce,vce,xce]=[[],[],[]],iut=BigInt(0),C2=BigInt(1),aut=BigInt(2),sut=BigInt(7),out=BigInt(256),lut=BigInt(113);for(let t=0,e=C2,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],wce.push(2*(5*r+n)),vce.push((t+1)*(t+2)/2%64);let i=iut;for(let a=0;a<7;a++)e=(e<<C2^(e>>sut)*lut)%out,e&aut&&(i^=C2<<(C2<<BigInt(a))-C2);xce.push(i)}const[cut,uut]=dce(xce,!0),vK=(t,e,n)=>n>32?pce(t,e,n):fce(t,e,n),xK=(t,e,n)=>n>32?gce(t,e,n):hce(t,e,n);function dut(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,l=(s+2)%10,u=n[l],d=n[l+1],h=vK(u,d,1)^n[o],g=xK(u,d,1)^n[o+1];for(let m=0;m<50;m+=10)t[s+m]^=h,t[s+m+1]^=g}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=vce[s],l=vK(i,a,o),u=xK(i,a,o),d=wce[s];i=t[d],a=t[d+1],t[d]=l,t[d+1]=u}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)n[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=cut[r],t[1]^=uut[r]}n.fill(0)}class JO extends GO{constructor(e,n,r,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,io(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=F5(this.state)}keccak(){dut(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){im(this);const{blockLen:n,state:r}=this;e=am(e);const i=e.length;for(let a=0;a<i;){const s=Math.min(n-this.pos,i-a);for(let o=0;o<s;o++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){im(this,!1),VO(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return io(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(sce(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new JO(n,r,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const fut=(t,e,n)=>_9(()=>new JO(e,t,n)),hut=fut(1,136,256/8);let Ece=!1;const _ce=function(t){return hut(t)};let Ace=_ce;function Pi(t){const e=Pt(t,"data");return Et(Ace(e))}Pi._=_ce;Pi.lock=function(){Ece=!0};Pi.register=function(t){if(Ece)throw new TypeError("keccak256 is locked");Ace=t};Object.freeze(Pi);const put=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Cce=Uint8Array.from({length:16},(t,e)=>e),gut=Cce.map(t=>(9*t+5)%16);let XO=[Cce],QO=[gut];for(let t=0;t<4;t++)for(let e of[XO,QO])e.push(e[t].map(n=>put[n]));const Sce=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),mut=XO.map((t,e)=>t.map(n=>Sce[e][n])),yut=QO.map((t,e)=>t.map(n=>Sce[e][n])),but=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),wut=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Kx=(t,e)=>t<<e|t>>>32-e;function EK(t,e,n,r){return t===0?e^n^r:t===1?e&n|~e&r:t===2?(e|~n)^r:t===3?e&r|n&~r:e^(n|~r)}const Yx=new Uint32Array(16);class vut extends YO{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:n,h2:r,h3:i,h4:a}=this;return[e,n,r,i,a]}set(e,n,r,i,a){this.h0=e|0,this.h1=n|0,this.h2=r|0,this.h3=i|0,this.h4=a|0}process(e,n){for(let m=0;m<16;m++,n+=4)Yx[m]=e.getUint32(n,!0);let r=this.h0|0,i=r,a=this.h1|0,s=a,o=this.h2|0,l=o,u=this.h3|0,d=u,h=this.h4|0,g=h;for(let m=0;m<5;m++){const b=4-m,w=but[m],x=wut[m],E=XO[m],I=QO[m],C=mut[m],N=yut[m];for(let A=0;A<16;A++){const T=Kx(r+EK(m,a,o,u)+Yx[E[A]]+w,C[A])+h|0;r=h,h=u,u=Kx(o,10)|0,o=a,a=T}for(let A=0;A<16;A++){const T=Kx(i+EK(b,s,l,d)+Yx[I[A]]+x,N[A])+g|0;i=g,g=d,d=Kx(l,10)|0,l=s,s=T}}this.set(this.h1+o+d|0,this.h2+u+g|0,this.h3+h+i|0,this.h4+r+s|0,this.h0+a+l|0)}roundClean(){Yx.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const xut=_9(()=>new vut);let kce=!1;const Ice=function(t){return xut(t)};let Tce=Ice;function Gm(t){const e=Pt(t,"data");return Et(Tce(e))}Gm._=Ice;Gm.lock=function(){kce=!0};Gm.register=function(t){if(kce)throw new TypeError("ripemd160 is locked");Tce=t};Object.freeze(Gm);let $ce=!1;const Nce=function(t,e,n,r,i){return nut(t,e,n,r,i)};let Pce=Nce;function Ih(t,e,n,r,i){const a=Pt(t,"password"),s=Pt(e,"salt");return Et(Pce(a,s,n,r,i))}Ih._=Nce;Ih.lock=function(){$ce=!0};Ih.register=function(t){if($ce)throw new Error("pbkdf2 is locked");Pce=t};Object.freeze(Ih);let Oce=!1;const Rce=function(t){return new Uint8Array(rut(t))};let Mce=Rce;function gd(t){return Mce(t)}gd._=Rce;gd.lock=function(){Oce=!0};gd.register=function(t){if(Oce)throw new Error("randomBytes is locked");Mce=t};Object.freeze(gd);const zn=(t,e)=>t<<e|t>>>32-e;function _K(t,e,n,r,i,a){let s=t[e++]^n[r++],o=t[e++]^n[r++],l=t[e++]^n[r++],u=t[e++]^n[r++],d=t[e++]^n[r++],h=t[e++]^n[r++],g=t[e++]^n[r++],m=t[e++]^n[r++],b=t[e++]^n[r++],w=t[e++]^n[r++],x=t[e++]^n[r++],E=t[e++]^n[r++],I=t[e++]^n[r++],C=t[e++]^n[r++],N=t[e++]^n[r++],A=t[e++]^n[r++],T=s,O=o,H=l,U=u,L=d,G=h,R=g,F=m,_=b,S=w,$=x,D=E,z=I,Y=C,J=N,V=A;for(let M=0;M<8;M+=2)L^=zn(T+z|0,7),_^=zn(L+T|0,9),z^=zn(_+L|0,13),T^=zn(z+_|0,18),S^=zn(G+O|0,7),Y^=zn(S+G|0,9),O^=zn(Y+S|0,13),G^=zn(O+Y|0,18),J^=zn($+R|0,7),H^=zn(J+$|0,9),R^=zn(H+J|0,13),$^=zn(R+H|0,18),U^=zn(V+D|0,7),F^=zn(U+V|0,9),D^=zn(F+U|0,13),V^=zn(D+F|0,18),O^=zn(T+U|0,7),H^=zn(O+T|0,9),U^=zn(H+O|0,13),T^=zn(U+H|0,18),R^=zn(G+L|0,7),F^=zn(R+G|0,9),L^=zn(F+R|0,13),G^=zn(L+F|0,18),D^=zn($+S|0,7),_^=zn(D+$|0,9),S^=zn(_+D|0,13),$^=zn(S+_|0,18),z^=zn(V+J|0,7),Y^=zn(z+V|0,9),J^=zn(Y+z|0,13),V^=zn(J+Y|0,18);i[a++]=s+T|0,i[a++]=o+O|0,i[a++]=l+H|0,i[a++]=u+U|0,i[a++]=d+L|0,i[a++]=h+G|0,i[a++]=g+R|0,i[a++]=m+F|0,i[a++]=b+_|0,i[a++]=w+S|0,i[a++]=x+$|0,i[a++]=E+D|0,i[a++]=I+z|0,i[a++]=C+Y|0,i[a++]=N+J|0,i[a++]=A+V|0}function Ng(t,e,n,r,i){let a=r+0,s=r+16*i;for(let o=0;o<16;o++)n[s+o]=t[e+(2*i-1)*16+o];for(let o=0;o<i;o++,a+=16,e+=16)_K(n,s,t,e,n,a),o>0&&(s+=16),_K(n,a,t,e+=16,n,s)}function jce(t,e,n){const r=lce({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:i,r:a,p:s,dkLen:o,asyncTick:l,maxmem:u,onProgress:d}=r;if(io(i),io(a),io(s),io(o),io(l),io(u),d!==void 0&&typeof d!="function")throw new Error("progressCb should be function");const h=128*a,g=h/4;if(i<=1||(i&i-1)!==0||i>=2**(h/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const m=h*(i+s);if(m>u)throw new Error(`Scrypt: parameters too large, ${m} (128 * r * (N + p)) > ${u} (maxmem)`);const b=KO(qm,t,e,{c:1,dkLen:h*s}),w=F5(b),x=F5(new Uint8Array(h*i)),E=F5(new Uint8Array(h));let I=()=>{};if(d){const C=2*i*s,N=Math.max(Math.floor(C/1e4),1);let A=0;I=()=>{A++,d&&(!(A%N)||A===C)&&d(A/C)}}return{N:i,r:a,p:s,dkLen:o,blockSize32:g,V:x,B32:w,B:b,tmp:E,blockMixCb:I,asyncTick:l}}function Dce(t,e,n,r,i){const a=KO(qm,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),i.fill(0),a}function Eut(t,e,n){const{N:r,r:i,p:a,dkLen:s,blockSize32:o,V:l,B32:u,B:d,tmp:h,blockMixCb:g}=jce(t,e,n);for(let m=0;m<a;m++){const b=o*m;for(let w=0;w<o;w++)l[w]=u[b+w];for(let w=0,x=0;w<r-1;w++)Ng(l,x,l,x+=o,i),g();Ng(l,(r-1)*o,u,b,i),g();for(let w=0;w<r;w++){const x=u[b+o-16]%r;for(let E=0;E<o;E++)h[E]=u[b+E]^l[x*o+E];Ng(h,0,u,b,i),g()}}return Dce(t,s,d,l,h)}async function _ut(t,e,n){const{N:r,r:i,p:a,dkLen:s,blockSize32:o,V:l,B32:u,B:d,tmp:h,blockMixCb:g,asyncTick:m}=jce(t,e,n);for(let b=0;b<a;b++){const w=o*b;for(let E=0;E<o;E++)l[E]=u[w+E];let x=0;await yK(r-1,m,()=>{Ng(l,x,l,x+=o,i),g()}),Ng(l,(r-1)*o,u,w,i),g(),await yK(r,m,()=>{const E=u[w+o-16]%r;for(let I=0;I<o;I++)h[I]=u[w+I]^l[E*o+I];Ng(h,0,u,w,i),g()})}return Dce(t,s,d,l,h)}let Bce=!1,Uce=!1;const Lce=async function(t,e,n,r,i,a,s){return await _ut(t,e,{N:n,r,p:i,dkLen:a,onProgress:s})},Fce=function(t,e,n,r,i,a){return Eut(t,e,{N:n,r,p:i,dkLen:a})};let zce=Lce,Wce=Fce;async function Km(t,e,n,r,i,a,s){const o=Pt(t,"passwd"),l=Pt(e,"salt");return Et(await zce(o,l,n,r,i,a,s))}Km._=Lce;Km.lock=function(){Uce=!0};Km.register=function(t){if(Uce)throw new Error("scrypt is locked");zce=t};Object.freeze(Km);function Ym(t,e,n,r,i,a){const s=Pt(t,"passwd"),o=Pt(e,"salt");return Et(Wce(s,o,n,r,i,a))}Ym._=Fce;Ym.lock=function(){Bce=!0};Ym.register=function(t){if(Bce)throw new Error("scryptSync is locked");Wce=t};Object.freeze(Ym);const Hce=function(t){return eut("sha256").update(t).digest()};let qce=Hce,Vce=!1;function pl(t){const e=Pt(t,"data");return Et(qce(e))}pl._=Hce;pl.lock=function(){Vce=!0};pl.register=function(t){if(Vce)throw new Error("sha256 is locked");qce=t};Object.freeze(pl);Object.freeze(pl);const Gce=BigInt(0),C9=BigInt(1),Aut=BigInt(2),S9=t=>t instanceof Uint8Array,Cut=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sm(t){if(!S9(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Cut[t[n]];return e}function Kce(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function eR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function om(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,a=t.slice(i,i+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function D0(t){return eR(sm(t))}function tR(t){if(!S9(t))throw new Error("Uint8Array expected");return eR(sm(Uint8Array.from(t).reverse()))}function lm(t,e){return om(t.toString(16).padStart(e*2,"0"))}function nR(t,e){return lm(t,e).reverse()}function Sut(t){return om(Kce(t))}function Ll(t,e,n){let r;if(typeof e=="string")try{r=om(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(S9(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function Nw(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!S9(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function kut(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Iut(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Tut(t){let e;for(e=0;t>Gce;t>>=C9,e+=1);return e}function $ut(t,e){return t>>BigInt(e)&C9}const Nut=(t,e,n)=>t|(n?C9:Gce)<<BigInt(e),rR=t=>(Aut<<BigInt(t-1))-C9,SS=t=>new Uint8Array(t),AK=t=>Uint8Array.from(t);function Yce(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=SS(t),i=SS(t),a=0;const s=()=>{r.fill(1),i.fill(0),a=0},o=(...h)=>n(i,r,...h),l=(h=SS())=>{i=o(AK([0]),h),r=o(),h.length!==0&&(i=o(AK([1]),h),r=o())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const g=[];for(;h<e;){r=o();const m=r.slice();g.push(m),h+=r.length}return Nw(...g)};return(h,g)=>{s(),l(h);let m;for(;!(m=g(u()));)l();return s(),m}}const Put={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ov(t,e,n={}){const r=(i,a,s)=>{const o=Put[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const l=t[i];if(!(s&&l===void 0)&&!o(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${a}`)};for(const[i,a]of Object.entries(e))r(i,a,!1);for(const[i,a]of Object.entries(n))r(i,a,!0);return t}const Out=Object.freeze(Object.defineProperty({__proto__:null,bitGet:$ut,bitLen:Tut,bitMask:rR,bitSet:Nut,bytesToHex:sm,bytesToNumberBE:D0,bytesToNumberLE:tR,concatBytes:Nw,createHmacDrbg:Yce,ensureBytes:Ll,equalBytes:kut,hexToBytes:om,hexToNumber:eR,numberToBytesBE:lm,numberToBytesLE:nR,numberToHexUnpadded:Kce,numberToVarBytesBE:Sut,utf8ToBytes:Iut,validateObject:Ov},Symbol.toStringTag,{value:"Module"}));const Gi=BigInt(0),si=BigInt(1),h0=BigInt(2),Rut=BigInt(3),c$=BigInt(4),CK=BigInt(5),SK=BigInt(8);BigInt(9);BigInt(16);function ws(t,e){const n=t%e;return n>=Gi?n:e+n}function Mut(t,e,n){if(n<=Gi||e<Gi)throw new Error("Expected power/modulo > 0");if(n===si)return Gi;let r=si;for(;e>Gi;)e&si&&(r=r*t%n),t=t*t%n,e>>=si;return r}function Lo(t,e,n){let r=t;for(;e-- >Gi;)r*=r,r%=n;return r}function u$(t,e){if(t===Gi||e<=Gi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=ws(t,e),r=e,i=Gi,a=si;for(;n!==Gi;){const o=r/n,l=r%n,u=i-a*o;r=n,n=l,i=a,a=u}if(r!==si)throw new Error("invert: does not exist");return ws(i,e)}function jut(t){const e=(t-si)/h0;let n,r,i;for(n=t-si,r=0;n%h0===Gi;n/=h0,r++);for(i=h0;i<t&&Mut(i,e,t)!==t-si;i++);if(r===1){const s=(t+si)/c$;return function(l,u){const d=l.pow(u,s);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const a=(n+si)/h0;return function(o,l){if(o.pow(l,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=r,d=o.pow(o.mul(o.ONE,i),n),h=o.pow(l,a),g=o.pow(l,n);for(;!o.eql(g,o.ONE);){if(o.eql(g,o.ZERO))return o.ZERO;let m=1;for(let w=o.sqr(g);m<u&&!o.eql(w,o.ONE);m++)w=o.sqr(w);const b=o.pow(d,si<<BigInt(u-m-1));d=o.sqr(b),h=o.mul(h,b),g=o.mul(g,d),u=m}return h}}function Dut(t){if(t%c$===Rut){const e=(t+si)/c$;return function(r,i){const a=r.pow(i,e);if(!r.eql(r.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%SK===CK){const e=(t-CK)/SK;return function(r,i){const a=r.mul(i,h0),s=r.pow(a,e),o=r.mul(i,s),l=r.mul(r.mul(o,h0),s),u=r.mul(o,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return jut(t)}const But=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Uut(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=But.reduce((r,i)=>(r[i]="function",r),e);return Ov(t,n)}function Lut(t,e,n){if(n<Gi)throw new Error("Expected power > 0");if(n===Gi)return t.ONE;if(n===si)return e;let r=t.ONE,i=e;for(;n>Gi;)n&si&&(r=t.mul(r,i)),i=t.sqr(i),n>>=si;return r}function Fut(t,e){const n=new Array(e.length),r=e.reduce((a,s,o)=>t.is0(s)?a:(n[o]=a,t.mul(a,s)),t.ONE),i=t.inv(r);return e.reduceRight((a,s,o)=>t.is0(s)?a:(n[o]=t.mul(a,n[o]),t.mul(a,s)),i),n}function Zce(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function zut(t,e,n=!1,r={}){if(t<=Gi)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:a}=Zce(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Dut(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:rR(i),ZERO:Gi,ONE:si,create:l=>ws(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Gi<=l&&l<t},is0:l=>l===Gi,isOdd:l=>(l&si)===si,neg:l=>ws(-l,t),eql:(l,u)=>l===u,sqr:l=>ws(l*l,t),add:(l,u)=>ws(l+u,t),sub:(l,u)=>ws(l-u,t),mul:(l,u)=>ws(l*u,t),pow:(l,u)=>Lut(o,l,u),div:(l,u)=>ws(l*u$(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>u$(l,t),sqrt:r.sqrt||(l=>s(o,l)),invertBatch:l=>Fut(o,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>n?nR(l,a):lm(l,a),fromBytes:l=>{if(l.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${l.length}`);return n?tR(l):D0(l)}});return Object.freeze(o)}function Jce(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Xce(t){const e=Jce(t);return e+Math.ceil(e/2)}function Wut(t,e,n=!1){const r=t.length,i=Jce(e),a=Xce(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const s=n?D0(t):tR(t),o=ws(s,e-si)+si;return n?nR(o,i):lm(o,i)}const Hut=BigInt(0),kS=BigInt(1);function qut(t,e){const n=(i,a)=>{const s=a.negate();return i?s:a},r=i=>{const a=Math.ceil(e/i)+1,s=2**(i-1);return{windows:a,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,a){let s=t.ZERO,o=i;for(;a>Hut;)a&kS&&(s=s.add(o)),o=o.double(),a>>=kS;return s},precomputeWindow(i,a){const{windows:s,windowSize:o}=r(a),l=[];let u=i,d=u;for(let h=0;h<s;h++){d=u,l.push(d);for(let g=1;g<o;g++)d=d.add(u),l.push(d);u=d.double()}return l},wNAF(i,a,s){const{windows:o,windowSize:l}=r(i);let u=t.ZERO,d=t.BASE;const h=BigInt(2**i-1),g=2**i,m=BigInt(i);for(let b=0;b<o;b++){const w=b*l;let x=Number(s&h);s>>=m,x>l&&(x-=g,s+=kS);const E=w,I=w+Math.abs(x)-1,C=b%2!==0,N=x<0;x===0?d=d.add(n(C,a[E])):u=u.add(n(N,a[I]))}return{p:u,f:d}},wNAFCached(i,a,s,o){const l=i._WINDOW_SIZE||1;let u=a.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&a.set(i,o(u))),this.wNAF(l,u,s)}}}function Qce(t){return Uut(t.Fp),Ov(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Zce(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function Vut(t){const e=Qce(t);Ov(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Gut,hexToBytes:Kut}=Out,C0={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=C0;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Gut(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=C0,n=typeof t=="string"?Kut(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:a}=C0._parseInt(n.subarray(2)),{d:s,l:o}=C0._parseInt(a);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},r=e(n(t.s)),i=e(n(t.r)),a=r.length/2,s=i.length/2,o=n(a),l=n(s);return`30${n(s+a+4)}02${l}${i}02${o}${r}`}},id=BigInt(0),Jo=BigInt(1);BigInt(2);const kK=BigInt(3);BigInt(4);function Yut(t){const e=Vut(t),{Fp:n}=e,r=e.toBytes||((b,w,x)=>{const E=w.toAffine();return Nw(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),i=e.fromBytes||(b=>{const w=b.subarray(1),x=n.fromBytes(w.subarray(0,n.BYTES)),E=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x,y:E}});function a(b){const{a:w,b:x}=e,E=n.sqr(b),I=n.mul(E,b);return n.add(n.add(I,n.mul(b,w)),x)}if(!n.eql(n.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function s(b){return typeof b=="bigint"&&id<b&&b<e.n}function o(b){if(!s(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(b){const{allowedPrivateKeyLengths:w,nByteLength:x,wrapPrivateKey:E,n:I}=e;if(w&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=sm(b)),typeof b!="string"||!w.includes(b.length))throw new Error("Invalid key");b=b.padStart(x*2,"0")}let C;try{C=typeof b=="bigint"?b:D0(Ll("private key",b,x))}catch{throw new Error(`private key must be ${x} bytes, hex or bigint, not ${typeof b}`)}return E&&(C=ws(C,I)),o(C),C}const u=new Map;function d(b){if(!(b instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(w,x,E){if(this.px=w,this.py=x,this.pz=E,w==null||!n.isValid(w))throw new Error("x required");if(x==null||!n.isValid(x))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required")}static fromAffine(w){const{x,y:E}=w||{};if(!w||!n.isValid(x)||!n.isValid(E))throw new Error("invalid affine point");if(w instanceof h)throw new Error("projective point not allowed");const I=C=>n.eql(C,n.ZERO);return I(x)&&I(E)?h.ZERO:new h(x,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const x=n.invertBatch(w.map(E=>E.pz));return w.map((E,I)=>E.toAffine(x[I])).map(h.fromAffine)}static fromHex(w){const x=h.fromAffine(i(Ll("pointHex",w)));return x.assertValidity(),x}static fromPrivateKey(w){return h.BASE.multiply(l(w))}_setWindowSize(w){this._WINDOW_SIZE=w,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:w,y:x}=this.toAffine();if(!n.isValid(w)||!n.isValid(x))throw new Error("bad point: x or y not FE");const E=n.sqr(x),I=a(w);if(!n.eql(E,I))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){d(w);const{px:x,py:E,pz:I}=this,{px:C,py:N,pz:A}=w,T=n.eql(n.mul(x,A),n.mul(C,I)),O=n.eql(n.mul(E,A),n.mul(N,I));return T&&O}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:x}=e,E=n.mul(x,kK),{px:I,py:C,pz:N}=this;let A=n.ZERO,T=n.ZERO,O=n.ZERO,H=n.mul(I,I),U=n.mul(C,C),L=n.mul(N,N),G=n.mul(I,C);return G=n.add(G,G),O=n.mul(I,N),O=n.add(O,O),A=n.mul(w,O),T=n.mul(E,L),T=n.add(A,T),A=n.sub(U,T),T=n.add(U,T),T=n.mul(A,T),A=n.mul(G,A),O=n.mul(E,O),L=n.mul(w,L),G=n.sub(H,L),G=n.mul(w,G),G=n.add(G,O),O=n.add(H,H),H=n.add(O,H),H=n.add(H,L),H=n.mul(H,G),T=n.add(T,H),L=n.mul(C,N),L=n.add(L,L),H=n.mul(L,G),A=n.sub(A,H),O=n.mul(L,U),O=n.add(O,O),O=n.add(O,O),new h(A,T,O)}add(w){d(w);const{px:x,py:E,pz:I}=this,{px:C,py:N,pz:A}=w;let T=n.ZERO,O=n.ZERO,H=n.ZERO;const U=e.a,L=n.mul(e.b,kK);let G=n.mul(x,C),R=n.mul(E,N),F=n.mul(I,A),_=n.add(x,E),S=n.add(C,N);_=n.mul(_,S),S=n.add(G,R),_=n.sub(_,S),S=n.add(x,I);let $=n.add(C,A);return S=n.mul(S,$),$=n.add(G,F),S=n.sub(S,$),$=n.add(E,I),T=n.add(N,A),$=n.mul($,T),T=n.add(R,F),$=n.sub($,T),H=n.mul(U,S),T=n.mul(L,F),H=n.add(T,H),T=n.sub(R,H),H=n.add(R,H),O=n.mul(T,H),R=n.add(G,G),R=n.add(R,G),F=n.mul(U,F),S=n.mul(L,S),R=n.add(R,F),F=n.sub(G,F),F=n.mul(U,F),S=n.add(S,F),G=n.mul(R,S),O=n.add(O,G),G=n.mul($,S),T=n.mul(_,T),T=n.sub(T,G),G=n.mul(_,R),H=n.mul($,H),H=n.add(H,G),new h(T,O,H)}subtract(w){return this.add(w.negate())}is0(){return this.equals(h.ZERO)}wNAF(w){return m.wNAFCached(this,u,w,x=>{const E=n.invertBatch(x.map(I=>I.pz));return x.map((I,C)=>I.toAffine(E[C])).map(h.fromAffine)})}multiplyUnsafe(w){const x=h.ZERO;if(w===id)return x;if(o(w),w===Jo)return this;const{endo:E}=e;if(!E)return m.unsafeLadder(this,w);let{k1neg:I,k1:C,k2neg:N,k2:A}=E.splitScalar(w),T=x,O=x,H=this;for(;C>id||A>id;)C&Jo&&(T=T.add(H)),A&Jo&&(O=O.add(H)),H=H.double(),C>>=Jo,A>>=Jo;return I&&(T=T.negate()),N&&(O=O.negate()),O=new h(n.mul(O.px,E.beta),O.py,O.pz),T.add(O)}multiply(w){o(w);let x=w,E,I;const{endo:C}=e;if(C){const{k1neg:N,k1:A,k2neg:T,k2:O}=C.splitScalar(x);let{p:H,f:U}=this.wNAF(A),{p:L,f:G}=this.wNAF(O);H=m.constTimeNegate(N,H),L=m.constTimeNegate(T,L),L=new h(n.mul(L.px,C.beta),L.py,L.pz),E=H.add(L),I=U.add(G)}else{const{p:N,f:A}=this.wNAF(x);E=N,I=A}return h.normalizeZ([E,I])[0]}multiplyAndAddUnsafe(w,x,E){const I=h.BASE,C=(A,T)=>T===id||T===Jo||!A.equals(I)?A.multiplyUnsafe(T):A.multiply(T),N=C(this,x).add(C(w,E));return N.is0()?void 0:N}toAffine(w){const{px:x,py:E,pz:I}=this,C=this.is0();w==null&&(w=C?n.ONE:n.inv(I));const N=n.mul(x,w),A=n.mul(E,w),T=n.mul(I,w);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:N,y:A}}isTorsionFree(){const{h:w,isTorsionFree:x}=e;if(w===Jo)return!0;if(x)return x(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:x}=e;return w===Jo?this:x?x(h,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return this.assertValidity(),r(h,this,w)}toHex(w=!0){return sm(this.toRawBytes(w))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const g=e.nBitLength,m=qut(h,e.endo?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:a,isWithinCurveOrder:s}}function Zut(t){const e=Qce(t);return Ov(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Jut(t){const e=Zut(t),{Fp:n,n:r}=e,i=n.BYTES+1,a=2*n.BYTES+1;function s(S){return id<S&&S<n.ORDER}function o(S){return ws(S,r)}function l(S){return u$(S,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:g}=Yut({...e,toBytes(S,$,D){const z=$.toAffine(),Y=n.toBytes(z.x),J=Nw;return D?J(Uint8Array.from([$.hasEvenY()?2:3]),Y):J(Uint8Array.from([4]),Y,n.toBytes(z.y))},fromBytes(S){const $=S.length,D=S[0],z=S.subarray(1);if($===i&&(D===2||D===3)){const Y=D0(z);if(!s(Y))throw new Error("Point is not on curve");const J=h(Y);let V=n.sqrt(J);const M=(V&Jo)===Jo;return(D&1)===1!==M&&(V=n.neg(V)),{x:Y,y:V}}else if($===a&&D===4){const Y=n.fromBytes(z.subarray(0,n.BYTES)),J=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:Y,y:J}}else throw new Error(`Point of length ${$} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),m=S=>sm(lm(S,e.nByteLength));function b(S){const $=r>>Jo;return S>$}function w(S){return b(S)?o(-S):S}const x=(S,$,D)=>D0(S.slice($,D));class E{constructor($,D,z){this.r=$,this.s=D,this.recovery=z,this.assertValidity()}static fromCompact($){const D=e.nByteLength;return $=Ll("compactSignature",$,D*2),new E(x($,0,D),x($,D,2*D))}static fromDER($){const{r:D,s:z}=C0.toSig(Ll("DER",$));return new E(D,z)}assertValidity(){if(!g(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!g(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit($){return new E(this.r,this.s,$)}recoverPublicKey($){const{r:D,s:z,recovery:Y}=this,J=O(Ll("msgHash",$));if(Y==null||![0,1,2,3].includes(Y))throw new Error("recovery id invalid");const V=Y===2||Y===3?D+e.n:D;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=(Y&1)===0?"02":"03",Q=u.fromHex(M+m(V)),ne=l(V),K=o(-J*ne),se=o(z*ne),le=u.BASE.multiplyAndAddUnsafe(Q,K,se);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return om(this.toDERHex())}toDERHex(){return C0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return om(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const I={isValidPrivateKey(S){try{return d(S),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const S=Xce(e.n);return Wut(e.randomBytes(S),e.n)},precompute(S=8,$=u.BASE){return $._setWindowSize(S),$.multiply(BigInt(3)),$}};function C(S,$=!0){return u.fromPrivateKey(S).toRawBytes($)}function N(S){const $=S instanceof Uint8Array,D=typeof S=="string",z=($||D)&&S.length;return $?z===i||z===a:D?z===2*i||z===2*a:S instanceof u}function A(S,$,D=!0){if(N(S))throw new Error("first arg must be private key");if(!N($))throw new Error("second arg must be public key");return u.fromHex($).multiply(d(S)).toRawBytes(D)}const T=e.bits2int||function(S){const $=D0(S),D=S.length*8-e.nBitLength;return D>0?$>>BigInt(D):$},O=e.bits2int_modN||function(S){return o(T(S))},H=rR(e.nBitLength);function U(S){if(typeof S!="bigint")throw new Error("bigint expected");if(!(id<=S&&S<H))throw new Error(`bigint expected < 2^${e.nBitLength}`);return lm(S,e.nByteLength)}function L(S,$,D=G){if(["recovered","canonical"].some(he=>he in D))throw new Error("sign() legacy options not supported");const{hash:z,randomBytes:Y}=e;let{lowS:J,prehash:V,extraEntropy:M}=D;J==null&&(J=!0),S=Ll("msgHash",S),V&&(S=Ll("prehashed msgHash",z(S)));const Q=O(S),ne=d($),K=[U(ne),U(Q)];if(M!=null){const he=M===!0?Y(n.BYTES):M;K.push(Ll("extraEntropy",he))}const se=Nw(...K),le=Q;function de(he){const Ce=T(he);if(!g(Ce))return;const ke=l(Ce),Ie=u.BASE.multiply(Ce).toAffine(),De=o(Ie.x);if(De===id)return;const Ne=o(ke*o(le+De*ne));if(Ne===id)return;let We=(Ie.x===De?0:2)|Number(Ie.y&Jo),tt=Ne;return J&&b(Ne)&&(tt=w(Ne),We^=1),new E(De,tt,We)}return{seed:se,k2sig:de}}const G={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function F(S,$,D=G){const{seed:z,k2sig:Y}=L(S,$,D),J=e;return Yce(J.hash.outputLen,J.nByteLength,J.hmac)(z,Y)}u.BASE._setWindowSize(8);function _(S,$,D,z=R){const Y=S;if($=Ll("msgHash",$),D=Ll("publicKey",D),"strict"in z)throw new Error("options.strict was renamed to lowS");const{lowS:J,prehash:V}=z;let M,Q;try{if(typeof Y=="string"||Y instanceof Uint8Array)try{M=E.fromDER(Y)}catch(Ie){if(!(Ie instanceof C0.Err))throw Ie;M=E.fromCompact(Y)}else if(typeof Y=="object"&&typeof Y.r=="bigint"&&typeof Y.s=="bigint"){const{r:Ie,s:De}=Y;M=new E(Ie,De)}else throw new Error("PARSE");Q=u.fromHex(D)}catch(Ie){if(Ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(J&&M.hasHighS())return!1;V&&($=e.hash($));const{r:ne,s:K}=M,se=O($),le=l(K),de=o(se*le),he=o(ne*le),Ce=u.BASE.multiplyAndAddUnsafe(Q,de,he)?.toAffine();return Ce?o(Ce.x)===ne:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:A,sign:F,verify:_,ProjectivePoint:u,Signature:E,utils:I}}function Xut(t){return{hash:t,hmac:(e,...n)=>A9(t,e,Act(...n)),randomBytes:Sct}}function Qut(t,e){const n=r=>Jut({...t,...Xut(r)});return Object.freeze({...n(e),create:n})}const eue=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),IK=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),edt=BigInt(1),d$=BigInt(2),TK=(t,e)=>(t+e/d$)/e;function tdt(t){const e=eue,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),l=BigInt(88),u=t*t*t%e,d=u*u*t%e,h=Lo(d,n,e)*d%e,g=Lo(h,n,e)*d%e,m=Lo(g,d$,e)*u%e,b=Lo(m,i,e)*m%e,w=Lo(b,a,e)*b%e,x=Lo(w,o,e)*w%e,E=Lo(x,l,e)*x%e,I=Lo(E,o,e)*w%e,C=Lo(I,n,e)*d%e,N=Lo(C,s,e)*b%e,A=Lo(N,r,e)*u%e,T=Lo(A,d$,e);if(!f$.eql(f$.sqr(T),t))throw new Error("Cannot find square root");return T}const f$=zut(eue,void 0,void 0,{sqrt:tdt}),Mf=Qut({a:BigInt(0),b:BigInt(7),Fp:f$,n:IK,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=IK,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-edt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,s=BigInt("0x100000000000000000000000000000000"),o=TK(a*t,e),l=TK(-r*t,e);let u=ws(t-o*n-l*i,e),d=ws(-o*r-l*a,e);const h=u>s,g=d>s;if(h&&(u=e-u),g&&(d=e-d),u>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:u,k2neg:g,k2:d}}}},qm);BigInt(0);Mf.ProjectivePoint;const tue="0x0000000000000000000000000000000000000000",$K="0x0000000000000000000000000000000000000000000000000000000000000000",ndt=`Ethereum Signed Message:
`,NK=BigInt(0),PK=BigInt(1),OK=BigInt(2),RK=BigInt(27),MK=BigInt(28),Zx=BigInt(35),W1={};function jK(t){return gh(vi(t),32)}class Ti{#e;#t;#n;#r;get r(){return this.#e}set r(e){Me(mb(e)===32,"invalid r","value",e),this.#e=Et(e)}get s(){return Me(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){Me(mb(e)===32,"invalid s","value",e),this.#t=Et(e)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#n}set v(e){const n=sl(e,"value");Me(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:Ti.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Pt(this.s);return this.yParity&&(e[0]|=128),Et(e)}get compactSerialized(){return xi([this.r,this.yParityAndS])}get serialized(){return xi([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,i){x9(e,W1,"Signature"),this.#e=n,this.#t=r,this.#n=i,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Ti(W1,this.r,this._s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=xr(e,"v");return n==RK||n==MK?NK:(Me(n>=Zx,"invalid EIP-155 v","v",e),(n-Zx)/OK)}static getChainIdV(e,n){return xr(e)*OK+BigInt(35+n-27)}static getNormalizedV(e){const n=xr(e);return n===NK||n===RK?27:n===PK||n===MK?28:(Me(n>=Zx,"invalid v","v",e),n&PK?27:28)}static from(e){function n(u,d){Me(u,d,"signature",e)}if(e==null)return new Ti(W1,$K,$K,27);if(typeof e=="string"){const u=Pt(e,"signature");if(u.length===64){const d=Et(u.slice(0,32)),h=u.slice(32,64),g=h[0]&128?28:27;return h[0]&=127,new Ti(W1,d,Et(h),g)}if(u.length===65){const d=Et(u.slice(0,32)),h=Et(u.slice(32,64)),g=Ti.getNormalizedV(u[64]);return new Ti(W1,d,h,g)}n(!1,"invalid raw signature length")}if(e instanceof Ti)return e.clone();const r=e.r;n(r!=null,"missing r");const i=jK(r),a=(function(u,d){if(u!=null)return jK(u);if(d!=null){n(du(d,32),"invalid yParityAndS");const h=Pt(d);return h[0]&=127,Et(h)}n(!1,"missing s")})(e.s,e.yParityAndS),{networkV:s,v:o}=(function(u,d,h){if(u!=null){const g=xr(u);return{networkV:g>=Zx?g:void 0,v:Ti.getNormalizedV(g)}}if(d!=null)return n(du(d,32),"invalid yParityAndS"),{v:Pt(d)[0]&128?28:27};if(h!=null){switch(sl(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),l=new Ti(W1,i,a,o);return s&&(l.#r=s),n(e.yParity==null||sl(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}}class xs{#e;constructor(e){Me(mb(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=Et(e)}get privateKey(){return this.#e}get publicKey(){return xs.computePublicKey(this.#e)}get compressedPublicKey(){return xs.computePublicKey(this.#e,!0)}sign(e){Me(mb(e)===32,"invalid digest length","digest",e);const n=Mf.sign(d0(e),d0(this.#e),{lowS:!0});return Ti.from({r:rm(n.r,32),s:rm(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=xs.computePublicKey(e);return Et(Mf.getSharedSecret(d0(this.#e),Pt(n),!1))}static computePublicKey(e,n){let r=Pt(e,"key");if(r.length===32){const a=Mf.getPublicKey(r,!!n);return Et(a)}if(r.length===64){const a=new Uint8Array(65);a[0]=4,a.set(r,1),r=a}const i=Mf.ProjectivePoint.fromHex(r);return Et(i.toRawBytes(n))}static recoverPublicKey(e,n){Me(mb(e)===32,"invalid digest length","digest",e);const r=Ti.from(n);let i=Mf.Signature.fromCompact(d0(xi([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const a=i.recoverPublicKey(d0(e));return Me(a!=null,"invalid signature for digest","signature",n),"0x"+a.toHex(!1)}static addPoints(e,n,r){const i=Mf.ProjectivePoint.fromHex(xs.computePublicKey(e).substring(2)),a=Mf.ProjectivePoint.fromHex(xs.computePublicKey(n).substring(2));return"0x"+i.add(a).toHex(!!r)}}const rdt=BigInt(0),idt=BigInt(36);function DK(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Pt(Pi(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const iR={};for(let t=0;t<10;t++)iR[String(t)]=String(t);for(let t=0;t<26;t++)iR[String.fromCharCode(65+t)]=String(10+t);const BK=15;function adt(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>iR[r]).join("");for(;e.length>=BK;){let r=e.substring(0,BK);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const sdt=(function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t})();function odt(t){t=t.toLowerCase();let e=rdt;for(let n=0;n<t.length;n++)e=e*idt+sdt[t[n]];return e}function $s(t){if(Me(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=DK(t);return Me(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Me(t.substring(2,4)===adt(t),"bad icap checksum","address",t);let e=odt(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return DK("0x"+e)}Me(!1,"invalid address","address",t)}function ldt(t){return t&&typeof t.getAddress=="function"}async function IS(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(An(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),Me(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),$s(n)}function yb(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?$s(t):(An(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),IS(t,e.resolveName(t)));if(ldt(t))return IS(t,t.getAddress());if(t&&typeof t.then=="function")return IS(t,t);Me(!1,"unsupported addressable value","target",t)}function TS(t,e){return{address:$s(t),storageKeys:e.map((n,r)=>(Me(du(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function k9(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(Me(n.length===2,"invalid slot set",`value[${r}]`,n),TS(n[0],n[1])):(Me(n!=null&&typeof n=="object","invalid address-slot set","value",t),TS(n.address,n.storageKeys)));Me(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,a)=>(i[a]=!0,i),{});return TS(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function cdt(t){return{address:$s(t.address),nonce:xr(t.nonce!=null?t.nonce:0),chainId:xr(t.chainId!=null?t.chainId:0),signature:Ti.from(t.signature)}}function Rv(t){let e;return typeof t=="string"?e=xs.computePublicKey(t,!1):e=t.publicKey,$s(Pi("0x"+e.substring(4)).substring(26))}function udt(t,e){return Rv(xs.recoverPublicKey(t,e))}const qi=BigInt(0),ddt=BigInt(2),fdt=BigInt(27),hdt=BigInt(28),pdt=BigInt(35),gdt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),$S=4096*32;function mdt(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Pt(t.blobToKzgCommitment(Et(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Pt(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Pt(t.blobToKZGCommitment(Et(r)));Me(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Pt(t.computeBlobProof(Et(r),Et(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Pt(t.computeBlobKZGProof(Et(r),Et(i)));Me(!1,"unsupported KZG library","kzg",t)}}}function UK(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=pl(e).substring(4),"0x"+n}function Zm(t){return t==="0x"?null:$s(t)}function I9(t,e){try{return k9(t)}catch(n){Me(!1,n.message,e,t)}}function ydt(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:Zm(i[1]),nonce:dr(i[2],"nonce"),chainId:dr(i[0],"chainId"),signature:Ti.from({yParity:Ip(i[3],"yParity"),r:gh(i[4],32),s:gh(i[5],32)})})}return n}catch(n){Me(!1,n.message,e,t)}}function Ip(t,e){return t==="0x"?0:sl(t,e)}function dr(t,e){if(t==="0x")return qi;const n=xr(t,e);return Me(n<=gdt,"value exceeds uint size",e,n),n}function Nn(t,e){const n=xr(t,"value"),r=vi(n);return Me(r.length<=32,"value too large",`tx.${e}`,n),r}function T9(t){return k9(t).map(e=>[e.address,e.storageKeys])}function bdt(t){return t.map(e=>[Nn(e.chainId,"chainId"),e.address,Nn(e.nonce,"nonce"),Nn(e.signature.yParity,"yParity"),vi(e.signature.r),vi(e.signature.s)])}function wdt(t,e){Me(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)Me(du(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function vdt(t){const e=Pv(t);Me(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Ip(e[0],"nonce"),gasPrice:dr(e[1],"gasPrice"),gasLimit:dr(e[2],"gasLimit"),to:Zm(e[3]),value:dr(e[4],"value"),data:Et(e[5]),chainId:qi};if(e.length===6)return n;const r=dr(e[6],"v"),i=dr(e[7],"r"),a=dr(e[8],"s");if(i===qi&&a===qi)n.chainId=r;else{let s=(r-pdt)/ddt;s<qi&&(s=qi),n.chainId=s,Me(s!==qi||r===fdt||r===hdt,"non-canonical legacy v","v",e[6]),n.signature=Ti.from({r:gh(e[7],32),s:gh(e[8],32),v:r})}return n}function xdt(t,e){const n=[Nn(t.nonce,"nonce"),Nn(t.gasPrice||0,"gasPrice"),Nn(t.gasLimit,"gasLimit"),t.to||"0x",Nn(t.value,"value"),t.data];let r=qi;if(t.chainId!=qi)r=xr(t.chainId,"tx.chainId"),Me(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const a=t.signature.legacyChainId;a!=null&&(r=a)}if(!e)return r!==qi&&(n.push(vi(r)),n.push("0x"),n.push("0x")),mh(n);let i=BigInt(27+e.yParity);return r!==qi?i=Ti.getChainIdV(r,e.v):BigInt(e.v)!==i&&Me(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(vi(i)),n.push(vi(e.r)),n.push(vi(e.s)),mh(n)}function $9(t,e){let n;try{if(n=Ip(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{Me(!1,"invalid yParity","yParity",e[0])}const r=gh(e[1],32),i=gh(e[2],32),a=Ti.from({r,s:i,yParity:n});t.signature=a}function Edt(t){const e=Pv(Pt(t).slice(1));Me(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Et(t));const n={type:2,chainId:dr(e[0],"chainId"),nonce:Ip(e[1],"nonce"),maxPriorityFeePerGas:dr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dr(e[4],"gasLimit"),to:Zm(e[5]),value:dr(e[6],"value"),data:Et(e[7]),accessList:I9(e[8],"accessList")};return e.length===9||$9(n,e.slice(9)),n}function _dt(t,e){const n=[Nn(t.chainId,"chainId"),Nn(t.nonce,"nonce"),Nn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Nn(t.maxFeePerGas||0,"maxFeePerGas"),Nn(t.gasLimit,"gasLimit"),t.to||"0x",Nn(t.value,"value"),t.data,T9(t.accessList||[])];return e&&(n.push(Nn(e.yParity,"yParity")),n.push(vi(e.r)),n.push(vi(e.s))),xi(["0x02",mh(n)])}function Adt(t){const e=Pv(Pt(t).slice(1));Me(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Et(t));const n={type:1,chainId:dr(e[0],"chainId"),nonce:Ip(e[1],"nonce"),gasPrice:dr(e[2],"gasPrice"),gasLimit:dr(e[3],"gasLimit"),to:Zm(e[4]),value:dr(e[5],"value"),data:Et(e[6]),accessList:I9(e[7],"accessList")};return e.length===8||$9(n,e.slice(8)),n}function Cdt(t,e){const n=[Nn(t.chainId,"chainId"),Nn(t.nonce,"nonce"),Nn(t.gasPrice||0,"gasPrice"),Nn(t.gasLimit,"gasLimit"),t.to||"0x",Nn(t.value,"value"),t.data,T9(t.accessList||[])];return e&&(n.push(Nn(e.yParity,"recoveryParam")),n.push(vi(e.r)),n.push(vi(e.s))),xi(["0x01",mh(n)])}function Sdt(t){let e=Pv(Pt(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const a=e[1],s=e[2],o=e[3];Me(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),Me(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),Me(Array.isArray(o),"invalid network format: proofs not an array","fields[3]",o),Me(a.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",e),Me(a.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:a[l],commitment:s[l],proof:o[l]});e=e[0]}Me(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",Et(t));const i={type:3,chainId:dr(e[0],"chainId"),nonce:Ip(e[1],"nonce"),maxPriorityFeePerGas:dr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dr(e[4],"gasLimit"),to:Zm(e[5]),value:dr(e[6],"value"),data:Et(e[7]),accessList:I9(e[8],"accessList"),maxFeePerBlobGas:dr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),Me(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),Me(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let a=0;a<i.blobVersionedHashes.length;a++)Me(du(i.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",t);return e.length===11||$9(i,e.slice(11)),i}function kdt(t,e,n){const r=[Nn(t.chainId,"chainId"),Nn(t.nonce,"nonce"),Nn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Nn(t.maxFeePerGas||0,"maxFeePerGas"),Nn(t.gasLimit,"gasLimit"),t.to||tue,Nn(t.value,"value"),t.data,T9(t.accessList||[]),Nn(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),wdt(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Nn(e.yParity,"yParity")),r.push(vi(e.r)),r.push(vi(e.s)),n)?xi(["0x03",mh([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):xi(["0x03",mh(r)])}function Idt(t){const e=Pv(Pt(t).slice(1));Me(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Et(t));const n={type:4,chainId:dr(e[0],"chainId"),nonce:Ip(e[1],"nonce"),maxPriorityFeePerGas:dr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dr(e[4],"gasLimit"),to:Zm(e[5]),value:dr(e[6],"value"),data:Et(e[7]),accessList:I9(e[8],"accessList"),authorizationList:ydt(e[9],"authorizationList")};return e.length===10||$9(n,e.slice(10)),n}function Tdt(t,e){const n=[Nn(t.chainId,"chainId"),Nn(t.nonce,"nonce"),Nn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Nn(t.maxFeePerGas||0,"maxFeePerGas"),Nn(t.gasLimit,"gasLimit"),t.to||"0x",Nn(t.value,"value"),t.data,T9(t.accessList||[]),bdt(t.authorizationList||[])];return e&&(n.push(Nn(e.yParity,"yParity")),n.push(vi(e.r)),n.push(vi(e.s))),xi(["0x04",mh(n)])}class Fl{#e;#t;#n;#r;#l;#c;#u;#d;#f;#h;#p;#g;#o;#a;#i;#s;#m;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:Me(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?tue:e}set to(e){this.#t=e==null?null:$s(e)}get nonce(){return this.#r}set nonce(e){this.#r=sl(e,"value")}get gasLimit(){return this.#l}set gasLimit(e){this.#l=xr(e)}get gasPrice(){const e=this.#c;return e==null&&(this.type===0||this.type===1)?qi:e}set gasPrice(e){this.#c=e==null?null:xr(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#u;return e??(this.type===2||this.type===3?qi:null)}set maxPriorityFeePerGas(e){this.#u=e==null?null:xr(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#d;return e??(this.type===2||this.type===3?qi:null)}set maxFeePerGas(e){this.#d=e==null?null:xr(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=Et(e)}get value(){return this.#f}set value(e){this.#f=xr(e,"value")}get chainId(){return this.#h}set chainId(e){this.#h=xr(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:Ti.from(e)}get accessList(){const e=this.#g||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#g=e==null?null:k9(e)}get authorizationList(){const e=this.#m||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#m=e==null?null:e.map(n=>cdt(n))}get maxFeePerBlobGas(){const e=this.#o;return e==null&&this.type===3?qi:e}set maxFeePerBlobGas(e){this.#o=e==null?null:xr(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#a;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){Me(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)Me(du(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#a=e}get blobs(){return this.#s==null?null:this.#s.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#s=null;return}const n=[],r=[];for(let i=0;i<e.length;i++){const a=e[i];if(E9(a)){An(this.#i,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Pt(a);if(Me(s.length<=$S,"blob is too large",`blobs[${i}]`,a),s.length!==$S){const u=new Uint8Array($S);u.set(s),s=u}const o=this.#i.blobToKzgCommitment(s),l=Et(this.#i.computeBlobKzgProof(s,o));n.push({data:Et(s),commitment:Et(o),proof:l}),r.push(UK(1,o))}else{const s=Et(a.commitment);n.push({data:Et(a.data),commitment:s,proof:Et(a.proof)}),r.push(UK(1,s))}}this.#s=n,this.#a=r}get kzg(){return this.#i}set kzg(e){e==null?this.#i=null:this.#i=mdt(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#l=qi,this.#c=null,this.#u=null,this.#d=null,this.#n="0x",this.#f=qi,this.#h=qi,this.#p=null,this.#g=null,this.#o=null,this.#a=null,this.#i=null,this.#s=null,this.#m=null}get hash(){return this.signature==null?null:Pi(this.#y(!0,!1))}get unsignedHash(){return Pi(this.unsignedSerialized)}get from(){return this.signature==null?null:udt(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:xs.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#y(e,n){An(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return xdt(this,r);case 1:return Cdt(this,r);case 2:return _dt(this,r);case 3:return kdt(this,r,n?this.blobs:null);case 4:return Tdt(this,r)}An(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#y(!0,!0)}get unsignedSerialized(){return this.#y(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=this.#o!=null||this.#a;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&An(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),An(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),An(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const a=[];return this.type!=null?a.push(this.type):this.authorizationList&&this.authorizationList.length?a.push(4):n?a.push(2):e?(a.push(1),r||a.push(0)):r?(a.push(1),a.push(2)):(i&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Fl.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Fl;if(typeof e=="string"){const r=Pt(e);if(r[0]>=127)return Fl.from(vdt(r));switch(r[0]){case 1:return Fl.from(Adt(r));case 2:return Fl.from(Edt(r));case 3:return Fl.from(Sdt(r));case 4:return Fl.from(Idt(r))}An(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Fl;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Ti.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(Me(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Me(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Me(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Me(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}function $dt(t){return Me(typeof t.address=="string","invalid address for hashAuthorization","auth.address",t),Pi(xi(["0x05",mh([t.chainId!=null?vi(t.chainId):"0x",$s(t.address),t.nonce!=null?vi(t.nonce):"0x"])]))}function N9(t){return Pi(j0(t))}function Ndt(t){return typeof t=="string"&&(t=j0(t)),Pi(xi([j0(ndt),j0(String(t.length)),t]))}const nue=new Uint8Array(32);nue.fill(0);const Pdt=BigInt(-1),rue=BigInt(0),iue=BigInt(1),Odt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Rdt(t){const e=Pt(t),n=e.length%32;return n?xi([e,nue.slice(n)]):Et(e)}const Mdt=rm(iue,32),jdt=rm(rue,32),LK={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},NS=["name","version","chainId","verifyingContract","salt"];function FK(t){return function(e){return Me(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Ddt={name:FK("name"),version:FK("version"),chainId:function(t){const e=xr(t,"domain.chainId");return Me(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):pct(e)},verifyingContract:function(t){try{return $s(t).toLowerCase()}catch{}Me(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Pt(t,"domain.salt");return Me(e.length===32,'invalid domain value "salt"',"domain.salt",t),Et(e)}};function PS(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);Me(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=hct(Odt,n?r-1:r),a=n?(i+iue)*Pdt:rue;return function(s){const o=xr(s,"value");return Me(o>=a&&o<=i,`value out-of-bounds for ${t}`,"value",o),rm(n?fct(o,256):o,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return Me(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=Pt(r);return Me(i.length===n,`invalid length for ${t}`,"value",r),Rdt(r)}}}switch(t){case"address":return function(e){return gh($s(e),32)};case"bool":return function(e){return e?Mdt:jdt};case"bytes":return function(e){return Pi(e)};case"string":return function(e){return N9(e)}}return null}function zK(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function Jx(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class Xs{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const n=new Map,r=new Map,i=new Map,a={};Object.keys(e).forEach(l=>{a[l]=e[l].map(({name:u,type:d})=>{let{base:h,index:g}=Jx(d);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:u,type:h+(g||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),this.#e=JSON.stringify(a);for(const l in a){const u=new Set;for(const d of a[l]){Me(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(l)}`,"types",e),u.add(d.name);const h=Jx(d.type).base;Me(h!==l,`circular type reference to ${JSON.stringify(h)}`,"types",e),!PS(h)&&(Me(r.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),r.get(h).push(l),n.get(l).add(h))}}const s=Array.from(r.keys()).filter(l=>r.get(l).length===0);Me(s.length!==0,"missing primary type","types",e),Me(s.length===1,`ambiguous primary types or unused types: ${s.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),uo(this,{primaryType:s[0]});function o(l,u){Me(!u.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),u.add(l);for(const d of n.get(l))if(r.has(d)){o(d,u);for(const h of u)i.get(h).add(d)}u.delete(l)}o(this.primaryType,new Set);for(const[l,u]of i){const d=Array.from(u);d.sort(),this.#t.set(l,zK(l,a[l])+d.map(h=>zK(h,a[h])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{const i=PS(e);if(i)return i}const n=Jx(e).array;if(n){const i=n.prefix,a=this.getEncoder(i);return s=>{Me(n.count===-1||n.count===s.length,`array length mismatch; expected length ${n.count}`,"value",s);let o=s.map(a);return this.#t.has(i)&&(o=o.map(Pi)),Pi(xi(o))}}const r=this.types[e];if(r){const i=N9(this.#t.get(e));return a=>{const s=r.map(({name:o,type:l})=>{const u=this.getEncoder(l)(a[o]);return this.#t.has(l)?Pi(u):u});return s.unshift(i),xi(s)}}Me(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const n=this.#t.get(e);return Me(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Pi(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(PS(e))return r(e,n);const i=Jx(e).array;if(i)return Me(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(s=>this._visit(i.prefix,s,r));const a=this.types[e];if(a)return a.reduce((s,{name:o,type:l})=>(s[o]=this._visit(l,n[o],r),s),{});Me(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Xs(e)}static getPrimaryType(e){return Xs.from(e).primaryType}static hashStruct(e,n,r){return Xs.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=LK[r];Me(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>NS.indexOf(r.name)-NS.indexOf(i.name)),Xs.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return xi(["0x1901",Xs.hashDomain(e),Xs.from(n).hash(r)])}static hash(e,n,r){return Pi(Xs.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const a={};e.verifyingContract&&!du(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const s=Xs.from(n);s.visit(r,(o,l)=>(o==="address"&&!du(l,20)&&(a[l]="0x"),l));for(const o in a)a[o]=await i(o);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),r=s.visit(r,(o,l)=>o==="address"&&a[l]?a[l]:l),{domain:e,value:r}}static getPayload(e,n,r){Xs.hashDomain(e);const i={},a=[];NS.forEach(l=>{const u=e[l];u!=null&&(i[l]=Ddt[l](u),a.push({name:l,type:LK[l]}))});const s=Xs.from(n);n=s.types;const o=Object.assign({},n);return Me(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),o.EIP712Domain=a,s.encode(r),{types:o,domain:i,primaryType:s.primaryType,message:s.visit(r,(l,u)=>{if(l.match(/^bytes(\d*)/))return Et(Pt(u));if(l.match(/^u?int/))return xr(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return Me(typeof u=="string","invalid string","value",u),u}Me(!1,"unsupported type","type",l)})}}}BigInt(0);function aue(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Et(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=xr(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=sl(t[i],`request.${i}`));return t.accessList&&(e.accessList=k9(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>E9(i)?Et(i):Object.assign({},i))),e}function Qh(t,e){if(t.provider)return t.provider;An(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function WK(t,e){let n=aue(e);if(n.to!=null&&(n.to=yb(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),yb(r,t)]).then(([i,a])=>(Me(i.toLowerCase()===a.toLowerCase(),"transaction from mismatch","tx.from",a),i))}else n.from=t.getAddress();return await zO(n)}class sue{provider;constructor(e){uo(this,{provider:e||null})}async getNonce(e){return Qh(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await WK(this,e)}async populateTransaction(e){const n=Qh(this,"populateTransaction"),r=await WK(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const s=xr(r.chainId);Me(s===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const a=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||a)?Me(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&a&&Me(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const s=await n.getFeeData();An(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice)}else{const s=await n.getFeeData();if(r.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(An(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice),r.type=0):An(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await zO(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Qh(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Qh(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Qh(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Qh(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Qh(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Fl.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){An(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}class aR extends sue{address;constructor(e,n){super(n),uo(this,{address:e})}async getAddress(){return this.address}connect(e){return new aR(this.address,e)}#e(e,n){An(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:n})}async signTransaction(e){this.#e("transactions","signTransaction")}async signMessage(e){this.#e("messages","signMessage")}async signTypedData(e,n,r){this.#e("typed-data","signTypedData")}}class P9 extends sue{address;#e;constructor(e,n){super(n),Me(e&&typeof e.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=e;const r=Rv(this.signingKey.publicKey);uo(this,{address:r})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new P9(this.#e,e)}async signTransaction(e){e=aue(e);const{to:n,from:r}=await zO({to:e.to?yb(e.to,this):void 0,from:e.from?yb(e.from,this):void 0});n!=null&&(e.to=n),r!=null&&(e.from=r),e.from!=null&&(Me($s(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);const i=Fl.from(e);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(Ndt(e)).serialized}authorizeSync(e){Me(typeof e.address=="string","invalid address for authorizeSync","auth.address",e);const n=this.signingKey.sign($dt(e));return Object.assign({},{address:$s(e.address),nonce:xr(e.nonce||0),chainId:xr(e.chainId||0)},{signature:n})}async authorize(e){return e=Object.assign({},e,{address:await yb(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,n,r){const i=await Xs.resolveNames(e,n,r,async a=>{An(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:a}});const s=await this.provider.resolveName(a);return An(s!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:a}),s});return this.signingKey.sign(Xs.hash(i.domain,n,i.value)).serialized}}const h4=" !#$%&'()*+,-./<=>?@[]^_`{|}~",Bdt=/^[a-z]*$/i;function HK(t,e){let n=97;return t.reduce((r,i)=>(i===e?n++:i.match(Bdt)?r.push(String.fromCharCode(n)+i):(n=97,r.push(i)),r),[])}function Udt(t,e){for(let i=h4.length-1;i>=0;i--)t=t.split(h4[i]).join(e.substring(2*i,2*i+2));const n=[],r=t.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,a,s,o)=>{if(s)for(let l=parseInt(s);l>=0;l--)n.push(";");else n.push(a.toLowerCase());return""});if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return HK(HK(n,";"),":")}function Ldt(t){return Me(t[0]==="0","unsupported auwl data","data",t),Udt(t.substring(1+2*h4.length),t.substring(1,1+2*h4.length))}class Fdt{locale;constructor(e){uo(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class zdt extends Fdt{#e;#t;constructor(e,n,r){super(e),this.#e=n,this.#t=r,this.#n=null}get _data(){return this.#e}_decodeWords(){return Ldt(this.#e)}#n;#r(){if(this.#n==null){const e=this._decodeWords();if(N9(e.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#n=e}return this.#n}getWord(e){const n=this.#r();return Me(e>=0&&e<n.length,`invalid word index: ${e}`,"index",e),n[e]}getWordIndex(e){return this.#r().indexOf(e)}}const Wdt="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",Hdt="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let OS=null;class np extends zdt{constructor(){super("en",Wdt,Hdt)}static wordlist(){return OS==null&&(OS=new np),OS}}function oue(t){return(1<<t)-1<<8-t&255}function qdt(t){return(1<<t)-1&255}function RS(t,e){ece("NFKD"),e==null&&(e=np.wordlist());const n=e.split(t);Me(n.length%3===0&&n.length>=12&&n.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const r=new Uint8Array(Math.ceil(11*n.length/8));let i=0;for(let u=0;u<n.length;u++){let d=e.getWordIndex(n[u].normalize("NFKD"));Me(d>=0,`invalid mnemonic word at index ${u}`,"mnemonic","[ REDACTED ]");for(let h=0;h<11;h++)d&1<<10-h&&(r[i>>3]|=1<<7-i%8),i++}const a=32*n.length/3,s=n.length/3,o=oue(s),l=Pt(pl(r.slice(0,a/8)))[0]&o;return Me(l===(r[r.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),Et(r.slice(0,a/8))}function MS(t,e){Me(t.length%4===0&&t.length>=16&&t.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=np.wordlist());const n=[0];let r=11;for(let s=0;s<t.length;s++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=t[s],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=t[s]>>8-r,n.push(t[s]&qdt(8-r)),r+=3);const i=t.length/4,a=parseInt(pl(t).substring(2,4),16)&oue(i);return n[n.length-1]<<=i,n[n.length-1]|=a>>8-i,e.join(n.map(s=>e.getWord(s)))}const jS={};class cm{phrase;password;wordlist;entropy;constructor(e,n,r,i,a){i==null&&(i=""),a==null&&(a=np.wordlist()),x9(e,jS,"Mnemonic"),uo(this,{phrase:r,password:i,wordlist:a,entropy:n})}computeSeed(){const e=j0("mnemonic"+this.password,"NFKD");return Ih(j0(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,n,r){const i=RS(e,r);return e=MS(Pt(i),r),new cm(jS,i,e,n,r)}static fromEntropy(e,n,r){const i=Pt(e,"entropy"),a=MS(i,r);return new cm(jS,Et(i),a,n,r)}static entropyToPhrase(e,n){const r=Pt(e,"entropy");return MS(r,n)}static phraseToEntropy(e,n){return RS(e,n)}static isValidMnemonic(e,n){try{return RS(e,n),!0}catch{}return!1}}var ia=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},DS=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},W5,Ho,Uc;const Vdt={16:10,24:12,32:14},Gdt=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Fo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Xx=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Kdt=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Ydt=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Zdt=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Jdt=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Xdt=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Qdt=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],eft=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],tft=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],nft=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],rft=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],ift=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],aft=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function BS(t){const e=[];for(let n=0;n<t.length;n+=4)e.push(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]);return e}class sR{get key(){return ia(this,W5,"f").slice()}constructor(e){if(W5.set(this,void 0),Ho.set(this,void 0),Uc.set(this,void 0),!(this instanceof sR))throw Error("AES must be instanitated with `new`");DS(this,W5,new Uint8Array(e),"f");const n=Vdt[this.key.length];if(n==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");DS(this,Uc,[],"f"),DS(this,Ho,[],"f");for(let d=0;d<=n;d++)ia(this,Uc,"f").push([0,0,0,0]),ia(this,Ho,"f").push([0,0,0,0]);const r=(n+1)*4,i=this.key.length/4,a=BS(this.key);let s;for(let d=0;d<i;d++)s=d>>2,ia(this,Uc,"f")[s][d%4]=a[d],ia(this,Ho,"f")[n-s][d%4]=a[d];let o=0,l=i,u;for(;l<r;){if(u=a[i-1],a[0]^=Fo[u>>16&255]<<24^Fo[u>>8&255]<<16^Fo[u&255]<<8^Fo[u>>24&255]^Gdt[o]<<24,o+=1,i!=8)for(let m=1;m<i;m++)a[m]^=a[m-1];else{for(let m=1;m<i/2;m++)a[m]^=a[m-1];u=a[i/2-1],a[i/2]^=Fo[u&255]^Fo[u>>8&255]<<8^Fo[u>>16&255]<<16^Fo[u>>24&255]<<24;for(let m=i/2+1;m<i;m++)a[m]^=a[m-1]}let d=0,h,g;for(;d<i&&l<r;)h=l>>2,g=l%4,ia(this,Uc,"f")[h][g]=a[d],ia(this,Ho,"f")[n-h][g]=a[d++],l++}for(let d=1;d<n;d++)for(let h=0;h<4;h++)u=ia(this,Ho,"f")[d][h],ia(this,Ho,"f")[d][h]=nft[u>>24&255]^rft[u>>16&255]^ift[u>>8&255]^aft[u&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const n=ia(this,Uc,"f").length-1,r=[0,0,0,0];let i=BS(e);for(let o=0;o<4;o++)i[o]^=ia(this,Uc,"f")[0][o];for(let o=1;o<n;o++){for(let l=0;l<4;l++)r[l]=Kdt[i[l]>>24&255]^Ydt[i[(l+1)%4]>>16&255]^Zdt[i[(l+2)%4]>>8&255]^Jdt[i[(l+3)%4]&255]^ia(this,Uc,"f")[o][l];i=r.slice()}const a=new Uint8Array(16);let s=0;for(let o=0;o<4;o++)s=ia(this,Uc,"f")[n][o],a[4*o]=(Fo[i[o]>>24&255]^s>>24)&255,a[4*o+1]=(Fo[i[(o+1)%4]>>16&255]^s>>16)&255,a[4*o+2]=(Fo[i[(o+2)%4]>>8&255]^s>>8)&255,a[4*o+3]=(Fo[i[(o+3)%4]&255]^s)&255;return a}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const n=ia(this,Ho,"f").length-1,r=[0,0,0,0];let i=BS(e);for(let o=0;o<4;o++)i[o]^=ia(this,Ho,"f")[0][o];for(let o=1;o<n;o++){for(let l=0;l<4;l++)r[l]=Xdt[i[l]>>24&255]^Qdt[i[(l+3)%4]>>16&255]^eft[i[(l+2)%4]>>8&255]^tft[i[(l+1)%4]&255]^ia(this,Ho,"f")[o][l];i=r.slice()}const a=new Uint8Array(16);let s=0;for(let o=0;o<4;o++)s=ia(this,Ho,"f")[n][o],a[4*o]=(Xx[i[o]>>24&255]^s>>24)&255,a[4*o+1]=(Xx[i[(o+3)%4]>>16&255]^s>>16)&255,a[4*o+2]=(Xx[i[(o+2)%4]>>8&255]^s>>8)&255,a[4*o+3]=(Xx[i[(o+1)%4]&255]^s)&255;return a}}W5=new WeakMap,Ho=new WeakMap,Uc=new WeakMap;class lue{constructor(e,n,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new sR(n)},name:{enumerable:!0,value:e}})}}var Qx=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},H1=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},W2,Gu;class oR extends lue{constructor(e,n){if(super("ECC",e,oR),W2.set(this,void 0),Gu.set(this,void 0),n){if(n.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Qx(this,W2,new Uint8Array(n),"f")}else Qx(this,W2,new Uint8Array(16),"f");Qx(this,Gu,this.iv,"f")}get iv(){return new Uint8Array(H1(this,W2,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const n=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let i=0;i<16;i++)H1(this,Gu,"f")[i]^=e[r+i];Qx(this,Gu,this.aes.encrypt(H1(this,Gu,"f")),"f"),n.set(H1(this,Gu,"f"),r)}return n}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const n=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){const i=this.aes.decrypt(e.subarray(r,r+16));for(let a=0;a<16;a++)n[r+a]=i[a]^H1(this,Gu,"f")[a],H1(this,Gu,"f")[a]=e[r+a]}return n}}W2=new WeakMap,Gu=new WeakMap;var q1=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},zo=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},H2,r0,qo;class um extends lue{constructor(e,n){super("CTR",e,um),H2.set(this,void 0),r0.set(this,void 0),qo.set(this,void 0),q1(this,qo,new Uint8Array(16),"f"),zo(this,qo,"f").fill(0),q1(this,H2,zo(this,qo,"f"),"f"),q1(this,r0,16,"f"),n==null&&(n=1),typeof n=="number"?this.setCounterValue(n):this.setCounterBytes(n)}get counter(){return new Uint8Array(zo(this,qo,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let n=15;n>=0;--n)zo(this,qo,"f")[n]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");zo(this,qo,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(zo(this,qo,"f")[e]===255)zo(this,qo,"f")[e]=0;else{zo(this,qo,"f")[e]++;break}}encrypt(e){var n,r;const i=new Uint8Array(e);for(let a=0;a<i.length;a++)zo(this,r0,"f")===16&&(q1(this,H2,this.aes.encrypt(zo(this,qo,"f")),"f"),q1(this,r0,0,"f"),this.increment()),i[a]^=zo(this,H2,"f")[q1(this,r0,(r=zo(this,r0,"f"),n=r++,r),"f"),n];return i}decrypt(e){return this.encrypt(e)}}H2=new WeakMap,r0=new WeakMap,qo=new WeakMap;function sft(t){if(t.length<16)throw new TypeError("PKCS#7 invalid length");const e=t[t.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const n=t.length-e;for(let r=0;r<e;r++)if(t[n+r]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(t.subarray(0,n))}function cue(t){return typeof t=="string"&&!t.startsWith("0x")&&(t="0x"+t),d0(t)}function S2(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function Mv(t){return typeof t=="string"?j0(t,"NFKC"):d0(t)}function ei(t,e){const n=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);Me(n!=null,"invalid path","path",e);const r=n[1],i=n[3],a=n[4]==="!";let s=t;for(const o of r.toLowerCase().split(".")){if(Array.isArray(s)){if(!o.match(/^[0-9]+$/))break;s=s[parseInt(o)]}else if(typeof s=="object"){let l=null;for(const u in s)if(u.toLowerCase()===o){l=s[u];break}s=l}else s=null;if(s==null)break}if(Me(!a||s!=null,"missing required value","path",r),i&&s!=null){if(i==="int"){if(typeof s=="string"&&s.match(/^-?[0-9]+$/))return parseInt(s);if(Number.isSafeInteger(s))return s}if(i==="number"&&typeof s=="string"&&s.match(/^-?[0-9.]*$/))return parseFloat(s);if(i==="data"&&typeof s=="string")return cue(s);if(i==="array"&&Array.isArray(s)||i===typeof s)return s;Me(!1,`wrong type found for ${i} `,"path",r)}return s}const uue="m/44'/60'/0'/0/0";function qK(t){try{const e=JSON.parse(t);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function oft(t,e,n){if(ei(t,"crypto.cipher:string")==="aes-128-ctr"){const i=ei(t,"crypto.cipherparams.iv:data!"),a=new um(e,i);return Et(a.decrypt(n))}An(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function p4(t,e){const n=Pt(e),r=ei(t,"crypto.ciphertext:data!"),i=Et(Pi(xi([n.slice(16,32),r]))).substring(2);Me(i===ei(t,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const a=oft(t,n.slice(0,16),r),s=Rv(a);if(t.address){let u=t.address.toLowerCase();u.startsWith("0x")||(u="0x"+u),Me($s(u)===s,"keystore address/privateKey mismatch","address",t.address)}const o={address:s,privateKey:a};if(ei(t,"x-ethers.version:string")==="0.1"){const u=n.slice(32,64),d=ei(t,"x-ethers.mnemonicCiphertext:data!"),h=ei(t,"x-ethers.mnemonicCounter:data!"),g=new um(u,h);o.mnemonic={path:ei(t,"x-ethers.path:string")||uue,locale:ei(t,"x-ethers.locale:string")||"en",entropy:Et(Pt(g.decrypt(d)))}}return o}function due(t){const e=ei(t,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const n=ei(t,"crypto.kdfparams.salt:data!"),r=ei(t,"crypto.kdfparams.n:int!"),i=ei(t,"crypto.kdfparams.r:int!"),a=ei(t,"crypto.kdfparams.p:int!");Me(r>0&&(r&r-1)===0,"invalid kdf.N","kdf.N",r),Me(i>0&&a>0,"invalid kdf","kdf",e);const s=ei(t,"crypto.kdfparams.dklen:int!");return Me(s===32,"invalid kdf.dklen","kdf.dflen",s),{name:"scrypt",salt:n,N:r,r:i,p:a,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const n=ei(t,"crypto.kdfparams.salt:data!"),r=ei(t,"crypto.kdfparams.prf:string!"),i=r.split("-").pop();Me(i==="sha256"||i==="sha512","invalid kdf.pdf","kdf.pdf",r);const a=ei(t,"crypto.kdfparams.c:int!"),s=ei(t,"crypto.kdfparams.dklen:int!");return Me(s===32,"invalid kdf.dklen","kdf.dklen",s),{name:"pbkdf2",salt:n,count:a,dkLen:s,algorithm:i}}}Me(!1,"unsupported key-derivation function","kdf",e)}function lft(t,e){const n=JSON.parse(t),r=Mv(e),i=due(n);if(i.name==="pbkdf2"){const{salt:h,count:g,dkLen:m,algorithm:b}=i,w=Ih(r,h,g,m,b);return p4(n,w)}An(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:a,N:s,r:o,p:l,dkLen:u}=i,d=Ym(r,a,s,o,l,u);return p4(n,d)}function VK(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}async function cft(t,e,n){const r=JSON.parse(t),i=Mv(e),a=due(r);if(a.name==="pbkdf2"){n&&(n(0),await VK(0));const{salt:g,count:m,dkLen:b,algorithm:w}=a,x=Ih(i,g,m,b,w);return n&&(n(1),await VK(0)),p4(r,x)}An(a.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:a});const{salt:s,N:o,r:l,p:u,dkLen:d}=a,h=await Km(i,s,o,l,u,d,n);return p4(r,h)}function fue(t){const e=t.salt!=null?Pt(t.salt,"options.salt"):gd(32);let n=1<<17,r=8,i=1;return t.scrypt&&(t.scrypt.N&&(n=t.scrypt.N),t.scrypt.r&&(r=t.scrypt.r),t.scrypt.p&&(i=t.scrypt.p)),Me(typeof n=="number"&&n>0&&Number.isSafeInteger(n)&&(BigInt(n)&BigInt(n-1))===BigInt(0),"invalid scrypt N parameter","options.N",n),Me(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),Me(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:n,r,p:i}}function hue(t,e,n,r){const i=Pt(n.privateKey,"privateKey"),a=r.iv!=null?Pt(r.iv,"options.iv"):gd(16);Me(a.length===16,"invalid options.iv length","options.iv",r.iv);const s=r.uuid!=null?Pt(r.uuid,"options.uuid"):gd(16);Me(s.length===16,"invalid options.uuid length","options.uuid",r.iv);const o=t.slice(0,16),l=t.slice(16,32),u=new um(o,a),d=Pt(u.encrypt(i)),h=Pi(xi([l,d])),g={address:n.address.substring(2).toLowerCase(),id:vct(s),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Et(a).substring(2)},ciphertext:Et(d).substring(2),kdf:"scrypt",kdfparams:{salt:Et(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:h.substring(2)}};if(n.mnemonic){const m=r.client!=null?r.client:`ethers/${Qle}`,b=n.mnemonic.path||uue,w=n.mnemonic.locale||"en",x=t.slice(32,64),E=Pt(n.mnemonic.entropy,"account.mnemonic.entropy"),I=gd(16),C=new um(x,I),N=Pt(C.encrypt(E)),A=new Date,O="UTC--"+(A.getUTCFullYear()+"-"+S2(A.getUTCMonth()+1,2)+"-"+S2(A.getUTCDate(),2)+"T"+S2(A.getUTCHours(),2)+"-"+S2(A.getUTCMinutes(),2)+"-"+S2(A.getUTCSeconds(),2)+".0Z")+"--"+g.address;g["x-ethers"]={client:m,gethFilename:O,path:b,locale:w,mnemonicCounter:Et(I).substring(2),mnemonicCiphertext:Et(N).substring(2),version:"0.1"}}return JSON.stringify(g)}function pue(t,e,n){n==null&&(n={});const r=Mv(e),i=fue(n),a=Ym(r,i.salt,i.N,i.r,i.p,64);return hue(Pt(a),i,t,n)}async function gue(t,e,n){n==null&&(n={});const r=Mv(e),i=fue(n),a=await Km(r,i.salt,i.N,i.r,i.p,64,n.progressCallback);return hue(Pt(a),i,t,n)}const US="m/44'/60'/0'/0/0",uft=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),ih=2147483648,dft=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),fft="0123456789abcdef";function g4(t,e){let n="";for(;t;)n=fft[t%16]+n,t=Math.trunc(t/16);for(;n.length<e*2;)n="0"+n;return"0x"+n}function h$(t){const e=Pt(t),n=WO(pl(pl(e)),0,4),r=xi([e,n]);return yct(r)}const Vc={};function mue(t,e,n,r){const i=new Uint8Array(37);t&ih?(An(r!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(Pt(r),1)):i.set(Pt(n));for(let s=24;s>=0;s-=8)i[33+(s>>3)]=t>>24-s&255;const a=Pt(Vm("sha512",e,i));return{IL:a.slice(0,32),IR:a.slice(32)}}function yue(t,e){const n=e.split("/");Me(n.length>0,"invalid path","path",e),n[0]==="m"&&(Me(t.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${t.depth}`,"path",e),n.shift());let r=t;for(let i=0;i<n.length;i++){const a=n[i];if(a.match(/^[0-9]+'$/)){const s=parseInt(a.substring(0,a.length-1));Me(s<ih,"invalid path index",`path[${i}]`,a),r=r.deriveChild(ih+s)}else if(a.match(/^[0-9]+$/)){const s=parseInt(a);Me(s<ih,"invalid path index",`path[${i}]`,a),r=r.deriveChild(s)}else Me(!1,"invalid path component",`path[${i}]`,a)}return r}class Xo extends P9{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,n,r,i,a,s,o,l,u){super(n,u),x9(e,Vc,"HDNodeWallet"),uo(this,{publicKey:n.compressedPublicKey});const d=WO(Gm(pl(this.publicKey)),0,4);uo(this,{parentFingerprint:r,fingerprint:d,chainCode:i,path:a,index:s,depth:o}),uo(this,{mnemonic:l})}connect(e){return new Xo(Vc,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#e(){const e={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(e.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),e}async encrypt(e,n){return await gue(this.#e(),e,{progressCallback:n})}encryptSync(e){return pue(this.#e(),e)}get extendedKey(){return An(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),h$(xi(["0x0488ADE4",g4(this.depth,1),this.parentFingerprint,g4(this.index,4),this.chainCode,xi(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new Pw(Vc,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const n=sl(e,"index");Me(n<=4294967295,"invalid index","index",n);let r=this.path;r&&(r+="/"+(n&~ih),n&ih&&(r+="'"));const{IR:i,IL:a}=mue(n,this.chainCode,this.publicKey,this.privateKey),s=new xs(rm((nce(a)+BigInt(this.privateKey))%dft,32));return new Xo(Vc,s,this.fingerprint,Et(i),r,n,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return yue(this,e)}static#t(e,n){Me(E9(e),"invalid seed","seed","[REDACTED]");const r=Pt(e,"seed");Me(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");const i=Pt(Vm("sha512",uft,r)),a=new xs(Et(i.slice(0,32)));return new Xo(Vc,a,"0x00000000",Et(i.slice(32)),"m",0,0,n,null)}static fromExtendedKey(e){const n=vi(bct(e));Me(n.length===82||h$(n.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const r=n[4],i=Et(n.slice(5,9)),a=parseInt(Et(n.slice(9,13)).substring(2),16),s=Et(n.slice(13,45)),o=n.slice(45,78);switch(Et(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const l=Et(o);return new Pw(Vc,Rv(l),l,i,s,null,a,r,null)}case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new Xo(Vc,new xs(o.slice(1)),i,s,null,a,r,null,null)}Me(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,n,r){e==null&&(e=""),n==null&&(n=US),r==null&&(r=np.wordlist());const i=cm.fromEntropy(gd(16),e,r);return Xo.#t(i.computeSeed(),i).derivePath(n)}static fromMnemonic(e,n){return n||(n=US),Xo.#t(e.computeSeed(),e).derivePath(n)}static fromPhrase(e,n,r,i){n==null&&(n=""),r==null&&(r=US),i==null&&(i=np.wordlist());const a=cm.fromPhrase(e,n,i);return Xo.#t(a.computeSeed(),a).derivePath(r)}static fromSeed(e){return Xo.#t(e,null)}}class Pw extends aR{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,n,r,i,a,s,o,l,u){super(n,u),x9(e,Vc,"HDNodeVoidWallet"),uo(this,{publicKey:r});const d=WO(Gm(pl(r)),0,4);uo(this,{publicKey:r,fingerprint:d,parentFingerprint:i,chainCode:a,path:s,index:o,depth:l})}connect(e){return new Pw(Vc,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return An(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),h$(xi(["0x0488B21E",g4(this.depth,1),this.parentFingerprint,g4(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(e){const n=sl(e,"index");Me(n<=4294967295,"invalid index","index",n);let r=this.path;r&&(r+="/"+(n&~ih),n&ih&&(r+="'"));const{IR:i,IL:a}=mue(n,this.chainCode,this.publicKey,null),s=xs.addPoints(a,this.publicKey,!0),o=Rv(s);return new Pw(Vc,o,s,this.fingerprint,Et(i),r,n,this.depth+1,this.provider)}derivePath(e){return yue(this,e)}}function GK(t){try{if(JSON.parse(t).encseed)return!0}catch{}return!1}function KK(t,e){const n=JSON.parse(t),r=Mv(e),i=$s(ei(n,"ethaddr:string!")),a=cue(ei(n,"encseed:string!"));Me(a&&a.length%16===0,"invalid encseed","json",t);const s=Pt(Ih(r,r,2e3,32,"sha256")).slice(0,16),o=a.slice(0,16),l=a.slice(16),u=new oR(s,o),d=sft(Pt(u.decrypt(l)));let h="";for(let g=0;g<d.length;g++)h+=String.fromCharCode(d[g]);return{address:i,privateKey:N9(h)}}function YK(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}class hg extends P9{constructor(e,n){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let r=typeof e=="string"?new xs(e):e;super(r,n)}connect(e){return new hg(this.signingKey,e)}async encrypt(e,n){const r={address:this.address,privateKey:this.privateKey};return await gue(r,e,{progressCallback:n})}encryptSync(e){const n={address:this.address,privateKey:this.privateKey};return pue(n,e)}static#e(e){if(Me(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const r=cm.fromEntropy(e.mnemonic.entropy),i=Xo.fromMnemonic(r,e.mnemonic.path);if(i.address===e.address&&i.privateKey===e.privateKey)return i;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const n=new hg(e.privateKey);return Me(n.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),n}static async fromEncryptedJson(e,n,r){let i=null;return qK(e)?i=await cft(e,n,r):GK(e)&&(r&&(r(0),await YK(0)),i=KK(e,n),r&&(r(1),await YK(0))),hg.#e(i)}static fromEncryptedJsonSync(e,n){let r=null;return qK(e)?r=lft(e,n):GK(e)?r=KK(e,n):Me(!1,"invalid JSON wallet","json","[ REDACTED ]"),hg.#e(r)}static createRandom(e){const n=Xo.createRandom();return e?n.connect(e):n}static fromPhrase(e,n){const r=Xo.fromPhrase(e);return n?r.connect(n):r}}async function bue(t,e){const n=new TextEncoder,r=await window.crypto.subtle.importKey("raw",n.encode(t),{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:1e5,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function hft(t,e){const n=window.crypto.getRandomValues(new Uint8Array(16)),r=window.crypto.getRandomValues(new Uint8Array(12)),i=await bue(e,n),a=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,a.encode(t)),o=new Uint8Array(s),l=new Uint8Array(n.length+r.length+o.length);return l.set(n,0),l.set(r,n.length),l.set(o,n.length+r.length),btoa(String.fromCharCode.apply(null,l))}async function pft(t,e){try{const n=atob(t),r=new Uint8Array(n.length).map((u,d)=>n.charCodeAt(d)),i=r.slice(0,16),a=r.slice(16,28),s=r.slice(28),o=await bue(e,i),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:a},o,s);return new TextDecoder().decode(l)}catch(n){throw console.error("Decryption failed:",n),new Error("Invalid password or corrupted data.")}}const gft=k.createContext(null);function mft({children:t}){const[e,n]=k.useState(null),[r,i]=k.useState(!1);k.useEffect(()=>{const d=localStorage.getItem("encryptedPrivateKey");i(!!d)},[]);const a=k.useMemo(()=>{if(e)try{if(e.startsWith("0x")&&e.length===66)return new hg(e)}catch(d){return console.error("Invalid private key",d),null}return null},[e]),s=k.useCallback(async(d,h)=>{const g=await hft(d,h);localStorage.setItem("encryptedPrivateKey",g),n(d),i(!0)},[]),o=k.useCallback(async d=>{const h=localStorage.getItem("encryptedPrivateKey");if(!h)throw new Error("No private key stored.");const g=await pft(h,d);n(g)},[]),l=k.useCallback(()=>{n(null),sessionStorage.removeItem("botInfuraApiKey"),localStorage.removeItem("encryptedPrivateKey"),i(!1)},[]),u=k.useMemo(()=>({wallet:a,privateKey:e,isKeyStored:r,isUnlocked:!!e,botWalletAddress:a?a.address:null,setAndEncryptPrivateKey:s,unlockWallet:o,lockWallet:l}),[a,e,r,s,o,l]);return p.jsx(gft.Provider,{value:u,children:t})}Ofe.createRoot(document.getElementById("root")).render(p.jsx(at.StrictMode,{children:p.jsx(qlt,{appId:void 0,config:{appearance:{accentColor:"#676FFF",logo:"/logo.png"},embeddedWallets:{createOnLogin:"users-without-wallets"}},children:p.jsx(lct,{children:p.jsx(mft,{children:p.jsx(oct,{})})})})}));export{YZ as $,Gpe as A,Xpe as B,Nk as C,ic as D,dp as E,NY as F,Ve as G,Ww as H,ah as I,Cs as J,$1e as K,Dw as L,nme as M,fk as N,FZ as O,fo as P,bh as Q,Vr as R,Ps as S,Vht as T,Ift as U,S3e as V,pX as W,cp as X,B$ as Y,wd as Z,ur as _,DY as a,J0 as a$,Oi as a0,xd as a1,wm as a2,eX as a3,Ed as a4,_d as a5,Oa as a6,Fie as a7,Rze as a8,Mze as a9,dt as aA,Cd as aB,QDe as aC,VNe as aD,_t as aE,zI as aF,IPe as aG,wo as aH,oYe as aI,vpt as aJ,wpt as aK,vze as aL,Yze as aM,uYe as aN,Yc as aO,bp as aP,JP as aQ,xl as aR,xHe as aS,YP as aT,V8 as aU,Sw as aV,vP as aW,LW as aX,jre as aY,nDe as aZ,cc as a_,qH as aa,ZZ as ab,jg as ac,ni as ad,XJ as ae,S0 as af,cd as ag,iZ as ah,Hr as ai,upe as aj,ym as ak,Lft as al,Ql as am,zw as an,k$ as ao,pa as ap,Yye as aq,yX as ar,Ib as as,mg as at,J1 as au,lk as av,Er as aw,yp as ax,FW as ay,Kt as az,Ch as b,Xf as b0,q8 as b1,zc as b2,Zo as b3,lo as b4,dv as b5,Fc as b6,hc as b7,$$ as b8,P4 as b9,dme as ba,N4 as bb,q2 as bc,tOe as bd,Jht as be,gW as bf,Gne as bg,vw as bh,YPe as bi,Vne as bj,nOe as bk,Xht as bl,Zht as bm,$6 as bn,t0t as bo,Qht as bp,HXe as bq,ja as br,mm as c,tZ as d,Lt as e,l1e as f,Pft as g,ip as h,Is as i,p as j,ec as k,_J as l,$r as m,zm as n,tI as o,pm as p,IF as q,k as r,Pg as s,J2 as t,Spt as u,ol as v,kme as w,ha as x,J_e as y,Ut as z};
