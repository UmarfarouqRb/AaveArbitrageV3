{"ast":null,"code":"import { useQuery } from \"@tanstack/react-query\";\nimport { ethereum } from \"../../../chains/chain-definitions/ethereum.js\";\nimport { resolveAvatar } from \"../../../extensions/ens/resolve-avatar.js\";\nimport { resolveName } from \"../../../extensions/ens/resolve-name.js\";\nimport { shortenAddress } from \"../../../utils/address.js\";\nimport { parseAvatarRecord } from \"../../../utils/ens/avatar.js\";\nimport { getWalletInfo } from \"../../../wallets/__generated__/getWalletInfo.js\";\nimport { useWalletBalance } from \"../hooks/others/useWalletBalance.js\";\nimport { useSocialProfiles } from \"../social/useSocialProfiles.js\";\n/**\n * Get the ENS name and avatar for an address\n * @param options - the client and address to get the ENS name and avatar for\n * @returns - a query object that resolves to the ENS name\n * @example\n * ```tsx\n * import { useEnsName } from \"thirdweb/react\";\n *\n * const { data: ensName } = useEnsName({\n *  client,\n *  address: \"0x1234...\",\n * });\n * ```\n * @extension ENS\n */\nexport function useEnsName(options) {\n  const {\n    client,\n    address\n  } = options;\n  return useQuery({\n    enabled: !!address,\n    queryFn: () => resolveName({\n      address: address || \"\",\n      client,\n      resolverChain: ethereum\n    }),\n    queryKey: [\"ens-name\", address]\n  });\n}\n/**\n * Get the ENS avatar for an ENS name\n * @param options - the client and ENS name to get the avatar for\n * @returns - a query object that resolves to the avatar\n * @example\n * ```tsx\n * import { useEnsAvatar } from \"thirdweb/react\";\n *\n * const { data: ensAvatar } = useEnsAvatar({\n *  client,\n *  ensName: \"my-ens-name.eth\",\n * });\n * ```\n * @extension ENS\n */\nexport function useEnsAvatar(options) {\n  const {\n    client,\n    ensName\n  } = options;\n  return useQuery({\n    enabled: !!ensName,\n    queryFn: async () => resolveAvatar({\n      client,\n      name: ensName || \"\"\n    }),\n    queryKey: [\"ens-avatar\", ensName]\n  });\n}\n/**\n * @internal This hook is only being used in our react-native package\n * It can be removed once we migrate the RN UI code to our headless components (AccountProvider, AccountName etc.)\n */\nexport function useConnectedWalletDetails(client, walletChain, activeAccount, displayBalanceToken) {\n  var _socialProfileQuery$d, _socialProfileQuery$d2;\n  const tokenAddress = walletChain && displayBalanceToken ? displayBalanceToken[Number(walletChain.id)] : undefined;\n  const ensNameQuery = useEnsName({\n    address: activeAccount === null || activeAccount === void 0 ? void 0 : activeAccount.address,\n    client\n  });\n  const ensAvatarQuery = useEnsAvatar({\n    client,\n    ensName: ensNameQuery.data\n  });\n  const socialProfileQuery = useSocialProfiles({\n    address: activeAccount === null || activeAccount === void 0 ? void 0 : activeAccount.address,\n    client\n  });\n  const shortAddress = activeAccount !== null && activeAccount !== void 0 && activeAccount.address ? shortenAddress(activeAccount.address, 4) : \"\";\n  const balanceQuery = useWalletBalance({\n    address: activeAccount === null || activeAccount === void 0 ? void 0 : activeAccount.address,\n    chain: walletChain ? walletChain : undefined,\n    client,\n    tokenAddress\n  });\n  const addressOrENS = ensNameQuery.data || shortAddress;\n  const pfpUnresolved = (_socialProfileQuery$d = socialProfileQuery.data) === null || _socialProfileQuery$d === void 0 || (_socialProfileQuery$d = _socialProfileQuery$d.filter(p => p.avatar)[0]) === null || _socialProfileQuery$d === void 0 ? void 0 : _socialProfileQuery$d.avatar;\n  const {\n    data: pfp\n  } = useQuery({\n    enabled: !!pfpUnresolved,\n    queryFn: async () => {\n      if (!pfpUnresolved) {\n        return undefined;\n      }\n      return parseAvatarRecord({\n        client,\n        uri: pfpUnresolved\n      });\n    },\n    queryKey: [\"ens-avatar\", pfpUnresolved],\n    refetchOnMount: false,\n    refetchOnWindowFocus: false\n  });\n  const name = ((_socialProfileQuery$d2 = socialProfileQuery.data) === null || _socialProfileQuery$d2 === void 0 || (_socialProfileQuery$d2 = _socialProfileQuery$d2.filter(p => p.name)[0]) === null || _socialProfileQuery$d2 === void 0 ? void 0 : _socialProfileQuery$d2.name) || addressOrENS;\n  return {\n    addressOrENS,\n    balanceQuery,\n    ensAvatarQuery,\n    ensNameQuery,\n    name,\n    pfp,\n    shortAddress,\n    socialProfileQuery\n  };\n}\n/**\n * Returns the wallet info for the provided wallet id.\n *\n * @example\n * ```tsx\n * import { useWalletInfo } from \"thirdweb/react\";\n *\n * const { data: walletInfo } = useWalletInfo(\"io.metamask\");\n * console.log(\"wallet name\", walletInfo?.name);\n * ```\n * @wallet\n */\nexport function useWalletInfo(id) {\n  return useQuery({\n    enabled: !!id,\n    queryFn: () => {\n      if (!id) {\n        throw new Error(\"Wallet id is required\");\n      }\n      return getWalletInfo(id, false);\n    },\n    queryKey: [\"wallet-info\", id],\n    refetchOnMount: false,\n    refetchOnWindowFocus: false,\n    retry: false\n  });\n}\n/**\n * Returns the wallet icon for the provided wallet id.\n *\n * @example\n * ```tsx\n * import { useWalletImage } from \"thirdweb/react\";\n *\n * const { data: walletImage } = useWalletImage(\"io.metamask\");\n *\n * return <img src={walletImage} alt=\"MetaMask logo\" />;\n * ```\n *\n * @wallet\n */\nexport function useWalletImage(id) {\n  return useQuery({\n    enabled: !!id,\n    queryFn: async () => {\n      var _getInstalledWalletPr;\n      if (!id) {\n        throw new Error(\"Wallet id is required\");\n      }\n      const {\n        getInstalledWalletProviders\n      } = await import(\"../../../wallets/injected/mipdStore.js\");\n      const mipdImage = (_getInstalledWalletPr = getInstalledWalletProviders().find(x => x.info.rdns === id)) === null || _getInstalledWalletPr === void 0 ? void 0 : _getInstalledWalletPr.info.icon;\n      if (mipdImage) {\n        return mipdImage;\n      }\n      return getWalletInfo(id, true);\n    },\n    queryKey: [\"wallet-image\", id],\n    refetchOnMount: false,\n    refetchOnWindowFocus: false,\n    retry: false\n  });\n}","map":{"version":3,"names":["useQuery","ethereum","resolveAvatar","resolveName","shortenAddress","parseAvatarRecord","getWalletInfo","useWalletBalance","useSocialProfiles","useEnsName","options","client","address","enabled","queryFn","resolverChain","queryKey","useEnsAvatar","ensName","name","useConnectedWalletDetails","walletChain","activeAccount","displayBalanceToken","_socialProfileQuery$d","_socialProfileQuery$d2","tokenAddress","Number","id","undefined","ensNameQuery","ensAvatarQuery","data","socialProfileQuery","shortAddress","balanceQuery","chain","addressOrENS","pfpUnresolved","filter","p","avatar","pfp","uri","refetchOnMount","refetchOnWindowFocus","useWalletInfo","Error","retry","useWalletImage","_getInstalledWalletPr","getInstalledWalletProviders","mipdImage","find","x","info","rdns","icon"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/core/utils/wallet.ts"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\nimport { ethereum } from \"../../../chains/chain-definitions/ethereum.js\";\nimport type { Chain } from \"../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../client/client.js\";\nimport { resolveAvatar } from \"../../../extensions/ens/resolve-avatar.js\";\nimport { resolveName } from \"../../../extensions/ens/resolve-name.js\";\nimport { shortenAddress } from \"../../../utils/address.js\";\nimport { parseAvatarRecord } from \"../../../utils/ens/avatar.js\";\nimport { getWalletInfo } from \"../../../wallets/__generated__/getWalletInfo.js\";\nimport type { Account } from \"../../../wallets/interfaces/wallet.js\";\nimport type { WalletInfo } from \"../../../wallets/wallet-info.js\";\nimport type { WalletId } from \"../../../wallets/wallet-types.js\";\nimport { useWalletBalance } from \"../hooks/others/useWalletBalance.js\";\nimport { useSocialProfiles } from \"../social/useSocialProfiles.js\";\n\n/**\n * Get the ENS name and avatar for an address\n * @param options - the client and address to get the ENS name and avatar for\n * @returns - a query object that resolves to the ENS name\n * @example\n * ```tsx\n * import { useEnsName } from \"thirdweb/react\";\n *\n * const { data: ensName } = useEnsName({\n *  client,\n *  address: \"0x1234...\",\n * });\n * ```\n * @extension ENS\n */\nexport function useEnsName(options: {\n  client: ThirdwebClient;\n  address: string | undefined;\n}) {\n  const { client, address } = options;\n  return useQuery({\n    enabled: !!address,\n    queryFn: () =>\n      resolveName({\n        address: address || \"\",\n        client,\n        resolverChain: ethereum,\n      }),\n    queryKey: [\"ens-name\", address],\n  });\n}\n\n/**\n * Get the ENS avatar for an ENS name\n * @param options - the client and ENS name to get the avatar for\n * @returns - a query object that resolves to the avatar\n * @example\n * ```tsx\n * import { useEnsAvatar } from \"thirdweb/react\";\n *\n * const { data: ensAvatar } = useEnsAvatar({\n *  client,\n *  ensName: \"my-ens-name.eth\",\n * });\n * ```\n * @extension ENS\n */\nexport function useEnsAvatar(options: {\n  client: ThirdwebClient;\n  ensName: string | null | undefined;\n}) {\n  const { client, ensName } = options;\n  return useQuery({\n    enabled: !!ensName,\n    queryFn: async () =>\n      resolveAvatar({\n        client,\n        name: ensName || \"\",\n      }),\n    queryKey: [\"ens-avatar\", ensName],\n  });\n}\n\n/**\n * @internal This hook is only being used in our react-native package\n * It can be removed once we migrate the RN UI code to our headless components (AccountProvider, AccountName etc.)\n */\nexport function useConnectedWalletDetails(\n  client: ThirdwebClient,\n  walletChain: Chain | undefined,\n  activeAccount: Account | undefined,\n  displayBalanceToken?: Record<number, string>,\n) {\n  const tokenAddress =\n    walletChain && displayBalanceToken\n      ? displayBalanceToken[Number(walletChain.id)]\n      : undefined;\n\n  const ensNameQuery = useEnsName({\n    address: activeAccount?.address,\n    client,\n  });\n\n  const ensAvatarQuery = useEnsAvatar({\n    client,\n    ensName: ensNameQuery.data,\n  });\n\n  const socialProfileQuery = useSocialProfiles({\n    address: activeAccount?.address,\n    client,\n  });\n\n  const shortAddress = activeAccount?.address\n    ? shortenAddress(activeAccount.address, 4)\n    : \"\";\n\n  const balanceQuery = useWalletBalance({\n    address: activeAccount?.address,\n    chain: walletChain ? walletChain : undefined,\n    client,\n    tokenAddress,\n  });\n\n  const addressOrENS = ensNameQuery.data || shortAddress;\n  const pfpUnresolved = socialProfileQuery.data?.filter((p) => p.avatar)[0]\n    ?.avatar;\n\n  const { data: pfp } = useQuery({\n    enabled: !!pfpUnresolved,\n    queryFn: async () => {\n      if (!pfpUnresolved) {\n        return undefined;\n      }\n      return parseAvatarRecord({ client, uri: pfpUnresolved });\n    },\n    queryKey: [\"ens-avatar\", pfpUnresolved],\n    refetchOnMount: false,\n    refetchOnWindowFocus: false,\n  });\n  const name =\n    socialProfileQuery.data?.filter((p) => p.name)[0]?.name || addressOrENS;\n\n  return {\n    addressOrENS,\n    balanceQuery,\n    ensAvatarQuery,\n    ensNameQuery,\n    name,\n    pfp,\n    shortAddress,\n    socialProfileQuery,\n  };\n}\n\n/**\n * Returns the wallet info for the provided wallet id.\n *\n * @example\n * ```tsx\n * import { useWalletInfo } from \"thirdweb/react\";\n *\n * const { data: walletInfo } = useWalletInfo(\"io.metamask\");\n * console.log(\"wallet name\", walletInfo?.name);\n * ```\n * @wallet\n */\nexport function useWalletInfo(id: WalletId | undefined) {\n  return useQuery<WalletInfo>({\n    enabled: !!id,\n    queryFn: () => {\n      if (!id) {\n        throw new Error(\"Wallet id is required\");\n      }\n      return getWalletInfo(id, false);\n    },\n    queryKey: [\"wallet-info\", id],\n    refetchOnMount: false,\n    refetchOnWindowFocus: false,\n    retry: false,\n  });\n}\n\n/**\n * Returns the wallet icon for the provided wallet id.\n *\n * @example\n * ```tsx\n * import { useWalletImage } from \"thirdweb/react\";\n *\n * const { data: walletImage } = useWalletImage(\"io.metamask\");\n *\n * return <img src={walletImage} alt=\"MetaMask logo\" />;\n * ```\n *\n * @wallet\n */\nexport function useWalletImage(id: WalletId | undefined) {\n  return useQuery({\n    enabled: !!id,\n    queryFn: async () => {\n      if (!id) {\n        throw new Error(\"Wallet id is required\");\n      }\n      const { getInstalledWalletProviders } = await import(\n        \"../../../wallets/injected/mipdStore.js\"\n      );\n      const mipdImage = getInstalledWalletProviders().find(\n        (x) => x.info.rdns === id,\n      )?.info.icon;\n      if (mipdImage) {\n        return mipdImage;\n      }\n      return getWalletInfo(id, true);\n    },\n    queryKey: [\"wallet-image\", id],\n    refetchOnMount: false,\n    refetchOnWindowFocus: false,\n    retry: false,\n  });\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}