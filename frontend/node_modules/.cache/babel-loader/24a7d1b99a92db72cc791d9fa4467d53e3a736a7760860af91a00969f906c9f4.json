{"ast":null,"code":"/**\n * @internal\n */\nexport class AbstractLogin {\n  /**\n   * Used to manage the user's auth states. This should not be instantiated directly.\n   * @internal\n   */\n  constructor(_ref) {\n    let {\n      baseUrl,\n      querier,\n      preLogin,\n      postLogin,\n      client,\n      ecosystem\n    } = _ref;\n    Object.defineProperty(this, \"LoginQuerier\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"preLogin\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"postLogin\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"client\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"baseUrl\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"ecosystem\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    this.baseUrl = baseUrl;\n    this.LoginQuerier = querier;\n    this.preLogin = preLogin;\n    this.postLogin = postLogin;\n    this.client = client;\n    this.ecosystem = ecosystem;\n  }\n  /**\n   * @internal\n   */\n  async sendEmailLoginOtp(_ref2) {\n    let {\n      email\n    } = _ref2;\n    const result = await this.LoginQuerier.call({\n      params: {\n        email\n      },\n      procedureName: \"sendThirdwebEmailLoginOtp\"\n    });\n    return result;\n  }\n  /**\n   *\n   * @internal\n   */\n  async sendSmsLoginOtp(_ref3) {\n    let {\n      phoneNumber\n    } = _ref3;\n    const result = await this.LoginQuerier.call({\n      params: {\n        phoneNumber\n      },\n      procedureName: \"sendThirdwebSmsLoginOtp\"\n    });\n    return result;\n  }\n}","map":{"version":3,"names":["AbstractLogin","constructor","_ref","baseUrl","querier","preLogin","postLogin","client","ecosystem","Object","defineProperty","LoginQuerier","sendEmailLoginOtp","_ref2","email","result","call","params","procedureName","sendSmsLoginOtp","_ref3","phoneNumber"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/wallets/in-app/web/lib/auth/abstract-login.ts"],"sourcesContent":["import type { ThirdwebClient } from \"../../../../../client/client.js\";\nimport type {\n  AuthAndWalletRpcReturnType,\n  AuthLoginReturnType,\n  AuthProvider,\n  SendEmailOtpReturnType,\n} from \"../../../core/authentication/types.js\";\nimport type { Ecosystem } from \"../../../core/wallet/types.js\";\nimport type { ClientIdWithQuerierType } from \"../../types.js\";\nimport type { InAppWalletIframeCommunicator } from \"../../utils/iFrameCommunication/InAppWalletIframeCommunicator.js\";\n\nexport type LoginQuerierTypes = {\n  loginWithCustomAuthEndpoint: { payload: string; encryptionKey: string };\n  loginWithCustomJwt: { jwt: string; encryptionKey?: string };\n  loginWithThirdwebModal: undefined | { email: string };\n  sendThirdwebSmsLoginOtp: { phoneNumber: string };\n  sendThirdwebEmailLoginOtp: { email: string };\n  verifyThirdwebEmailLoginOtp: {\n    email: string;\n    otp: string;\n    recoveryCode?: string;\n  };\n  verifyThirdwebSmsLoginOtp: {\n    phoneNumber: string;\n    otp: string;\n    recoveryCode?: string;\n  };\n  injectDeveloperClientId: undefined;\n  getHeadlessOauthLoginLink: { authProvider: AuthProvider };\n};\n\n/**\n * @internal\n */\nexport abstract class AbstractLogin<\n  MODAL = void,\n  EMAIL_MODAL extends { email: string } = { email: string },\n  EMAIL_VERIFICATION extends { email: string; otp: string } = {\n    email: string;\n    otp: string;\n    recoveryCode?: string;\n  },\n> {\n  protected LoginQuerier: InAppWalletIframeCommunicator<LoginQuerierTypes>;\n  protected preLogin;\n  protected postLogin: (\n    authResults: AuthAndWalletRpcReturnType,\n  ) => Promise<AuthLoginReturnType>;\n  protected client: ThirdwebClient;\n  protected baseUrl: string;\n  protected ecosystem?: Ecosystem;\n\n  /**\n   * Used to manage the user's auth states. This should not be instantiated directly.\n   * @internal\n   */\n  constructor({\n    baseUrl,\n    querier,\n    preLogin,\n    postLogin,\n    client,\n    ecosystem,\n  }: ClientIdWithQuerierType & {\n    baseUrl: string;\n    preLogin: () => Promise<void>;\n    postLogin: (\n      authDetails: AuthAndWalletRpcReturnType,\n    ) => Promise<AuthLoginReturnType>;\n    ecosystem?: Ecosystem;\n  }) {\n    this.baseUrl = baseUrl;\n    this.LoginQuerier = querier;\n    this.preLogin = preLogin;\n    this.postLogin = postLogin;\n    this.client = client;\n    this.ecosystem = ecosystem;\n  }\n\n  abstract loginWithCustomJwt(args: {\n    jwt: string;\n    encryptionKey: string;\n  }): Promise<AuthLoginReturnType>;\n  abstract loginWithCustomAuthEndpoint(args: {\n    payload: string;\n    encryptionKey: string;\n  }): Promise<AuthLoginReturnType>;\n  abstract loginWithModal(args?: MODAL): Promise<AuthLoginReturnType>;\n  abstract loginWithIframe(args: EMAIL_MODAL): Promise<AuthLoginReturnType>;\n\n  /**\n   * @internal\n   */\n  async sendEmailLoginOtp({\n    email,\n  }: LoginQuerierTypes[\"sendThirdwebEmailLoginOtp\"]): Promise<SendEmailOtpReturnType> {\n    const result = await this.LoginQuerier.call<SendEmailOtpReturnType>({\n      params: { email },\n      procedureName: \"sendThirdwebEmailLoginOtp\",\n    });\n    return result;\n  }\n\n  /**\n   *\n   * @internal\n   */\n  async sendSmsLoginOtp({\n    phoneNumber,\n  }: LoginQuerierTypes[\"sendThirdwebSmsLoginOtp\"]): Promise<SendEmailOtpReturnType> {\n    const result = await this.LoginQuerier.call<SendEmailOtpReturnType>({\n      params: { phoneNumber },\n      procedureName: \"sendThirdwebSmsLoginOtp\",\n    });\n    return result;\n  }\n\n  abstract loginWithEmailOtp(\n    args: EMAIL_VERIFICATION,\n  ): Promise<AuthLoginReturnType>;\n\n  abstract loginWithSmsOtp(args: {\n    phoneNumber: string;\n    otp: string;\n    recoveryCode?: string;\n  }): Promise<AuthLoginReturnType>;\n}\n"],"mappings":"AA+BA;;;AAGA,OAAM,MAAgBA,aAAa;EAkBjC;;;;EAIAC,YAAAC,IAAA,EAcC;IAAA,IAdW;MACVC,OAAO;MACPC,OAAO;MACPC,QAAQ;MACRC,SAAS;MACTC,MAAM;MACNC;IAAS,CAQV,GAAAN,IAAA;IA3BSO,MAAA,CAAAC,cAAA;;;;;;IACAD,MAAA,CAAAC,cAAA;;;;;;IACAD,MAAA,CAAAC,cAAA;;;;;;IAGAD,MAAA,CAAAC,cAAA;;;;;;IACAD,MAAA,CAAAC,cAAA;;;;;;IACAD,MAAA,CAAAC,cAAA;;;;;;IAqBR,IAAI,CAACP,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACQ,YAAY,GAAGP,OAAO;IAC3B,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,SAAS,GAAGA,SAAS;EAC5B;EAaA;;;EAGA,MAAMI,iBAAiBA,CAAAC,KAAA,EAE0B;IAAA,IAFzB;MACtBC;IAAK,CAC0C,GAAAD,KAAA;IAC/C,MAAME,MAAM,GAAG,MAAM,IAAI,CAACJ,YAAY,CAACK,IAAI,CAAyB;MAClEC,MAAM,EAAE;QAAEH;MAAK,CAAE;MACjBI,aAAa,EAAE;KAChB,CAAC;IACF,OAAOH,MAAM;EACf;EAEA;;;;EAIA,MAAMI,eAAeA,CAAAC,KAAA,EAE0B;IAAA,IAFzB;MACpBC;IAAW,CACkC,GAAAD,KAAA;IAC7C,MAAML,MAAM,GAAG,MAAM,IAAI,CAACJ,YAAY,CAACK,IAAI,CAAyB;MAClEC,MAAM,EAAE;QAAEI;MAAW,CAAE;MACvBH,aAAa,EAAE;KAChB,CAAC;IACF,OAAOH,MAAM;EACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}