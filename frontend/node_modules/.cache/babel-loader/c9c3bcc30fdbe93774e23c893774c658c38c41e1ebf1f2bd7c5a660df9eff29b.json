{"ast":null,"code":"\"use client\";\n\nimport _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useMemo } from \"react\";\nimport { getDefaultWallets } from \"../../../../../wallets/defaultWallets.js\";\nimport { CustomThemeProvider, useCustomTheme } from \"../../../../core/design-system/CustomThemeProvider.js\";\nimport { radius } from \"../../../../core/design-system/index.js\";\nimport { useSiweAuth } from \"../../../../core/hooks/auth/useSiweAuth.js\";\nimport { useActiveAccount } from \"../../../../core/hooks/wallets/useActiveAccount.js\";\nimport { useActiveWallet } from \"../../../../core/hooks/wallets/useActiveWallet.js\";\nimport { useIsAutoConnecting } from \"../../../../core/hooks/wallets/useIsAutoConnecting.js\";\nimport { useConnectionManager } from \"../../../../core/providers/connection-manager.js\";\nimport { WalletUIStatesProvider } from \"../../../providers/wallet-ui-states-provider.js\";\nimport { canFitWideModal } from \"../../../utils/canFitWideModal.js\";\nimport { cls } from \"../../../utils/cls.js\";\nimport { usePreloadWalletProviders } from \"../../../utils/usePreloadWalletProviders.js\";\nimport { LoadingScreen } from \"../../../wallets/shared/LoadingScreen.js\";\nimport { AutoConnect } from \"../../AutoConnect/AutoConnect.js\";\nimport { DynamicHeight } from \"../../components/DynamicHeight.js\";\nimport { StyledDiv } from \"../../design-system/elements.js\";\nimport { modalMaxWidthCompact, modalMaxWidthWide, reservedScreens, wideModalMaxHeight } from \"../constants.js\";\nimport { useConnectLocale } from \"../locale/getConnectLocale.js\";\nimport { ConnectModalContent } from \"./ConnectModalContent.js\";\nimport { useSetupScreen } from \"./screen.js\";\n/**\n * An inline wallet connection component that allows to:\n *\n * - Connect to 500+ external wallets\n * - Connect with email, phone, passkey or socials\n * - Convert any wallet to a ERC4337 smart wallet for gasless transactions\n * - Sign in with ethereum (Auth)\n *\n * It renders the same UI as the [`ConnectButton`](https://portal.thirdweb.com/react/v5/ConnectButton) component's modal - but directly inline in the page instead of being in a modal.\n *\n * Once connected, the component does not render any UI. It only renders UI if wallet is not connected.\n *\n * @example\n *\n * ## Default setup\n *\n * ```tsx\n * import { createThirdwebClient } from \"thirdweb\";\n * import { ConnectEmbed } from \"thirdweb/react\";\n *\n * const client = createThirdwebClient({ clientId: \"YOUR_CLIENT_ID\" });\n *\n * <ConnectEmbed\n *    client={client}\n * />\n * ```\n *\n * [View all available config options](https://portal.thirdweb.com/references/typescript/v5/ConnectEmbedProps)\n *\n *  ## Customization options\n *\n * ### Customizing wallet options\n *\n * ```tsx\n * <ConnectEmbed\n *    client={client}\n *    wallets={[\n *      createWallet(\"io.metamask\"),\n *      createWallet(\"com.coinbase.wallet\"),\n *      createWallet(\"me.rainbow\"),\n *    ]}\n * />\n * ```\n *\n * [View all available wallets](https://portal.thirdweb.com/typescript/v5/supported-wallets)\n *\n *  ### Customizing the default chain to connect to\n *\n * ```tsx\n * import { base } from \"thirdweb/chains\";\n *\n * <ConnectEmbed\n *   client={client}\n *   chain={base}\n * />\n * ```\n *\n * ### Enabling Account Abstraction\n *\n * By passing the `accountAbstraction` prop, ALL connected wallets will be converted to smart accounts.\n * And by setting `sponsorGas` to `true`, all transactions done with those smart accounts will be sponsored.\n *\n * ```tsx\n * <ConnectEmbed\n * client={client}\n * accountAbstraction={{\n *   chain: sepolia,\n *   sponsorGas: true,\n * }}\n * />;\n * ```\n * Note that this prop doesn't affect ecosystem wallets. Ecosystem wallets will only be converted to smart accounts if the ecosystem owner has enabled account abstraction.\n *\n * ### Enabling sign in with ethereum (Auth)\n *\n * ```tsx\n * <ConnectEmbed\n * client={client}\n * auth={{\n *   isLoggedIn: async (address) => {\n *     console.log(\"checking if logged in!\", { address });\n *     return await isLoggedIn();\n *   },\n *   doLogin: async (params) => {\n *     console.log(\"logging in!\");\n *     await login(params);\n *   },\n *   getLoginPayload: async ({ address }) =>\n *     generatePayload({ address }),\n *   doLogout: async () => {\n *     console.log(\"logging out!\");\n *     await logout();\n *   },\n * }}\n * />;\n * ```\n *\n * ### Customizing the theme\n *\n * ```tsx\n * <ConnectEmbed\n *    client={client}\n *    theme=\"light\"\n * />\n * ```\n *\n * For more granular control, you can also pass a custom theme object:\n *\n * ```tsx\n * <ConnectEmbed\n *    client={client}\n *    theme={lightTheme({\n *      colors: {\n *        modalBg: \"red\",\n *      },\n *    })}\n * />\n * ```\n *\n * [View all available themes properties](https://portal.thirdweb.com/references/typescript/v5/Theme)\n *\n * ### Overriding styles using class names\n *\n * Some elements in this component have classes with a `tw-` prefix.\n * You can target these classes in your own CSS stylesheet to override their styles.\n *\n * In some cases, you may need to use the `!important` flag for the override to take effect. Do not use on auto-generated class names, as they may change between builds.\n *\n * ```css\n * .tw-back-button {\n *   background-color: red !important;\n * }\n * ```\n *\n * ### Changing the display language\n *\n * ```tsx\n * <ConnectEmbed\n *    client={client}\n *    locale=\"ja_JP\"\n * />\n * ```\n *\n * [View all available locales](https://portal.thirdweb.com/references/typescript/v5/LocaleId)\n *\n * @param props -\n * The props for the `ConnectEmbed` component.\n *\n * Refer to the [`ConnectEmbedProps`](https://portal.thirdweb.com/references/typescript/v5/ConnectEmbedProps) type for more details\n *\n * @returns A JSX element that renders the <ConnectEmbed> component.\n * @component\n * @walletConnection\n */\nexport function ConnectEmbed(props) {\n  var _props$accountAbstrac, _props$chains, _props$autoConnect;\n  const activeWallet = useActiveWallet();\n  const activeAccount = useActiveAccount();\n  const siweAuth = useSiweAuth(activeWallet, activeAccount, props.auth);\n  const show = !activeAccount || siweAuth.requiresAuth && !siweAuth.isLoggedIn;\n  const connectionManager = useConnectionManager();\n  // Add props.chain and props.chains to defined chains store\n  useEffect(() => {\n    if (props.chain) {\n      connectionManager.defineChains([props.chain]);\n    }\n  }, [props.chain, connectionManager]);\n  useEffect(() => {\n    if (props.chains) {\n      connectionManager.defineChains(props.chains);\n    }\n  }, [props.chains, connectionManager]);\n  const wallets = useMemo(() => props.wallets || getDefaultWallets({\n    appMetadata: props.appMetadata,\n    chains: props.chains\n  }), [props.wallets, props.appMetadata, props.chains]);\n  const localeId = props.locale || \"en_US\";\n  const localeQuery = useConnectLocale(localeId);\n  usePreloadWalletProviders({\n    wallets\n  });\n  const modalSize = useMemo(() => {\n    return !canFitWideModal() || wallets.length === 1 ? \"compact\" : props.modalSize || \"compact\";\n  }, [wallets.length, props.modalSize]);\n  const meta = useMemo(() => {\n    return {\n      privacyPolicyUrl: props.privacyPolicyUrl,\n      requireApproval: props.requireApproval,\n      showThirdwebBranding: props.showThirdwebBranding !== false,\n      termsOfServiceUrl: props.termsOfServiceUrl,\n      title: undefined,\n      titleIconUrl: undefined\n    };\n  }, [props.privacyPolicyUrl, props.showThirdwebBranding, props.termsOfServiceUrl, props.requireApproval]);\n  const preferredChain = ((_props$accountAbstrac = props.accountAbstraction) === null || _props$accountAbstrac === void 0 ? void 0 : _props$accountAbstrac.chain) || props.chain || ((_props$chains = props.chains) === null || _props$chains === void 0 ? void 0 : _props$chains[0]);\n  const autoConnectComp = props.autoConnect !== false && _jsx(AutoConnect, {\n    accountAbstraction: props.accountAbstraction,\n    appMetadata: props.appMetadata,\n    chain: preferredChain,\n    client: props.client,\n    onConnect: props.onConnect,\n    siweAuth: siweAuth,\n    timeout: typeof props.autoConnect === \"boolean\" ? undefined : (_props$autoConnect = props.autoConnect) === null || _props$autoConnect === void 0 ? void 0 : _props$autoConnect.timeout,\n    wallets: wallets\n  });\n  if (show) {\n    if (!localeQuery.data) {\n      return _jsxs(_Fragment, {\n        children: [autoConnectComp, _jsx(CustomThemeProvider, {\n          theme: props.theme,\n          children: _jsx(EmbedContainer, {\n            modalSize: modalSize,\n            className: cls(\"tw-widget-loading\", props.className),\n            style: props.style,\n            children: _jsx(LoadingScreen, {})\n          })\n        })]\n      });\n    }\n    return _jsxs(WalletUIStatesProvider, {\n      isOpen: true,\n      theme: props.theme,\n      children: [_jsx(ConnectEmbedContent, {\n        accountAbstraction: props.accountAbstraction,\n        auth: props.auth,\n        chain: preferredChain,\n        chains: props.chains,\n        className: props.className,\n        client: props.client,\n        connectLocale: localeQuery.data,\n        header: props.header,\n        hiddenWallets: props.hiddenWallets,\n        localeId: props.locale || \"en_US\",\n        meta: meta,\n        modalSize: modalSize,\n        onConnect: props.onConnect,\n        recommendedWallets: props.recommendedWallets,\n        showAllWallets: props.showAllWallets,\n        size: modalSize,\n        style: props.style,\n        walletConnect: props.walletConnect,\n        wallets: wallets,\n        welcomeScreen: props.welcomeScreen\n      }), autoConnectComp]\n    });\n  }\n  return _jsx(\"div\", {\n    children: autoConnectComp\n  });\n}\n/**\n * @internal\n */\nconst ConnectEmbedContent = props => {\n  // const requiresSignIn = false;\n  const screenSetup = useSetupScreen({\n    size: props.size,\n    wallets: props.wallets,\n    welcomeScreen: undefined\n  });\n  const {\n    setScreen,\n    initialScreen,\n    screen\n  } = screenSetup;\n  const activeWallet = useActiveWallet();\n  const activeAccount = useActiveAccount();\n  const siweAuth = useSiweAuth(activeWallet, activeAccount, props.auth);\n  const isAutoConnecting = useIsAutoConnecting();\n  let content = null;\n  // if sign in is required but connect embed is showing the initial screen - change to sign in screen\n  useEffect(() => {\n    if (siweAuth.requiresAuth && !siweAuth.isLoggedIn && activeAccount && screen === initialScreen) {\n      setScreen(reservedScreens.signIn);\n    }\n  }, [siweAuth, setScreen, activeAccount, screen, initialScreen]);\n  const modalSize = !canFitWideModal() ? \"compact\" : props.modalSize || \"compact\";\n  // show spinner on page load and during auto connecting a wallet\n  if (isAutoConnecting) {\n    content = _jsx(LoadingScreen, {});\n  } else {\n    content = _jsx(ConnectModalContent, {\n      accountAbstraction: props.accountAbstraction,\n      auth: props.auth,\n      chain: props.chain,\n      chains: props.chains,\n      client: props.client,\n      connectLocale: props.connectLocale,\n      hideHeader: !props.header,\n      isOpen: true,\n      meta: _objectSpread(_objectSpread({}, props.meta), {}, {\n        title: typeof props.header === \"object\" ? props.header.title : undefined,\n        titleIconUrl: typeof props.header === \"object\" ? props.header.titleIcon : undefined\n      }),\n      modalHeader: undefined,\n      onClose: () => {\n        setScreen(initialScreen);\n      },\n      onConnect: props.onConnect,\n      recommendedWallets: props.recommendedWallets,\n      screenSetup: screenSetup,\n      setModalVisibility: () => {\n        // no op\n      },\n      shouldSetActive: true,\n      showAllWallets: props.showAllWallets,\n      size: props.size,\n      walletConnect: props.walletConnect,\n      walletIdsToHide: props.hiddenWallets,\n      wallets: props.wallets,\n      welcomeScreen: props.welcomeScreen\n    });\n  }\n  return _jsx(EmbedContainer, {\n    className: props.className,\n    modalSize: modalSize,\n    style: props.style,\n    children: modalSize === \"wide\" ? content : _jsxs(DynamicHeight, {\n      children: [\" \", content, \" \"]\n    })\n  });\n};\nexport const EmbedContainer = /* @__PURE__ */StyledDiv(props => {\n  const {\n    modalSize\n  } = props;\n  const theme = useCustomTheme();\n  return {\n    \"& *\": {\n      boxSizing: \"border-box\"\n    },\n    \"& *::selection\": {\n      backgroundColor: theme.colors.selectedTextBg,\n      color: theme.colors.selectedTextColor\n    },\n    background: theme.colors.modalBg,\n    border: \"1px solid \".concat(theme.colors.borderColor),\n    borderRadius: radius.xl,\n    boxSizing: \"border-box\",\n    color: theme.colors.primaryText,\n    fontFamily: theme.fontFamily,\n    height: modalSize === \"compact\" ? \"auto\" : wideModalMaxHeight,\n    lineHeight: \"normal\",\n    overflow: \"hidden\",\n    position: \"relative\",\n    maxWidth: \"100%\",\n    width: modalSize === \"compact\" ? modalMaxWidthCompact : modalMaxWidthWide\n  };\n});","map":{"version":3,"names":["_objectSpread","useEffect","useMemo","getDefaultWallets","CustomThemeProvider","useCustomTheme","radius","useSiweAuth","useActiveAccount","useActiveWallet","useIsAutoConnecting","useConnectionManager","WalletUIStatesProvider","canFitWideModal","cls","usePreloadWalletProviders","LoadingScreen","AutoConnect","DynamicHeight","StyledDiv","modalMaxWidthCompact","modalMaxWidthWide","reservedScreens","wideModalMaxHeight","useConnectLocale","ConnectModalContent","useSetupScreen","ConnectEmbed","props","_props$accountAbstrac","_props$chains","_props$autoConnect","activeWallet","activeAccount","siweAuth","auth","show","requiresAuth","isLoggedIn","connectionManager","chain","defineChains","chains","wallets","appMetadata","localeId","locale","localeQuery","modalSize","length","meta","privacyPolicyUrl","requireApproval","showThirdwebBranding","termsOfServiceUrl","title","undefined","titleIconUrl","preferredChain","accountAbstraction","autoConnectComp","autoConnect","_jsx","client","onConnect","timeout","data","_jsxs","_Fragment","children","theme","EmbedContainer","className","style","isOpen","ConnectEmbedContent","connectLocale","header","hiddenWallets","recommendedWallets","showAllWallets","size","walletConnect","welcomeScreen","screenSetup","setScreen","initialScreen","screen","isAutoConnecting","content","signIn","hideHeader","titleIcon","modalHeader","onClose","setModalVisibility","shouldSetActive","walletIdsToHide","boxSizing","backgroundColor","colors","selectedTextBg","color","selectedTextColor","background","modalBg","border","concat","borderColor","borderRadius","xl","primaryText","fontFamily","height","lineHeight","overflow","position","maxWidth","width"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/ConnectWallet/Modal/ConnectEmbed.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useMemo } from \"react\";\nimport type { Chain } from \"../../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../../client/client.js\";\nimport { getDefaultWallets } from \"../../../../../wallets/defaultWallets.js\";\nimport type { Wallet } from \"../../../../../wallets/interfaces/wallet.js\";\nimport type { SmartWalletOptions } from \"../../../../../wallets/smart/types.js\";\nimport type { WalletId } from \"../../../../../wallets/wallet-types.js\";\nimport {\n  CustomThemeProvider,\n  useCustomTheme,\n} from \"../../../../core/design-system/CustomThemeProvider.js\";\nimport { radius } from \"../../../../core/design-system/index.js\";\nimport {\n  type SiweAuthOptions,\n  useSiweAuth,\n} from \"../../../../core/hooks/auth/useSiweAuth.js\";\nimport type { ConnectEmbedProps } from \"../../../../core/hooks/connection/ConnectEmbedProps.js\";\nimport { useActiveAccount } from \"../../../../core/hooks/wallets/useActiveAccount.js\";\nimport { useActiveWallet } from \"../../../../core/hooks/wallets/useActiveWallet.js\";\nimport { useIsAutoConnecting } from \"../../../../core/hooks/wallets/useIsAutoConnecting.js\";\nimport { useConnectionManager } from \"../../../../core/providers/connection-manager.js\";\nimport { WalletUIStatesProvider } from \"../../../providers/wallet-ui-states-provider.js\";\nimport { canFitWideModal } from \"../../../utils/canFitWideModal.js\";\nimport { cls } from \"../../../utils/cls.js\";\nimport { usePreloadWalletProviders } from \"../../../utils/usePreloadWalletProviders.js\";\nimport { LoadingScreen } from \"../../../wallets/shared/LoadingScreen.js\";\nimport { AutoConnect } from \"../../AutoConnect/AutoConnect.js\";\nimport { DynamicHeight } from \"../../components/DynamicHeight.js\";\nimport { StyledDiv } from \"../../design-system/elements.js\";\nimport type { LocaleId } from \"../../types.js\";\nimport {\n  modalMaxWidthCompact,\n  modalMaxWidthWide,\n  reservedScreens,\n  wideModalMaxHeight,\n} from \"../constants.js\";\nimport { useConnectLocale } from \"../locale/getConnectLocale.js\";\nimport type { ConnectLocale } from \"../locale/types.js\";\nimport type { WelcomeScreen } from \"../screens/types.js\";\nimport { ConnectModalContent } from \"./ConnectModalContent.js\";\nimport { useSetupScreen } from \"./screen.js\";\n\n/**\n * An inline wallet connection component that allows to:\n *\n * - Connect to 500+ external wallets\n * - Connect with email, phone, passkey or socials\n * - Convert any wallet to a ERC4337 smart wallet for gasless transactions\n * - Sign in with ethereum (Auth)\n *\n * It renders the same UI as the [`ConnectButton`](https://portal.thirdweb.com/react/v5/ConnectButton) component's modal - but directly inline in the page instead of being in a modal.\n *\n * Once connected, the component does not render any UI. It only renders UI if wallet is not connected.\n *\n * @example\n *\n * ## Default setup\n *\n * ```tsx\n * import { createThirdwebClient } from \"thirdweb\";\n * import { ConnectEmbed } from \"thirdweb/react\";\n *\n * const client = createThirdwebClient({ clientId: \"YOUR_CLIENT_ID\" });\n *\n * <ConnectEmbed\n *    client={client}\n * />\n * ```\n *\n * [View all available config options](https://portal.thirdweb.com/references/typescript/v5/ConnectEmbedProps)\n *\n *  ## Customization options\n *\n * ### Customizing wallet options\n *\n * ```tsx\n * <ConnectEmbed\n *    client={client}\n *    wallets={[\n *      createWallet(\"io.metamask\"),\n *      createWallet(\"com.coinbase.wallet\"),\n *      createWallet(\"me.rainbow\"),\n *    ]}\n * />\n * ```\n *\n * [View all available wallets](https://portal.thirdweb.com/typescript/v5/supported-wallets)\n *\n *  ### Customizing the default chain to connect to\n *\n * ```tsx\n * import { base } from \"thirdweb/chains\";\n *\n * <ConnectEmbed\n *   client={client}\n *   chain={base}\n * />\n * ```\n *\n * ### Enabling Account Abstraction\n *\n * By passing the `accountAbstraction` prop, ALL connected wallets will be converted to smart accounts.\n * And by setting `sponsorGas` to `true`, all transactions done with those smart accounts will be sponsored.\n *\n * ```tsx\n * <ConnectEmbed\n * client={client}\n * accountAbstraction={{\n *   chain: sepolia,\n *   sponsorGas: true,\n * }}\n * />;\n * ```\n * Note that this prop doesn't affect ecosystem wallets. Ecosystem wallets will only be converted to smart accounts if the ecosystem owner has enabled account abstraction.\n *\n * ### Enabling sign in with ethereum (Auth)\n *\n * ```tsx\n * <ConnectEmbed\n * client={client}\n * auth={{\n *   isLoggedIn: async (address) => {\n *     console.log(\"checking if logged in!\", { address });\n *     return await isLoggedIn();\n *   },\n *   doLogin: async (params) => {\n *     console.log(\"logging in!\");\n *     await login(params);\n *   },\n *   getLoginPayload: async ({ address }) =>\n *     generatePayload({ address }),\n *   doLogout: async () => {\n *     console.log(\"logging out!\");\n *     await logout();\n *   },\n * }}\n * />;\n * ```\n *\n * ### Customizing the theme\n *\n * ```tsx\n * <ConnectEmbed\n *    client={client}\n *    theme=\"light\"\n * />\n * ```\n *\n * For more granular control, you can also pass a custom theme object:\n *\n * ```tsx\n * <ConnectEmbed\n *    client={client}\n *    theme={lightTheme({\n *      colors: {\n *        modalBg: \"red\",\n *      },\n *    })}\n * />\n * ```\n *\n * [View all available themes properties](https://portal.thirdweb.com/references/typescript/v5/Theme)\n *\n * ### Overriding styles using class names\n *\n * Some elements in this component have classes with a `tw-` prefix.\n * You can target these classes in your own CSS stylesheet to override their styles.\n *\n * In some cases, you may need to use the `!important` flag for the override to take effect. Do not use on auto-generated class names, as they may change between builds.\n *\n * ```css\n * .tw-back-button {\n *   background-color: red !important;\n * }\n * ```\n *\n * ### Changing the display language\n *\n * ```tsx\n * <ConnectEmbed\n *    client={client}\n *    locale=\"ja_JP\"\n * />\n * ```\n *\n * [View all available locales](https://portal.thirdweb.com/references/typescript/v5/LocaleId)\n *\n * @param props -\n * The props for the `ConnectEmbed` component.\n *\n * Refer to the [`ConnectEmbedProps`](https://portal.thirdweb.com/references/typescript/v5/ConnectEmbedProps) type for more details\n *\n * @returns A JSX element that renders the <ConnectEmbed> component.\n * @component\n * @walletConnection\n */\nexport function ConnectEmbed(props: ConnectEmbedProps) {\n  const activeWallet = useActiveWallet();\n  const activeAccount = useActiveAccount();\n  const siweAuth = useSiweAuth(activeWallet, activeAccount, props.auth);\n  const show =\n    !activeAccount || (siweAuth.requiresAuth && !siweAuth.isLoggedIn);\n  const connectionManager = useConnectionManager();\n\n  // Add props.chain and props.chains to defined chains store\n  useEffect(() => {\n    if (props.chain) {\n      connectionManager.defineChains([props.chain]);\n    }\n  }, [props.chain, connectionManager]);\n\n  useEffect(() => {\n    if (props.chains) {\n      connectionManager.defineChains(props.chains);\n    }\n  }, [props.chains, connectionManager]);\n\n  const wallets = useMemo(\n    () =>\n      props.wallets ||\n      getDefaultWallets({\n        appMetadata: props.appMetadata,\n        chains: props.chains,\n      }),\n    [props.wallets, props.appMetadata, props.chains],\n  );\n  const localeId = props.locale || \"en_US\";\n  const localeQuery = useConnectLocale(localeId);\n\n  usePreloadWalletProviders({\n    wallets,\n  });\n\n  const modalSize = useMemo(() => {\n    return !canFitWideModal() || wallets.length === 1\n      ? \"compact\"\n      : props.modalSize || (\"compact\" as const);\n  }, [wallets.length, props.modalSize]);\n\n  const meta = useMemo(() => {\n    return {\n      privacyPolicyUrl: props.privacyPolicyUrl,\n      requireApproval: props.requireApproval,\n      showThirdwebBranding: props.showThirdwebBranding !== false,\n      termsOfServiceUrl: props.termsOfServiceUrl,\n      title: undefined,\n      titleIconUrl: undefined,\n    };\n  }, [\n    props.privacyPolicyUrl,\n    props.showThirdwebBranding,\n    props.termsOfServiceUrl,\n    props.requireApproval,\n  ]);\n\n  const preferredChain =\n    props.accountAbstraction?.chain || props.chain || props.chains?.[0];\n\n  const autoConnectComp = props.autoConnect !== false && (\n    <AutoConnect\n      accountAbstraction={props.accountAbstraction}\n      appMetadata={props.appMetadata}\n      chain={preferredChain}\n      client={props.client}\n      onConnect={props.onConnect}\n      siweAuth={siweAuth}\n      timeout={\n        typeof props.autoConnect === \"boolean\"\n          ? undefined\n          : props.autoConnect?.timeout\n      }\n      wallets={wallets}\n    />\n  );\n\n  if (show) {\n    if (!localeQuery.data) {\n      return (\n        <>\n          {autoConnectComp}\n          <CustomThemeProvider theme={props.theme}>\n            <EmbedContainer\n              modalSize={modalSize}\n              className={cls(\"tw-widget-loading\", props.className)}\n              style={props.style}\n            >\n              <LoadingScreen />\n            </EmbedContainer>\n          </CustomThemeProvider>\n        </>\n      );\n    }\n\n    return (\n      <WalletUIStatesProvider isOpen={true} theme={props.theme}>\n        <ConnectEmbedContent\n          accountAbstraction={props.accountAbstraction}\n          auth={props.auth}\n          chain={preferredChain}\n          chains={props.chains}\n          className={props.className}\n          client={props.client}\n          connectLocale={localeQuery.data}\n          header={props.header}\n          hiddenWallets={props.hiddenWallets}\n          localeId={props.locale || \"en_US\"}\n          meta={meta}\n          modalSize={modalSize}\n          onConnect={props.onConnect}\n          recommendedWallets={props.recommendedWallets}\n          showAllWallets={props.showAllWallets}\n          size={modalSize}\n          style={props.style}\n          walletConnect={props.walletConnect}\n          wallets={wallets}\n          welcomeScreen={props.welcomeScreen}\n        />\n        {autoConnectComp}\n      </WalletUIStatesProvider>\n    );\n  }\n\n  return <div>{autoConnectComp}</div>;\n}\n\n/**\n * @internal\n */\nconst ConnectEmbedContent = (props: {\n  modalSize?: \"compact\" | \"wide\";\n  className?: string;\n  style?: React.CSSProperties;\n  // ---\n  accountAbstraction: SmartWalletOptions | undefined;\n  auth: SiweAuthOptions | undefined;\n  chain: Chain | undefined;\n  chains: Chain[] | undefined;\n  client: ThirdwebClient;\n  connectLocale: ConnectLocale;\n  meta: {\n    title?: string;\n    titleIconUrl?: string;\n    showThirdwebBranding?: boolean;\n    termsOfServiceUrl?: string;\n    privacyPolicyUrl?: string;\n  };\n  size: \"compact\" | \"wide\";\n  header:\n    | {\n        title?: string;\n        titleIcon?: string;\n      }\n    | true\n    | undefined;\n  localeId: LocaleId;\n  onConnect: ((wallet: Wallet) => void) | undefined;\n  recommendedWallets: Wallet[] | undefined;\n  showAllWallets: boolean | undefined;\n  hiddenWallets: WalletId[] | undefined;\n  walletConnect:\n    | {\n        projectId?: string;\n      }\n    | undefined;\n  wallets: Wallet[];\n  welcomeScreen: WelcomeScreen | undefined;\n}) => {\n  // const requiresSignIn = false;\n  const screenSetup = useSetupScreen({\n    size: props.size,\n    wallets: props.wallets,\n    welcomeScreen: undefined,\n  });\n  const { setScreen, initialScreen, screen } = screenSetup;\n  const activeWallet = useActiveWallet();\n  const activeAccount = useActiveAccount();\n  const siweAuth = useSiweAuth(activeWallet, activeAccount, props.auth);\n\n  const isAutoConnecting = useIsAutoConnecting();\n\n  let content = null;\n\n  // if sign in is required but connect embed is showing the initial screen - change to sign in screen\n  useEffect(() => {\n    if (\n      siweAuth.requiresAuth &&\n      !siweAuth.isLoggedIn &&\n      activeAccount &&\n      screen === initialScreen\n    ) {\n      setScreen(reservedScreens.signIn);\n    }\n  }, [siweAuth, setScreen, activeAccount, screen, initialScreen]);\n\n  const modalSize = !canFitWideModal()\n    ? \"compact\"\n    : props.modalSize || (\"compact\" as const);\n\n  // show spinner on page load and during auto connecting a wallet\n  if (isAutoConnecting) {\n    content = <LoadingScreen />;\n  } else {\n    content = (\n      <ConnectModalContent\n        accountAbstraction={props.accountAbstraction}\n        auth={props.auth}\n        chain={props.chain}\n        chains={props.chains}\n        client={props.client}\n        connectLocale={props.connectLocale}\n        hideHeader={!props.header}\n        isOpen={true}\n        meta={{\n          ...props.meta,\n          title:\n            typeof props.header === \"object\" ? props.header.title : undefined,\n          titleIconUrl:\n            typeof props.header === \"object\"\n              ? props.header.titleIcon\n              : undefined,\n        }}\n        modalHeader={undefined}\n        onClose={() => {\n          setScreen(initialScreen);\n        }}\n        onConnect={props.onConnect}\n        recommendedWallets={props.recommendedWallets}\n        screenSetup={screenSetup}\n        setModalVisibility={() => {\n          // no op\n        }}\n        shouldSetActive={true}\n        showAllWallets={props.showAllWallets}\n        size={props.size}\n        walletConnect={props.walletConnect}\n        walletIdsToHide={props.hiddenWallets}\n        wallets={props.wallets}\n        welcomeScreen={props.welcomeScreen}\n      />\n    );\n  }\n\n  return (\n    <EmbedContainer\n      className={props.className}\n      modalSize={modalSize}\n      style={props.style}\n    >\n      {modalSize === \"wide\" ? (\n        content\n      ) : (\n        <DynamicHeight> {content} </DynamicHeight>\n      )}\n    </EmbedContainer>\n  );\n};\n\nexport const EmbedContainer = /* @__PURE__ */ StyledDiv<{\n  modalSize: \"compact\" | \"wide\";\n}>((props) => {\n  const { modalSize } = props;\n  const theme = useCustomTheme();\n  return {\n    \"& *\": {\n      boxSizing: \"border-box\",\n    },\n    \"& *::selection\": {\n      backgroundColor: theme.colors.selectedTextBg,\n      color: theme.colors.selectedTextColor,\n    },\n    background: theme.colors.modalBg,\n    border: `1px solid ${theme.colors.borderColor}`,\n    borderRadius: radius.xl,\n    boxSizing: \"border-box\",\n    color: theme.colors.primaryText,\n    fontFamily: theme.fontFamily,\n    height: modalSize === \"compact\" ? \"auto\" : wideModalMaxHeight,\n    lineHeight: \"normal\",\n    overflow: \"hidden\",\n    position: \"relative\",\n    maxWidth: \"100%\",\n    width: modalSize === \"compact\" ? modalMaxWidthCompact : modalMaxWidthWide,\n  };\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}