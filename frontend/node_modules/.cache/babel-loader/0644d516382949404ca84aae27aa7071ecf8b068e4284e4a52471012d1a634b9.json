{"ast":null,"code":"import { add, tokens } from \"../../bridge/Token.js\";\nimport { withCache } from \"../../utils/promise/withCache.js\";\nexport async function getToken(client, tokenAddress, chainId) {\n  return withCache(async () => {\n    const result = await tokens({\n      chainId,\n      client,\n      tokenAddress\n    });\n    const token = result[0];\n    if (!token) {\n      // Attempt to add the token\n      const tokenResult = await add({\n        chainId,\n        client,\n        tokenAddress\n      }).catch(() => {\n        throw new Error(\"Token not supported\");\n      });\n      return tokenResult;\n    }\n    return token;\n  }, {\n    cacheKey: \"get-token-price-\".concat(tokenAddress, \"-\").concat(chainId),\n    cacheTime: 1000 * 60 // 1 minute\n  });\n}","map":{"version":3,"names":["add","tokens","withCache","getToken","client","tokenAddress","chainId","result","token","tokenResult","catch","Error","cacheKey","concat","cacheTime"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/pay/convert/get-token.ts"],"sourcesContent":["import { add, tokens } from \"../../bridge/Token.js\";\nimport type { TokenWithPrices } from \"../../bridge/types/Token.js\";\nimport type { ThirdwebClient } from \"../../client/client.js\";\nimport { withCache } from \"../../utils/promise/withCache.js\";\n\nexport async function getToken(\n  client: ThirdwebClient,\n  tokenAddress: string,\n  chainId: number,\n): Promise<TokenWithPrices> {\n  return withCache(\n    async () => {\n      const result = await tokens({\n        chainId,\n        client,\n        tokenAddress,\n      });\n      const token = result[0];\n      if (!token) {\n        // Attempt to add the token\n        const tokenResult = await add({\n          chainId,\n          client,\n          tokenAddress,\n        }).catch(() => {\n          throw new Error(\"Token not supported\");\n        });\n        return tokenResult;\n      }\n      return token;\n    },\n    {\n      cacheKey: `get-token-price-${tokenAddress}-${chainId}`,\n      cacheTime: 1000 * 60, // 1 minute\n    },\n  );\n}\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,MAAM,QAAQ,uBAAuB;AAGnD,SAASC,SAAS,QAAQ,kCAAkC;AAE5D,OAAO,eAAeC,QAAQA,CAC5BC,MAAsB,EACtBC,YAAoB,EACpBC,OAAe;EAEf,OAAOJ,SAAS,CACd,YAAW;IACT,MAAMK,MAAM,GAAG,MAAMN,MAAM,CAAC;MAC1BK,OAAO;MACPF,MAAM;MACNC;KACD,CAAC;IACF,MAAMG,KAAK,GAAGD,MAAM,CAAC,CAAC,CAAC;IACvB,IAAI,CAACC,KAAK,EAAE;MACV;MACA,MAAMC,WAAW,GAAG,MAAMT,GAAG,CAAC;QAC5BM,OAAO;QACPF,MAAM;QACNC;OACD,CAAC,CAACK,KAAK,CAAC,MAAK;QACZ,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;MACxC,CAAC,CAAC;MACF,OAAOF,WAAW;IACpB;IACA,OAAOD,KAAK;EACd,CAAC,EACD;IACEI,QAAQ,qBAAAC,MAAA,CAAqBR,YAAY,OAAAQ,MAAA,CAAIP,OAAO,CAAE;IACtDQ,SAAS,EAAE,IAAI,GAAG,EAAE,CAAE;GACvB,CACF;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}