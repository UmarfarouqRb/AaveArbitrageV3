{"ast":null,"code":"\"use client\";\n\nimport _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport styled from \"@emotion/styled\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useMemo, useState } from \"react\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { getEcosystemInfo } from \"../../../../wallets/ecosystem/get-ecosystem-wallet-auth-options.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { linkProfile } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport { loginWithOauthRedirect } from \"../../../../wallets/in-app/web/lib/auth/oauth.js\";\nimport { socialAuthOptions } from \"../../../../wallets/types.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { fontSize, iconSize, spacing } from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { socialIcons } from \"../../../core/utils/walletIcon.js\";\nimport { useSetSelectionData } from \"../../providers/wallet-ui-states-provider.js\";\nimport { EmailIcon } from \"../../ui/ConnectWallet/icons/EmailIcon.js\";\nimport { FingerPrintIcon } from \"../../ui/ConnectWallet/icons/FingerPrintIcon.js\";\nimport { GuestIcon } from \"../../ui/ConnectWallet/icons/GuestIcon.js\";\nimport { OutlineWalletIcon } from \"../../ui/ConnectWallet/icons/OutlineWalletIcon.js\";\nimport { PhoneIcon } from \"../../ui/ConnectWallet/icons/PhoneIcon.js\";\nimport { WalletTypeRowButton } from \"../../ui/ConnectWallet/WalletTypeRowButton.js\";\nimport { Container } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Img } from \"../../ui/components/Img.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { TextDivider } from \"../../ui/components/TextDivider.js\";\nimport { InputSelectionUI } from \"../in-app/InputSelectionUI.js\";\nimport { validateEmail } from \"../in-app/validateEmail.js\";\nimport { LoadingScreen } from \"./LoadingScreen.js\";\nimport { openOauthSignInWindow } from \"./oauthSignIn.js\";\nconst defaultAuthOptions = [\"email\", \"phone\", \"google\", \"apple\", \"facebook\", \"passkey\"];\n/**\n * @internal\n */\nexport const ConnectWalletSocialOptions = props => {\n  var _wallet$getConfig$aut, _wallet$getConfig, _wallet$getConfig2, _wallet$getConfig3, _wallet$getConfig4;\n  const locale = props.locale;\n  const {\n    wallet\n  } = props;\n  const setData = useSetSelectionData();\n  const themeObj = useCustomTheme();\n  const optionalImageMetadata = useMemo(() => {\n    var _props$wallet$getConf;\n    return props.wallet.id === \"inApp\" ? (_props$wallet$getConf = props.wallet.getConfig()) === null || _props$wallet$getConf === void 0 || (_props$wallet$getConf = _props$wallet$getConf.metadata) === null || _props$wallet$getConf === void 0 ? void 0 : _props$wallet$getConf.image : undefined;\n  }, [props.wallet]);\n  const loginMethodsLabel = {\n    apple: locale.signInWithApple,\n    coinbase: \"Coinbase\",\n    discord: locale.signInWithDiscord,\n    facebook: locale.signInWithFacebook,\n    farcaster: \"Farcaster\",\n    github: \"GitHub\",\n    google: locale.signInWithGoogle,\n    line: \"LINE\",\n    steam: \"Steam\",\n    telegram: \"Telegram\",\n    twitch: \"Twitch\",\n    x: \"X\",\n    tiktok: \"TikTok\"\n  };\n  const {\n    data: ecosystemAuthOptions,\n    isLoading\n  } = useQuery({\n    enabled: isEcosystemWallet(wallet),\n    queryFn: async () => {\n      if (isEcosystemWallet(wallet)) {\n        var _options$authOptions;\n        const options = await getEcosystemInfo(wallet.id);\n        return (_options$authOptions = options === null || options === void 0 ? void 0 : options.authOptions) !== null && _options$authOptions !== void 0 ? _options$authOptions : null;\n      }\n      return null;\n    },\n    queryKey: [\"auth-options\", wallet.id],\n    retry: false\n  });\n  const authOptions = isEcosystemWallet(wallet) ? ecosystemAuthOptions !== null && ecosystemAuthOptions !== void 0 ? ecosystemAuthOptions : defaultAuthOptions : (_wallet$getConfig$aut = (_wallet$getConfig = wallet.getConfig()) === null || _wallet$getConfig === void 0 || (_wallet$getConfig = _wallet$getConfig.auth) === null || _wallet$getConfig === void 0 ? void 0 : _wallet$getConfig.options) !== null && _wallet$getConfig$aut !== void 0 ? _wallet$getConfig$aut : defaultAuthOptions;\n  const emailIndex = authOptions.indexOf(\"email\");\n  const isEmailEnabled = emailIndex !== -1;\n  const phoneIndex = authOptions.indexOf(\"phone\");\n  const isPhoneEnabled = phoneIndex !== -1;\n  const socialLogins = authOptions.filter(o => socialAuthOptions.includes(o));\n  const columnCount = useMemo(() => {\n    switch (socialLogins.length) {\n      case 7:\n        return 4;\n      case 6:\n        return 4;\n      default:\n        return 5;\n    }\n  }, [socialLogins.length]);\n  const socialLoginColumns = useMemo(() => {\n    return Array.from({\n      length: Math.ceil(socialLogins.length / columnCount)\n    }, (_, i) => socialLogins.slice(i * columnCount, (i + 1) * columnCount));\n  }, [socialLogins, columnCount]);\n  const [manualInputMode, setManualInputMode] = useState(null);\n  const inputMode = useMemo(() => {\n    if (manualInputMode) {\n      return manualInputMode;\n    }\n    if (isEmailEnabled && isPhoneEnabled) {\n      return emailIndex < phoneIndex ? \"email\" : \"phone\";\n    }\n    if (isEmailEnabled) {\n      return \"email\";\n    }\n    if (isPhoneEnabled) {\n      return \"phone\";\n    }\n    return \"none\";\n  }, [isEmailEnabled, isPhoneEnabled, emailIndex, phoneIndex, manualInputMode]);\n  if (isEcosystemWallet(wallet) && isLoading) {\n    return _jsx(LoadingScreen, {});\n  }\n  const passKeyEnabled = authOptions.includes(\"passkey\");\n  const guestEnabled = authOptions.includes(\"guest\");\n  const siweEnabled = authOptions.includes(\"wallet\");\n  const placeholder = inputMode === \"email\" ? locale.emailPlaceholder : locale.phonePlaceholder;\n  const emptyErrorMessage = inputMode === \"email\" ? locale.emailRequired : locale.phoneRequired;\n  let type = \"text\";\n  if (inputMode === \"email\") {\n    type = \"email\";\n  } else if (inputMode === \"phone\") {\n    type = \"tel\";\n  }\n  const hasSocialLogins = socialLogins.length > 0;\n  const ecosystemInfo = isEcosystemWallet(wallet) ? {\n    id: wallet.id,\n    partnerId: (_wallet$getConfig2 = wallet.getConfig()) === null || _wallet$getConfig2 === void 0 ? void 0 : _wallet$getConfig2.partnerId\n  } : undefined;\n  const handleGuestLogin = async () => {\n    const connectOptions = {\n      chain: props.chain,\n      client: props.client,\n      ecosystem: ecosystemInfo,\n      strategy: \"guest\"\n    };\n    const connectPromise = (async () => {\n      const result = await wallet.connect(connectOptions);\n      setLastAuthProvider(\"guest\", webLocalStorage);\n      return result;\n    })();\n    setData({\n      guestLogin: {\n        connectionPromise: connectPromise\n      }\n    });\n    props.select(); // show Connect UI\n  };\n  // Need to trigger login on button click to avoid popup from being blocked\n  const handleSocialLogin = async strategy => {\n    var _walletConfig$auth$mo, _walletConfig$auth;\n    const walletConfig = wallet.getConfig();\n    const authMode = (_walletConfig$auth$mo = walletConfig === null || walletConfig === void 0 || (_walletConfig$auth = walletConfig.auth) === null || _walletConfig$auth === void 0 ? void 0 : _walletConfig$auth.mode) !== null && _walletConfig$auth$mo !== void 0 ? _walletConfig$auth$mo : \"popup\";\n    if (walletConfig && \"auth\" in walletConfig && authMode !== \"popup\" && !props.isLinking // We do not support redirects for linking\n    ) {\n      var _walletConfig$auth2;\n      return loginWithOauthRedirect({\n        authOption: strategy,\n        client: props.client,\n        ecosystem: ecosystemInfo,\n        mode: authMode,\n        redirectUrl: walletConfig === null || walletConfig === void 0 || (_walletConfig$auth2 = walletConfig.auth) === null || _walletConfig$auth2 === void 0 ? void 0 : _walletConfig$auth2.redirectUrl\n      });\n    }\n    try {\n      const socialLoginWindow = openOauthSignInWindow({\n        authOption: strategy,\n        client: props.client,\n        ecosystem: ecosystemInfo,\n        themeObj\n      });\n      if (!socialLoginWindow) {\n        throw new Error(\"Failed to open login window\");\n      }\n      const connectOptions = {\n        chain: props.chain,\n        client: props.client,\n        closeOpenedWindow: openedWindow => {\n          openedWindow.close();\n        },\n        ecosystem: ecosystemInfo,\n        openedWindow: socialLoginWindow,\n        strategy\n      };\n      const connectPromise = (() => {\n        if (props.isLinking) {\n          if (wallet.id !== \"inApp\" && !isEcosystemWallet(wallet)) {\n            throw new Error(\"Only in-app wallets support multi-auth\");\n          }\n          return linkProfile(connectOptions);\n        }\n        const connectPromise = wallet.connect(connectOptions);\n        setLastAuthProvider(strategy, webLocalStorage);\n        return connectPromise;\n      })();\n      setData({\n        socialLogin: {\n          connectionPromise: connectPromise,\n          type: strategy\n        }\n      });\n      props.select(); // show Connect UI\n      // Note: do not call done() here, it will be called SocialLogin component\n      // we simply trigger the connect and save promise here - its resolution is handled in SocialLogin\n    } catch (e) {\n      console.error(\"Error signing in with \".concat(strategy), e);\n    }\n  };\n  function handlePassKeyLogin() {\n    setData({\n      passkeyLogin: true\n    });\n    props.select();\n  }\n  function handleWalletLogin() {\n    setData({\n      walletLogin: {\n        linking: props.isLinking || false\n      }\n    });\n    props.select();\n  }\n  const showOnlyIcons = socialLogins.length > 2;\n  return _jsxs(Container, {\n    flex: \"column\",\n    gap: \"md\",\n    style: {\n      position: \"relative\"\n    },\n    children: [optionalImageMetadata && _jsxs(_Fragment, {\n      children: [_jsx(Img, {\n        alt: optionalImageMetadata.alt,\n        client: props.client,\n        height: \"\".concat(optionalImageMetadata.height),\n        src: optionalImageMetadata.src,\n        style: {\n          margin: \"auto\"\n        },\n        width: \"\".concat(optionalImageMetadata.width)\n      }), _jsx(Spacer, {\n        y: \"xxs\"\n      })]\n    }), hasSocialLogins && _jsx(Container, {\n      flex: \"column\",\n      gap: socialLogins.length > 4 ? \"xs\" : \"sm\",\n      children: socialLoginColumns.map(column => _jsx(SocialButtonRow, {\n        children: column.map(loginMethod => {\n          const imgIconSize = (() => {\n            if (!showOnlyIcons) {\n              return iconSize.md;\n            }\n            if (socialLogins.length > 4) {\n              return iconSize.md;\n            }\n            return iconSize.lg;\n          })();\n          return _jsxs(SocialButton, {\n            className: \"tw-social-button\",\n            \"aria-label\": \"Login with \".concat(loginMethod),\n            \"data-variant\": showOnlyIcons ? \"icon\" : \"full\",\n            disabled: props.disabled,\n            onClick: () => {\n              handleSocialLogin(loginMethod);\n            },\n            style: {\n              flexGrow: socialLogins.length < 7 ? 1 : 0\n            },\n            variant: \"outline\",\n            children: [_jsx(Img, {\n              client: props.client,\n              height: imgIconSize,\n              src: socialIcons[loginMethod],\n              width: imgIconSize\n            }), !showOnlyIcons && \"\".concat(socialLogins.length === 1 ? \"Continue with \" : \"\").concat(loginMethodsLabel[loginMethod])]\n          }, loginMethod);\n        })\n      }, column[0]))\n    }), props.size === \"wide\" && hasSocialLogins && (isEmailEnabled || isPhoneEnabled) && _jsx(TextDivider, {\n      text: locale.or\n    }), isEmailEnabled && (inputMode === \"email\" ? _jsx(InputSelectionUI, {\n      className: \"tw-input-container tw-input-container__email\",\n      disabled: props.disabled,\n      emptyErrorMessage: emptyErrorMessage,\n      errorMessage: input => {\n        const isValidEmail = validateEmail(input.toLowerCase());\n        if (!isValidEmail) {\n          return locale.invalidEmail;\n        }\n        return undefined;\n      },\n      name: \"email\",\n      onSelect: value => {\n        setData({\n          emailLogin: value\n        });\n        props.select();\n      },\n      placeholder: placeholder,\n      submitButtonText: locale.submitEmail,\n      type: type\n    }) : _jsx(WalletTypeRowButton, {\n      className: \"tw-select-button tw-select-button__email\",\n      client: props.client,\n      disabled: props.disabled,\n      icon: EmailIcon,\n      onClick: () => {\n        setManualInputMode(\"email\");\n      },\n      title: locale.emailPlaceholder\n    })), isPhoneEnabled && (inputMode === \"phone\" ? _jsx(InputSelectionUI, {\n      className: \"tw-input-container tw-input-container__phone\",\n      allowedSmsCountryCodes: (_wallet$getConfig3 = wallet.getConfig()) === null || _wallet$getConfig3 === void 0 || (_wallet$getConfig3 = _wallet$getConfig3.auth) === null || _wallet$getConfig3 === void 0 ? void 0 : _wallet$getConfig3.allowedSmsCountryCodes,\n      defaultSmsCountryCode: (_wallet$getConfig4 = wallet.getConfig()) === null || _wallet$getConfig4 === void 0 || (_wallet$getConfig4 = _wallet$getConfig4.auth) === null || _wallet$getConfig4 === void 0 ? void 0 : _wallet$getConfig4.defaultSmsCountryCode,\n      disabled: props.disabled,\n      emptyErrorMessage: emptyErrorMessage,\n      errorMessage: _input => {\n        // removes white spaces and special characters\n        const input = _input.replace(/[-() ]/g, \"\");\n        const isPhone = /^[0-9]+$/.test(input);\n        if (!isPhone && isPhoneEnabled) {\n          return locale.invalidPhone;\n        }\n        return undefined;\n      },\n      format: \"phone\",\n      name: \"phone\",\n      onSelect: value => {\n        // removes white spaces and special characters\n        setData({\n          phoneLogin: value.replace(/[-() ]/g, \"\")\n        });\n        props.select();\n      },\n      placeholder: placeholder,\n      submitButtonText: locale.submitEmail,\n      type: type\n    }) : _jsx(WalletTypeRowButton, {\n      className: \"tw-select-button tw-select-button__phone\",\n      client: props.client,\n      disabled: props.disabled,\n      icon: PhoneIcon,\n      onClick: () => {\n        setManualInputMode(\"phone\");\n      },\n      title: locale.phonePlaceholder\n    })), passKeyEnabled && _jsx(WalletTypeRowButton, {\n      className: \"tw-select-button tw-select-button__passkey\",\n      client: props.client,\n      disabled: props.disabled,\n      icon: FingerPrintIcon,\n      onClick: () => {\n        handlePassKeyLogin();\n      },\n      title: locale.passkey\n    }), siweEnabled && !props.isLinking && _jsx(WalletTypeRowButton, {\n      className: \"tw-select-button tw-select-button__link-wallet\",\n      client: props.client,\n      icon: OutlineWalletIcon,\n      onClick: () => {\n        handleWalletLogin();\n      },\n      title: locale.signInWithWallet\n    }), guestEnabled && _jsx(WalletTypeRowButton, {\n      className: \"tw-select-button tw-select-button__guest\",\n      client: props.client,\n      disabled: props.disabled,\n      icon: GuestIcon,\n      onClick: () => {\n        handleGuestLogin();\n      },\n      title: locale.loginAsGuest\n    }), props.isLinking && _jsx(WalletTypeRowButton, {\n      className: \"tw-select-button tw-select-button__link-wallet\",\n      client: props.client,\n      icon: OutlineWalletIcon,\n      onClick: () => {\n        handleWalletLogin();\n      },\n      title: locale.linkWallet\n    })]\n  });\n};\nconst SocialButtonRow = props => _jsx(Container, {\n  center: \"x\",\n  flex: \"row\",\n  gap: props.children.length > 4 ? \"xs\" : \"sm\",\n  style: _objectSpread({\n    display: \"flex\",\n    justifyContent: \"center\"\n  }, {\n    \"& > *\": {\n      flexBasis: \"\".concat(100 / props.children.length, \"%\"),\n      maxWidth: \"\".concat(100 / props.children.length, \"%\")\n    }\n  }),\n  children: props.children\n});\nconst SocialButton = /* @__PURE__ */styled(Button)({\n  \"&[data-variant='full']\": {\n    \"&:active\": {\n      boxShadow: \"none\"\n    },\n    display: \"flex\",\n    fontSize: fontSize.md,\n    fontWeight: 500,\n    gap: spacing.sm,\n    justifyContent: \"flex-start\",\n    padding: spacing.md,\n    transition: \"background-color 0.2s ease\"\n  },\n  \"&[data-variant='icon']\": {\n    padding: spacing.sm\n  }\n});","map":{"version":3,"names":["_objectSpread","styled","useQuery","useMemo","useState","webLocalStorage","getEcosystemInfo","isEcosystemWallet","linkProfile","loginWithOauthRedirect","socialAuthOptions","useCustomTheme","fontSize","iconSize","spacing","setLastAuthProvider","socialIcons","useSetSelectionData","EmailIcon","FingerPrintIcon","GuestIcon","OutlineWalletIcon","PhoneIcon","WalletTypeRowButton","Container","Button","Img","Spacer","TextDivider","InputSelectionUI","validateEmail","LoadingScreen","openOauthSignInWindow","defaultAuthOptions","ConnectWalletSocialOptions","props","_wallet$getConfig$aut","_wallet$getConfig","_wallet$getConfig2","_wallet$getConfig3","_wallet$getConfig4","locale","wallet","setData","themeObj","optionalImageMetadata","_props$wallet$getConf","id","getConfig","metadata","image","undefined","loginMethodsLabel","apple","signInWithApple","coinbase","discord","signInWithDiscord","facebook","signInWithFacebook","farcaster","github","google","signInWithGoogle","line","steam","telegram","twitch","x","tiktok","data","ecosystemAuthOptions","isLoading","enabled","queryFn","_options$authOptions","options","authOptions","queryKey","retry","auth","emailIndex","indexOf","isEmailEnabled","phoneIndex","isPhoneEnabled","socialLogins","filter","o","includes","columnCount","length","socialLoginColumns","Array","from","Math","ceil","_","i","slice","manualInputMode","setManualInputMode","inputMode","_jsx","passKeyEnabled","guestEnabled","siweEnabled","placeholder","emailPlaceholder","phonePlaceholder","emptyErrorMessage","emailRequired","phoneRequired","type","hasSocialLogins","ecosystemInfo","partnerId","handleGuestLogin","connectOptions","chain","client","ecosystem","strategy","connectPromise","result","connect","guestLogin","connectionPromise","select","handleSocialLogin","_walletConfig$auth$mo","_walletConfig$auth","walletConfig","authMode","mode","isLinking","_walletConfig$auth2","authOption","redirectUrl","socialLoginWindow","Error","closeOpenedWindow","openedWindow","close","socialLogin","e","console","error","concat","handlePassKeyLogin","passkeyLogin","handleWalletLogin","walletLogin","linking","showOnlyIcons","_jsxs","flex","gap","style","position","children","_Fragment","alt","height","src","margin","width","y","map","column","SocialButtonRow","loginMethod","imgIconSize","md","lg","SocialButton","className","disabled","onClick","flexGrow","variant","size","text","or","errorMessage","input","isValidEmail","toLowerCase","invalidEmail","name","onSelect","value","emailLogin","submitButtonText","submitEmail","icon","title","allowedSmsCountryCodes","defaultSmsCountryCode","_input","replace","isPhone","test","invalidPhone","format","phoneLogin","passkey","signInWithWallet","loginAsGuest","linkWallet","center","display","justifyContent","flexBasis","maxWidth","boxShadow","fontWeight","sm","padding","transition"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/wallets/shared/ConnectWalletSocialOptions.tsx"],"sourcesContent":["\"use client\";\nimport styled from \"@emotion/styled\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useMemo, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { getEcosystemInfo } from \"../../../../wallets/ecosystem/get-ecosystem-wallet-auth-options.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport type { Profile } from \"../../../../wallets/in-app/core/authentication/types.js\";\nimport { linkProfile } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport { loginWithOauthRedirect } from \"../../../../wallets/in-app/web/lib/auth/oauth.js\";\nimport type { Account, Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport {\n  type AuthOption,\n  type SocialAuthOption,\n  socialAuthOptions,\n} from \"../../../../wallets/types.js\";\nimport type { EcosystemWalletId } from \"../../../../wallets/wallet-types.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport {\n  fontSize,\n  iconSize,\n  spacing,\n} from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { socialIcons } from \"../../../core/utils/walletIcon.js\";\nimport { useSetSelectionData } from \"../../providers/wallet-ui-states-provider.js\";\nimport { EmailIcon } from \"../../ui/ConnectWallet/icons/EmailIcon.js\";\nimport { FingerPrintIcon } from \"../../ui/ConnectWallet/icons/FingerPrintIcon.js\";\nimport { GuestIcon } from \"../../ui/ConnectWallet/icons/GuestIcon.js\";\nimport { OutlineWalletIcon } from \"../../ui/ConnectWallet/icons/OutlineWalletIcon.js\";\nimport { PhoneIcon } from \"../../ui/ConnectWallet/icons/PhoneIcon.js\";\nimport { WalletTypeRowButton } from \"../../ui/ConnectWallet/WalletTypeRowButton.js\";\nimport { Container } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Img } from \"../../ui/components/Img.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { TextDivider } from \"../../ui/components/TextDivider.js\";\nimport { InputSelectionUI } from \"../in-app/InputSelectionUI.js\";\nimport { validateEmail } from \"../in-app/validateEmail.js\";\nimport { LoadingScreen } from \"./LoadingScreen.js\";\nimport type { InAppWalletLocale } from \"./locale/types.js\";\nimport { openOauthSignInWindow } from \"./oauthSignIn.js\";\n\nexport type ConnectWalletSelectUIState =\n  | undefined\n  | {\n      emailLogin?: string;\n      phoneLogin?: string;\n      socialLogin?: {\n        type: SocialAuthOption;\n        connectionPromise: Promise<Account | Profile[]>;\n      };\n      guestLogin?: {\n        connectionPromise: Promise<Account | Profile[]>;\n      };\n      passkeyLogin?: boolean;\n      walletLogin?: {\n        linking: boolean;\n      };\n    };\n\nconst defaultAuthOptions: AuthOption[] = [\n  \"email\",\n  \"phone\",\n  \"google\",\n  \"apple\",\n  \"facebook\",\n  \"passkey\",\n];\n\ntype ConnectWalletSocialOptionsProps = {\n  select: () => void;\n  done: () => void;\n  locale: InAppWalletLocale;\n  wallet: Wallet<EcosystemWalletId> | Wallet<\"inApp\">;\n  goBack?: () => void;\n  chain: Chain | undefined;\n  client: ThirdwebClient;\n  size: \"compact\" | \"wide\";\n  isLinking?: boolean;\n  // If true, all options will be disabled. Used for things like requiring TOS approval.\n  disabled?: boolean;\n};\n\n/**\n * @internal\n */\nexport const ConnectWalletSocialOptions = (\n  props: ConnectWalletSocialOptionsProps,\n) => {\n  const locale = props.locale;\n  const { wallet } = props;\n  const setData = useSetSelectionData() as (\n    value: ConnectWalletSelectUIState,\n  ) => void;\n\n  const themeObj = useCustomTheme();\n  const optionalImageMetadata = useMemo(\n    () =>\n      props.wallet.id === \"inApp\"\n        ? props.wallet.getConfig()?.metadata?.image\n        : undefined,\n    [props.wallet],\n  );\n\n  const loginMethodsLabel = {\n    apple: locale.signInWithApple,\n    coinbase: \"Coinbase\",\n    discord: locale.signInWithDiscord,\n    facebook: locale.signInWithFacebook,\n    farcaster: \"Farcaster\",\n    github: \"GitHub\",\n    google: locale.signInWithGoogle,\n    line: \"LINE\",\n    steam: \"Steam\",\n    telegram: \"Telegram\",\n    twitch: \"Twitch\",\n    x: \"X\",\n    tiktok: \"TikTok\",\n  };\n\n  const { data: ecosystemAuthOptions, isLoading } = useQuery({\n    enabled: isEcosystemWallet(wallet),\n    queryFn: async () => {\n      if (isEcosystemWallet(wallet)) {\n        const options = await getEcosystemInfo(wallet.id);\n        return options?.authOptions ?? null;\n      }\n      return null;\n    },\n    queryKey: [\"auth-options\", wallet.id],\n    retry: false,\n  });\n  const authOptions = isEcosystemWallet(wallet)\n    ? (ecosystemAuthOptions ?? defaultAuthOptions)\n    : (wallet.getConfig()?.auth?.options ?? defaultAuthOptions);\n\n  const emailIndex = authOptions.indexOf(\"email\");\n  const isEmailEnabled = emailIndex !== -1;\n  const phoneIndex = authOptions.indexOf(\"phone\");\n  const isPhoneEnabled = phoneIndex !== -1;\n  const socialLogins: SocialAuthOption[] = authOptions.filter((o) =>\n    socialAuthOptions.includes(o as SocialAuthOption),\n  ) as SocialAuthOption[];\n\n  const columnCount = useMemo(() => {\n    switch (socialLogins.length) {\n      case 7:\n        return 4;\n      case 6:\n        return 4;\n      default:\n        return 5;\n    }\n  }, [socialLogins.length]);\n\n  const socialLoginColumns: SocialAuthOption[][] = useMemo(() => {\n    return Array.from(\n      { length: Math.ceil(socialLogins.length / columnCount) },\n      (_, i) => socialLogins.slice(i * columnCount, (i + 1) * columnCount),\n    );\n  }, [socialLogins, columnCount]);\n\n  const [manualInputMode, setManualInputMode] = useState<\n    \"email\" | \"phone\" | \"none\" | null\n  >(null);\n\n  const inputMode = useMemo(() => {\n    if (manualInputMode) {\n      return manualInputMode;\n    }\n    if (isEmailEnabled && isPhoneEnabled) {\n      return emailIndex < phoneIndex ? \"email\" : \"phone\";\n    }\n    if (isEmailEnabled) {\n      return \"email\";\n    }\n    if (isPhoneEnabled) {\n      return \"phone\";\n    }\n    return \"none\";\n  }, [isEmailEnabled, isPhoneEnabled, emailIndex, phoneIndex, manualInputMode]);\n\n  if (isEcosystemWallet(wallet) && isLoading) {\n    return <LoadingScreen />;\n  }\n\n  const passKeyEnabled = authOptions.includes(\"passkey\");\n  const guestEnabled = authOptions.includes(\"guest\");\n  const siweEnabled = authOptions.includes(\"wallet\");\n\n  const placeholder =\n    inputMode === \"email\" ? locale.emailPlaceholder : locale.phonePlaceholder;\n  const emptyErrorMessage =\n    inputMode === \"email\" ? locale.emailRequired : locale.phoneRequired;\n\n  let type = \"text\";\n  if (inputMode === \"email\") {\n    type = \"email\";\n  } else if (inputMode === \"phone\") {\n    type = \"tel\";\n  }\n\n  const hasSocialLogins = socialLogins.length > 0;\n  const ecosystemInfo = isEcosystemWallet(wallet)\n    ? {\n        id: wallet.id,\n        partnerId: wallet.getConfig()?.partnerId,\n      }\n    : undefined;\n\n  const handleGuestLogin = async () => {\n    const connectOptions = {\n      chain: props.chain,\n      client: props.client,\n      ecosystem: ecosystemInfo,\n      strategy: \"guest\" as const,\n    };\n    const connectPromise = (async () => {\n      const result = await wallet.connect(connectOptions);\n      setLastAuthProvider(\"guest\", webLocalStorage);\n      return result;\n    })();\n\n    setData({\n      guestLogin: {\n        connectionPromise: connectPromise,\n      },\n    });\n\n    props.select(); // show Connect UI\n  };\n\n  // Need to trigger login on button click to avoid popup from being blocked\n  const handleSocialLogin = async (strategy: SocialAuthOption) => {\n    const walletConfig = wallet.getConfig();\n    const authMode = walletConfig?.auth?.mode ?? \"popup\";\n    if (\n      walletConfig &&\n      \"auth\" in walletConfig &&\n      authMode !== \"popup\" &&\n      !props.isLinking // We do not support redirects for linking\n    ) {\n      return loginWithOauthRedirect({\n        authOption: strategy,\n        client: props.client,\n        ecosystem: ecosystemInfo,\n        mode: authMode,\n        redirectUrl: walletConfig?.auth?.redirectUrl,\n      });\n    }\n\n    try {\n      const socialLoginWindow = openOauthSignInWindow({\n        authOption: strategy,\n        client: props.client,\n        ecosystem: ecosystemInfo,\n        themeObj,\n      });\n      if (!socialLoginWindow) {\n        throw new Error(\"Failed to open login window\");\n      }\n      const connectOptions = {\n        chain: props.chain,\n        client: props.client,\n        closeOpenedWindow: (openedWindow: Window) => {\n          openedWindow.close();\n        },\n        ecosystem: ecosystemInfo,\n        openedWindow: socialLoginWindow,\n        strategy,\n      };\n\n      const connectPromise = (() => {\n        if (props.isLinking) {\n          if (wallet.id !== \"inApp\" && !isEcosystemWallet(wallet)) {\n            throw new Error(\"Only in-app wallets support multi-auth\");\n          }\n          return linkProfile(connectOptions);\n        }\n\n        const connectPromise = wallet.connect(connectOptions);\n        setLastAuthProvider(strategy, webLocalStorage);\n        return connectPromise;\n      })();\n\n      setData({\n        socialLogin: {\n          connectionPromise: connectPromise,\n          type: strategy,\n        },\n      });\n\n      props.select(); // show Connect UI\n\n      // Note: do not call done() here, it will be called SocialLogin component\n      // we simply trigger the connect and save promise here - its resolution is handled in SocialLogin\n    } catch (e) {\n      console.error(`Error signing in with ${strategy}`, e);\n    }\n  };\n\n  function handlePassKeyLogin() {\n    setData({\n      passkeyLogin: true,\n    });\n    props.select();\n  }\n\n  function handleWalletLogin() {\n    setData({\n      walletLogin: {\n        linking: props.isLinking || false,\n      },\n    });\n    props.select();\n  }\n\n  const showOnlyIcons = socialLogins.length > 2;\n\n  return (\n    <Container\n      flex=\"column\"\n      gap=\"md\"\n      style={{\n        position: \"relative\",\n      }}\n    >\n      {optionalImageMetadata && (\n        <>\n          <Img\n            alt={optionalImageMetadata.alt}\n            client={props.client}\n            height={`${optionalImageMetadata.height}`}\n            src={optionalImageMetadata.src}\n            style={{ margin: \"auto\" }}\n            width={`${optionalImageMetadata.width}`}\n          />\n          <Spacer y=\"xxs\" />\n        </>\n      )}\n      {/* Social Login */}\n      {hasSocialLogins && (\n        <Container flex=\"column\" gap={socialLogins.length > 4 ? \"xs\" : \"sm\"}>\n          {socialLoginColumns.map((column) => (\n            <SocialButtonRow key={column[0]}>\n              {column.map((loginMethod) => {\n                const imgIconSize = (() => {\n                  if (!showOnlyIcons) {\n                    return iconSize.md;\n                  }\n                  if (socialLogins.length > 4) {\n                    return iconSize.md;\n                  }\n                  return iconSize.lg;\n                })();\n                return (\n                  <SocialButton\n                    className=\"tw-social-button\"\n                    aria-label={`Login with ${loginMethod}`}\n                    data-variant={showOnlyIcons ? \"icon\" : \"full\"}\n                    disabled={props.disabled}\n                    key={loginMethod}\n                    onClick={() => {\n                      handleSocialLogin(loginMethod as SocialAuthOption);\n                    }}\n                    style={{\n                      flexGrow: socialLogins.length < 7 ? 1 : 0,\n                    }}\n                    variant=\"outline\"\n                  >\n                    <Img\n                      client={props.client}\n                      height={imgIconSize}\n                      src={socialIcons[loginMethod as SocialAuthOption]}\n                      width={imgIconSize}\n                    />\n                    {!showOnlyIcons &&\n                      `${socialLogins.length === 1 ? \"Continue with \" : \"\"}${loginMethodsLabel[loginMethod as SocialAuthOption]}`}\n                  </SocialButton>\n                );\n              })}\n            </SocialButtonRow>\n          ))}\n        </Container>\n      )}\n\n      {props.size === \"wide\" &&\n        hasSocialLogins &&\n        (isEmailEnabled || isPhoneEnabled) && <TextDivider text={locale.or} />}\n\n      {/* Email/Phone Login */}\n      {isEmailEnabled &&\n        (inputMode === \"email\" ? (\n          <InputSelectionUI\n            className=\"tw-input-container tw-input-container__email\"\n            disabled={props.disabled}\n            emptyErrorMessage={emptyErrorMessage}\n            errorMessage={(input) => {\n              const isValidEmail = validateEmail(input.toLowerCase());\n              if (!isValidEmail) {\n                return locale.invalidEmail;\n              }\n              return undefined;\n            }}\n            name=\"email\"\n            onSelect={(value) => {\n              setData({ emailLogin: value });\n              props.select();\n            }}\n            placeholder={placeholder}\n            submitButtonText={locale.submitEmail}\n            type={type}\n          />\n        ) : (\n          <WalletTypeRowButton\n            className=\"tw-select-button tw-select-button__email\"\n            client={props.client}\n            disabled={props.disabled}\n            icon={EmailIcon}\n            onClick={() => {\n              setManualInputMode(\"email\");\n            }}\n            title={locale.emailPlaceholder}\n          />\n        ))}\n      {isPhoneEnabled &&\n        (inputMode === \"phone\" ? (\n          <InputSelectionUI\n            className=\"tw-input-container tw-input-container__phone\"\n            allowedSmsCountryCodes={\n              wallet.getConfig()?.auth?.allowedSmsCountryCodes\n            }\n            defaultSmsCountryCode={\n              wallet.getConfig()?.auth?.defaultSmsCountryCode\n            }\n            disabled={props.disabled}\n            emptyErrorMessage={emptyErrorMessage}\n            errorMessage={(_input) => {\n              // removes white spaces and special characters\n              const input = _input.replace(/[-() ]/g, \"\");\n              const isPhone = /^[0-9]+$/.test(input);\n\n              if (!isPhone && isPhoneEnabled) {\n                return locale.invalidPhone;\n              }\n\n              return undefined;\n            }}\n            format=\"phone\"\n            name=\"phone\"\n            onSelect={(value) => {\n              // removes white spaces and special characters\n              setData({ phoneLogin: value.replace(/[-() ]/g, \"\") });\n              props.select();\n            }}\n            placeholder={placeholder}\n            submitButtonText={locale.submitEmail}\n            type={type}\n          />\n        ) : (\n          <WalletTypeRowButton\n            className=\"tw-select-button tw-select-button__phone\"\n            client={props.client}\n            disabled={props.disabled}\n            icon={PhoneIcon}\n            onClick={() => {\n              setManualInputMode(\"phone\");\n            }}\n            title={locale.phonePlaceholder}\n          />\n        ))}\n\n      {passKeyEnabled && (\n        <WalletTypeRowButton\n          className=\"tw-select-button tw-select-button__passkey\"\n          client={props.client}\n          disabled={props.disabled}\n          icon={FingerPrintIcon}\n          onClick={() => {\n            handlePassKeyLogin();\n          }}\n          title={locale.passkey}\n        />\n      )}\n\n      {/* SIWE login */}\n      {siweEnabled && !props.isLinking && (\n        <WalletTypeRowButton\n          className=\"tw-select-button tw-select-button__link-wallet\"\n          client={props.client}\n          icon={OutlineWalletIcon}\n          onClick={() => {\n            handleWalletLogin();\n          }}\n          title={locale.signInWithWallet}\n        />\n      )}\n\n      {/* Guest login */}\n      {guestEnabled && (\n        <WalletTypeRowButton\n          className=\"tw-select-button tw-select-button__guest\"\n          client={props.client}\n          disabled={props.disabled}\n          icon={GuestIcon}\n          onClick={() => {\n            handleGuestLogin();\n          }}\n          title={locale.loginAsGuest}\n        />\n      )}\n\n      {props.isLinking && (\n        <WalletTypeRowButton\n          className=\"tw-select-button tw-select-button__link-wallet\"\n          client={props.client}\n          icon={OutlineWalletIcon}\n          onClick={() => {\n            handleWalletLogin();\n          }}\n          title={locale.linkWallet}\n        />\n      )}\n    </Container>\n  );\n};\n\nconst SocialButtonRow = (props: { children: React.ReactNode[] }) => (\n  <Container\n    center=\"x\"\n    flex=\"row\"\n    gap={props.children.length > 4 ? \"xs\" : \"sm\"}\n    style={{\n      display: \"flex\",\n      justifyContent: \"center\",\n      ...{\n        \"& > *\": {\n          flexBasis: `${100 / props.children.length}%`,\n          maxWidth: `${100 / props.children.length}%`,\n        },\n      },\n    }}\n  >\n    {props.children}\n  </Container>\n);\n\nconst SocialButton = /* @__PURE__ */ styled(Button)({\n  \"&[data-variant='full']\": {\n    \"&:active\": {\n      boxShadow: \"none\",\n    },\n    display: \"flex\",\n    fontSize: fontSize.md,\n    fontWeight: 500,\n    gap: spacing.sm,\n    justifyContent: \"flex-start\",\n    padding: spacing.md,\n    transition: \"background-color 0.2s ease\",\n  },\n  \"&[data-variant='icon']\": {\n    padding: spacing.sm,\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}