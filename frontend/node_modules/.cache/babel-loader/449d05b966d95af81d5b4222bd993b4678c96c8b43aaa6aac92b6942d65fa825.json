{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport styled from \"@emotion/styled\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useState } from \"react\";\nimport { Buy, Sell } from \"../../../../../bridge/index.js\";\nimport { getToken } from \"../../../../../pay/convert/get-token.js\";\nimport { toTokens, toUnits } from \"../../../../../utils/units.js\";\nimport { useCustomTheme } from \"../../../../core/design-system/CustomThemeProvider.js\";\nimport { fontSize, iconSize, radius, spacing } from \"../../../../core/design-system/index.js\";\nimport { ConnectButton } from \"../../ConnectWallet/ConnectButton.js\";\nimport { DetailsModal } from \"../../ConnectWallet/Details.js\";\nimport { ArrowUpDownIcon } from \"../../ConnectWallet/icons/ArrowUpDownIcon.js\";\nimport connectLocaleEn from \"../../ConnectWallet/locale/en.js\";\nimport { PoweredByThirdweb } from \"../../ConnectWallet/PoweredByTW.js\";\nimport { formatCurrencyAmount, formatTokenAmount } from \"../../ConnectWallet/screens/formatTokenBalance.js\";\nimport { Container } from \"../../components/basic.js\";\nimport { Button } from \"../../components/buttons.js\";\nimport { Modal } from \"../../components/Modal.js\";\nimport { Skeleton } from \"../../components/Skeleton.js\";\nimport { Spacer } from \"../../components/Spacer.js\";\nimport { Spinner } from \"../../components/Spinner.js\";\nimport { Text } from \"../../components/text.js\";\nimport { useIsMobile } from \"../../hooks/useisMobile.js\";\nimport { ActiveWalletDetails } from \"../common/active-wallet-details.js\";\nimport { DecimalInput } from \"../common/decimal-input.js\";\nimport { SelectedTokenButton } from \"../common/selected-token-button.js\";\nimport { useTokenBalance } from \"../common/token-balance.js\";\nimport { SelectToken } from \"./select-token-ui.js\";\nimport { useBridgeChains } from \"./use-bridge-chains.js\";\nfunction useTokenPrice(options) {\n  return useQuery({\n    queryKey: [\"token-price\", options.token],\n    enabled: !!options.token,\n    queryFn: () => {\n      if (!options.token) {\n        throw new Error(\"Token is required\");\n      }\n      return getToken(options.client, options.token.tokenAddress, options.token.chainId);\n    },\n    refetchOnMount: false,\n    retry: false,\n    refetchOnWindowFocus: false\n  });\n}\n/**\n * @internal\n */\nexport function SwapUI(props) {\n  var _props$activeWalletIn, _props$activeWalletIn2, _sellTokenBalanceQuer, _buyTokenBalanceQuery;\n  const [modalState, setModalState] = useState({\n    screen: \"select-buy-token\",\n    isOpen: false\n  });\n  const [detailsModalOpen, setDetailsModalOpen] = useState(false);\n  const isMobile = useIsMobile();\n  // Token Prices ----------------------------------------------------------------------------\n  const buyTokenQuery = useTokenPrice({\n    token: props.buyToken,\n    client: props.client\n  });\n  const sellTokenQuery = useTokenPrice({\n    token: props.sellToken,\n    client: props.client\n  });\n  const buyTokenWithPrices = buyTokenQuery.data;\n  const sellTokenWithPrices = sellTokenQuery.data;\n  // Swap Quote ----------------------------------------------------------------------------\n  const preparedResultQuery = useSwapQuote({\n    amountSelection: props.amountSelection,\n    buyTokenWithPrices: buyTokenWithPrices,\n    sellTokenWithPrices: sellTokenWithPrices,\n    activeWalletInfo: props.activeWalletInfo,\n    client: props.client\n  });\n  // Amount and Amount.fetching ------------------------------------------------------------\n  const sellTokenAmount = props.amountSelection.type === \"sell\" ? props.amountSelection.amount : preparedResultQuery.data && props.amountSelection.type === \"buy\" && sellTokenWithPrices ? toTokens(preparedResultQuery.data.result.originAmount, sellTokenWithPrices.decimals) : \"\";\n  const buyTokenAmount = props.amountSelection.type === \"buy\" ? props.amountSelection.amount : preparedResultQuery.data && props.amountSelection.type === \"sell\" && buyTokenWithPrices ? toTokens(preparedResultQuery.data.result.destinationAmount, buyTokenWithPrices.decimals) : \"\";\n  // when buy amount is set, the sell amount is fetched\n  const isBuyAmountFetching = props.amountSelection.type === \"sell\" && preparedResultQuery.isFetching;\n  const isSellAmountFetching = props.amountSelection.type === \"buy\" && preparedResultQuery.isFetching;\n  // token balances ------------------------------------------------------------\n  const sellTokenBalanceQuery = useTokenBalance({\n    chainId: sellTokenWithPrices === null || sellTokenWithPrices === void 0 ? void 0 : sellTokenWithPrices.chainId,\n    tokenAddress: sellTokenWithPrices === null || sellTokenWithPrices === void 0 ? void 0 : sellTokenWithPrices.address,\n    client: props.client,\n    walletAddress: (_props$activeWalletIn = props.activeWalletInfo) === null || _props$activeWalletIn === void 0 ? void 0 : _props$activeWalletIn.activeAccount.address\n  });\n  const buyTokenBalanceQuery = useTokenBalance({\n    chainId: buyTokenWithPrices === null || buyTokenWithPrices === void 0 ? void 0 : buyTokenWithPrices.chainId,\n    tokenAddress: buyTokenWithPrices === null || buyTokenWithPrices === void 0 ? void 0 : buyTokenWithPrices.address,\n    client: props.client,\n    walletAddress: (_props$activeWalletIn2 = props.activeWalletInfo) === null || _props$activeWalletIn2 === void 0 ? void 0 : _props$activeWalletIn2.activeAccount.address\n  });\n  const notEnoughBalance = !!(sellTokenBalanceQuery.data && sellTokenWithPrices && props.amountSelection.amount && !!sellTokenAmount && sellTokenBalanceQuery.data.value < Number(toUnits(sellTokenAmount, sellTokenWithPrices.decimals)));\n  // ----------------------------------------------------------------------------\n  const disableContinue = !preparedResultQuery.data || preparedResultQuery.isFetching || notEnoughBalance;\n  return _jsxs(Container, {\n    p: \"md\",\n    children: [_jsxs(Modal, {\n      hide: false,\n      autoFocusCrossIcon: false,\n      className: \"tw-modal__swap-widget\",\n      size: isMobile ? \"compact\" : \"wide\",\n      title: \"Select Token\",\n      open: modalState.isOpen,\n      crossContainerStyles: {\n        right: spacing.md,\n        top: spacing[\"md+\"],\n        transform: \"none\"\n      },\n      setOpen: v => {\n        if (!v) {\n          setModalState(v => _objectSpread(_objectSpread({}, v), {}, {\n            isOpen: false\n          }));\n        }\n      },\n      children: [modalState.screen === \"select-buy-token\" && _jsx(SelectToken, {\n        activeWalletInfo: props.activeWalletInfo,\n        onClose: () => {\n          setModalState(v => _objectSpread(_objectSpread({}, v), {}, {\n            isOpen: false\n          }));\n        },\n        client: props.client,\n        selectedToken: props.buyToken,\n        setSelectedToken: token => {\n          props.setBuyToken(token);\n          // if buy token is same as sell token, unset sell token\n          if (props.sellToken && token.tokenAddress.toLowerCase() === props.sellToken.tokenAddress.toLowerCase() && token.chainId === props.sellToken.chainId) {\n            props.setSellToken(undefined);\n          }\n        }\n      }), modalState.screen === \"select-sell-token\" && _jsx(SelectToken, {\n        onClose: () => {\n          setModalState(v => _objectSpread(_objectSpread({}, v), {}, {\n            isOpen: false\n          }));\n        },\n        client: props.client,\n        selectedToken: props.sellToken,\n        setSelectedToken: token => {\n          props.setSellToken(token);\n          // if sell token is same as buy token, unset buy token\n          if (props.buyToken && token.tokenAddress.toLowerCase() === props.buyToken.tokenAddress.toLowerCase() && token.chainId === props.buyToken.chainId) {\n            props.setBuyToken(undefined);\n          }\n        },\n        activeWalletInfo: props.activeWalletInfo\n      })]\n    }), detailsModalOpen && _jsx(DetailsModal, {\n      client: props.client,\n      locale: connectLocaleEn,\n      detailsModal: undefined,\n      theme: props.theme,\n      closeModal: () => {\n        setDetailsModalOpen(false);\n      },\n      onDisconnect: () => {\n        var _props$onDisconnect;\n        (_props$onDisconnect = props.onDisconnect) === null || _props$onDisconnect === void 0 || _props$onDisconnect.call(props);\n      },\n      chains: [],\n      connectOptions: props.connectOptions\n    }), _jsx(TokenSection, {\n      onMaxClick: () => {\n        if (sellTokenBalanceQuery.data) {\n          props.setAmountSelection({\n            type: \"sell\",\n            amount: sellTokenBalanceQuery.data.displayValue\n          });\n        }\n      },\n      activeWalletInfo: props.activeWalletInfo,\n      isConnected: !!props.activeWalletInfo,\n      balance: {\n        data: (_sellTokenBalanceQuer = sellTokenBalanceQuery.data) === null || _sellTokenBalanceQuer === void 0 ? void 0 : _sellTokenBalanceQuer.value,\n        isFetching: sellTokenBalanceQuery.isFetching\n      },\n      amount: {\n        data: sellTokenAmount,\n        isFetching: isSellAmountFetching\n      },\n      type: \"sell\",\n      setAmount: value => {\n        props.setAmountSelection({\n          type: \"sell\",\n          amount: value\n        });\n      },\n      selectedToken: props.sellToken ? {\n        data: sellTokenQuery.data,\n        isFetching: sellTokenQuery.isFetching,\n        isError: sellTokenQuery.isError\n      } : undefined,\n      client: props.client,\n      currency: props.currency,\n      onSelectToken: () => setModalState({\n        screen: \"select-sell-token\",\n        isOpen: true\n      }),\n      onWalletClick: () => {\n        setDetailsModalOpen(true);\n      }\n    }), _jsx(SwitchButton, {\n      onClick: () => {\n        // switch tokens\n        const temp = props.sellToken;\n        props.setSellToken(props.buyToken);\n        props.setBuyToken(temp);\n        props.setAmountSelection({\n          type: props.amountSelection.type === \"buy\" ? \"sell\" : \"buy\",\n          amount: props.amountSelection.amount\n        });\n      }\n    }), _jsx(TokenSection, {\n      onMaxClick: undefined,\n      onWalletClick: () => {\n        setDetailsModalOpen(true);\n      },\n      activeWalletInfo: props.activeWalletInfo,\n      isConnected: !!props.activeWalletInfo,\n      balance: {\n        data: (_buyTokenBalanceQuery = buyTokenBalanceQuery.data) === null || _buyTokenBalanceQuery === void 0 ? void 0 : _buyTokenBalanceQuery.value,\n        isFetching: buyTokenBalanceQuery.isFetching\n      },\n      amount: {\n        data: buyTokenAmount,\n        isFetching: isBuyAmountFetching\n      },\n      type: \"buy\",\n      selectedToken: props.buyToken ? {\n        data: buyTokenQuery.data,\n        isFetching: buyTokenQuery.isFetching,\n        isError: buyTokenQuery.isError\n      } : undefined,\n      setAmount: value => {\n        props.setAmountSelection({\n          type: \"buy\",\n          amount: value\n        });\n      },\n      client: props.client,\n      currency: props.currency,\n      onSelectToken: () => setModalState({\n        screen: \"select-buy-token\",\n        isOpen: true\n      })\n    }), preparedResultQuery.error || buyTokenQuery.isError || sellTokenQuery.isError ? _jsx(Text, {\n      size: \"sm\",\n      color: \"danger\",\n      multiline: true,\n      center: true,\n      style: {\n        paddingBlock: spacing.md\n      },\n      children: preparedResultQuery.error ? preparedResultQuery.error.message || \"Failed to get a quote\" : buyTokenQuery.isError ? \"Failed to fetch buy token details\" : sellTokenQuery.isError ? \"Failed to fetch sell token details\" : \"Failed to get a quote\"\n    }) : _jsx(Spacer, {\n      y: \"md\"\n    }), !props.activeWalletInfo ? _jsx(ConnectButton, _objectSpread({\n      client: props.client,\n      connectButton: {\n        label: \"Swap\",\n        style: {\n          width: \"100%\",\n          borderRadius: radius.full\n        }\n      },\n      theme: props.theme\n    }, props.connectOptions)) : _jsxs(Button, {\n      disabled: disableContinue,\n      fullWidth: true,\n      onClick: () => {\n        if (preparedResultQuery.data && buyTokenWithPrices && sellTokenWithPrices && sellTokenBalanceQuery.data && preparedResultQuery.data.type === \"preparedResult\") {\n          props.onSwap({\n            result: preparedResultQuery.data.result,\n            request: preparedResultQuery.data.request,\n            buyToken: buyTokenWithPrices,\n            sellToken: sellTokenWithPrices,\n            sellTokenBalance: sellTokenBalanceQuery.data.value,\n            mode: props.amountSelection.type\n          });\n        }\n      },\n      gap: \"xs\",\n      style: {\n        fontSize: fontSize.md,\n        borderRadius: radius.full,\n        opacity: disableContinue ? 0.5 : 1\n      },\n      variant: \"primary\",\n      children: [preparedResultQuery.isFetching && _jsx(Spinner, {\n        size: \"sm\"\n      }), preparedResultQuery.isFetching ? \"Fetching Quote\" : notEnoughBalance ? \"Insufficient Balance\" : \"Swap\"]\n    }), props.showThirdwebBranding ? _jsxs(\"div\", {\n      children: [_jsx(Spacer, {\n        y: \"md\"\n      }), _jsx(PoweredByThirdweb, {\n        link: \"https://thirdweb.com/monetize/bridge\"\n      })]\n    }) : null]\n  });\n}\nfunction useSwapQuote(params) {\n  const {\n    amountSelection,\n    buyTokenWithPrices,\n    sellTokenWithPrices,\n    activeWalletInfo,\n    client\n  } = params;\n  return useQuery({\n    queryKey: [\"swap-quote\", amountSelection, buyTokenWithPrices, sellTokenWithPrices, activeWalletInfo === null || activeWalletInfo === void 0 ? void 0 : activeWalletInfo.activeAccount.address],\n    retry: false,\n    enabled: !!buyTokenWithPrices && !!sellTokenWithPrices && !!amountSelection.amount,\n    queryFn: async () => {\n      if (!buyTokenWithPrices || !sellTokenWithPrices || !amountSelection.amount) {\n        throw new Error(\"Invalid state\");\n      }\n      if (!activeWalletInfo) {\n        if (amountSelection.type === \"buy\") {\n          const res = await Buy.quote({\n            amount: toUnits(amountSelection.amount, buyTokenWithPrices.decimals),\n            // origin = sell\n            originChainId: sellTokenWithPrices.chainId,\n            originTokenAddress: sellTokenWithPrices.address,\n            // destination = buy\n            destinationChainId: buyTokenWithPrices.chainId,\n            destinationTokenAddress: buyTokenWithPrices.address,\n            client: client\n          });\n          return {\n            type: \"quote\",\n            result: res\n          };\n        }\n        const res = await Sell.quote({\n          amount: toUnits(amountSelection.amount, sellTokenWithPrices.decimals),\n          // origin = sell\n          originChainId: sellTokenWithPrices.chainId,\n          originTokenAddress: sellTokenWithPrices.address,\n          // destination = buy\n          destinationChainId: buyTokenWithPrices.chainId,\n          destinationTokenAddress: buyTokenWithPrices.address,\n          client: client\n        });\n        return {\n          type: \"quote\",\n          result: res\n        };\n      }\n      if (amountSelection.type === \"buy\") {\n        const buyRequestOptions = {\n          amount: toUnits(amountSelection.amount, buyTokenWithPrices.decimals),\n          // origin = sell\n          originChainId: sellTokenWithPrices.chainId,\n          originTokenAddress: sellTokenWithPrices.address,\n          // destination = buy\n          destinationChainId: buyTokenWithPrices.chainId,\n          destinationTokenAddress: buyTokenWithPrices.address,\n          client: client,\n          receiver: activeWalletInfo.activeAccount.address,\n          sender: activeWalletInfo.activeAccount.address\n        };\n        const buyRequest = _objectSpread({\n          type: \"buy\"\n        }, buyRequestOptions);\n        const res = await Buy.prepare(buyRequest);\n        return {\n          type: \"preparedResult\",\n          result: _objectSpread({\n            type: \"buy\"\n          }, res),\n          request: buyRequest\n        };\n      } else if (amountSelection.type === \"sell\") {\n        const sellRequestOptions = {\n          amount: toUnits(amountSelection.amount, sellTokenWithPrices.decimals),\n          // origin = sell\n          originChainId: sellTokenWithPrices.chainId,\n          originTokenAddress: sellTokenWithPrices.address,\n          // destination = buy\n          destinationChainId: buyTokenWithPrices.chainId,\n          destinationTokenAddress: buyTokenWithPrices.address,\n          client: client,\n          receiver: activeWalletInfo.activeAccount.address,\n          sender: activeWalletInfo.activeAccount.address\n        };\n        const res = await Sell.prepare(sellRequestOptions);\n        const sellRequest = _objectSpread({\n          type: \"sell\"\n        }, sellRequestOptions);\n        return {\n          type: \"preparedResult\",\n          result: _objectSpread({\n            type: \"sell\"\n          }, res),\n          request: sellRequest\n        };\n      }\n      throw new Error(\"Invalid amount selection type\");\n    },\n    refetchInterval: 20000\n  });\n}\nfunction TokenSection(props) {\n  var _chainQuery$data, _props$selectedToken2;\n  const theme = useCustomTheme();\n  const chainQuery = useBridgeChains(props.client);\n  const chain = (_chainQuery$data = chainQuery.data) === null || _chainQuery$data === void 0 ? void 0 : _chainQuery$data.find(chain => {\n    var _props$selectedToken;\n    return chain.chainId === ((_props$selectedToken = props.selectedToken) === null || _props$selectedToken === void 0 || (_props$selectedToken = _props$selectedToken.data) === null || _props$selectedToken === void 0 ? void 0 : _props$selectedToken.chainId);\n  });\n  const fiatPricePerToken = (_props$selectedToken2 = props.selectedToken) === null || _props$selectedToken2 === void 0 || (_props$selectedToken2 = _props$selectedToken2.data) === null || _props$selectedToken2 === void 0 ? void 0 : _props$selectedToken2.prices[props.currency];\n  const totalFiatValue = !props.amount.data ? undefined : fiatPricePerToken ? fiatPricePerToken * Number(props.amount.data) : undefined;\n  return _jsxs(Container, {\n    style: {\n      borderRadius: radius.xl,\n      borderWidth: 1,\n      borderStyle: \"solid\",\n      position: \"relative\",\n      overflow: \"hidden\"\n    },\n    borderColor: \"borderColor\",\n    children: [_jsx(Container, {\n      bg: \"tertiaryBg\",\n      style: {\n        position: \"absolute\",\n        inset: 0,\n        opacity: 0.5,\n        zIndex: 0\n      }\n    }), _jsxs(Container, {\n      style: {\n        position: \"relative\",\n        zIndex: 1\n      },\n      children: [_jsxs(Container, {\n        px: \"md\",\n        py: \"sm\",\n        relative: true,\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        children: [_jsx(Container, {\n          flex: \"row\",\n          center: \"y\",\n          gap: \"3xs\",\n          color: \"secondaryText\",\n          children: _jsx(Text, {\n            size: \"xs\",\n            color: \"primaryText\",\n            style: {\n              letterSpacing: \"0.07em\"\n            },\n            children: props.type === \"buy\" ? \"BUY\" : \"SELL\"\n          })\n        }), props.activeWalletInfo && _jsx(ActiveWalletDetails, {\n          activeWalletInfo: props.activeWalletInfo,\n          client: props.client,\n          onClick: props.onWalletClick\n        })]\n      }), _jsxs(Container, {\n        bg: \"tertiaryBg\",\n        style: {\n          position: \"relative\",\n          overflow: \"hidden\",\n          borderRadius: radius.xl,\n          borderTop: \"1px solid \".concat(theme.colors.borderColor)\n        },\n        children: [_jsx(SelectedTokenButton, {\n          selectedToken: props.selectedToken,\n          client: props.client,\n          onSelectToken: props.onSelectToken,\n          chain: chain\n        }), _jsxs(Container, {\n          px: \"md\",\n          py: \"md\",\n          children: [_jsxs(Container, {\n            flex: \"row\",\n            gap: \"xs\",\n            center: \"y\",\n            style: {\n              flexWrap: \"nowrap\"\n            },\n            children: [props.amount.isFetching ? _jsx(\"div\", {\n              style: {\n                flexGrow: 1\n              },\n              children: _jsx(Skeleton, {\n                height: \"30px\",\n                width: \"140px\",\n                style: {\n                  borderRadius: radius.lg\n                }\n              })\n            }) : _jsx(DecimalInput, {\n              value: props.amount.data,\n              setValue: props.setAmount,\n              style: {\n                border: \"none\",\n                boxShadow: \"none\",\n                fontSize: fontSize.xl,\n                fontWeight: 500,\n                paddingInline: 0,\n                paddingBlock: 0,\n                letterSpacing: \"-0.025em\",\n                height: \"30px\"\n              }\n            }), props.activeWalletInfo && props.onMaxClick && props.selectedToken && _jsx(Button, {\n              variant: \"outline\",\n              style: {\n                paddingInline: spacing.xs,\n                paddingBlock: spacing.xxs,\n                borderRadius: radius.full,\n                fontSize: fontSize.xs,\n                fontWeight: 400\n              },\n              onClick: props.onMaxClick,\n              children: \"Max\"\n            })]\n          }), _jsx(Spacer, {\n            y: \"sm\"\n          }), _jsxs(\"div\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: \"4px\",\n              justifyContent: \"space-between\"\n            },\n            children: [_jsx(\"div\", {\n              style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: \"3px\"\n              },\n              children: props.amount.isFetching ? _jsx(Skeleton, {\n                height: fontSize.xs,\n                width: \"50px\"\n              }) : _jsx(Text, {\n                size: \"xs\",\n                color: \"secondaryText\",\n                children: formatCurrencyAmount(props.currency, totalFiatValue || 0)\n              })\n            }), props.isConnected && props.selectedToken && _jsx(\"div\", {\n              children: props.balance.data === undefined || props.selectedToken.data === undefined ? _jsx(Skeleton, {\n                height: fontSize.xs,\n                width: \"100px\"\n              }) : _jsxs(\"div\", {\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"3px\"\n                },\n                children: [_jsx(Text, {\n                  size: \"xs\",\n                  color: \"secondaryText\",\n                  children: \"Balance:\"\n                }), _jsx(Text, {\n                  size: \"xs\",\n                  color: \"primaryText\",\n                  children: formatTokenAmount(props.balance.data, props.selectedToken.data.decimals, 5)\n                })]\n              })\n            })]\n          })]\n        })]\n      })]\n    })]\n  });\n}\nfunction SwitchButton(props) {\n  return _jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      marginBlock: \"-13px\",\n      zIndex: 2,\n      position: \"relative\"\n    },\n    children: _jsx(SwitchButtonInner, {\n      variant: \"ghost-solid\",\n      onClick: e => {\n        props.onClick();\n        const node = e.currentTarget.querySelector(\"svg\");\n        if (node) {\n          node.style.transform = \"rotate(180deg)\";\n          node.style.transition = \"transform 300ms ease\";\n          setTimeout(() => {\n            node.style.transition = \"\";\n            node.style.transform = \"rotate(0deg)\";\n          }, 300);\n        }\n      },\n      children: _jsx(ArrowUpDownIcon, {\n        size: iconSize[\"sm+\"]\n      })\n    })\n  });\n}\nconst SwitchButtonInner = /* @__PURE__ */styled(Button)(() => {\n  const theme = useCustomTheme();\n  return {\n    \"&:hover\": {\n      background: theme.colors.secondaryButtonBg\n    },\n    borderRadius: radius.full,\n    padding: spacing.xs,\n    color: theme.colors.primaryText,\n    background: theme.colors.modalBg,\n    border: \"1px solid \".concat(theme.colors.borderColor)\n  };\n});","map":{"version":3,"names":["styled","useQuery","useState","Buy","Sell","getToken","toTokens","toUnits","useCustomTheme","fontSize","iconSize","radius","spacing","ConnectButton","DetailsModal","ArrowUpDownIcon","connectLocaleEn","PoweredByThirdweb","formatCurrencyAmount","formatTokenAmount","Container","Button","Modal","Skeleton","Spacer","Spinner","Text","useIsMobile","ActiveWalletDetails","DecimalInput","SelectedTokenButton","useTokenBalance","SelectToken","useBridgeChains","useTokenPrice","options","queryKey","token","enabled","queryFn","Error","client","tokenAddress","chainId","refetchOnMount","retry","refetchOnWindowFocus","SwapUI","props","_props$activeWalletIn","_props$activeWalletIn2","_sellTokenBalanceQuer","_buyTokenBalanceQuery","modalState","setModalState","screen","isOpen","detailsModalOpen","setDetailsModalOpen","isMobile","buyTokenQuery","buyToken","sellTokenQuery","sellToken","buyTokenWithPrices","data","sellTokenWithPrices","preparedResultQuery","useSwapQuote","amountSelection","activeWalletInfo","sellTokenAmount","type","amount","result","originAmount","decimals","buyTokenAmount","destinationAmount","isBuyAmountFetching","isFetching","isSellAmountFetching","sellTokenBalanceQuery","address","walletAddress","activeAccount","buyTokenBalanceQuery","notEnoughBalance","value","Number","disableContinue","_jsxs","p","children","hide","autoFocusCrossIcon","className","size","title","open","crossContainerStyles","right","md","top","transform","setOpen","v","_objectSpread","_jsx","onClose","selectedToken","setSelectedToken","setBuyToken","toLowerCase","setSellToken","undefined","locale","detailsModal","theme","closeModal","onDisconnect","_props$onDisconnect","call","chains","connectOptions","TokenSection","onMaxClick","setAmountSelection","displayValue","isConnected","balance","setAmount","isError","currency","onSelectToken","onWalletClick","SwitchButton","onClick","temp","error","color","multiline","center","style","paddingBlock","message","y","connectButton","label","width","borderRadius","full","disabled","fullWidth","onSwap","request","sellTokenBalance","mode","gap","opacity","variant","showThirdwebBranding","link","params","res","quote","originChainId","originTokenAddress","destinationChainId","destinationTokenAddress","buyRequestOptions","receiver","sender","buyRequest","prepare","sellRequestOptions","sellRequest","refetchInterval","_chainQuery$data","_props$selectedToken2","chainQuery","chain","find","_props$selectedToken","fiatPricePerToken","prices","totalFiatValue","xl","borderWidth","borderStyle","position","overflow","borderColor","bg","inset","zIndex","px","py","relative","display","justifyContent","alignItems","flex","letterSpacing","borderTop","concat","colors","flexWrap","flexGrow","height","lg","setValue","border","boxShadow","fontWeight","paddingInline","xs","xxs","marginBlock","SwitchButtonInner","e","node","currentTarget","querySelector","transition","setTimeout","background","secondaryButtonBg","padding","primaryText","modalBg"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/Bridge/swap-widget/swap-ui.tsx"],"sourcesContent":["import styled from \"@emotion/styled\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useState } from \"react\";\nimport type { prepare as BuyPrepare } from \"../../../../../bridge/Buy.js\";\nimport { Buy, Sell } from \"../../../../../bridge/index.js\";\nimport type { prepare as SellPrepare } from \"../../../../../bridge/Sell.js\";\nimport type { TokenWithPrices } from \"../../../../../bridge/types/Token.js\";\nimport type { ThirdwebClient } from \"../../../../../client/client.js\";\nimport { getToken } from \"../../../../../pay/convert/get-token.js\";\nimport type { SupportedFiatCurrency } from \"../../../../../pay/convert/type.js\";\nimport { toTokens, toUnits } from \"../../../../../utils/units.js\";\nimport { useCustomTheme } from \"../../../../core/design-system/CustomThemeProvider.js\";\nimport {\n  fontSize,\n  iconSize,\n  radius,\n  spacing,\n  type Theme,\n} from \"../../../../core/design-system/index.js\";\nimport type { BridgePrepareRequest } from \"../../../../core/hooks/useBridgePrepare.js\";\nimport { ConnectButton } from \"../../ConnectWallet/ConnectButton.js\";\nimport { DetailsModal } from \"../../ConnectWallet/Details.js\";\nimport { ArrowUpDownIcon } from \"../../ConnectWallet/icons/ArrowUpDownIcon.js\";\nimport connectLocaleEn from \"../../ConnectWallet/locale/en.js\";\nimport { PoweredByThirdweb } from \"../../ConnectWallet/PoweredByTW.js\";\nimport {\n  formatCurrencyAmount,\n  formatTokenAmount,\n} from \"../../ConnectWallet/screens/formatTokenBalance.js\";\nimport { Container } from \"../../components/basic.js\";\nimport { Button } from \"../../components/buttons.js\";\nimport { Modal } from \"../../components/Modal.js\";\nimport { Skeleton } from \"../../components/Skeleton.js\";\nimport { Spacer } from \"../../components/Spacer.js\";\nimport { Spinner } from \"../../components/Spinner.js\";\nimport { Text } from \"../../components/text.js\";\nimport { useIsMobile } from \"../../hooks/useisMobile.js\";\nimport { ActiveWalletDetails } from \"../common/active-wallet-details.js\";\nimport { DecimalInput } from \"../common/decimal-input.js\";\nimport { SelectedTokenButton } from \"../common/selected-token-button.js\";\nimport { useTokenBalance } from \"../common/token-balance.js\";\nimport { SelectToken } from \"./select-token-ui.js\";\nimport type {\n  ActiveWalletInfo,\n  SwapPreparedQuote,\n  SwapWidgetConnectOptions,\n  TokenSelection,\n} from \"./types.js\";\nimport { useBridgeChains } from \"./use-bridge-chains.js\";\n\ntype SwapUIProps = {\n  activeWalletInfo: ActiveWalletInfo | undefined;\n  client: ThirdwebClient;\n  theme: Theme | \"light\" | \"dark\";\n  connectOptions: SwapWidgetConnectOptions | undefined;\n  currency: SupportedFiatCurrency;\n  showThirdwebBranding: boolean;\n  onSwap: (data: {\n    result: SwapPreparedQuote;\n    request: BridgePrepareRequest;\n    buyToken: TokenWithPrices;\n    sellTokenBalance: bigint;\n    sellToken: TokenWithPrices;\n    mode: \"buy\" | \"sell\";\n  }) => void;\n  buyToken: TokenSelection | undefined;\n  sellToken: TokenSelection | undefined;\n  setBuyToken: (token: TokenSelection | undefined) => void;\n  setSellToken: (token: TokenSelection | undefined) => void;\n  amountSelection: {\n    type: \"buy\" | \"sell\";\n    amount: string;\n  };\n  setAmountSelection: (amountSelection: {\n    type: \"buy\" | \"sell\";\n    amount: string;\n  }) => void;\n  onDisconnect: (() => void) | undefined;\n};\n\nfunction useTokenPrice(options: {\n  token: TokenSelection | undefined;\n  client: ThirdwebClient;\n}) {\n  return useQuery({\n    queryKey: [\"token-price\", options.token],\n    enabled: !!options.token,\n    queryFn: () => {\n      if (!options.token) {\n        throw new Error(\"Token is required\");\n      }\n      return getToken(\n        options.client,\n        options.token.tokenAddress,\n        options.token.chainId,\n      );\n    },\n    refetchOnMount: false,\n    retry: false,\n    refetchOnWindowFocus: false,\n  });\n}\n\n/**\n * @internal\n */\nexport function SwapUI(props: SwapUIProps) {\n  const [modalState, setModalState] = useState<{\n    screen: \"select-buy-token\" | \"select-sell-token\";\n    isOpen: boolean;\n  }>({\n    screen: \"select-buy-token\",\n    isOpen: false,\n  });\n\n  const [detailsModalOpen, setDetailsModalOpen] = useState(false);\n  const isMobile = useIsMobile();\n\n  // Token Prices ----------------------------------------------------------------------------\n  const buyTokenQuery = useTokenPrice({\n    token: props.buyToken,\n    client: props.client,\n  });\n  const sellTokenQuery = useTokenPrice({\n    token: props.sellToken,\n    client: props.client,\n  });\n\n  const buyTokenWithPrices = buyTokenQuery.data;\n  const sellTokenWithPrices = sellTokenQuery.data;\n\n  // Swap Quote ----------------------------------------------------------------------------\n  const preparedResultQuery = useSwapQuote({\n    amountSelection: props.amountSelection,\n    buyTokenWithPrices: buyTokenWithPrices,\n    sellTokenWithPrices: sellTokenWithPrices,\n    activeWalletInfo: props.activeWalletInfo,\n    client: props.client,\n  });\n\n  // Amount and Amount.fetching ------------------------------------------------------------\n\n  const sellTokenAmount =\n    props.amountSelection.type === \"sell\"\n      ? props.amountSelection.amount\n      : preparedResultQuery.data &&\n          props.amountSelection.type === \"buy\" &&\n          sellTokenWithPrices\n        ? toTokens(\n            preparedResultQuery.data.result.originAmount,\n            sellTokenWithPrices.decimals,\n          )\n        : \"\";\n\n  const buyTokenAmount =\n    props.amountSelection.type === \"buy\"\n      ? props.amountSelection.amount\n      : preparedResultQuery.data &&\n          props.amountSelection.type === \"sell\" &&\n          buyTokenWithPrices\n        ? toTokens(\n            preparedResultQuery.data.result.destinationAmount,\n            buyTokenWithPrices.decimals,\n          )\n        : \"\";\n\n  // when buy amount is set, the sell amount is fetched\n  const isBuyAmountFetching =\n    props.amountSelection.type === \"sell\" && preparedResultQuery.isFetching;\n  const isSellAmountFetching =\n    props.amountSelection.type === \"buy\" && preparedResultQuery.isFetching;\n\n  // token balances ------------------------------------------------------------\n  const sellTokenBalanceQuery = useTokenBalance({\n    chainId: sellTokenWithPrices?.chainId,\n    tokenAddress: sellTokenWithPrices?.address,\n    client: props.client,\n    walletAddress: props.activeWalletInfo?.activeAccount.address,\n  });\n\n  const buyTokenBalanceQuery = useTokenBalance({\n    chainId: buyTokenWithPrices?.chainId,\n    tokenAddress: buyTokenWithPrices?.address,\n    client: props.client,\n    walletAddress: props.activeWalletInfo?.activeAccount.address,\n  });\n\n  const notEnoughBalance = !!(\n    sellTokenBalanceQuery.data &&\n    sellTokenWithPrices &&\n    props.amountSelection.amount &&\n    !!sellTokenAmount &&\n    sellTokenBalanceQuery.data.value <\n      Number(toUnits(sellTokenAmount, sellTokenWithPrices.decimals))\n  );\n\n  // ----------------------------------------------------------------------------\n  const disableContinue =\n    !preparedResultQuery.data ||\n    preparedResultQuery.isFetching ||\n    notEnoughBalance;\n\n  return (\n    <Container p=\"md\">\n      <Modal\n        hide={false}\n        autoFocusCrossIcon={false}\n        className=\"tw-modal__swap-widget\"\n        size={isMobile ? \"compact\" : \"wide\"}\n        title=\"Select Token\"\n        open={modalState.isOpen}\n        crossContainerStyles={{\n          right: spacing.md,\n          top: spacing[\"md+\"],\n          transform: \"none\",\n        }}\n        setOpen={(v) => {\n          if (!v) {\n            setModalState((v) => ({\n              ...v,\n              isOpen: false,\n            }));\n          }\n        }}\n      >\n        {modalState.screen === \"select-buy-token\" && (\n          <SelectToken\n            activeWalletInfo={props.activeWalletInfo}\n            onClose={() => {\n              setModalState((v) => ({\n                ...v,\n                isOpen: false,\n              }));\n            }}\n            client={props.client}\n            selectedToken={props.buyToken}\n            setSelectedToken={(token) => {\n              props.setBuyToken(token);\n              // if buy token is same as sell token, unset sell token\n              if (\n                props.sellToken &&\n                token.tokenAddress.toLowerCase() ===\n                  props.sellToken.tokenAddress.toLowerCase() &&\n                token.chainId === props.sellToken.chainId\n              ) {\n                props.setSellToken(undefined);\n              }\n            }}\n          />\n        )}\n\n        {modalState.screen === \"select-sell-token\" && (\n          <SelectToken\n            onClose={() => {\n              setModalState((v) => ({\n                ...v,\n                isOpen: false,\n              }));\n            }}\n            client={props.client}\n            selectedToken={props.sellToken}\n            setSelectedToken={(token) => {\n              props.setSellToken(token);\n              // if sell token is same as buy token, unset buy token\n              if (\n                props.buyToken &&\n                token.tokenAddress.toLowerCase() ===\n                  props.buyToken.tokenAddress.toLowerCase() &&\n                token.chainId === props.buyToken.chainId\n              ) {\n                props.setBuyToken(undefined);\n              }\n            }}\n            activeWalletInfo={props.activeWalletInfo}\n          />\n        )}\n      </Modal>\n\n      {detailsModalOpen && (\n        <DetailsModal\n          client={props.client}\n          locale={connectLocaleEn}\n          detailsModal={undefined}\n          theme={props.theme}\n          closeModal={() => {\n            setDetailsModalOpen(false);\n          }}\n          onDisconnect={() => {\n            props.onDisconnect?.();\n          }}\n          chains={[]}\n          connectOptions={props.connectOptions}\n        />\n      )}\n\n      {/* Sell  */}\n      <TokenSection\n        onMaxClick={() => {\n          if (sellTokenBalanceQuery.data) {\n            props.setAmountSelection({\n              type: \"sell\",\n              amount: sellTokenBalanceQuery.data.displayValue,\n            });\n          }\n        }}\n        activeWalletInfo={props.activeWalletInfo}\n        isConnected={!!props.activeWalletInfo}\n        balance={{\n          data: sellTokenBalanceQuery.data?.value,\n          isFetching: sellTokenBalanceQuery.isFetching,\n        }}\n        amount={{\n          data: sellTokenAmount,\n          isFetching: isSellAmountFetching,\n        }}\n        type=\"sell\"\n        setAmount={(value) => {\n          props.setAmountSelection({ type: \"sell\", amount: value });\n        }}\n        selectedToken={\n          props.sellToken\n            ? {\n                data: sellTokenQuery.data,\n                isFetching: sellTokenQuery.isFetching,\n                isError: sellTokenQuery.isError,\n              }\n            : undefined\n        }\n        client={props.client}\n        currency={props.currency}\n        onSelectToken={() =>\n          setModalState({\n            screen: \"select-sell-token\",\n            isOpen: true,\n          })\n        }\n        onWalletClick={() => {\n          setDetailsModalOpen(true);\n        }}\n      />\n\n      {/* Switch */}\n      <SwitchButton\n        onClick={() => {\n          // switch tokens\n          const temp = props.sellToken;\n          props.setSellToken(props.buyToken);\n          props.setBuyToken(temp);\n          props.setAmountSelection({\n            type: props.amountSelection.type === \"buy\" ? \"sell\" : \"buy\",\n            amount: props.amountSelection.amount,\n          });\n        }}\n      />\n\n      {/* Buy */}\n      <TokenSection\n        onMaxClick={undefined}\n        onWalletClick={() => {\n          setDetailsModalOpen(true);\n        }}\n        activeWalletInfo={props.activeWalletInfo}\n        isConnected={!!props.activeWalletInfo}\n        balance={{\n          data: buyTokenBalanceQuery.data?.value,\n          isFetching: buyTokenBalanceQuery.isFetching,\n        }}\n        amount={{\n          data: buyTokenAmount,\n          isFetching: isBuyAmountFetching,\n        }}\n        type=\"buy\"\n        selectedToken={\n          props.buyToken\n            ? {\n                data: buyTokenQuery.data,\n                isFetching: buyTokenQuery.isFetching,\n                isError: buyTokenQuery.isError,\n              }\n            : undefined\n        }\n        setAmount={(value) => {\n          props.setAmountSelection({ type: \"buy\", amount: value });\n        }}\n        client={props.client}\n        currency={props.currency}\n        onSelectToken={() =>\n          setModalState({\n            screen: \"select-buy-token\",\n            isOpen: true,\n          })\n        }\n      />\n\n      {/* error message */}\n      {preparedResultQuery.error ||\n      buyTokenQuery.isError ||\n      sellTokenQuery.isError ? (\n        <Text\n          size=\"sm\"\n          color=\"danger\"\n          multiline\n          center\n          style={{\n            paddingBlock: spacing.md,\n          }}\n        >\n          {preparedResultQuery.error\n            ? preparedResultQuery.error.message || \"Failed to get a quote\"\n            : buyTokenQuery.isError\n              ? \"Failed to fetch buy token details\"\n              : sellTokenQuery.isError\n                ? \"Failed to fetch sell token details\"\n                : \"Failed to get a quote\"}\n        </Text>\n      ) : (\n        <Spacer y=\"md\" />\n      )}\n\n      {/* Button */}\n      {!props.activeWalletInfo ? (\n        <ConnectButton\n          client={props.client}\n          connectButton={{\n            label: \"Swap\",\n            style: {\n              width: \"100%\",\n              borderRadius: radius.full,\n            },\n          }}\n          theme={props.theme}\n          {...props.connectOptions}\n        />\n      ) : (\n        <Button\n          disabled={disableContinue}\n          fullWidth\n          onClick={() => {\n            if (\n              preparedResultQuery.data &&\n              buyTokenWithPrices &&\n              sellTokenWithPrices &&\n              sellTokenBalanceQuery.data &&\n              preparedResultQuery.data.type === \"preparedResult\"\n            ) {\n              props.onSwap({\n                result: preparedResultQuery.data.result,\n                request: preparedResultQuery.data.request,\n                buyToken: buyTokenWithPrices,\n                sellToken: sellTokenWithPrices,\n                sellTokenBalance: sellTokenBalanceQuery.data.value,\n                mode: props.amountSelection.type,\n              });\n            }\n          }}\n          gap=\"xs\"\n          style={{\n            fontSize: fontSize.md,\n            borderRadius: radius.full,\n            opacity: disableContinue ? 0.5 : 1,\n          }}\n          variant=\"primary\"\n        >\n          {preparedResultQuery.isFetching && <Spinner size=\"sm\" />}\n          {preparedResultQuery.isFetching\n            ? \"Fetching Quote\"\n            : notEnoughBalance\n              ? \"Insufficient Balance\"\n              : \"Swap\"}\n        </Button>\n      )}\n\n      {props.showThirdwebBranding ? (\n        <div>\n          <Spacer y=\"md\" />\n          <PoweredByThirdweb link=\"https://thirdweb.com/monetize/bridge\" />\n        </div>\n      ) : null}\n    </Container>\n  );\n}\n\nfunction useSwapQuote(params: {\n  amountSelection: {\n    type: \"buy\" | \"sell\";\n    amount: string;\n  };\n  buyTokenWithPrices: TokenWithPrices | undefined;\n  sellTokenWithPrices: TokenWithPrices | undefined;\n  activeWalletInfo: ActiveWalletInfo | undefined;\n  client: ThirdwebClient;\n}) {\n  const {\n    amountSelection,\n    buyTokenWithPrices,\n    sellTokenWithPrices,\n    activeWalletInfo,\n    client,\n  } = params;\n\n  return useQuery({\n    queryKey: [\n      \"swap-quote\",\n      amountSelection,\n      buyTokenWithPrices,\n      sellTokenWithPrices,\n      activeWalletInfo?.activeAccount.address,\n    ],\n    retry: false,\n    enabled:\n      !!buyTokenWithPrices && !!sellTokenWithPrices && !!amountSelection.amount,\n    queryFn: async (): Promise<\n      | {\n          type: \"preparedResult\";\n          result: SwapPreparedQuote;\n          request: Extract<BridgePrepareRequest, { type: \"buy\" | \"sell\" }>;\n        }\n      | {\n          type: \"quote\";\n          result: Buy.quote.Result | Sell.quote.Result;\n        }\n    > => {\n      if (\n        !buyTokenWithPrices ||\n        !sellTokenWithPrices ||\n        !amountSelection.amount\n      ) {\n        throw new Error(\"Invalid state\");\n      }\n\n      if (!activeWalletInfo) {\n        if (amountSelection.type === \"buy\") {\n          const res = await Buy.quote({\n            amount: toUnits(\n              amountSelection.amount,\n              buyTokenWithPrices.decimals,\n            ),\n            // origin = sell\n            originChainId: sellTokenWithPrices.chainId,\n            originTokenAddress: sellTokenWithPrices.address,\n            // destination = buy\n            destinationChainId: buyTokenWithPrices.chainId,\n            destinationTokenAddress: buyTokenWithPrices.address,\n            client: client,\n          });\n\n          return {\n            type: \"quote\",\n            result: res,\n          };\n        }\n\n        const res = await Sell.quote({\n          amount: toUnits(amountSelection.amount, sellTokenWithPrices.decimals),\n          // origin = sell\n          originChainId: sellTokenWithPrices.chainId,\n          originTokenAddress: sellTokenWithPrices.address,\n          // destination = buy\n          destinationChainId: buyTokenWithPrices.chainId,\n          destinationTokenAddress: buyTokenWithPrices.address,\n          client: client,\n        });\n\n        return {\n          type: \"quote\",\n          result: res,\n        };\n      }\n\n      if (amountSelection.type === \"buy\") {\n        const buyRequestOptions: BuyPrepare.Options = {\n          amount: toUnits(amountSelection.amount, buyTokenWithPrices.decimals),\n          // origin = sell\n          originChainId: sellTokenWithPrices.chainId,\n          originTokenAddress: sellTokenWithPrices.address,\n          // destination = buy\n          destinationChainId: buyTokenWithPrices.chainId,\n          destinationTokenAddress: buyTokenWithPrices.address,\n          client: client,\n          receiver: activeWalletInfo.activeAccount.address,\n          sender: activeWalletInfo.activeAccount.address,\n        };\n\n        const buyRequest: BridgePrepareRequest = {\n          type: \"buy\",\n          ...buyRequestOptions,\n        };\n\n        const res = await Buy.prepare(buyRequest);\n\n        return {\n          type: \"preparedResult\",\n          result: { type: \"buy\", ...res },\n          request: buyRequest,\n        };\n      } else if (amountSelection.type === \"sell\") {\n        const sellRequestOptions: SellPrepare.Options = {\n          amount: toUnits(amountSelection.amount, sellTokenWithPrices.decimals),\n          // origin = sell\n          originChainId: sellTokenWithPrices.chainId,\n          originTokenAddress: sellTokenWithPrices.address,\n          // destination = buy\n          destinationChainId: buyTokenWithPrices.chainId,\n          destinationTokenAddress: buyTokenWithPrices.address,\n          client: client,\n          receiver: activeWalletInfo.activeAccount.address,\n          sender: activeWalletInfo.activeAccount.address,\n        };\n\n        const res = await Sell.prepare(sellRequestOptions);\n\n        const sellRequest: BridgePrepareRequest = {\n          type: \"sell\",\n          ...sellRequestOptions,\n        };\n\n        return {\n          type: \"preparedResult\",\n          result: { type: \"sell\", ...res },\n          request: sellRequest,\n        };\n      }\n\n      throw new Error(\"Invalid amount selection type\");\n    },\n    refetchInterval: 20000,\n  });\n}\n\nfunction TokenSection(props: {\n  type: \"buy\" | \"sell\";\n  amount: {\n    data: string;\n    isFetching: boolean;\n  };\n  setAmount: (amount: string) => void;\n  activeWalletInfo: ActiveWalletInfo | undefined;\n  selectedToken:\n    | {\n        data: TokenWithPrices | undefined;\n        isFetching: boolean;\n        isError: boolean;\n      }\n    | undefined;\n  currency: SupportedFiatCurrency;\n  onSelectToken: () => void;\n  client: ThirdwebClient;\n  isConnected: boolean;\n  balance: {\n    data: bigint | undefined;\n    isFetching: boolean;\n  };\n  onWalletClick: () => void;\n  onMaxClick: (() => void) | undefined;\n}) {\n  const theme = useCustomTheme();\n  const chainQuery = useBridgeChains(props.client);\n  const chain = chainQuery.data?.find(\n    (chain) => chain.chainId === props.selectedToken?.data?.chainId,\n  );\n\n  const fiatPricePerToken = props.selectedToken?.data?.prices[props.currency];\n  const totalFiatValue = !props.amount.data\n    ? undefined\n    : fiatPricePerToken\n      ? fiatPricePerToken * Number(props.amount.data)\n      : undefined;\n\n  return (\n    <Container\n      style={{\n        borderRadius: radius.xl,\n        borderWidth: 1,\n        borderStyle: \"solid\",\n        position: \"relative\",\n        overflow: \"hidden\",\n      }}\n      borderColor=\"borderColor\"\n    >\n      {/* make the background semi-transparent */}\n      <Container\n        bg=\"tertiaryBg\"\n        style={{\n          position: \"absolute\",\n          inset: 0,\n          opacity: 0.5,\n          zIndex: 0,\n        }}\n      />\n\n      <Container\n        style={{\n          position: \"relative\",\n          zIndex: 1,\n        }}\n      >\n        {/* row1 : label */}\n        <Container\n          px=\"md\"\n          py=\"sm\"\n          relative\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n          }}\n        >\n          <Container flex=\"row\" center=\"y\" gap=\"3xs\" color=\"secondaryText\">\n            <Text\n              size=\"xs\"\n              color=\"primaryText\"\n              style={{\n                letterSpacing: \"0.07em\",\n              }}\n            >\n              {props.type === \"buy\" ? \"BUY\" : \"SELL\"}\n            </Text>\n          </Container>\n          {props.activeWalletInfo && (\n            <ActiveWalletDetails\n              activeWalletInfo={props.activeWalletInfo}\n              client={props.client}\n              onClick={props.onWalletClick}\n            />\n          )}\n        </Container>\n\n        <Container\n          bg=\"tertiaryBg\"\n          style={{\n            position: \"relative\",\n            overflow: \"hidden\",\n            borderRadius: radius.xl,\n            borderTop: `1px solid ${theme.colors.borderColor}`,\n          }}\n        >\n          <SelectedTokenButton\n            selectedToken={props.selectedToken}\n            client={props.client}\n            onSelectToken={props.onSelectToken}\n            chain={chain}\n          />\n\n          <Container px=\"md\" py=\"md\">\n            <Container\n              flex=\"row\"\n              gap=\"xs\"\n              center=\"y\"\n              style={{\n                flexWrap: \"nowrap\",\n              }}\n            >\n              {props.amount.isFetching ? (\n                <div style={{ flexGrow: 1 }}>\n                  <Skeleton\n                    height=\"30px\"\n                    width=\"140px\"\n                    style={{\n                      borderRadius: radius.lg,\n                    }}\n                  />\n                </div>\n              ) : (\n                <DecimalInput\n                  value={props.amount.data}\n                  setValue={props.setAmount}\n                  style={{\n                    border: \"none\",\n                    boxShadow: \"none\",\n                    fontSize: fontSize.xl,\n                    fontWeight: 500,\n                    paddingInline: 0,\n                    paddingBlock: 0,\n                    letterSpacing: \"-0.025em\",\n                    height: \"30px\",\n                  }}\n                />\n              )}\n\n              {props.activeWalletInfo &&\n                props.onMaxClick &&\n                props.selectedToken && (\n                  <Button\n                    variant=\"outline\"\n                    style={{\n                      paddingInline: spacing.xs,\n                      paddingBlock: spacing.xxs,\n                      borderRadius: radius.full,\n                      fontSize: fontSize.xs,\n                      fontWeight: 400,\n                    }}\n                    onClick={props.onMaxClick}\n                  >\n                    Max\n                  </Button>\n                )}\n            </Container>\n\n            <Spacer y=\"sm\" />\n\n            {/* row3 : fiat value and balance */}\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: \"4px\",\n                justifyContent: \"space-between\",\n              }}\n            >\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"3px\",\n                }}\n              >\n                {props.amount.isFetching ? (\n                  <Skeleton height={fontSize.xs} width=\"50px\" />\n                ) : (\n                  <Text size=\"xs\" color=\"secondaryText\">\n                    {formatCurrencyAmount(props.currency, totalFiatValue || 0)}\n                  </Text>\n                )}\n              </div>\n\n              {/* Balance */}\n              {props.isConnected && props.selectedToken && (\n                <div>\n                  {props.balance.data === undefined ||\n                  props.selectedToken.data === undefined ? (\n                    <Skeleton height={fontSize.xs} width=\"100px\" />\n                  ) : (\n                    <div\n                      style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        gap: \"3px\",\n                      }}\n                    >\n                      <Text size=\"xs\" color=\"secondaryText\">\n                        Balance:\n                      </Text>\n                      <Text size=\"xs\" color=\"primaryText\">\n                        {formatTokenAmount(\n                          props.balance.data,\n                          props.selectedToken.data.decimals,\n                          5,\n                        )}\n                      </Text>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </Container>\n        </Container>\n      </Container>\n    </Container>\n  );\n}\n\nfunction SwitchButton(props: { onClick: () => void }) {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        marginBlock: `-13px`,\n        zIndex: 2,\n        position: \"relative\",\n      }}\n    >\n      <SwitchButtonInner\n        variant=\"ghost-solid\"\n        onClick={(e) => {\n          props.onClick();\n          const node = e.currentTarget.querySelector(\"svg\");\n          if (node) {\n            node.style.transform = \"rotate(180deg)\";\n            node.style.transition = \"transform 300ms ease\";\n            setTimeout(() => {\n              node.style.transition = \"\";\n              node.style.transform = \"rotate(0deg)\";\n            }, 300);\n          }\n        }}\n      >\n        <ArrowUpDownIcon size={iconSize[\"sm+\"]} />\n      </SwitchButtonInner>\n    </div>\n  );\n}\n\nconst SwitchButtonInner = /* @__PURE__ */ styled(Button)(() => {\n  const theme = useCustomTheme();\n  return {\n    \"&:hover\": {\n      background: theme.colors.secondaryButtonBg,\n    },\n    borderRadius: radius.full,\n    padding: spacing.xs,\n    color: theme.colors.primaryText,\n    background: theme.colors.modalBg,\n    border: `1px solid ${theme.colors.borderColor}`,\n  };\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}