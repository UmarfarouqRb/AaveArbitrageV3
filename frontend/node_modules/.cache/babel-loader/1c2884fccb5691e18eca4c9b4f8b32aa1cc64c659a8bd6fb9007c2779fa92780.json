{"ast":null,"code":"import { getChainDecimals, getChainNativeCurrencyName, getChainSymbol } from \"../../chains/utils.js\";\nimport { getContract } from \"../../contract/contract.js\";\nimport { eth_getBalance } from \"../../rpc/actions/eth_getBalance.js\";\nimport { getRpcClient } from \"../../rpc/rpc.js\";\nimport { toTokens } from \"../../utils/units.js\";\n/**\n * Retrieves the balance of a token for a given wallet.\n * @param options - The options for retrieving the token balance.\n * @returns A promise that resolves to the token balance result.\n * @example\n * ```ts\n * import { getTokenBalance } from \"thirdweb/wallets\";\n * const balance = await getTokenBalance({ account, client, chain, tokenAddress });\n * ```\n */\nexport async function getTokenBalance(options) {\n  const {\n    account,\n    client,\n    chain,\n    tokenAddress\n  } = options;\n  // erc20 case\n  if (tokenAddress) {\n    // load balanceOf dynamically to avoid circular dependency\n    const {\n      getBalance\n    } = await import(\"../../extensions/erc20/read/getBalance.js\");\n    return getBalance({\n      address: account.address,\n      contract: getContract({\n        address: tokenAddress,\n        chain,\n        client\n      })\n    });\n  }\n  // native token case\n  const rpcRequest = getRpcClient({\n    chain,\n    client\n  });\n  const [nativeSymbol, nativeDecimals, nativeName, nativeBalance] = await Promise.all([getChainSymbol(chain), getChainDecimals(chain), getChainNativeCurrencyName(chain), eth_getBalance(rpcRequest, {\n    address: account.address\n  })]);\n  return {\n    decimals: nativeDecimals,\n    displayValue: toTokens(nativeBalance, nativeDecimals),\n    name: nativeName,\n    symbol: nativeSymbol,\n    value: nativeBalance\n  };\n}","map":{"version":3,"names":["getChainDecimals","getChainNativeCurrencyName","getChainSymbol","getContract","eth_getBalance","getRpcClient","toTokens","getTokenBalance","options","account","client","chain","tokenAddress","getBalance","address","contract","rpcRequest","nativeSymbol","nativeDecimals","nativeName","nativeBalance","Promise","all","decimals","displayValue","name","symbol","value"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/wallets/utils/getTokenBalance.ts"],"sourcesContent":["import type { Chain } from \"../../chains/types.js\";\nimport {\n  getChainDecimals,\n  getChainNativeCurrencyName,\n  getChainSymbol,\n} from \"../../chains/utils.js\";\nimport type { ThirdwebClient } from \"../../client/client.js\";\nimport { getContract } from \"../../contract/contract.js\";\nimport { eth_getBalance } from \"../../rpc/actions/eth_getBalance.js\";\nimport { getRpcClient } from \"../../rpc/rpc.js\";\nimport { toTokens } from \"../../utils/units.js\";\nimport type { Account } from \"../interfaces/wallet.js\";\n\ntype GetTokenBalanceOptions = {\n  account: Pick<Account, \"address\">;\n  client: ThirdwebClient;\n  chain: Chain;\n  /**\n   * (Optional) The address of the token to retrieve the balance for. If not provided, the balance of the native token will be retrieved.\n   */\n  tokenAddress?: string;\n};\n\ntype GetTokenBalanceResult = {\n  value: bigint;\n  decimals: number;\n  displayValue: string;\n  symbol: string;\n  name: string;\n};\n\n/**\n * Retrieves the balance of a token for a given wallet.\n * @param options - The options for retrieving the token balance.\n * @returns A promise that resolves to the token balance result.\n * @example\n * ```ts\n * import { getTokenBalance } from \"thirdweb/wallets\";\n * const balance = await getTokenBalance({ account, client, chain, tokenAddress });\n * ```\n */\nexport async function getTokenBalance(\n  options: GetTokenBalanceOptions,\n): Promise<GetTokenBalanceResult> {\n  const { account, client, chain, tokenAddress } = options;\n  // erc20 case\n  if (tokenAddress) {\n    // load balanceOf dynamically to avoid circular dependency\n    const { getBalance } = await import(\n      \"../../extensions/erc20/read/getBalance.js\"\n    );\n    return getBalance({\n      address: account.address,\n      contract: getContract({ address: tokenAddress, chain, client }),\n    });\n  }\n  // native token case\n  const rpcRequest = getRpcClient({ chain, client });\n\n  const [nativeSymbol, nativeDecimals, nativeName, nativeBalance] =\n    await Promise.all([\n      getChainSymbol(chain),\n      getChainDecimals(chain),\n      getChainNativeCurrencyName(chain),\n      eth_getBalance(rpcRequest, { address: account.address }),\n    ]);\n\n  return {\n    decimals: nativeDecimals,\n    displayValue: toTokens(nativeBalance, nativeDecimals),\n    name: nativeName,\n    symbol: nativeSymbol,\n    value: nativeBalance,\n  };\n}\n"],"mappings":"AACA,SACEA,gBAAgB,EAChBC,0BAA0B,EAC1BC,cAAc,QACT,uBAAuB;AAE9B,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAASC,cAAc,QAAQ,qCAAqC;AACpE,SAASC,YAAY,QAAQ,kBAAkB;AAC/C,SAASC,QAAQ,QAAQ,sBAAsB;AAqB/C;;;;;;;;;;AAUA,OAAO,eAAeC,eAAeA,CACnCC,OAA+B;EAE/B,MAAM;IAAEC,OAAO;IAAEC,MAAM;IAAEC,KAAK;IAAEC;EAAY,CAAE,GAAGJ,OAAO;EACxD;EACA,IAAII,YAAY,EAAE;IAChB;IACA,MAAM;MAAEC;IAAU,CAAE,GAAG,MAAM,MAAM,CACjC,2CAA2C,CAC5C;IACD,OAAOA,UAAU,CAAC;MAChBC,OAAO,EAAEL,OAAO,CAACK,OAAO;MACxBC,QAAQ,EAAEZ,WAAW,CAAC;QAAEW,OAAO,EAAEF,YAAY;QAAED,KAAK;QAAED;MAAM,CAAE;KAC/D,CAAC;EACJ;EACA;EACA,MAAMM,UAAU,GAAGX,YAAY,CAAC;IAAEM,KAAK;IAAED;EAAM,CAAE,CAAC;EAElD,MAAM,CAACO,YAAY,EAAEC,cAAc,EAAEC,UAAU,EAAEC,aAAa,CAAC,GAC7D,MAAMC,OAAO,CAACC,GAAG,CAAC,CAChBpB,cAAc,CAACS,KAAK,CAAC,EACrBX,gBAAgB,CAACW,KAAK,CAAC,EACvBV,0BAA0B,CAACU,KAAK,CAAC,EACjCP,cAAc,CAACY,UAAU,EAAE;IAAEF,OAAO,EAAEL,OAAO,CAACK;EAAO,CAAE,CAAC,CACzD,CAAC;EAEJ,OAAO;IACLS,QAAQ,EAAEL,cAAc;IACxBM,YAAY,EAAElB,QAAQ,CAACc,aAAa,EAAEF,cAAc,CAAC;IACrDO,IAAI,EAAEN,UAAU;IAChBO,MAAM,EAAET,YAAY;IACpBU,KAAK,EAAEP;GACR;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}