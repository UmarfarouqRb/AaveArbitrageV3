{"ast":null,"code":"import { getClientFetch } from \"../../../../utils/fetch.js\";\nimport { stringify } from \"../../../../utils/json.js\";\nimport { getLoginUrl } from \"./getLoginPath.js\";\n/**\n * Authenticates via the wallet secret\n * @internal\n */\nexport async function backendAuthenticate(args) {\n  const clientFetch = getClientFetch(args.client, args.ecosystem);\n  const path = getLoginUrl({\n    authOption: \"backend\",\n    client: args.client,\n    ecosystem: args.ecosystem\n  });\n  const res = await clientFetch(\"\".concat(path), {\n    body: stringify({\n      walletSecret: args.walletSecret\n    }),\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    method: \"POST\"\n  });\n  if (!res.ok) {\n    const error = await res.text();\n    throw new Error(\"Failed to generate backend account: \".concat(error));\n  }\n  return await res.json();\n}","map":{"version":3,"names":["getClientFetch","stringify","getLoginUrl","backendAuthenticate","args","clientFetch","client","ecosystem","path","authOption","res","concat","body","walletSecret","headers","method","ok","error","text","Error","json"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/wallets/in-app/core/authentication/backend.ts"],"sourcesContent":["import type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { getClientFetch } from \"../../../../utils/fetch.js\";\nimport { stringify } from \"../../../../utils/json.js\";\nimport type { Ecosystem } from \"../wallet/types.js\";\nimport { getLoginUrl } from \"./getLoginPath.js\";\nimport type { AuthStoredTokenWithCookieReturnType } from \"./types.js\";\n\n/**\n * Authenticates via the wallet secret\n * @internal\n */\nexport async function backendAuthenticate(args: {\n  client: ThirdwebClient;\n  walletSecret: string;\n  ecosystem?: Ecosystem;\n}): Promise<AuthStoredTokenWithCookieReturnType> {\n  const clientFetch = getClientFetch(args.client, args.ecosystem);\n  const path = getLoginUrl({\n    authOption: \"backend\",\n    client: args.client,\n    ecosystem: args.ecosystem,\n  });\n  const res = await clientFetch(`${path}`, {\n    body: stringify({\n      walletSecret: args.walletSecret,\n    }),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    method: \"POST\",\n  });\n\n  if (!res.ok) {\n    const error = await res.text();\n    throw new Error(`Failed to generate backend account: ${error}`);\n  }\n\n  return (await res.json()) satisfies AuthStoredTokenWithCookieReturnType;\n}\n"],"mappings":"AACA,SAASA,cAAc,QAAQ,4BAA4B;AAC3D,SAASC,SAAS,QAAQ,2BAA2B;AAErD,SAASC,WAAW,QAAQ,mBAAmB;AAG/C;;;;AAIA,OAAO,eAAeC,mBAAmBA,CAACC,IAIzC;EACC,MAAMC,WAAW,GAAGL,cAAc,CAACI,IAAI,CAACE,MAAM,EAAEF,IAAI,CAACG,SAAS,CAAC;EAC/D,MAAMC,IAAI,GAAGN,WAAW,CAAC;IACvBO,UAAU,EAAE,SAAS;IACrBH,MAAM,EAAEF,IAAI,CAACE,MAAM;IACnBC,SAAS,EAAEH,IAAI,CAACG;GACjB,CAAC;EACF,MAAMG,GAAG,GAAG,MAAML,WAAW,IAAAM,MAAA,CAAIH,IAAI,GAAI;IACvCI,IAAI,EAAEX,SAAS,CAAC;MACdY,YAAY,EAAET,IAAI,CAACS;KACpB,CAAC;IACFC,OAAO,EAAE;MACP,cAAc,EAAE;KACjB;IACDC,MAAM,EAAE;GACT,CAAC;EAEF,IAAI,CAACL,GAAG,CAACM,EAAE,EAAE;IACX,MAAMC,KAAK,GAAG,MAAMP,GAAG,CAACQ,IAAI,EAAE;IAC9B,MAAM,IAAIC,KAAK,wCAAAR,MAAA,CAAwCM,KAAK,CAAE,CAAC;EACjE;EAEA,OAAQ,MAAMP,GAAG,CAACU,IAAI,EAAE;AAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}