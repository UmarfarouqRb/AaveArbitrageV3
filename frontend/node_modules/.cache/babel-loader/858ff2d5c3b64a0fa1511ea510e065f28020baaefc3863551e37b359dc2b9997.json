{"ast":null,"code":"\"use client\";\n\nimport _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useCallback, useMemo, useState } from \"react\";\nimport { trackPayEvent } from \"../../../../analytics/track/pay.js\";\nimport { NATIVE_TOKEN_ADDRESS } from \"../../../../constants/addresses.js\";\nimport { getToken } from \"../../../../pay/convert/get-token.js\";\nimport { prepareTransaction } from \"../../../../transaction/prepare-transaction.js\";\nimport { checksumAddress } from \"../../../../utils/address.js\";\nimport { stringify } from \"../../../../utils/json.js\";\nimport { toUnits } from \"../../../../utils/units.js\";\nimport { CustomThemeProvider } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { iconSize } from \"../../../core/design-system/index.js\";\nimport { webWindowAdapter } from \"../../adapters/WindowAdapter.js\";\nimport { AccentFailIcon } from \"../ConnectWallet/icons/AccentFailIcon.js\";\nimport { useConnectLocale } from \"../ConnectWallet/locale/getConnectLocale.js\";\nimport { EmbedContainer } from \"../ConnectWallet/Modal/ConnectEmbed.js\";\nimport { DynamicHeight } from \"../components/DynamicHeight.js\";\nimport { Spacer } from \"../components/Spacer.js\";\nimport { Spinner } from \"../components/Spinner.js\";\nimport { Text } from \"../components/text.js\";\nimport { ExecutingTxScreen } from \"../TransactionButton/ExecutingScreen.js\";\nimport { ErrorBanner } from \"./ErrorBanner.js\";\nimport { PaymentDetails } from \"./payment-details/PaymentDetails.js\";\nimport { PaymentSelection } from \"./payment-selection/PaymentSelection.js\";\nimport { SuccessScreen } from \"./payment-success/SuccessScreen.js\";\nimport { QuoteLoader } from \"./QuoteLoader.js\";\nimport { StepRunner } from \"./StepRunner.js\";\nimport { TransactionPayment } from \"./TransactionPayment.js\";\nimport { UnsupportedTokenScreen } from \"./UnsupportedTokenScreen.js\";\n/**\n * Widget a prebuilt UI for purchasing a specific token.\n *\n * @param props - Props of type [`TransactionWidgetProps`](https://portal.thirdweb.com/references/typescript/v5/TransactionWidgetProps) to configure the TransactionWidget component.\n *\n * @example\n * ### Default configuration\n *\n * By default, the `TransactionWidget` component allows users to fund their wallets with crypto or fiat on any of the supported chains.\n *\n * ```tsx\n * <TransactionWidget\n *   client={client}\n *   transaction={prepareTransaction({\n *     to: \"0x...\",\n *     chain: ethereum,\n *     client: client,\n *   })}\n *   amount=\"0.1\"\n *  />\n * ```\n *\n * ### Customize the supported tokens\n *\n * You can customize the supported tokens that users can pay with by passing a `supportedTokens` object to the `TransactionWidget` component.\n *\n * ```tsx\n * <TransactionWidget\n *   client={client}\n *   transaction={prepareTransaction({\n *     to: \"0x...\",\n *     chain: ethereum,\n *     client: client,\n *   })}\n *   supportedTokens={{\n *     [8453]: [\n *       {\n *         address: \"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913\",\n *         name: \"USDC\",\n *         symbol: \"USDC\",\n *       },\n *     ],\n *   }}\n * />\n * ```\n *\n * ### Customize the UI\n *\n * You can customize the UI of the `TransactionWidget` component by passing a custom theme object to the `theme` prop.\n *\n * ```tsx\n * <TransactionWidget\n *   client={client}\n *   transaction={prepareTransaction({\n *     to: \"0x...\",\n *     chain: ethereum,\n *     client: client,\n *     value: toUnits(\"0.001\", 18),\n *   })}\n *   theme={darkTheme({\n *     colors: {\n *       modalBg: \"red\",\n *     },\n *   })}\n * />\n * ```\n *\n * Refer to the [`Theme`](https://portal.thirdweb.com/references/typescript/v5/Theme) type for more details.\n *\n * ### Update the Title\n *\n * You can update the title of the widget by passing a `title` prop to the `TransactionWidget` component.\n *\n * ```tsx\n * <TransactionWidget\n *   transaction={prepareTransaction({\n *     to: \"0x...\",\n *     chain: ethereum,\n *     client: client,\n *     value: toUnits(\"0.001\", 18),\n *   })}\n *   client={client}\n *   title=\"Transaction ETH\"\n * />\n * ```\n *\n * ### Configure the wallet connection\n *\n * You can customize the wallet connection flow by passing a `connectOptions` object to the `TransactionWidget` component.\n *\n * ```tsx\n * <TransactionWidget\n *   client={client}\n *   transaction={prepareTransaction({\n *     to: \"0x...\",\n *     chain: ethereum,\n *     client: client,\n *     value: toUnits(\"0.001\", 18),\n *   })}\n *   connectOptions={{\n *     connectModal: {\n *       size: 'compact',\n *       title: \"Sign in\",\n *     }\n *   }}\n * />\n * ```\n *\n * Refer to the [`TransactionWidgetConnectOptions`](https://portal.thirdweb.com/references/typescript/v5/TransactionWidgetConnectOptions) type for more details.\n *\n * @bridge\n */\nexport function TransactionWidget(props) {\n  return _jsx(TransactionWidgetContainer, {\n    theme: props.theme,\n    className: props.className,\n    style: props.style,\n    children: _jsx(TransactionWidgetContentWrapper, _objectSpread({}, props))\n  });\n}\nexport function TransactionWidgetContentWrapper(props) {\n  var _txQuery$data, _txQuery$data2;\n  useQuery({\n    queryFn: () => {\n      trackPayEvent({\n        chainId: props.transaction.chain.id,\n        client: props.client,\n        event: \"ub:ui:transaction_widget:render\",\n        toToken: props.tokenAddress\n      });\n      return true;\n    },\n    queryKey: [\"transaction_widget:render\"]\n  });\n  const localQuery = useConnectLocale(props.locale || \"en_US\");\n  const txQuery = useQuery({\n    queryFn: async () => {\n      let erc20Value = props.transaction.erc20Value;\n      if (props.amount) {\n        // Get token decimals for conversion\n        const tokenAddress = props.tokenAddress || NATIVE_TOKEN_ADDRESS;\n        const token = await getToken(props.client, checksumAddress(tokenAddress), props.transaction.chain.id).catch(e => {\n          if (e instanceof Error && e.message.includes(\"not supported\")) {\n            return null;\n          }\n          throw e;\n        });\n        if (!token) {\n          return {\n            type: \"unsupported_token\"\n          };\n        }\n        erc20Value = {\n          amountWei: toUnits(props.amount, token.decimals),\n          tokenAddress: checksumAddress(tokenAddress)\n        };\n      }\n      const transaction = prepareTransaction(_objectSpread(_objectSpread({}, props.transaction), {}, {\n        erc20Value\n      }));\n      return {\n        transaction,\n        type: \"success\"\n      };\n    },\n    queryKey: [\"transaction-query\", stringify(props)],\n    retry: 1\n  });\n  // if branding is disabled for widget, disable it for connect options too\n  const connectOptions = useMemo(() => {\n    if (props.showThirdwebBranding === false) {\n      var _props$connectOptions;\n      return _objectSpread(_objectSpread({}, props.connectOptions), {}, {\n        connectModal: _objectSpread(_objectSpread({}, (_props$connectOptions = props.connectOptions) === null || _props$connectOptions === void 0 ? void 0 : _props$connectOptions.connectModal), {}, {\n          showThirdwebBranding: props.showThirdwebBranding\n        })\n      });\n    }\n    return props.connectOptions;\n  }, [props.connectOptions, props.showThirdwebBranding]);\n  if (txQuery.isPending || !localQuery.data) {\n    return _jsx(\"div\", {\n      style: {\n        alignItems: \"center\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        minHeight: \"350px\"\n      },\n      children: _jsx(Spinner, {\n        color: \"secondaryText\",\n        size: \"xl\"\n      })\n    });\n  } else if (txQuery.error) {\n    return _jsxs(\"div\", {\n      style: {\n        alignItems: \"center\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        minHeight: \"350px\"\n      },\n      children: [_jsx(AccentFailIcon, {\n        size: iconSize[\"3xl\"]\n      }), _jsx(Spacer, {\n        y: \"lg\"\n      }), _jsx(Text, {\n        color: \"secondaryText\",\n        size: \"md\",\n        children: txQuery.error.message\n      })]\n    });\n  } else if (((_txQuery$data = txQuery.data) === null || _txQuery$data === void 0 ? void 0 : _txQuery$data.type) === \"unsupported_token\") {\n    return _jsx(UnsupportedTokenScreen, {\n      chain: props.transaction.chain,\n      client: props.client,\n      tokenAddress: props.tokenAddress || NATIVE_TOKEN_ADDRESS\n    });\n  } else if (((_txQuery$data2 = txQuery.data) === null || _txQuery$data2 === void 0 ? void 0 : _txQuery$data2.type) === \"success\") {\n    return _jsx(TransactionWidgetContent, _objectSpread(_objectSpread({}, props), {}, {\n      connectOptions: connectOptions,\n      connectLocale: localQuery.data,\n      transaction: txQuery.data.transaction,\n      currency: props.currency || \"USD\",\n      paymentMethods: props.paymentMethods || [\"crypto\", \"card\"],\n      showThirdwebBranding: props.showThirdwebBranding === undefined ? true : props.showThirdwebBranding\n    }));\n  }\n  return null;\n}\nfunction TransactionWidgetContent(props) {\n  const [screen, setScreen] = useState({\n    id: \"init-ui\"\n  });\n  const handleError = useCallback(error => {\n    var _props$onError;\n    console.error(error);\n    (_props$onError = props.onError) === null || _props$onError === void 0 || _props$onError.call(props, error);\n    setScreen({\n      id: \"error\",\n      error\n    });\n  }, [props.onError]);\n  if (screen.id === \"init-ui\") {\n    return _jsx(TransactionPayment, {\n      client: props.client,\n      metadata: {\n        title: props.title,\n        description: props.description,\n        image: props.image\n      },\n      connectOptions: props.connectOptions,\n      onContinue: (destinationAmount, destinationToken, receiverAddress) => {\n        setScreen({\n          id: \"buy:1.methodSelection\",\n          destinationAmount,\n          destinationToken,\n          transaction: props.transaction,\n          receiverAddress\n        });\n      },\n      onExecuteTransaction: () => {\n        setScreen({\n          id: \"execute-tx\",\n          transaction: props.transaction\n        });\n      },\n      showThirdwebBranding: props.showThirdwebBranding,\n      currency: props.currency,\n      buttonLabel: props.buttonLabel,\n      transaction: props.transaction\n    });\n  }\n  if (screen.id === \"buy:1.methodSelection\") {\n    return _jsx(PaymentSelection\n    // from props\n    , {\n      // from props\n      client: props.client,\n      connectLocale: props.connectLocale,\n      connectOptions: props.connectOptions,\n      paymentMethods: props.paymentMethods,\n      currency: props.currency,\n      supportedTokens: props.supportedTokens,\n      country: props.country,\n      // others\n      feePayer: undefined,\n      destinationToken: screen.destinationToken,\n      destinationAmount: screen.destinationAmount,\n      receiverAddress: screen.receiverAddress,\n      onBack: () => {\n        setScreen({\n          id: \"init-ui\"\n        });\n      },\n      onError: error => {\n        handleError(error);\n      },\n      onPaymentMethodSelected: paymentMethod => {\n        setScreen(_objectSpread(_objectSpread({}, screen), {}, {\n          id: \"buy:2.load-quote\",\n          paymentMethod\n        }));\n      }\n    });\n  }\n  if (screen.id === \"buy:2.load-quote\") {\n    return _jsx(QuoteLoader\n    // from props\n    , {\n      // from props\n      paymentLinkId: props.paymentLinkId,\n      purchaseData: props.purchaseData,\n      client: props.client,\n      // others\n      feePayer: undefined,\n      sender: undefined,\n      mode: \"transaction\",\n      amount: screen.destinationAmount,\n      destinationToken: screen.destinationToken,\n      onBack: () => {\n        setScreen(_objectSpread(_objectSpread({}, screen), {}, {\n          id: \"buy:1.methodSelection\"\n        }));\n      },\n      onError: error => {\n        handleError(error);\n      },\n      onQuoteReceived: (preparedQuote, request) => {\n        setScreen(_objectSpread(_objectSpread({}, screen), {}, {\n          id: \"buy:3.preview\",\n          preparedQuote,\n          request\n        }));\n      },\n      paymentMethod: screen.paymentMethod,\n      receiver: screen.receiverAddress\n    });\n  }\n  if (screen.id === \"buy:3.preview\") {\n    return _jsx(PaymentDetails\n    // from props\n    , {\n      // from props\n      client: props.client,\n      currency: props.currency,\n      metadata: {\n        title: props.title,\n        description: props.description\n      },\n      // others\n      confirmButtonLabel: undefined,\n      onBack: () => {\n        setScreen(_objectSpread(_objectSpread({}, screen), {}, {\n          id: \"buy:1.methodSelection\"\n        }));\n      },\n      onConfirm: () => {\n        setScreen(_objectSpread(_objectSpread({}, screen), {}, {\n          id: \"buy:4.execute-buy\"\n        }));\n      },\n      onError: error => {\n        handleError(error);\n      },\n      paymentMethod: screen.paymentMethod,\n      preparedQuote: screen.preparedQuote,\n      modeInfo: {\n        mode: \"transaction\",\n        transaction: screen.transaction\n      }\n    });\n  }\n  if (screen.id === \"buy:4.execute-buy\") {\n    return _jsx(StepRunner\n    // from props\n    , {\n      // from props\n      client: props.client,\n      // others\n      title: undefined,\n      preparedQuote: screen.preparedQuote,\n      autoStart: true,\n      onBack: () => {\n        setScreen(_objectSpread(_objectSpread({}, screen), {}, {\n          id: \"buy:3.preview\"\n        }));\n      },\n      onCancel: () => {\n        var _props$onCancel;\n        (_props$onCancel = props.onCancel) === null || _props$onCancel === void 0 || _props$onCancel.call(props);\n      },\n      onComplete: completedStatuses => {\n        setScreen(_objectSpread(_objectSpread({}, screen), {}, {\n          id: \"buy:5.success\",\n          completedStatuses\n        }));\n      },\n      request: screen.request,\n      wallet: screen.paymentMethod.payerWallet,\n      windowAdapter: webWindowAdapter\n    });\n  }\n  if (screen.id === \"buy:5.success\") {\n    return _jsx(SuccessScreen\n    // from props\n    , {\n      // from props\n      client: props.client,\n      hasPaymentId: !!props.paymentLinkId,\n      // others\n      completedStatuses: screen.completedStatuses,\n      onDone: () => {\n        setScreen({\n          id: \"execute-tx\",\n          transaction: screen.transaction\n        });\n      },\n      preparedQuote: screen.preparedQuote,\n      showContinueWithTx: true,\n      windowAdapter: webWindowAdapter\n    });\n  }\n  if (screen.id === \"error\") {\n    return _jsx(ErrorBanner, {\n      client: props.client,\n      error: screen.error,\n      onCancel: () => {\n        var _props$onCancel2;\n        setScreen({\n          id: \"init-ui\"\n        });\n        (_props$onCancel2 = props.onCancel) === null || _props$onCancel2 === void 0 || _props$onCancel2.call(props);\n      },\n      onRetry: () => {\n        setScreen({\n          id: \"init-ui\"\n        });\n      }\n    });\n  }\n  if (screen.id === \"execute-tx\") {\n    return _jsx(ExecutingTxScreen, {\n      onBack: () => {\n        setScreen({\n          id: \"init-ui\"\n        });\n      },\n      closeModal: () => {\n        setScreen({\n          id: \"init-ui\"\n        });\n      },\n      onTxSent: data => {\n        var _props$onSuccess;\n        (_props$onSuccess = props.onSuccess) === null || _props$onSuccess === void 0 || _props$onSuccess.call(props, data);\n      },\n      tx: screen.transaction,\n      windowAdapter: webWindowAdapter\n    });\n  }\n  return null;\n}\n/**\n * @internal\n */\nfunction TransactionWidgetContainer(props) {\n  return _jsx(CustomThemeProvider, {\n    theme: props.theme || \"dark\",\n    children: _jsx(EmbedContainer, {\n      className: props.className,\n      modalSize: \"compact\",\n      style: props.style,\n      children: _jsx(DynamicHeight, {\n        children: props.children\n      })\n    })\n  });\n}","map":{"version":3,"names":["_objectSpread","useQuery","useCallback","useMemo","useState","trackPayEvent","NATIVE_TOKEN_ADDRESS","getToken","prepareTransaction","checksumAddress","stringify","toUnits","CustomThemeProvider","iconSize","webWindowAdapter","AccentFailIcon","useConnectLocale","EmbedContainer","DynamicHeight","Spacer","Spinner","Text","ExecutingTxScreen","ErrorBanner","PaymentDetails","PaymentSelection","SuccessScreen","QuoteLoader","StepRunner","TransactionPayment","UnsupportedTokenScreen","TransactionWidget","props","_jsx","TransactionWidgetContainer","theme","className","style","children","TransactionWidgetContentWrapper","_txQuery$data","_txQuery$data2","queryFn","chainId","transaction","chain","id","client","event","toToken","tokenAddress","queryKey","localQuery","locale","txQuery","erc20Value","amount","token","catch","e","Error","message","includes","type","amountWei","decimals","retry","connectOptions","showThirdwebBranding","_props$connectOptions","connectModal","isPending","data","alignItems","display","justifyContent","minHeight","color","size","error","_jsxs","flexDirection","y","TransactionWidgetContent","connectLocale","currency","paymentMethods","undefined","screen","setScreen","handleError","_props$onError","console","onError","call","metadata","title","description","image","onContinue","destinationAmount","destinationToken","receiverAddress","onExecuteTransaction","buttonLabel","supportedTokens","country","feePayer","onBack","onPaymentMethodSelected","paymentMethod","paymentLinkId","purchaseData","sender","mode","onQuoteReceived","preparedQuote","request","receiver","confirmButtonLabel","onConfirm","modeInfo","autoStart","onCancel","_props$onCancel","onComplete","completedStatuses","wallet","payerWallet","windowAdapter","hasPaymentId","onDone","showContinueWithTx","_props$onCancel2","onRetry","closeModal","onTxSent","_props$onSuccess","onSuccess","tx","modalSize"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/Bridge/TransactionWidget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useCallback, useMemo, useState } from \"react\";\nimport { trackPayEvent } from \"../../../../analytics/track/pay.js\";\nimport type { TokenWithPrices } from \"../../../../bridge/index.js\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { NATIVE_TOKEN_ADDRESS } from \"../../../../constants/addresses.js\";\nimport { getToken } from \"../../../../pay/convert/get-token.js\";\nimport type { SupportedFiatCurrency } from \"../../../../pay/convert/type.js\";\nimport type { PurchaseData } from \"../../../../pay/types.js\";\nimport type { WaitForReceiptOptions } from \"../../../../transaction/actions/wait-for-tx-receipt.js\";\nimport {\n  type PreparedTransaction,\n  prepareTransaction,\n} from \"../../../../transaction/prepare-transaction.js\";\nimport { type Address, checksumAddress } from \"../../../../utils/address.js\";\nimport { stringify } from \"../../../../utils/json.js\";\nimport { toUnits } from \"../../../../utils/units.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport type { SmartWalletOptions } from \"../../../../wallets/smart/types.js\";\nimport type { AppMetadata } from \"../../../../wallets/types.js\";\nimport type { WalletId } from \"../../../../wallets/wallet-types.js\";\nimport { CustomThemeProvider } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { iconSize, type Theme } from \"../../../core/design-system/index.js\";\nimport type { SiweAuthOptions } from \"../../../core/hooks/auth/useSiweAuth.js\";\nimport type { ConnectButton_connectModalOptions } from \"../../../core/hooks/connection/ConnectButtonProps.js\";\nimport type {\n  BridgePrepareRequest,\n  BridgePrepareResult,\n} from \"../../../core/hooks/useBridgePrepare.js\";\nimport type { CompletedStatusResult } from \"../../../core/hooks/useStepExecutor.js\";\nimport type { SupportedTokens } from \"../../../core/utils/defaultTokens.js\";\nimport { webWindowAdapter } from \"../../adapters/WindowAdapter.js\";\nimport { AccentFailIcon } from \"../ConnectWallet/icons/AccentFailIcon.js\";\nimport { useConnectLocale } from \"../ConnectWallet/locale/getConnectLocale.js\";\nimport type { ConnectLocale } from \"../ConnectWallet/locale/types.js\";\nimport { EmbedContainer } from \"../ConnectWallet/Modal/ConnectEmbed.js\";\nimport { DynamicHeight } from \"../components/DynamicHeight.js\";\nimport { Spacer } from \"../components/Spacer.js\";\nimport { Spinner } from \"../components/Spinner.js\";\nimport { Text } from \"../components/text.js\";\nimport { ExecutingTxScreen } from \"../TransactionButton/ExecutingScreen.js\";\nimport type { LocaleId } from \"../types.js\";\nimport { ErrorBanner } from \"./ErrorBanner.js\";\nimport { PaymentDetails } from \"./payment-details/PaymentDetails.js\";\nimport { PaymentSelection } from \"./payment-selection/PaymentSelection.js\";\nimport { SuccessScreen } from \"./payment-success/SuccessScreen.js\";\nimport { QuoteLoader } from \"./QuoteLoader.js\";\nimport { StepRunner } from \"./StepRunner.js\";\nimport { TransactionPayment } from \"./TransactionPayment.js\";\nimport type { PaymentMethod } from \"./types.js\";\nimport { UnsupportedTokenScreen } from \"./UnsupportedTokenScreen.js\";\n\nexport type TransactionWidgetProps = {\n  /**\n   * Customize the supported tokens that users can pay with.\n   */\n  supportedTokens?: SupportedTokens;\n  /**\n   * A client is the entry point to the thirdweb SDK.\n   * It is required for all other actions.\n   * You can create a client using the `createThirdwebClient` function. Refer to the [Creating a Client](https://portal.thirdweb.com/typescript/v5/client) documentation for more information.\n   *\n   * You must provide a `clientId` or `secretKey` in order to initialize a client. Pass `clientId` if you want for client-side usage and `secretKey` for server-side usage.\n   *\n   * ```tsx\n   * import { createThirdwebClient } from \"thirdweb\";\n   *\n   * const client = createThirdwebClient({\n   *  clientId: \"<your_client_id>\",\n   * })\n   * ```\n   */\n  client: ThirdwebClient;\n  /**\n   * By default - ConnectButton UI uses the `en-US` locale for english language users.\n   *\n   * You can customize the language used in the ConnectButton UI by setting the `locale` prop.\n   *\n   * Refer to the [`LocaleId`](https://portal.thirdweb.com/references/typescript/v5/LocaleId) type for supported locales.\n   */\n  locale?: LocaleId;\n  /**\n   * Set the theme for the `TransactionWidget` component. By default it is set to `\"dark\"`\n   *\n   * theme can be set to either `\"dark\"`, `\"light\"` or a custom theme object.\n   * You can also import [`lightTheme`](https://portal.thirdweb.com/references/typescript/v5/lightTheme)\n   * or [`darkTheme`](https://portal.thirdweb.com/references/typescript/v5/darkTheme)\n   * functions from `thirdweb/react` to use the default themes as base and overrides parts of it.\n   * @example\n   * ```ts\n   * import { lightTheme } from \"thirdweb/react\";\n   *\n   * const customTheme = lightTheme({\n   *  colors: {\n   *    modalBg: 'red'\n   *  }\n   * })\n   *\n   * function Example() {\n   *  return <TransactionWidget client={client} theme={customTheme} />\n   * }\n   * ```\n   */\n  theme?: \"light\" | \"dark\" | Theme;\n\n  /**\n   * Customize the options for \"Connect\" Button showing in the TransactionWidget UI when the user is not connected to a wallet.\n   *\n   * Refer to the [`TransactionWidgetConnectOptions`](https://portal.thirdweb.com/references/typescript/v5/TransactionWidgetConnectOptions) type for more details.\n   */\n  connectOptions?: TransactionWidgetConnectOptions;\n\n  /**\n   * All wallet IDs included in this array will be hidden from wallet selection when connected.\n   */\n  hiddenWallets?: WalletId[];\n\n  /**\n   * The wallet that should be pre-selected in the TransactionWidget UI.\n   */\n  activeWallet?: Wallet;\n\n  style?: React.CSSProperties;\n\n  className?: string;\n\n  /**\n   * Whether to show thirdweb branding in the widget.\n   * @default true\n   */\n  showThirdwebBranding?: boolean;\n\n  /**\n   * The token address needed to complete this transaction. Leave undefined if no token is required.\n   */\n  tokenAddress?: Address;\n\n  /**\n   * The price of the item **(as a decimal string)**, e.g. \"1.5\" for 1.5 tokens.\n   */\n  amount?: string;\n\n  /**\n   * A title for the transaction.\n   */\n  title?: string;\n\n  /**\n   * The transaction description.\n   */\n  description?: string;\n\n  /**\n   * An image URL to show on the widget, such as an NFT image.\n   */\n  image?: string;\n\n  /**\n   * Whether the user or the seller pays the protocol fees. Defaults to the user.\n   */\n  feePayer?: \"user\" | \"seller\";\n\n  /**\n   * Arbitrary data to be included in the returned status and webhook events.\n   */\n  purchaseData?: PurchaseData;\n\n  /**\n   * Callback triggered when the purchase is successful.\n   */\n  onSuccess?: (data: WaitForReceiptOptions) => void;\n\n  /**\n   * Callback triggered when the purchase encounters an error.\n   */\n  onError?: (error: Error) => void;\n\n  /**\n   * Callback triggered when the user cancels the purchase.\n   */\n  onCancel?: () => void;\n\n  /**\n   * Arbitrary data to be included in the returned status and webhook events.\n   */\n  transaction: PreparedTransaction;\n\n  /**\n   * @hidden\n   */\n  paymentLinkId?: string;\n\n  /**\n   * Allowed payment methods\n   * @default [\"crypto\", \"card\"]\n   */\n  paymentMethods?: (\"crypto\" | \"card\")[];\n\n  /**\n   * The currency to use for the payment.\n   * @default \"USD\"\n   */\n  currency?: SupportedFiatCurrency;\n\n  /** The user's ISO 3166 alpha-2 country code. This is used to determine onramp provider support. */\n  country?: string;\n\n  /**\n   * Custom label for the main action button.\n   */\n  buttonLabel?: string;\n};\n\n/**\n * Widget a prebuilt UI for purchasing a specific token.\n *\n * @param props - Props of type [`TransactionWidgetProps`](https://portal.thirdweb.com/references/typescript/v5/TransactionWidgetProps) to configure the TransactionWidget component.\n *\n * @example\n * ### Default configuration\n *\n * By default, the `TransactionWidget` component allows users to fund their wallets with crypto or fiat on any of the supported chains.\n *\n * ```tsx\n * <TransactionWidget\n *   client={client}\n *   transaction={prepareTransaction({\n *     to: \"0x...\",\n *     chain: ethereum,\n *     client: client,\n *   })}\n *   amount=\"0.1\"\n *  />\n * ```\n *\n * ### Customize the supported tokens\n *\n * You can customize the supported tokens that users can pay with by passing a `supportedTokens` object to the `TransactionWidget` component.\n *\n * ```tsx\n * <TransactionWidget\n *   client={client}\n *   transaction={prepareTransaction({\n *     to: \"0x...\",\n *     chain: ethereum,\n *     client: client,\n *   })}\n *   supportedTokens={{\n *     [8453]: [\n *       {\n *         address: \"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913\",\n *         name: \"USDC\",\n *         symbol: \"USDC\",\n *       },\n *     ],\n *   }}\n * />\n * ```\n *\n * ### Customize the UI\n *\n * You can customize the UI of the `TransactionWidget` component by passing a custom theme object to the `theme` prop.\n *\n * ```tsx\n * <TransactionWidget\n *   client={client}\n *   transaction={prepareTransaction({\n *     to: \"0x...\",\n *     chain: ethereum,\n *     client: client,\n *     value: toUnits(\"0.001\", 18),\n *   })}\n *   theme={darkTheme({\n *     colors: {\n *       modalBg: \"red\",\n *     },\n *   })}\n * />\n * ```\n *\n * Refer to the [`Theme`](https://portal.thirdweb.com/references/typescript/v5/Theme) type for more details.\n *\n * ### Update the Title\n *\n * You can update the title of the widget by passing a `title` prop to the `TransactionWidget` component.\n *\n * ```tsx\n * <TransactionWidget\n *   transaction={prepareTransaction({\n *     to: \"0x...\",\n *     chain: ethereum,\n *     client: client,\n *     value: toUnits(\"0.001\", 18),\n *   })}\n *   client={client}\n *   title=\"Transaction ETH\"\n * />\n * ```\n *\n * ### Configure the wallet connection\n *\n * You can customize the wallet connection flow by passing a `connectOptions` object to the `TransactionWidget` component.\n *\n * ```tsx\n * <TransactionWidget\n *   client={client}\n *   transaction={prepareTransaction({\n *     to: \"0x...\",\n *     chain: ethereum,\n *     client: client,\n *     value: toUnits(\"0.001\", 18),\n *   })}\n *   connectOptions={{\n *     connectModal: {\n *       size: 'compact',\n *       title: \"Sign in\",\n *     }\n *   }}\n * />\n * ```\n *\n * Refer to the [`TransactionWidgetConnectOptions`](https://portal.thirdweb.com/references/typescript/v5/TransactionWidgetConnectOptions) type for more details.\n *\n * @bridge\n */\n\nexport function TransactionWidget(props: TransactionWidgetProps) {\n  return (\n    <TransactionWidgetContainer\n      theme={props.theme}\n      className={props.className}\n      style={props.style}\n    >\n      <TransactionWidgetContentWrapper {...props} />\n    </TransactionWidgetContainer>\n  );\n}\n\ntype TransactionQueryResult =\n  | {\n      transaction: PreparedTransaction;\n      type: \"success\";\n    }\n  | {\n      type: \"unsupported_token\";\n    };\n\nexport function TransactionWidgetContentWrapper(props: TransactionWidgetProps) {\n  useQuery({\n    queryFn: () => {\n      trackPayEvent({\n        chainId: props.transaction.chain.id,\n        client: props.client,\n        event: \"ub:ui:transaction_widget:render\",\n        toToken: props.tokenAddress,\n      });\n      return true;\n    },\n    queryKey: [\"transaction_widget:render\"],\n  });\n\n  const localQuery = useConnectLocale(props.locale || \"en_US\");\n\n  const txQuery = useQuery({\n    queryFn: async (): Promise<TransactionQueryResult> => {\n      let erc20Value = props.transaction.erc20Value;\n\n      if (props.amount) {\n        // Get token decimals for conversion\n        const tokenAddress = props.tokenAddress || NATIVE_TOKEN_ADDRESS;\n        const token = await getToken(\n          props.client,\n          checksumAddress(tokenAddress),\n          props.transaction.chain.id,\n        ).catch((e) => {\n          if (e instanceof Error && e.message.includes(\"not supported\")) {\n            return null;\n          }\n          throw e;\n        });\n        if (!token) {\n          return {\n            type: \"unsupported_token\",\n          };\n        }\n\n        erc20Value = {\n          amountWei: toUnits(props.amount, token.decimals),\n          tokenAddress: checksumAddress(tokenAddress),\n        };\n      }\n\n      const transaction = prepareTransaction({\n        ...props.transaction,\n        erc20Value,\n      });\n\n      return {\n        transaction,\n        type: \"success\",\n      };\n    },\n\n    queryKey: [\"transaction-query\", stringify(props)],\n    retry: 1,\n  });\n\n  // if branding is disabled for widget, disable it for connect options too\n  const connectOptions = useMemo(() => {\n    if (props.showThirdwebBranding === false) {\n      return {\n        ...props.connectOptions,\n        connectModal: {\n          ...props.connectOptions?.connectModal,\n          showThirdwebBranding: props.showThirdwebBranding,\n        },\n      };\n    }\n    return props.connectOptions;\n  }, [props.connectOptions, props.showThirdwebBranding]);\n\n  if (txQuery.isPending || !localQuery.data) {\n    return (\n      <div\n        style={{\n          alignItems: \"center\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          minHeight: \"350px\",\n        }}\n      >\n        <Spinner color=\"secondaryText\" size=\"xl\" />\n      </div>\n    );\n  } else if (txQuery.error) {\n    return (\n      <div\n        style={{\n          alignItems: \"center\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          minHeight: \"350px\",\n        }}\n      >\n        <AccentFailIcon size={iconSize[\"3xl\"]} />\n        <Spacer y=\"lg\" />\n        <Text color=\"secondaryText\" size=\"md\">\n          {txQuery.error.message}\n        </Text>\n      </div>\n    );\n  } else if (txQuery.data?.type === \"unsupported_token\") {\n    return (\n      <UnsupportedTokenScreen\n        chain={props.transaction.chain}\n        client={props.client}\n        tokenAddress={props.tokenAddress || NATIVE_TOKEN_ADDRESS}\n      />\n    );\n  } else if (txQuery.data?.type === \"success\") {\n    return (\n      <TransactionWidgetContent\n        {...props}\n        connectOptions={connectOptions}\n        connectLocale={localQuery.data}\n        transaction={txQuery.data.transaction}\n        currency={props.currency || \"USD\"}\n        paymentMethods={props.paymentMethods || [\"crypto\", \"card\"]}\n        showThirdwebBranding={\n          props.showThirdwebBranding === undefined\n            ? true\n            : props.showThirdwebBranding\n        }\n      />\n    );\n  }\n\n  return null;\n}\n\ntype TransactionWidgetScreen =\n  | { id: \"init-ui\" }\n  | {\n      id: \"buy:1.methodSelection\";\n      destinationAmount: string;\n      destinationToken: TokenWithPrices;\n      receiverAddress: Address;\n      transaction: PreparedTransaction;\n    }\n  | {\n      id: \"buy:2.load-quote\";\n      destinationAmount: string;\n      destinationToken: TokenWithPrices;\n      receiverAddress: Address;\n      paymentMethod: PaymentMethod;\n      transaction: PreparedTransaction;\n    }\n  | {\n      id: \"buy:3.preview\";\n      preparedQuote: BridgePrepareResult;\n      request: BridgePrepareRequest;\n      destinationAmount: string;\n      destinationToken: TokenWithPrices;\n      paymentMethod: PaymentMethod;\n      receiverAddress: Address;\n      transaction: PreparedTransaction;\n    }\n  | {\n      id: \"buy:4.execute-buy\";\n      preparedQuote: BridgePrepareResult;\n      request: BridgePrepareRequest;\n      destinationAmount: string;\n      destinationToken: TokenWithPrices;\n      paymentMethod: PaymentMethod;\n      receiverAddress: Address;\n      transaction: PreparedTransaction;\n    }\n  | {\n      id: \"buy:5.success\";\n      completedStatuses: CompletedStatusResult[];\n      preparedQuote: BridgePrepareResult;\n      transaction: PreparedTransaction;\n    }\n  | {\n      id: \"execute-tx\";\n      transaction: PreparedTransaction;\n    }\n  | {\n      id: \"error\";\n      error: Error;\n    };\n\ntype RequiredParams<T extends object, keys extends keyof T> = T & {\n  [K in keys]-?: T[K];\n};\n\nfunction TransactionWidgetContent(\n  props: RequiredParams<\n    TransactionWidgetProps,\n    \"currency\" | \"showThirdwebBranding\" | \"paymentMethods\"\n  > & {\n    connectLocale: ConnectLocale;\n  },\n) {\n  const [screen, setScreen] = useState<TransactionWidgetScreen>({\n    id: \"init-ui\",\n  });\n\n  const handleError = useCallback(\n    (error: Error) => {\n      console.error(error);\n      props.onError?.(error);\n      setScreen({\n        id: \"error\",\n        error,\n      });\n    },\n    [props.onError],\n  );\n\n  if (screen.id === \"init-ui\") {\n    return (\n      <TransactionPayment\n        client={props.client}\n        metadata={{\n          title: props.title,\n          description: props.description,\n          image: props.image,\n        }}\n        connectOptions={props.connectOptions}\n        onContinue={(destinationAmount, destinationToken, receiverAddress) => {\n          setScreen({\n            id: \"buy:1.methodSelection\",\n            destinationAmount,\n            destinationToken,\n            transaction: props.transaction,\n            receiverAddress,\n          });\n        }}\n        onExecuteTransaction={() => {\n          setScreen({\n            id: \"execute-tx\",\n            transaction: props.transaction,\n          });\n        }}\n        showThirdwebBranding={props.showThirdwebBranding}\n        currency={props.currency}\n        buttonLabel={props.buttonLabel}\n        transaction={props.transaction}\n      />\n    );\n  }\n\n  if (screen.id === \"buy:1.methodSelection\") {\n    return (\n      <PaymentSelection\n        // from props\n        client={props.client}\n        connectLocale={props.connectLocale}\n        connectOptions={props.connectOptions}\n        paymentMethods={props.paymentMethods}\n        currency={props.currency}\n        supportedTokens={props.supportedTokens}\n        country={props.country}\n        // others\n        feePayer={undefined}\n        destinationToken={screen.destinationToken}\n        destinationAmount={screen.destinationAmount}\n        receiverAddress={screen.receiverAddress}\n        onBack={() => {\n          setScreen({ id: \"init-ui\" });\n        }}\n        onError={(error) => {\n          handleError(error);\n        }}\n        onPaymentMethodSelected={(paymentMethod) => {\n          setScreen({\n            ...screen,\n            id: \"buy:2.load-quote\",\n            paymentMethod,\n          });\n        }}\n      />\n    );\n  }\n\n  if (screen.id === \"buy:2.load-quote\") {\n    return (\n      <QuoteLoader\n        // from props\n        paymentLinkId={props.paymentLinkId}\n        purchaseData={props.purchaseData}\n        client={props.client}\n        // others\n        feePayer={undefined}\n        sender={undefined}\n        mode=\"transaction\"\n        amount={screen.destinationAmount}\n        destinationToken={screen.destinationToken}\n        onBack={() => {\n          setScreen({\n            ...screen,\n            id: \"buy:1.methodSelection\",\n          });\n        }}\n        onError={(error) => {\n          handleError(error);\n        }}\n        onQuoteReceived={(preparedQuote, request) => {\n          setScreen({\n            ...screen,\n            id: \"buy:3.preview\",\n            preparedQuote,\n            request,\n          });\n        }}\n        paymentMethod={screen.paymentMethod}\n        receiver={screen.receiverAddress}\n      />\n    );\n  }\n\n  if (screen.id === \"buy:3.preview\") {\n    return (\n      <PaymentDetails\n        // from props\n        client={props.client}\n        currency={props.currency}\n        metadata={{\n          title: props.title,\n          description: props.description,\n        }}\n        // others\n        confirmButtonLabel={undefined}\n        onBack={() => {\n          setScreen({\n            ...screen,\n            id: \"buy:1.methodSelection\",\n          });\n        }}\n        onConfirm={() => {\n          setScreen({\n            ...screen,\n            id: \"buy:4.execute-buy\",\n          });\n        }}\n        onError={(error) => {\n          handleError(error);\n        }}\n        paymentMethod={screen.paymentMethod}\n        preparedQuote={screen.preparedQuote}\n        modeInfo={{\n          mode: \"transaction\",\n          transaction: screen.transaction,\n        }}\n      />\n    );\n  }\n\n  if (screen.id === \"buy:4.execute-buy\") {\n    return (\n      <StepRunner\n        // from props\n        client={props.client}\n        // others\n        title={undefined}\n        preparedQuote={screen.preparedQuote}\n        autoStart={true}\n        onBack={() => {\n          setScreen({\n            ...screen,\n            id: \"buy:3.preview\",\n          });\n        }}\n        onCancel={() => {\n          props.onCancel?.();\n        }}\n        onComplete={(completedStatuses) => {\n          setScreen({\n            ...screen,\n            id: \"buy:5.success\",\n            completedStatuses,\n          });\n        }}\n        request={screen.request}\n        wallet={screen.paymentMethod.payerWallet}\n        windowAdapter={webWindowAdapter}\n      />\n    );\n  }\n\n  if (screen.id === \"buy:5.success\") {\n    return (\n      <SuccessScreen\n        // from props\n        client={props.client}\n        hasPaymentId={!!props.paymentLinkId}\n        // others\n        completedStatuses={screen.completedStatuses}\n        onDone={() => {\n          setScreen({ id: \"execute-tx\", transaction: screen.transaction });\n        }}\n        preparedQuote={screen.preparedQuote}\n        showContinueWithTx={true}\n        windowAdapter={webWindowAdapter}\n      />\n    );\n  }\n\n  if (screen.id === \"error\") {\n    return (\n      <ErrorBanner\n        client={props.client}\n        error={screen.error}\n        onCancel={() => {\n          setScreen({ id: \"init-ui\" });\n          props.onCancel?.();\n        }}\n        onRetry={() => {\n          setScreen({ id: \"init-ui\" });\n        }}\n      />\n    );\n  }\n\n  if (screen.id === \"execute-tx\") {\n    return (\n      <ExecutingTxScreen\n        onBack={() => {\n          setScreen({ id: \"init-ui\" });\n        }}\n        closeModal={() => {\n          setScreen({ id: \"init-ui\" });\n        }}\n        onTxSent={(data) => {\n          props.onSuccess?.(data);\n        }}\n        tx={screen.transaction}\n        windowAdapter={webWindowAdapter}\n      />\n    );\n  }\n\n  return null;\n}\n\n/**\n * @internal\n */\nfunction TransactionWidgetContainer(props: {\n  theme: TransactionWidgetProps[\"theme\"];\n  className: string | undefined;\n  style?: React.CSSProperties | undefined;\n  children: React.ReactNode;\n}) {\n  return (\n    <CustomThemeProvider theme={props.theme || \"dark\"}>\n      <EmbedContainer\n        className={props.className}\n        modalSize=\"compact\"\n        style={props.style}\n      >\n        <DynamicHeight>{props.children}</DynamicHeight>\n      </EmbedContainer>\n    </CustomThemeProvider>\n  );\n}\n\n/**\n * Connection options for the `TransactionWidget` component\n *\n * @example\n * ```tsx\n * <TransactionWidget client={client} connectOptions={{\n *    connectModal: {\n *      size: 'compact',\n *      title: \"Sign in\",\n *    }\n *  }}\n * />\n * ```\n */\ntype TransactionWidgetConnectOptions = {\n  /**\n   * Configurations for the `ConnectButton`'s Modal that is shown for connecting a wallet\n   * Refer to the [`ConnectButton_connectModalOptions`](https://portal.thirdweb.com/references/typescript/v5/ConnectButton_connectModalOptions) type for more details\n   */\n  connectModal?: ConnectButton_connectModalOptions;\n\n  /**\n   * Configure options for WalletConnect\n   *\n   * By default WalletConnect uses the thirdweb's default project id.\n   * Setting your own project id is recommended.\n   *\n   * You can create a project id by signing up on [walletconnect.com](https://walletconnect.com/)\n   */\n  walletConnect?: {\n    projectId?: string;\n  };\n\n  /**\n   * Enable Account abstraction for all wallets. This will connect to the users's smart account based on the connected personal wallet and the given options.\n   *\n   * This allows to sponsor gas fees for your user's transaction using the thirdweb account abstraction infrastructure.\n   *\n   */\n  accountAbstraction?: SmartWalletOptions;\n\n  /**\n   * Array of wallets to show in Connect Modal. If not provided, default wallets will be used.\n   */\n  wallets?: Wallet[];\n  /**\n   * When the user has connected their wallet to your site, this configuration determines whether or not you want to automatically connect to the last connected wallet when user visits your site again in the future.\n   *\n   * By default it is set to `{ timeout: 15000 }` meaning that autoConnect is enabled and if the autoConnection does not succeed within 15 seconds, it will be cancelled.\n   *\n   * If you want to disable autoConnect, set this prop to `false`.\n   *\n   * If you want to customize the timeout, you can assign an object with a `timeout` key to this prop.\n   * ```\n   */\n  autoConnect?:\n    | {\n        timeout: number;\n      }\n    | boolean;\n\n  /**\n   * Metadata of the app that will be passed to connected wallet. Setting this is highly recommended.\n   */\n  appMetadata?: AppMetadata;\n\n  /**\n   * The [`Chain`](https://portal.thirdweb.com/references/typescript/v5/Chain) object of the blockchain you want the wallet to connect to\n   *\n   * If a `chain` is not specified, Wallet will be connected to whatever is the default set in the wallet.\n   *\n   * If a `chain` is specified, Wallet will be prompted to switch to given chain after connection if it is not already connected to it.\n   * This ensures that the wallet is connected to the correct blockchain before interacting with your app.\n   *\n   * The `ConnectButton` also shows a \"Switch Network\" button until the wallet is connected to the specified chain. Clicking on the \"Switch Network\" button triggers the wallet to switch to the specified chain.\n   *\n   * You can create a `Chain` object using the [`defineChain`](https://portal.thirdweb.com/references/typescript/v5/defineChain) function.\n   * At minimum, you need to pass the `id` of the blockchain to `defineChain` function to create a `Chain` object.\n   * ```\n   */\n  chain?: Chain;\n\n  /**\n   * Array of chains that your app supports.\n   *\n   * This is only relevant if your app is a multi-chain app and works across multiple blockchains.\n   * If your app only works on a single blockchain, you should only specify the `chain` prop.\n   *\n   * Given list of chains will used in various ways:\n   * - They will be displayed in the network selector in the `ConnectButton`'s details modal post connection\n   * - They will be sent to wallet at the time of connection if the wallet supports requesting multiple chains ( example: WalletConnect ) so that users can switch between the chains post connection easily\n   *\n   * You can create a `Chain` object using the [`defineChain`](https://portal.thirdweb.com/references/typescript/v5/defineChain) function.\n   * At minimum, you need to pass the `id` of the blockchain to `defineChain` function to create a `Chain` object.\n   *\n   * ```tsx\n   * import { defineChain } from \"thirdweb/react\";\n   *\n   * const polygon = defineChain({\n   *   id: 137,\n   * });\n   * ```\n   */\n  chains?: Chain[];\n\n  /**\n   * Wallets to show as recommended in the `ConnectButton`'s Modal\n   */\n  recommendedWallets?: Wallet[];\n\n  /**\n   * By default, ConnectButton modal shows a \"All Wallets\" button that shows a list of 500+ wallets.\n   *\n   * You can disable this button by setting `showAllWallets` prop to `false`\n   */\n  showAllWallets?: boolean;\n\n  /**\n   * Enable SIWE (Sign in with Ethererum) by passing an object of type `SiweAuthOptions` to\n   * enforce the users to sign a message after connecting their wallet to authenticate themselves.\n   *\n   * Refer to the [`SiweAuthOptions`](https://portal.thirdweb.com/references/typescript/v5/SiweAuthOptions) for more details\n   */\n  auth?: SiweAuthOptions;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}