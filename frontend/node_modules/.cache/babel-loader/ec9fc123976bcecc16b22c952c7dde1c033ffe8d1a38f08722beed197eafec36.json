{"ast":null,"code":"import { getClientFetch } from \"../../utils/fetch.js\";\nimport { getPayBuyWithFiatHistoryEndpoint } from \"../utils/definitions.js\";\n/**\n * Get the \"Buy with fiat\" transaction history for a given wallet address\n * @param params Object of type [`BuyWithFiatHistoryParams`](https://portal.thirdweb.com/references/typescript/v5/BuyWithFiatHistoryParams)\n * @example\n *\n * ```ts\n * import { createThirdwebClient } from \"thirdweb\";\n * import { getBuyWithFiatHistory } from \"thirdweb/pay\";\n *\n * const client = createThirdwebClient({ clientId: \"...\" });\n *\n * // get the 10 latest \"Buy with fiat\" transactions dony by the wallet\n * const history = await getBuyWithFiatHistory({\n *  client: client,\n *  walletAddress: '0x...',\n *  start: 0,\n *  count: 10,\n * })\n * ```\n * @returns Object of type [`BuyWithFiatHistoryData`](https://portal.thirdweb.com/references/typescript/v5/BuyWithFiatHistoryData)\n * @deprecated\n * @buyCrypto\n */\nexport async function getBuyWithFiatHistory(params) {\n  try {\n    const queryParams = new URLSearchParams();\n    queryParams.append(\"walletAddress\", params.walletAddress);\n    queryParams.append(\"start\", params.start.toString());\n    queryParams.append(\"count\", params.count.toString());\n    const queryString = queryParams.toString();\n    const url = \"\".concat(getPayBuyWithFiatHistoryEndpoint(), \"?\").concat(queryString);\n    const response = await getClientFetch(params.client)(url);\n    // Assuming the response directly matches the BuyWithFiatStatus response interface\n    if (!response.ok) {\n      const error = await response.text().catch(() => null);\n      throw new Error(\"HTTP error! status: \".concat(response.status, \" - \").concat(response.statusText, \": \").concat(error || \"unknown error\"));\n    }\n    const data = (await response.json()).result;\n    return data;\n  } catch (error) {\n    throw new Error(\"Fetch failed: \".concat(error));\n  }\n}","map":{"version":3,"names":["getClientFetch","getPayBuyWithFiatHistoryEndpoint","getBuyWithFiatHistory","params","queryParams","URLSearchParams","append","walletAddress","start","toString","count","queryString","url","concat","response","client","ok","error","text","catch","Error","status","statusText","data","json","result"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/pay/buyWithFiat/getHistory.ts"],"sourcesContent":["import type { ThirdwebClient } from \"../../client/client.js\";\nimport { getClientFetch } from \"../../utils/fetch.js\";\nimport { getPayBuyWithFiatHistoryEndpoint } from \"../utils/definitions.js\";\nimport type { BuyWithFiatStatus } from \"./getStatus.js\";\n\n/**\n * The parameters for [`getBuyWithFiatHistory`](https://portal.thirdweb.com/references/typescript/v5/getBuyWithFiatHistory) function\n * @deprecated\n * @buyCrypto\n */\nexport type BuyWithFiatHistoryParams = {\n  /**\n   * A client is the entry point to the thirdweb SDK. It is required for all other actions.\n   *\n   * You can create a client using the `createThirdwebClient` function.\n   * Refer to the [Creating a Client](https://portal.thirdweb.com/typescript/v5/client) documentation for more information.\n   */\n  client: ThirdwebClient;\n  /**\n   * The address of the wallet to get the wallet history for\n   */\n  walletAddress: string;\n  /**\n   * The number of results to return in a single page. The default value is `10`.\n   */\n  count: number;\n  /**\n   * index of the first result to return. The default value is `0`.\n   *\n   * If you want to start the list from nth item, you can set the start value to (n-1).\n   */\n  start: number;\n};\n\n/**\n * The results for [`getBuyWithFiatHistory`](https://portal.thirdweb.com/references/typescript/v5/getBuyWithFiatHistory) function\n * @buyCrypto\n */\nexport type BuyWithFiatHistoryData = {\n  page: BuyWithFiatStatus[];\n  hasNextPage: boolean;\n};\n\n/**\n * Get the \"Buy with fiat\" transaction history for a given wallet address\n * @param params Object of type [`BuyWithFiatHistoryParams`](https://portal.thirdweb.com/references/typescript/v5/BuyWithFiatHistoryParams)\n * @example\n *\n * ```ts\n * import { createThirdwebClient } from \"thirdweb\";\n * import { getBuyWithFiatHistory } from \"thirdweb/pay\";\n *\n * const client = createThirdwebClient({ clientId: \"...\" });\n *\n * // get the 10 latest \"Buy with fiat\" transactions dony by the wallet\n * const history = await getBuyWithFiatHistory({\n *  client: client,\n *  walletAddress: '0x...',\n *  start: 0,\n *  count: 10,\n * })\n * ```\n * @returns Object of type [`BuyWithFiatHistoryData`](https://portal.thirdweb.com/references/typescript/v5/BuyWithFiatHistoryData)\n * @deprecated\n * @buyCrypto\n */\nexport async function getBuyWithFiatHistory(\n  params: BuyWithFiatHistoryParams,\n): Promise<BuyWithFiatHistoryData> {\n  try {\n    const queryParams = new URLSearchParams();\n    queryParams.append(\"walletAddress\", params.walletAddress);\n    queryParams.append(\"start\", params.start.toString());\n    queryParams.append(\"count\", params.count.toString());\n\n    const queryString = queryParams.toString();\n    const url = `${getPayBuyWithFiatHistoryEndpoint()}?${queryString}`;\n\n    const response = await getClientFetch(params.client)(url);\n\n    // Assuming the response directly matches the BuyWithFiatStatus response interface\n    if (!response.ok) {\n      const error = await response.text().catch(() => null);\n      throw new Error(\n        `HTTP error! status: ${response.status} - ${response.statusText}: ${error || \"unknown error\"}`,\n      );\n    }\n\n    const data: BuyWithFiatHistoryData = (await response.json()).result;\n    return data;\n  } catch (error) {\n    throw new Error(`Fetch failed: ${error}`);\n  }\n}\n"],"mappings":"AACA,SAASA,cAAc,QAAQ,sBAAsB;AACrD,SAASC,gCAAgC,QAAQ,yBAAyB;AAyC1E;;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAO,eAAeC,qBAAqBA,CACzCC,MAAgC;EAEhC,IAAI;IACF,MAAMC,WAAW,GAAG,IAAIC,eAAe,EAAE;IACzCD,WAAW,CAACE,MAAM,CAAC,eAAe,EAAEH,MAAM,CAACI,aAAa,CAAC;IACzDH,WAAW,CAACE,MAAM,CAAC,OAAO,EAAEH,MAAM,CAACK,KAAK,CAACC,QAAQ,EAAE,CAAC;IACpDL,WAAW,CAACE,MAAM,CAAC,OAAO,EAAEH,MAAM,CAACO,KAAK,CAACD,QAAQ,EAAE,CAAC;IAEpD,MAAME,WAAW,GAAGP,WAAW,CAACK,QAAQ,EAAE;IAC1C,MAAMG,GAAG,MAAAC,MAAA,CAAMZ,gCAAgC,EAAE,OAAAY,MAAA,CAAIF,WAAW,CAAE;IAElE,MAAMG,QAAQ,GAAG,MAAMd,cAAc,CAACG,MAAM,CAACY,MAAM,CAAC,CAACH,GAAG,CAAC;IAEzD;IACA,IAAI,CAACE,QAAQ,CAACE,EAAE,EAAE;MAChB,MAAMC,KAAK,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE,CAACC,KAAK,CAAC,MAAM,IAAI,CAAC;MACrD,MAAM,IAAIC,KAAK,wBAAAP,MAAA,CACUC,QAAQ,CAACO,MAAM,SAAAR,MAAA,CAAMC,QAAQ,CAACQ,UAAU,QAAAT,MAAA,CAAKI,KAAK,IAAI,eAAe,CAAE,CAC/F;IACH;IAEA,MAAMM,IAAI,GAA2B,CAAC,MAAMT,QAAQ,CAACU,IAAI,EAAE,EAAEC,MAAM;IACnE,OAAOF,IAAI;EACb,CAAC,CAAC,OAAON,KAAK,EAAE;IACd,MAAM,IAAIG,KAAK,kBAAAP,MAAA,CAAkBI,KAAK,CAAE,CAAC;EAC3C;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}