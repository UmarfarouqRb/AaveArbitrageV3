{"ast":null,"code":"import { getThirdwebBaseUrl } from \"../../utils/domains.js\";\nimport { withCache } from \"../../utils/promise/withCache.js\";\n/**\n * Retrieves the specified auth options for a given ecosystem wallet, if any.\n * @param walletId The ecosystem wallet ID.\n * @returns {AuthOption[] | undefined} The auth options for the ecosystem wallet.\n * @internal\n */\nexport async function getEcosystemInfo(walletId) {\n  return withCache(async () => {\n    var _data$authOptions;\n    const res = await fetch(\"\".concat(getThirdwebBaseUrl(\"inAppWallet\"), \"/api/2024-05-05/ecosystem-wallet\"), {\n      headers: {\n        \"x-ecosystem-id\": walletId\n      }\n    });\n    const data = await res.json();\n    if (!data || data.code === \"UNAUTHORIZED\") {\n      throw new Error(data.message || \"Could not find ecosystem wallet with id \".concat(walletId, \", please check your ecosystem wallet configuration.\"));\n    }\n    // siwe is the auth option in the backend, but we want to use wallet as the auth option in the frontend\n    if ((_data$authOptions = data.authOptions) !== null && _data$authOptions !== void 0 && _data$authOptions.includes(\"siwe\")) {\n      data.authOptions = data.authOptions.filter(o => o !== \"siwe\");\n      data.authOptions.push(\"wallet\");\n    }\n    return data;\n  }, {\n    cacheKey: \"ecosystem-wallet-options-\".concat(walletId),\n    cacheTime: 1000 * 60 * 5 // 5 mins\n  });\n}","map":{"version":3,"names":["getThirdwebBaseUrl","withCache","getEcosystemInfo","walletId","_data$authOptions","res","fetch","concat","headers","data","json","code","Error","message","authOptions","includes","filter","o","push","cacheKey","cacheTime"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/wallets/ecosystem/get-ecosystem-wallet-auth-options.ts"],"sourcesContent":["import { getThirdwebBaseUrl } from \"../../utils/domains.js\";\nimport { withCache } from \"../../utils/promise/withCache.js\";\nimport type { AuthOption } from \"../types.js\";\nimport type { EcosystemWalletId } from \"../wallet-types.js\";\n\ntype EcosystemOptions = {\n  name: string;\n  imageUrl?: string;\n  slug: string;\n  homepage?: string;\n  authOptions: AuthOption[];\n  smartAccountOptions: SmartAccountOptions;\n};\n\ntype SmartAccountOptions = {\n  defaultChainId: number;\n  sponsorGas: boolean;\n  accountFactoryAddress?: string;\n  executionMode?: \"EIP4337\" | \"EIP7702\";\n};\n\n/**\n * Retrieves the specified auth options for a given ecosystem wallet, if any.\n * @param walletId The ecosystem wallet ID.\n * @returns {AuthOption[] | undefined} The auth options for the ecosystem wallet.\n * @internal\n */\nexport async function getEcosystemInfo(\n  walletId: EcosystemWalletId,\n): Promise<EcosystemOptions> {\n  return withCache(\n    async () => {\n      const res = await fetch(\n        `${getThirdwebBaseUrl(\"inAppWallet\")}/api/2024-05-05/ecosystem-wallet`,\n        {\n          headers: {\n            \"x-ecosystem-id\": walletId,\n          },\n        },\n      );\n\n      const data = await res.json();\n\n      if (!data || data.code === \"UNAUTHORIZED\") {\n        throw new Error(\n          data.message ||\n            `Could not find ecosystem wallet with id ${walletId}, please check your ecosystem wallet configuration.`,\n        );\n      }\n\n      // siwe is the auth option in the backend, but we want to use wallet as the auth option in the frontend\n      if (data.authOptions?.includes(\"siwe\")) {\n        data.authOptions = data.authOptions.filter((o: string) => o !== \"siwe\");\n        data.authOptions.push(\"wallet\");\n      }\n\n      return data;\n    },\n    {\n      cacheKey: `ecosystem-wallet-options-${walletId}`,\n      cacheTime: 1000 * 60 * 5, // 5 mins\n    },\n  );\n}\n"],"mappings":"AAAA,SAASA,kBAAkB,QAAQ,wBAAwB;AAC3D,SAASC,SAAS,QAAQ,kCAAkC;AAoB5D;;;;;;AAMA,OAAO,eAAeC,gBAAgBA,CACpCC,QAA2B;EAE3B,OAAOF,SAAS,CACd,YAAW;IAAA,IAAAG,iBAAA;IACT,MAAMC,GAAG,GAAG,MAAMC,KAAK,IAAAC,MAAA,CAClBP,kBAAkB,CAAC,aAAa,CAAC,uCACpC;MACEQ,OAAO,EAAE;QACP,gBAAgB,EAAEL;;KAErB,CACF;IAED,MAAMM,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,EAAE;IAE7B,IAAI,CAACD,IAAI,IAAIA,IAAI,CAACE,IAAI,KAAK,cAAc,EAAE;MACzC,MAAM,IAAIC,KAAK,CACbH,IAAI,CAACI,OAAO,+CAAAN,MAAA,CACiCJ,QAAQ,wDAAqD,CAC3G;IACH;IAEA;IACA,KAAAC,iBAAA,GAAIK,IAAI,CAACK,WAAW,cAAAV,iBAAA,eAAhBA,iBAAA,CAAkBW,QAAQ,CAAC,MAAM,CAAC,EAAE;MACtCN,IAAI,CAACK,WAAW,GAAGL,IAAI,CAACK,WAAW,CAACE,MAAM,CAAEC,CAAS,IAAKA,CAAC,KAAK,MAAM,CAAC;MACvER,IAAI,CAACK,WAAW,CAACI,IAAI,CAAC,QAAQ,CAAC;IACjC;IAEA,OAAOT,IAAI;EACb,CAAC,EACD;IACEU,QAAQ,8BAAAZ,MAAA,CAA8BJ,QAAQ,CAAE;IAChDiB,SAAS,EAAE,IAAI,GAAG,EAAE,GAAG,CAAC,CAAE;GAC3B,CACF;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}