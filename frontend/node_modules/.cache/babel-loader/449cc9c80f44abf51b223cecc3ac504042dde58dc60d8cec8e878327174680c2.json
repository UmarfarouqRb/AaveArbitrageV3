{"ast":null,"code":"/**\n * Creates an emitter object that allows subscribing to events and emitting events.\n * @returns An emitter object with `subscribe` and `emit` methods.\n * @template TEmitter - The type of the emitter.\n * @example\n * ```ts\n * const emitter = createEmitter<{\n *  event1: string;\n * event2: number;\n * }>();\n *\n * emitter.subscribe(\"event1\", (data) => {\n * console.log(data); // \"hello\"\n * });\n *\n * emitter.emit(\"event1\", \"hello\");\n * ```\n */\nexport function createEmitter() {\n  const subsribers = new Map();\n  return {\n    emit(event, data) {\n      const subscribers = subsribers.get(event);\n      if (subscribers) {\n        for (const cb of subscribers) {\n          cb(data);\n        }\n      }\n    },\n    subscribe(event, cb) {\n      if (!subsribers.has(event)) {\n        subsribers.set(event, new Set([cb]));\n      } else {\n        var _subsribers$get;\n        (_subsribers$get = subsribers.get(event)) === null || _subsribers$get === void 0 || _subsribers$get.add(cb);\n      }\n      return () => {\n        const subscribers = subsribers.get(event);\n        if (subscribers) {\n          subscribers.delete(cb);\n        }\n      };\n    }\n  };\n}","map":{"version":3,"names":["createEmitter","subsribers","Map","emit","event","data","subscribers","get","cb","subscribe","has","set","Set","_subsribers$get","add","delete"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/utils/tiny-emitter.ts"],"sourcesContent":["type GenericEmitterType = {\n  [key: string]: unknown;\n};\n\nexport type Emitter<T extends GenericEmitterType> = {\n  subscribe<K extends keyof T>(event: K, cb: (data: T[K]) => void): () => void;\n  emit<K extends keyof T>(event: K, data: T[K]): void;\n};\n\n/**\n * Creates an emitter object that allows subscribing to events and emitting events.\n * @returns An emitter object with `subscribe` and `emit` methods.\n * @template TEmitter - The type of the emitter.\n * @example\n * ```ts\n * const emitter = createEmitter<{\n *  event1: string;\n * event2: number;\n * }>();\n *\n * emitter.subscribe(\"event1\", (data) => {\n * console.log(data); // \"hello\"\n * });\n *\n * emitter.emit(\"event1\", \"hello\");\n * ```\n */\nexport function createEmitter<\n  const TEmitter extends GenericEmitterType,\n>(): Emitter<TEmitter> {\n  const subsribers = new Map<\n    keyof TEmitter,\n    // biome-ignore lint/suspicious/noExplicitAny: TODO: fix any\n    Set<(data: any) => void>\n  >();\n\n  return {\n    emit(event, data) {\n      const subscribers = subsribers.get(event);\n      if (subscribers) {\n        for (const cb of subscribers) {\n          cb(data);\n        }\n      }\n    },\n    subscribe(event, cb) {\n      if (!subsribers.has(event)) {\n        subsribers.set(event, new Set([cb]));\n      } else {\n        subsribers.get(event)?.add(cb);\n      }\n\n      return () => {\n        const subscribers = subsribers.get(event);\n        if (subscribers) {\n          subscribers.delete(cb);\n        }\n      };\n    },\n  };\n}\n"],"mappings":"AASA;;;;;;;;;;;;;;;;;;AAkBA,OAAM,SAAUA,aAAaA,CAAA;EAG3B,MAAMC,UAAU,GAAG,IAAIC,GAAG,EAIvB;EAEH,OAAO;IACLC,IAAIA,CAACC,KAAK,EAAEC,IAAI;MACd,MAAMC,WAAW,GAAGL,UAAU,CAACM,GAAG,CAACH,KAAK,CAAC;MACzC,IAAIE,WAAW,EAAE;QACf,KAAK,MAAME,EAAE,IAAIF,WAAW,EAAE;UAC5BE,EAAE,CAACH,IAAI,CAAC;QACV;MACF;IACF,CAAC;IACDI,SAASA,CAACL,KAAK,EAAEI,EAAE;MACjB,IAAI,CAACP,UAAU,CAACS,GAAG,CAACN,KAAK,CAAC,EAAE;QAC1BH,UAAU,CAACU,GAAG,CAACP,KAAK,EAAE,IAAIQ,GAAG,CAAC,CAACJ,EAAE,CAAC,CAAC,CAAC;MACtC,CAAC,MAAM;QAAA,IAAAK,eAAA;QACL,CAAAA,eAAA,GAAAZ,UAAU,CAACM,GAAG,CAACH,KAAK,CAAC,cAAAS,eAAA,eAArBA,eAAA,CAAuBC,GAAG,CAACN,EAAE,CAAC;MAChC;MAEA,OAAO,MAAK;QACV,MAAMF,WAAW,GAAGL,UAAU,CAACM,GAAG,CAACH,KAAK,CAAC;QACzC,IAAIE,WAAW,EAAE;UACfA,WAAW,CAACS,MAAM,CAACP,EAAE,CAAC;QACxB;MACF,CAAC;IACH;GACD;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}