{"ast":null,"code":"\"use client\";\n\nimport _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { ChevronLeftIcon } from \"@radix-ui/react-icons\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { createWallet } from \"../../../../wallets/create-wallet.js\";\nimport { getInstalledWalletProviders } from \"../../../../wallets/injected/mipdStore.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { fontSize, iconSize, radius, spacing } from \"../../../core/design-system/index.js\";\nimport { useSetSelectionData } from \"../../providers/wallet-ui-states-provider.js\";\nimport { sortWallets } from \"../../utils/sortWallets.js\";\nimport InAppWalletSelectionUI from \"../../wallets/in-app/InAppWalletSelectionUI.js\";\nimport { Container, Line, ModalHeader, noScrollBar, ScreenBottomContainer } from \"../components/basic.js\";\nimport { Button, IconButton } from \"../components/buttons.js\";\nimport { Img } from \"../components/Img.js\";\nimport { ModalTitle } from \"../components/modalElements.js\";\nimport { Spacer } from \"../components/Spacer.js\";\nimport { TextDivider } from \"../components/TextDivider.js\";\nimport { Link, Text } from \"../components/text.js\";\nimport { StyledDiv, StyledUl } from \"../design-system/elements.js\";\nimport { compactModalMaxHeight } from \"./constants.js\";\nimport { OutlineWalletIcon } from \"./icons/OutlineWalletIcon.js\";\nimport { SmartConnectUI } from \"./Modal/SmartWalletConnectUI.js\";\nimport { useScreenContext } from \"./Modal/screen.js\";\nimport { TOS } from \"./Modal/TOS.js\";\nimport { PoweredByThirdweb } from \"./PoweredByTW.js\";\nimport { WalletButtonEl, WalletEntryButton } from \"./WalletEntryButton.js\";\nimport { WalletTypeRowButton } from \"./WalletTypeRowButton.js\";\n// const localWalletId = \"local\";\nconst inAppWalletId = \"inApp\";\n/**\n * @internal\n */\nexport function WalletSelector(props) {\n  const [personalWallet, setPersonalWallet] = useState(null);\n  if (!props.accountAbstraction) {\n    return _jsx(WalletSelectorInner, _objectSpread({}, props));\n  }\n  if (personalWallet) {\n    return _jsx(SmartConnectUI, {\n      accountAbstraction: props.accountAbstraction,\n      chain: props.chain,\n      chains: props.chains,\n      client: props.client,\n      connectLocale: props.connectLocale,\n      done: props.done,\n      meta: props.meta,\n      onBack: props.goBack,\n      personalWallet: personalWallet,\n      setModalVisibility: props.setModalVisibility,\n      size: props.size,\n      walletConnect: props.walletConnect\n    });\n  }\n  return _jsx(WalletSelectorInner, _objectSpread(_objectSpread({}, props), {}, {\n    done: w => {\n      setPersonalWallet(w);\n    }\n  }));\n}\n/**\n * @internal\n */\nconst WalletSelectorInner = props => {\n  const {\n    walletIdsToHide\n  } = props;\n  const isCompact = props.size === \"compact\";\n  const [isWalletGroupExpanded, setIsWalletGroupExpanded] = useState(false);\n  // This is only used if requireApproval is true\n  const [approvedTOS, setApprovedTOS] = useState(false);\n  const installedWallets = getInstalledWallets();\n  const propsWallets = props.wallets;\n  let _wallets = [...propsWallets];\n  for (const iW of installedWallets) {\n    if (!propsWallets.find(w => w.id === iW.id)) {\n      _wallets.push(iW);\n    }\n  }\n  if (walletIdsToHide) {\n    _wallets = _wallets.filter(w => !(walletIdsToHide !== null && walletIdsToHide !== void 0 && walletIdsToHide.includes(w.id)));\n  }\n  const localWalletConfig = false; // _wallets.find((w) => w.id === localWalletId);\n  const nonLocalWalletConfigs = _wallets; // _wallets.filter((w) => w.id !== localWalletId);\n  const socialWallets = nonLocalWalletConfigs.filter(w => w.id === inAppWalletId);\n  const eoaWallets = sortWallets(nonLocalWalletConfigs.filter(w => w.id !== inAppWalletId), props.recommendedWallets);\n  const continueAsGuest = localWalletConfig && _jsx(Button, {\n    \"data-test\": \"continue-as-guest-button\",\n    disabled: props.meta.requireApproval && !approvedTOS,\n    fullWidth: true,\n    onClick: () => {\n      props.selectWallet(localWalletConfig);\n    },\n    style: !isCompact ? {\n      justifyContent: \"flex-start\",\n      textAlign: \"left\"\n    } : undefined,\n    variant: isCompact ? \"outline\" : \"link\",\n    children: props.connectLocale.continueAsGuest\n  });\n  // prevent accidental clicks on the TW icon when clicking on back icon from previous screen\n  const enableTWIconLink = useRef(false);\n  useEffect(() => {\n    setTimeout(() => {\n      enableTWIconLink.current = true;\n    }, 1000);\n  }, []);\n  const twTitle = props.modalHeader ? _jsx(ModalHeader, {\n    onBack: props.modalHeader.onBack,\n    title: props.modalHeader.title\n  }) : _jsxs(Container, {\n    center: \"y\",\n    flex: \"row\",\n    gap: \"xs\",\n    className: \"tw-header\",\n    children: [!props.meta.titleIconUrl ? null : _jsx(Img, {\n      client: props.client,\n      height: iconSize.md,\n      src: props.meta.titleIconUrl,\n      width: iconSize.md\n    }), _jsxs(ModalTitle, {\n      children: [\" \", props.title, \" \"]\n    })]\n  });\n  const handleSelect = async wallet => {\n    props.selectWallet(wallet);\n  };\n  const connectAWallet = _jsx(WalletTypeRowButton, {\n    className: \"tw-select-connect-a-wallet-button\",\n    client: props.client,\n    disabled: props.meta.requireApproval && !approvedTOS,\n    icon: OutlineWalletIcon,\n    onClick: () => {\n      setIsWalletGroupExpanded(true);\n    },\n    title: props.connectLocale.connectAWallet\n  });\n  const newToWallets = _jsxs(Container, {\n    className: \"tw-get-started-container\",\n    flex: \"row\",\n    style: {\n      justifyContent: \"space-between\"\n    },\n    children: [_jsx(Text, {\n      color: \"secondaryText\",\n      size: \"sm\",\n      weight: 500,\n      children: props.connectLocale.newToWallets\n    }), _jsx(Link, {\n      href: \"https://blog.thirdweb.com/web3-wallet/\",\n      size: \"sm\",\n      target: \"_blank\",\n      weight: 500,\n      children: props.connectLocale.getStarted\n    })]\n  });\n  const tos = props.meta.requireApproval || props.meta.termsOfServiceUrl || props.meta.privacyPolicyUrl ? _jsx(TOS, {\n    isApproved: approvedTOS,\n    locale: props.connectLocale.agreement,\n    onApprove: () => setApprovedTOS(!approvedTOS),\n    privacyPolicyUrl: props.meta.privacyPolicyUrl,\n    requireApproval: props.meta.requireApproval,\n    termsOfServiceUrl: props.meta.termsOfServiceUrl\n  }) : undefined;\n  let topSection;\n  let bottomSection;\n  // wide modal\n  if (!isCompact) {\n    topSection = _jsx(WalletSelection, {\n      chain: props.chain,\n      client: props.client,\n      connectLocale: props.connectLocale,\n      diableSelectionDataReset: props.disableSelectionDataReset,\n      disabled: props.meta.requireApproval && !approvedTOS,\n      done: props.done,\n      goBack: props.goBack,\n      onShowAll: props.onShowAll,\n      recommendedWallets: props.recommendedWallets,\n      selectWallet: handleSelect,\n      showAllWallets: props.showAllWallets,\n      size: props.size,\n      wallets: nonLocalWalletConfigs\n    });\n    if (continueAsGuest) {\n      bottomSection = _jsx(ScreenBottomContainer, {\n        children: continueAsGuest\n      });\n    }\n  }\n  // compact\n  else {\n    // no social logins\n    if (socialWallets.length === 0) {\n      topSection = _jsx(WalletSelection, {\n        chain: props.chain,\n        client: props.client,\n        connectLocale: props.connectLocale,\n        diableSelectionDataReset: props.disableSelectionDataReset,\n        disabled: props.meta.requireApproval && !approvedTOS,\n        done: props.done,\n        goBack: props.goBack,\n        onShowAll: props.onShowAll,\n        recommendedWallets: props.recommendedWallets,\n        selectWallet: handleSelect,\n        showAllWallets: props.showAllWallets,\n        size: props.size,\n        wallets: nonLocalWalletConfigs\n      });\n      bottomSection = _jsxs(_Fragment, {\n        children: [_jsx(Line, {}), _jsxs(Container, {\n          flex: \"column\",\n          gap: \"md\",\n          px: \"lg\",\n          py: \"md+\",\n          children: [newToWallets, continueAsGuest]\n        }), !continueAsGuest && _jsx(Line, {}), tos && _jsx(Container, {\n          px: \"md\",\n          style: {\n            paddingBottom: spacing.md,\n            paddingTop: continueAsGuest ? 0 : spacing.md\n          },\n          children: tos\n        })]\n      });\n    }\n    // social logins\n    else {\n      // not expanded state\n      if (!isWalletGroupExpanded) {\n        topSection = _jsxs(Container, {\n          px: \"xs\",\n          children: [_jsx(WalletSelection, {\n            chain: props.chain,\n            client: props.client,\n            connectLocale: props.connectLocale,\n            diableSelectionDataReset: props.disableSelectionDataReset,\n            disabled: props.meta.requireApproval && !approvedTOS,\n            done: props.done,\n            goBack: props.goBack,\n            recommendedWallets: props.recommendedWallets,\n            selectWallet: handleSelect,\n            showAllWallets: props.showAllWallets,\n            size: props.size,\n            wallets: socialWallets\n          }), eoaWallets.length > 0 && _jsxs(_Fragment, {\n            children: [_jsx(TextDivider, {\n              text: props.connectLocale.or\n            }), _jsx(Spacer, {\n              y: \"lg\"\n            })]\n          })]\n        });\n        // only social login - no eoa wallets\n        if (eoaWallets.length === 0) {\n          bottomSection = tos || continueAsGuest ? _jsxs(_Fragment, {\n            children: [_jsx(Spacer, {\n              y: \"md\"\n            }), _jsx(Line, {}), continueAsGuest && _jsxs(Container, {\n              p: \"lg\",\n              children: [\" \", continueAsGuest]\n            }), tos && _jsxs(Container, {\n              p: \"md\",\n              children: [\" \", tos, \" \"]\n            })]\n          }) : _jsx(Spacer, {\n            y: \"sm\"\n          });\n        }\n        // social login + eoa wallets\n        else {\n          // social login + More than 1 eoa wallets\n          if (eoaWallets.length > 1) {\n            bottomSection = _jsxs(Container, {\n              flex: \"column\",\n              gap: \"sm\",\n              style: {\n                position: \"relative\"\n              },\n              children: [_jsx(GradientDiv, {}), _jsxs(Container, {\n                flex: \"column\",\n                gap: \"md\",\n                px: \"lg\",\n                children: [connectAWallet, continueAsGuest]\n              }), tos ? _jsxs(Container, {\n                p: \"md\",\n                children: [\" \", tos, \" \"]\n              }) : _jsx(Spacer, {\n                y: \"xxs\"\n              })]\n            });\n          }\n          // social login + single eoa wallet\n          else {\n            bottomSection = _jsxs(_Fragment, {\n              children: [_jsx(Container, {\n                px: \"lg\",\n                children: _jsx(WalletSelection, {\n                  chain: props.chain,\n                  client: props.client,\n                  connectLocale: props.connectLocale,\n                  diableSelectionDataReset: props.disableSelectionDataReset,\n                  disabled: props.meta.requireApproval && !approvedTOS,\n                  done: props.done,\n                  goBack: props.goBack,\n                  onShowAll: props.onShowAll,\n                  recommendedWallets: props.recommendedWallets,\n                  selectWallet: handleSelect,\n                  showAllWallets: props.showAllWallets,\n                  size: props.size,\n                  wallets: eoaWallets\n                })\n              }), continueAsGuest && _jsx(Container, {\n                flex: \"column\",\n                gap: \"lg\",\n                px: \"lg\",\n                children: continueAsGuest\n              }), tos ? _jsxs(_Fragment, {\n                children: [continueAsGuest ? _jsx(Spacer, {\n                  y: \"md\"\n                }) : _jsx(Line, {}), _jsxs(Container, {\n                  p: \"md\",\n                  children: [\" \", tos, \" \"]\n                })]\n              }) : continueAsGuest && _jsx(Spacer, {\n                y: \"xl\"\n              })]\n            });\n          }\n        }\n      }\n      // expanded state\n      else {\n        topSection = _jsx(WalletSelection, {\n          chain: props.chain,\n          client: props.client,\n          connectLocale: props.connectLocale,\n          diableSelectionDataReset: props.disableSelectionDataReset,\n          disabled: props.meta.requireApproval && !approvedTOS,\n          done: props.done,\n          goBack: props.goBack,\n          onShowAll: props.onShowAll,\n          recommendedWallets: props.recommendedWallets,\n          selectWallet: handleSelect,\n          showAllWallets: props.showAllWallets,\n          size: props.size,\n          wallets: eoaWallets\n        });\n        bottomSection = _jsx(ScreenBottomContainer, {\n          children: newToWallets\n        });\n      }\n    }\n  }\n  // hide the header for embed - unless it's customized\n  const showHeader = !props.hideHeader || props.modalHeader;\n  return _jsxs(Container, {\n    animate: \"fadein\",\n    className: \"tw-wallet-selection\",\n    flex: \"column\",\n    fullHeight: true,\n    scrollY: true,\n    style: {\n      maxHeight: props.size === \"compact\" ? compactModalMaxHeight : undefined\n    },\n    children: [showHeader && _jsx(Container, {\n      p: \"lg\",\n      children: isWalletGroupExpanded ? _jsx(ModalHeader, {\n        onBack: () => {\n          setIsWalletGroupExpanded(false);\n        },\n        title: twTitle\n      }) : twTitle\n    }), _jsxs(Container, {\n      expand: true,\n      px: \"md\",\n      scrollY: true,\n      style: !showHeader ? {\n        paddingTop: spacing.lg\n      } : {\n        paddingTop: \"2px\"\n      },\n      children: [!showHeader && isWalletGroupExpanded && _jsx(Container, {\n        center: \"y\",\n        flex: \"row\",\n        style: {\n          padding: spacing.sm,\n          paddingTop: 0\n        },\n        children: _jsxs(IconButton, {\n          onClick: () => {\n            setIsWalletGroupExpanded(false);\n          },\n          style: {\n            gap: spacing.xxs,\n            paddingBlock: spacing.xxs,\n            paddingRight: spacing.xs,\n            transform: \"translateX(-\".concat(spacing.xs, \")\")\n          },\n          children: [_jsx(ChevronLeftIcon, {\n            height: iconSize.sm,\n            width: iconSize.sm\n          }), props.connectLocale.goBackButton]\n        })\n      }), topSection]\n    }), bottomSection, isCompact && props.meta.showThirdwebBranding !== false && _jsx(Container, {\n      py: \"md\",\n      children: _jsx(PoweredByThirdweb, {})\n    })]\n  });\n};\nlet _installedWallets = [];\nfunction getInstalledWallets() {\n  if (_installedWallets.length === 0) {\n    const providers = getInstalledWalletProviders();\n    const walletIds = providers.map(provider => provider.info.rdns);\n    _installedWallets = walletIds.map(w => createWallet(w));\n  }\n  return _installedWallets;\n}\n/**\n * @internal\n */\nconst WalletSelection = props => {\n  const wallets = sortWallets(props.wallets, props.recommendedWallets);\n  const {\n    screen\n  } = useScreenContext();\n  const setSelectionData = useSetSelectionData();\n  return _jsxs(WalletList, {\n    style: {\n      maxHeight: \"370px\",\n      minHeight: \"100%\"\n    },\n    children: [wallets.map(wallet => {\n      const isActive = screen ? typeof screen === \"object\" && screen.id === wallet.id : false;\n      return _jsx(\"li\", {\n        children: wallet.id === \"inApp\" && props.size === \"compact\" ? _jsx(InAppWalletSelectionUI, {\n          chain: props.chain,\n          client: props.client,\n          connectLocale: props.connectLocale,\n          disabled: props.disabled,\n          done: () => props.done(wallet),\n          goBack: props.goBack,\n          recommendedWallets: props.recommendedWallets,\n          select: () => props.selectWallet(wallet),\n          size: props.size,\n          wallet: wallet\n        }) : _jsx(WalletEntryButton, {\n          className: \"tw-wallet-select-wallet-button\",\n          badge: undefined,\n          client: props.client,\n          connectLocale: props.connectLocale,\n          isActive: isActive,\n          recommendedWallets: props.recommendedWallets,\n          selectWallet: () => {\n            if (!props.diableSelectionDataReset) {\n              setSelectionData({});\n            }\n            props.selectWallet(wallet);\n          },\n          wallet: wallet\n        })\n      }, wallet.id);\n    }), props.onShowAll && props.showAllWallets !== false && _jsx(ButtonContainer, {\n      className: \"tw-show-all-wallets-button\",\n      children: _jsxs(WalletButtonEl, {\n        onClick: props.onShowAll,\n        children: [_jsxs(ShowAllWalletsIcon, {\n          children: [_jsx(\"div\", {\n            \"data-dot\": true\n          }), _jsx(\"div\", {\n            \"data-dot\": true\n          }), _jsx(\"div\", {\n            \"data-dot\": true\n          }), _jsx(\"div\", {\n            \"data-dot\": true\n          })]\n        }), _jsxs(Container, {\n          flex: \"row\",\n          gap: \"xs\",\n          children: [_jsx(Text, {\n            color: \"primaryText\",\n            children: \"All Wallets\"\n          }), _jsx(BadgeText, {\n            children: \" 500+ \"\n          })]\n        })]\n      })\n    })]\n  });\n};\nconst BadgeText = /* @__PURE__ */StyledDiv(() => {\n  const theme = useCustomTheme();\n  return {\n    backgroundColor: theme.colors.secondaryButtonBg,\n    borderRadius: radius.sm,\n    color: theme.colors.secondaryText,\n    fontSize: fontSize.xs,\n    paddingBlock: \"3px\",\n    paddingInline: spacing.xxs\n  };\n});\nconst ButtonContainer = /* @__PURE__ */StyledDiv(() => {\n  const theme = useCustomTheme();\n  return {\n    \"&:hover [data-dot]\": {\n      background: theme.colors.primaryText\n    }\n  };\n});\nconst ShowAllWalletsIcon = /* @__PURE__ */StyledDiv(() => {\n  const theme = useCustomTheme();\n  return {\n    \"& div\": {\n      background: theme.colors.secondaryText,\n      borderRadius: \"50%\",\n      height: \"10px\",\n      transition: \"background 200ms ease\",\n      width: \"10px\"\n    },\n    alignItems: \"center\",\n    backgroundColor: theme.colors.tertiaryBg,\n    border: \"1px solid \".concat(theme.colors.borderColor),\n    borderRadius: radius.md,\n    display: \"grid\",\n    gap: spacing[\"4xs\"],\n    gridTemplateColumns: \"1fr 1fr\",\n    height: \"\".concat(iconSize.xl, \"px\"),\n    justifyItems: \"center\",\n    padding: spacing.xs,\n    width: \"\".concat(iconSize.xl, \"px\")\n  };\n});\nconst WalletList = /* @__PURE__ */StyledUl(_objectSpread(_objectSpread({\n  all: \"unset\",\n  boxSizing: \"border-box\",\n  display: \"flex\",\n  flex: 1,\n  flexDirection: \"column\",\n  gap: \"2px\",\n  listStyleType: \"none\",\n  overflowY: \"auto\"\n}, noScrollBar), {}, {\n  margin: \"-2px\",\n  marginBottom: 0,\n  // to show the box-shadow of inputs that overflows\n  padding: \"2px\",\n  paddingBottom: spacing.lg\n}));\nconst GradientDiv = /* @__PURE__ */StyledDiv(_ => {\n  const theme = useCustomTheme();\n  theme.colors.modalBg;\n  return {\n    background: \"linear-gradient(to bottom, transparent 0%, \".concat(theme.colors.modalBg, \" 80%)\"),\n    height: spacing.lg,\n    left: 0,\n    pointerEvents: \"none\",\n    position: \"absolute\",\n    top: \"-\".concat(spacing.lg),\n    width: \"100%\"\n  };\n});","map":{"version":3,"names":["_objectSpread","ChevronLeftIcon","useEffect","useRef","useState","createWallet","getInstalledWalletProviders","useCustomTheme","fontSize","iconSize","radius","spacing","useSetSelectionData","sortWallets","InAppWalletSelectionUI","Container","Line","ModalHeader","noScrollBar","ScreenBottomContainer","Button","IconButton","Img","ModalTitle","Spacer","TextDivider","Link","Text","StyledDiv","StyledUl","compactModalMaxHeight","OutlineWalletIcon","SmartConnectUI","useScreenContext","TOS","PoweredByThirdweb","WalletButtonEl","WalletEntryButton","WalletTypeRowButton","inAppWalletId","WalletSelector","props","personalWallet","setPersonalWallet","accountAbstraction","_jsx","WalletSelectorInner","chain","chains","client","connectLocale","done","meta","onBack","goBack","setModalVisibility","size","walletConnect","w","walletIdsToHide","isCompact","isWalletGroupExpanded","setIsWalletGroupExpanded","approvedTOS","setApprovedTOS","installedWallets","getInstalledWallets","propsWallets","wallets","_wallets","iW","find","id","push","filter","includes","localWalletConfig","nonLocalWalletConfigs","socialWallets","eoaWallets","recommendedWallets","continueAsGuest","disabled","requireApproval","fullWidth","onClick","selectWallet","style","justifyContent","textAlign","undefined","variant","children","enableTWIconLink","setTimeout","current","twTitle","modalHeader","title","_jsxs","center","flex","gap","className","titleIconUrl","height","md","src","width","handleSelect","wallet","connectAWallet","icon","newToWallets","color","weight","href","target","getStarted","tos","termsOfServiceUrl","privacyPolicyUrl","isApproved","locale","agreement","onApprove","topSection","bottomSection","WalletSelection","diableSelectionDataReset","disableSelectionDataReset","onShowAll","showAllWallets","length","_Fragment","px","py","paddingBottom","paddingTop","text","or","y","p","position","GradientDiv","showHeader","hideHeader","animate","fullHeight","scrollY","maxHeight","expand","lg","padding","sm","xxs","paddingBlock","paddingRight","xs","transform","concat","goBackButton","showThirdwebBranding","_installedWallets","providers","walletIds","map","provider","info","rdns","screen","setSelectionData","WalletList","minHeight","isActive","select","badge","ButtonContainer","ShowAllWalletsIcon","BadgeText","theme","backgroundColor","colors","secondaryButtonBg","borderRadius","secondaryText","paddingInline","background","primaryText","transition","alignItems","tertiaryBg","border","borderColor","display","gridTemplateColumns","xl","justifyItems","all","boxSizing","flexDirection","listStyleType","overflowY","margin","marginBottom","_","modalBg","left","pointerEvents","top"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/ConnectWallet/WalletSelector.tsx"],"sourcesContent":["\"use client\";\nimport { ChevronLeftIcon } from \"@radix-ui/react-icons\";\nimport { useEffect, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport type { InjectedSupportedWalletIds } from \"../../../../wallets/__generated__/wallet-ids.js\";\nimport { createWallet } from \"../../../../wallets/create-wallet.js\";\nimport { getInstalledWalletProviders } from \"../../../../wallets/injected/mipdStore.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport type { SmartWalletOptions } from \"../../../../wallets/smart/types.js\";\nimport type { WalletId } from \"../../../../wallets/wallet-types.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport {\n  fontSize,\n  iconSize,\n  radius,\n  spacing,\n} from \"../../../core/design-system/index.js\";\nimport { useSetSelectionData } from \"../../providers/wallet-ui-states-provider.js\";\nimport { sortWallets } from \"../../utils/sortWallets.js\";\nimport InAppWalletSelectionUI from \"../../wallets/in-app/InAppWalletSelectionUI.js\";\nimport {\n  Container,\n  Line,\n  ModalHeader,\n  noScrollBar,\n  ScreenBottomContainer,\n} from \"../components/basic.js\";\nimport { Button, IconButton } from \"../components/buttons.js\";\nimport { Img } from \"../components/Img.js\";\nimport { ModalTitle } from \"../components/modalElements.js\";\nimport { Spacer } from \"../components/Spacer.js\";\nimport { TextDivider } from \"../components/TextDivider.js\";\nimport { Link, Text } from \"../components/text.js\";\nimport { StyledDiv, StyledUl } from \"../design-system/elements.js\";\nimport { compactModalMaxHeight } from \"./constants.js\";\nimport { OutlineWalletIcon } from \"./icons/OutlineWalletIcon.js\";\nimport type { ConnectLocale } from \"./locale/types.js\";\nimport { SmartConnectUI } from \"./Modal/SmartWalletConnectUI.js\";\nimport { useScreenContext } from \"./Modal/screen.js\";\nimport { TOS } from \"./Modal/TOS.js\";\nimport { PoweredByThirdweb } from \"./PoweredByTW.js\";\nimport { WalletButtonEl, WalletEntryButton } from \"./WalletEntryButton.js\";\nimport { WalletTypeRowButton } from \"./WalletTypeRowButton.js\";\n\n// const localWalletId = \"local\";\nconst inAppWalletId: WalletId = \"inApp\";\n\ntype WalletSelectorProps = {\n  wallets: Wallet[];\n  selectWallet: (wallet: Wallet) => void;\n  title: string;\n  done: (wallet: Wallet) => void;\n  goBack?: () => void;\n  onShowAll: () => void;\n  setModalVisibility: (value: boolean) => void;\n  accountAbstraction?: SmartWalletOptions;\n  size: \"compact\" | \"wide\";\n  meta: {\n    title?: string;\n    titleIconUrl?: string;\n    showThirdwebBranding?: boolean;\n    termsOfServiceUrl?: string;\n    privacyPolicyUrl?: string;\n    requireApproval?: boolean;\n  };\n  client: ThirdwebClient;\n  connectLocale: ConnectLocale;\n  recommendedWallets: Wallet[] | undefined;\n  hideHeader: boolean;\n  chain: Chain | undefined;\n  chains: Chain[] | undefined;\n  showAllWallets: boolean | undefined;\n  walletConnect:\n    | {\n        projectId?: string;\n      }\n    | undefined;\n  modalHeader:\n    | {\n        title: string;\n        onBack: () => void;\n      }\n    | undefined;\n  walletIdsToHide: WalletId[] | undefined;\n  disableSelectionDataReset?: boolean;\n};\n\n/**\n * @internal\n */\nexport function WalletSelector(props: WalletSelectorProps) {\n  const [personalWallet, setPersonalWallet] = useState<Wallet | null>(null);\n\n  if (!props.accountAbstraction) {\n    return <WalletSelectorInner {...props} />;\n  }\n\n  if (personalWallet) {\n    return (\n      <SmartConnectUI\n        accountAbstraction={props.accountAbstraction}\n        chain={props.chain}\n        chains={props.chains}\n        client={props.client}\n        connectLocale={props.connectLocale}\n        done={props.done}\n        meta={props.meta}\n        onBack={props.goBack}\n        personalWallet={personalWallet}\n        setModalVisibility={props.setModalVisibility}\n        size={props.size}\n        walletConnect={props.walletConnect}\n      />\n    );\n  }\n\n  return (\n    <WalletSelectorInner\n      {...props}\n      done={(w) => {\n        setPersonalWallet(w);\n      }}\n    />\n  );\n}\n\n/**\n * @internal\n */\nconst WalletSelectorInner: React.FC<WalletSelectorProps> = (props) => {\n  const { walletIdsToHide } = props;\n  const isCompact = props.size === \"compact\";\n  const [isWalletGroupExpanded, setIsWalletGroupExpanded] = useState(false);\n  // This is only used if requireApproval is true\n  const [approvedTOS, setApprovedTOS] = useState(false);\n\n  const installedWallets = getInstalledWallets();\n  const propsWallets = props.wallets;\n  let _wallets: Wallet[] = [...propsWallets];\n\n  for (const iW of installedWallets) {\n    if (!propsWallets.find((w) => w.id === iW.id)) {\n      _wallets.push(iW);\n    }\n  }\n\n  if (walletIdsToHide) {\n    _wallets = _wallets.filter((w) => !walletIdsToHide?.includes(w.id));\n  }\n\n  const localWalletConfig = false; // _wallets.find((w) => w.id === localWalletId);\n\n  const nonLocalWalletConfigs = _wallets; // _wallets.filter((w) => w.id !== localWalletId);\n\n  const socialWallets = nonLocalWalletConfigs.filter(\n    (w) => w.id === inAppWalletId,\n  );\n\n  const eoaWallets = sortWallets(\n    nonLocalWalletConfigs.filter((w) => w.id !== inAppWalletId),\n    props.recommendedWallets,\n  );\n\n  const continueAsGuest = localWalletConfig && (\n    <Button\n      data-test=\"continue-as-guest-button\"\n      disabled={props.meta.requireApproval && !approvedTOS}\n      fullWidth\n      onClick={() => {\n        props.selectWallet(localWalletConfig);\n      }}\n      style={\n        !isCompact\n          ? {\n              justifyContent: \"flex-start\",\n              textAlign: \"left\",\n            }\n          : undefined\n      }\n      variant={isCompact ? \"outline\" : \"link\"}\n    >\n      {props.connectLocale.continueAsGuest}\n    </Button>\n  );\n\n  // prevent accidental clicks on the TW icon when clicking on back icon from previous screen\n  const enableTWIconLink = useRef(false);\n  useEffect(() => {\n    setTimeout(() => {\n      enableTWIconLink.current = true;\n    }, 1000);\n  }, []);\n\n  const twTitle = props.modalHeader ? (\n    <ModalHeader\n      onBack={props.modalHeader.onBack}\n      title={props.modalHeader.title}\n    />\n  ) : (\n    <Container center=\"y\" flex=\"row\" gap=\"xs\" className=\"tw-header\">\n      {!props.meta.titleIconUrl ? null : (\n        <Img\n          client={props.client}\n          height={iconSize.md}\n          src={props.meta.titleIconUrl}\n          width={iconSize.md}\n        />\n      )}\n\n      <ModalTitle> {props.title} </ModalTitle>\n    </Container>\n  );\n\n  const handleSelect = async (wallet: Wallet) => {\n    props.selectWallet(wallet);\n  };\n\n  const connectAWallet = (\n    <WalletTypeRowButton\n      className=\"tw-select-connect-a-wallet-button\"\n      client={props.client}\n      disabled={props.meta.requireApproval && !approvedTOS}\n      icon={OutlineWalletIcon}\n      onClick={() => {\n        setIsWalletGroupExpanded(true);\n      }}\n      title={props.connectLocale.connectAWallet}\n    />\n  );\n\n  const newToWallets = (\n    <Container\n      className=\"tw-get-started-container\"\n      flex=\"row\"\n      style={{\n        justifyContent: \"space-between\",\n      }}\n    >\n      <Text color=\"secondaryText\" size=\"sm\" weight={500}>\n        {props.connectLocale.newToWallets}\n      </Text>\n      <Link\n        href=\"https://blog.thirdweb.com/web3-wallet/\"\n        size=\"sm\"\n        target=\"_blank\"\n        weight={500}\n      >\n        {props.connectLocale.getStarted}\n      </Link>\n    </Container>\n  );\n\n  const tos =\n    props.meta.requireApproval ||\n    props.meta.termsOfServiceUrl ||\n    props.meta.privacyPolicyUrl ? (\n      <TOS\n        isApproved={approvedTOS}\n        locale={props.connectLocale.agreement}\n        onApprove={() => setApprovedTOS(!approvedTOS)}\n        privacyPolicyUrl={props.meta.privacyPolicyUrl}\n        requireApproval={props.meta.requireApproval}\n        termsOfServiceUrl={props.meta.termsOfServiceUrl}\n      />\n    ) : undefined;\n\n  let topSection: React.ReactNode;\n  let bottomSection: React.ReactNode;\n\n  // wide modal\n  if (!isCompact) {\n    topSection = (\n      <WalletSelection\n        chain={props.chain}\n        client={props.client}\n        connectLocale={props.connectLocale}\n        diableSelectionDataReset={props.disableSelectionDataReset}\n        disabled={props.meta.requireApproval && !approvedTOS}\n        done={props.done}\n        goBack={props.goBack}\n        onShowAll={props.onShowAll}\n        recommendedWallets={props.recommendedWallets}\n        selectWallet={handleSelect}\n        showAllWallets={props.showAllWallets}\n        size={props.size}\n        wallets={nonLocalWalletConfigs}\n      />\n    );\n\n    if (continueAsGuest) {\n      bottomSection = (\n        <ScreenBottomContainer>{continueAsGuest}</ScreenBottomContainer>\n      );\n    }\n  }\n\n  // compact\n  else {\n    // no social logins\n    if (socialWallets.length === 0) {\n      topSection = (\n        <WalletSelection\n          chain={props.chain}\n          client={props.client}\n          connectLocale={props.connectLocale}\n          diableSelectionDataReset={props.disableSelectionDataReset}\n          disabled={props.meta.requireApproval && !approvedTOS}\n          done={props.done}\n          goBack={props.goBack}\n          onShowAll={props.onShowAll}\n          recommendedWallets={props.recommendedWallets}\n          selectWallet={handleSelect}\n          showAllWallets={props.showAllWallets}\n          size={props.size}\n          wallets={nonLocalWalletConfigs}\n        />\n      );\n\n      bottomSection = (\n        <>\n          <Line />\n          <Container flex=\"column\" gap=\"md\" px=\"lg\" py=\"md+\">\n            {newToWallets}\n            {continueAsGuest}\n          </Container>\n          {!continueAsGuest && <Line />}\n          {tos && (\n            <Container\n              px=\"md\"\n              style={{\n                paddingBottom: spacing.md,\n                paddingTop: continueAsGuest ? 0 : spacing.md,\n              }}\n            >\n              {tos}\n            </Container>\n          )}\n        </>\n      );\n    }\n\n    // social logins\n    else {\n      // not expanded state\n      if (!isWalletGroupExpanded) {\n        topSection = (\n          <Container px=\"xs\">\n            <WalletSelection\n              chain={props.chain}\n              client={props.client}\n              connectLocale={props.connectLocale}\n              diableSelectionDataReset={props.disableSelectionDataReset}\n              disabled={props.meta.requireApproval && !approvedTOS}\n              done={props.done}\n              goBack={props.goBack}\n              recommendedWallets={props.recommendedWallets}\n              selectWallet={handleSelect}\n              showAllWallets={props.showAllWallets}\n              size={props.size}\n              wallets={socialWallets}\n            />\n            {eoaWallets.length > 0 && (\n              <>\n                <TextDivider text={props.connectLocale.or} />\n                <Spacer y=\"lg\" />\n              </>\n            )}\n          </Container>\n        );\n\n        // only social login - no eoa wallets\n        if (eoaWallets.length === 0) {\n          bottomSection =\n            tos || continueAsGuest ? (\n              <>\n                <Spacer y=\"md\" />\n                <Line />\n                {continueAsGuest && (\n                  <Container p=\"lg\"> {continueAsGuest}</Container>\n                )}\n                {tos && <Container p=\"md\"> {tos} </Container>}\n              </>\n            ) : (\n              <Spacer y=\"sm\" />\n            );\n        }\n\n        // social login + eoa wallets\n        else {\n          // social login + More than 1 eoa wallets\n          if (eoaWallets.length > 1) {\n            bottomSection = (\n              <Container\n                flex=\"column\"\n                gap=\"sm\"\n                style={{ position: \"relative\" }}\n              >\n                <GradientDiv />\n\n                <Container flex=\"column\" gap=\"md\" px=\"lg\">\n                  {connectAWallet}\n                  {continueAsGuest}\n                </Container>\n\n                {tos ? (\n                  <Container p=\"md\"> {tos} </Container>\n                ) : (\n                  <Spacer y=\"xxs\" />\n                )}\n              </Container>\n            );\n          }\n\n          // social login + single eoa wallet\n          else {\n            bottomSection = (\n              <>\n                <Container px=\"lg\">\n                  <WalletSelection\n                    chain={props.chain}\n                    client={props.client}\n                    connectLocale={props.connectLocale}\n                    diableSelectionDataReset={props.disableSelectionDataReset}\n                    disabled={props.meta.requireApproval && !approvedTOS}\n                    done={props.done}\n                    goBack={props.goBack}\n                    onShowAll={props.onShowAll}\n                    recommendedWallets={props.recommendedWallets}\n                    selectWallet={handleSelect}\n                    showAllWallets={props.showAllWallets}\n                    size={props.size}\n                    wallets={eoaWallets}\n                  />\n                </Container>\n\n                {continueAsGuest && (\n                  <Container flex=\"column\" gap=\"lg\" px=\"lg\">\n                    {continueAsGuest}\n                  </Container>\n                )}\n\n                {tos ? (\n                  <>\n                    {continueAsGuest ? <Spacer y=\"md\" /> : <Line />}\n                    <Container p=\"md\"> {tos} </Container>\n                  </>\n                ) : (\n                  continueAsGuest && <Spacer y=\"xl\" />\n                )}\n              </>\n            );\n          }\n        }\n      }\n\n      // expanded state\n      else {\n        topSection = (\n          <WalletSelection\n            chain={props.chain}\n            client={props.client}\n            connectLocale={props.connectLocale}\n            diableSelectionDataReset={props.disableSelectionDataReset}\n            disabled={props.meta.requireApproval && !approvedTOS}\n            done={props.done}\n            goBack={props.goBack}\n            onShowAll={props.onShowAll}\n            recommendedWallets={props.recommendedWallets}\n            selectWallet={handleSelect}\n            showAllWallets={props.showAllWallets}\n            size={props.size}\n            wallets={eoaWallets}\n          />\n        );\n\n        bottomSection = (\n          <ScreenBottomContainer>{newToWallets}</ScreenBottomContainer>\n        );\n      }\n    }\n  }\n\n  // hide the header for embed - unless it's customized\n  const showHeader = !props.hideHeader || props.modalHeader;\n\n  return (\n    <Container\n      animate=\"fadein\"\n      className=\"tw-wallet-selection\"\n      flex=\"column\"\n      fullHeight\n      scrollY\n      style={{\n        maxHeight: props.size === \"compact\" ? compactModalMaxHeight : undefined,\n      }}\n    >\n      {/* Header */}\n      {showHeader && (\n        <Container p=\"lg\">\n          {isWalletGroupExpanded ? (\n            <ModalHeader\n              onBack={() => {\n                setIsWalletGroupExpanded(false);\n              }}\n              title={twTitle}\n            />\n          ) : (\n            twTitle\n          )}\n        </Container>\n      )}\n\n      {/* Body */}\n      <Container\n        expand\n        px=\"md\"\n        scrollY\n        style={\n          !showHeader\n            ? {\n                paddingTop: spacing.lg,\n              }\n            : {\n                paddingTop: \"2px\",\n              }\n        }\n      >\n        {!showHeader && isWalletGroupExpanded && (\n          <Container\n            center=\"y\"\n            flex=\"row\"\n            style={{\n              padding: spacing.sm,\n              paddingTop: 0,\n            }}\n          >\n            <IconButton\n              onClick={() => {\n                setIsWalletGroupExpanded(false);\n              }}\n              style={{\n                gap: spacing.xxs,\n                paddingBlock: spacing.xxs,\n                paddingRight: spacing.xs,\n                transform: `translateX(-${spacing.xs})`,\n              }}\n            >\n              <ChevronLeftIcon height={iconSize.sm} width={iconSize.sm} />\n              {props.connectLocale.goBackButton}\n            </IconButton>\n          </Container>\n        )}\n\n        {topSection}\n      </Container>\n\n      {bottomSection}\n      {isCompact && props.meta.showThirdwebBranding !== false && (\n        <Container py=\"md\">\n          <PoweredByThirdweb />\n        </Container>\n      )}\n    </Container>\n  );\n};\n\nlet _installedWallets: Wallet[] = [];\n\nfunction getInstalledWallets() {\n  if (_installedWallets.length === 0) {\n    const providers = getInstalledWalletProviders();\n    const walletIds = providers.map((provider) => provider.info.rdns);\n    _installedWallets = walletIds.map((w) =>\n      createWallet(w as InjectedSupportedWalletIds),\n    );\n  }\n\n  return _installedWallets;\n}\n\n/**\n * @internal\n */\nconst WalletSelection: React.FC<{\n  wallets: Wallet[];\n  selectWallet: (wallet: Wallet) => void;\n  maxHeight?: string;\n  done: (wallet: Wallet) => void;\n  goBack?: () => void;\n  onShowAll?: () => void;\n  recommendedWallets: Wallet[] | undefined;\n  showAllWallets: boolean | undefined;\n  size: \"compact\" | \"wide\";\n  connectLocale: ConnectLocale;\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  diableSelectionDataReset?: boolean;\n  // If true, all options will be disabled. Used for things like requiring TOS approval.\n  disabled?: boolean;\n}> = (props) => {\n  const wallets = sortWallets(props.wallets, props.recommendedWallets);\n  const { screen } = useScreenContext();\n  const setSelectionData = useSetSelectionData();\n  return (\n    <WalletList\n      style={{\n        maxHeight: \"370px\",\n        minHeight: \"100%\",\n      }}\n    >\n      {wallets.map((wallet) => {\n        const isActive = screen\n          ? typeof screen === \"object\" && screen.id === wallet.id\n          : false;\n        return (\n          <li\n            key={wallet.id}\n            // data-full-width={!!walletConfig.selectUI}\n          >\n            {wallet.id === \"inApp\" && props.size === \"compact\" ? (\n              <InAppWalletSelectionUI\n                chain={props.chain}\n                client={props.client}\n                connectLocale={props.connectLocale}\n                disabled={props.disabled}\n                done={() => props.done(wallet)}\n                goBack={props.goBack}\n                recommendedWallets={props.recommendedWallets}\n                select={() => props.selectWallet(wallet)}\n                size={props.size}\n                wallet={wallet as Wallet<\"inApp\">}\n              />\n            ) : (\n              <WalletEntryButton\n                className=\"tw-wallet-select-wallet-button\"\n                badge={undefined}\n                client={props.client}\n                connectLocale={props.connectLocale}\n                isActive={isActive}\n                recommendedWallets={props.recommendedWallets}\n                selectWallet={() => {\n                  if (!props.diableSelectionDataReset) {\n                    setSelectionData({});\n                  }\n                  props.selectWallet(wallet);\n                }}\n                wallet={wallet}\n              />\n            )}\n          </li>\n        );\n      })}\n\n      {props.onShowAll && props.showAllWallets !== false && (\n        <ButtonContainer className=\"tw-show-all-wallets-button\">\n          <WalletButtonEl onClick={props.onShowAll}>\n            <ShowAllWalletsIcon>\n              <div data-dot />\n              <div data-dot />\n              <div data-dot />\n              <div data-dot />\n            </ShowAllWalletsIcon>\n            <Container flex=\"row\" gap=\"xs\">\n              <Text color=\"primaryText\">All Wallets</Text>\n              <BadgeText> 500+ </BadgeText>\n            </Container>\n          </WalletButtonEl>\n        </ButtonContainer>\n      )}\n    </WalletList>\n  );\n};\n\nconst BadgeText = /* @__PURE__ */ StyledDiv(() => {\n  const theme = useCustomTheme();\n  return {\n    backgroundColor: theme.colors.secondaryButtonBg,\n    borderRadius: radius.sm,\n    color: theme.colors.secondaryText,\n    fontSize: fontSize.xs,\n    paddingBlock: \"3px\",\n    paddingInline: spacing.xxs,\n  };\n});\n\nconst ButtonContainer = /* @__PURE__ */ StyledDiv(() => {\n  const theme = useCustomTheme();\n  return {\n    \"&:hover [data-dot]\": {\n      background: theme.colors.primaryText,\n    },\n  };\n});\n\nconst ShowAllWalletsIcon = /* @__PURE__ */ StyledDiv(() => {\n  const theme = useCustomTheme();\n  return {\n    \"& div\": {\n      background: theme.colors.secondaryText,\n      borderRadius: \"50%\",\n      height: \"10px\",\n      transition: \"background 200ms ease\",\n      width: \"10px\",\n    },\n    alignItems: \"center\",\n    backgroundColor: theme.colors.tertiaryBg,\n    border: `1px solid ${theme.colors.borderColor}`,\n    borderRadius: radius.md,\n    display: \"grid\",\n    gap: spacing[\"4xs\"],\n    gridTemplateColumns: \"1fr 1fr\",\n    height: `${iconSize.xl}px`,\n    justifyItems: \"center\",\n    padding: spacing.xs,\n    width: `${iconSize.xl}px`,\n  };\n});\n\nconst WalletList = /* @__PURE__ */ StyledUl({\n  all: \"unset\",\n  boxSizing: \"border-box\",\n  display: \"flex\",\n  flex: 1,\n  flexDirection: \"column\",\n  gap: \"2px\",\n  listStyleType: \"none\",\n  overflowY: \"auto\",\n  ...noScrollBar,\n  margin: \"-2px\",\n  marginBottom: 0,\n  // to show the box-shadow of inputs that overflows\n  padding: \"2px\",\n  paddingBottom: spacing.lg,\n});\n\nconst GradientDiv = /* @__PURE__ */ StyledDiv((_) => {\n  const theme = useCustomTheme();\n  theme.colors.modalBg;\n  return {\n    background: `linear-gradient(to bottom, transparent 0%, ${theme.colors.modalBg} 80%)`,\n    height: spacing.lg,\n    left: 0,\n    pointerEvents: \"none\",\n    position: \"absolute\",\n    top: `-${spacing.lg}`,\n    width: \"100%\",\n  };\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}