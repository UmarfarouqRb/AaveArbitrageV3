{"ast":null,"code":"import { useMutation } from \"@tanstack/react-query\";\nimport { waitForReceipt } from \"../../../../transaction/actions/wait-for-tx-receipt.js\";\nimport { useSendTransaction } from \"./useSendTransaction.js\";\n/**\n * A hook to send a transaction and confirm the transaction with users's connected wallet\n * @returns A mutation object to send a transaction.\n * @example\n * ```jsx\n * import { useSendAndConfirmTransaction } from \"thirdweb/react\";\n * const { mutate: sendAndConfirmTx, data: transactionReceipt } = useSendAndConfirmTransaction();\n *\n * // later\n * sendAndConfirmTx(tx);\n * ```\n *\n *\n * ### Gasless usage with [thirdweb Engine](https://portal.thirdweb.com/engine)\n * ```tsx\n * import { useSendAndConfirmTransaction } from \"thirdweb/react\";\n * const mutation = useSendAndConfirmTransaction({\n *   gasless: {\n *     provider: \"engine\",\n *     relayerUrl: \"https://thirdweb.engine-***.thirdweb.com/relayer/***\",\n *     relayerForwarderAddress: \"0x...\",\n *   }\n * });\n * ```\n *\n * ### Gasless usage with OpenZeppelin\n * ```tsx\n * import { useSendAndConfirmTransaction } from \"thirdweb/react\";\n * const mutation = useSendAndConfirmTransaction({\n *   gasless: {\n *     provider: \"openzeppelin\",\n *     relayerUrl: \"https://...\",\n *     relayerForwarderAddress: \"0x...\",\n *   }\n * });\n * ```\n *\n * ### Configuring the Pay Modal\n *\n * When the wallet does not have enough funds to send the transaction, a modal is shown to the user to buy the required funds and then continue with the transaction.\n *\n * You can configure the pay modal by passing a [`SendTransactionPayModalConfig`](https://portal.thirdweb.com/references/typescript/v5/SendTransactionPayModalConfig) object to the `payModal` config.\n *\n * ```tsx\n * import { useSendAndConfirmTransaction } from \"thirdweb/react\";\n *\n * const sendAndConfirmTx = useSendAndConfirmTransaction({\n *   payModal: {\n *     theme: \"light\",\n *   },\n * });\n * ```\n *\n * By default, the pay modal is enabled. You can disable it by passing `payModal: false` to the config.\n *\n * ```tsx\n * import { useSendAndConfirmTransaction } from \"thirdweb/react\";\n *\n * const sendAndConfirmTx = useSendAndConfirmTransaction({\n *   payModal: false,\n * });\n * ```\n * @transaction\n */\nexport function useSendAndConfirmTransaction() {\n  let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const sendTx = useSendTransaction(config);\n  return useMutation({\n    mutationFn: async transaction => {\n      const receipt = await sendTx.mutateAsync(transaction);\n      const confirmedReceipt = await waitForReceipt(receipt);\n      return confirmedReceipt;\n    }\n  });\n}","map":{"version":3,"names":["useMutation","waitForReceipt","useSendTransaction","useSendAndConfirmTransaction","config","arguments","length","undefined","sendTx","mutationFn","transaction","receipt","mutateAsync","confirmedReceipt"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/hooks/transaction/useSendAndConfirmTransaction.tsx"],"sourcesContent":["import { type UseMutationResult, useMutation } from \"@tanstack/react-query\";\nimport type { GaslessOptions } from \"../../../../transaction/actions/gasless/types.js\";\nimport type { SendTransactionOptions } from \"../../../../transaction/actions/send-transaction.js\";\nimport { waitForReceipt } from \"../../../../transaction/actions/wait-for-tx-receipt.js\";\nimport type { TransactionReceipt } from \"../../../../transaction/types.js\";\nimport type { SendTransactionPayModalConfig } from \"../../../core/hooks/transaction/useSendTransaction.js\";\nimport { useSendTransaction } from \"./useSendTransaction.js\";\n\n/**\n * Configuration for the `useSendAndConfirmTransaction` hook.\n */\ntype SendAndConfirmTransactionConfig = {\n  /**\n   * Refer to [`SendTransactionPayModalConfig`](https://portal.thirdweb.com/references/typescript/v5/SendTransactionPayModalConfig) for more details.\n   */\n  payModal?: SendTransactionPayModalConfig;\n\n  /**\n   * Configuration for gasless transactions.\n   * Refer to [`GaslessOptions`](https://portal.thirdweb.com/references/typescript/v5/GaslessOptions) for more details.\n   */\n  gasless?: GaslessOptions;\n};\n\n/**\n * A hook to send a transaction and confirm the transaction with users's connected wallet\n * @returns A mutation object to send a transaction.\n * @example\n * ```jsx\n * import { useSendAndConfirmTransaction } from \"thirdweb/react\";\n * const { mutate: sendAndConfirmTx, data: transactionReceipt } = useSendAndConfirmTransaction();\n *\n * // later\n * sendAndConfirmTx(tx);\n * ```\n *\n *\n * ### Gasless usage with [thirdweb Engine](https://portal.thirdweb.com/engine)\n * ```tsx\n * import { useSendAndConfirmTransaction } from \"thirdweb/react\";\n * const mutation = useSendAndConfirmTransaction({\n *   gasless: {\n *     provider: \"engine\",\n *     relayerUrl: \"https://thirdweb.engine-***.thirdweb.com/relayer/***\",\n *     relayerForwarderAddress: \"0x...\",\n *   }\n * });\n * ```\n *\n * ### Gasless usage with OpenZeppelin\n * ```tsx\n * import { useSendAndConfirmTransaction } from \"thirdweb/react\";\n * const mutation = useSendAndConfirmTransaction({\n *   gasless: {\n *     provider: \"openzeppelin\",\n *     relayerUrl: \"https://...\",\n *     relayerForwarderAddress: \"0x...\",\n *   }\n * });\n * ```\n *\n * ### Configuring the Pay Modal\n *\n * When the wallet does not have enough funds to send the transaction, a modal is shown to the user to buy the required funds and then continue with the transaction.\n *\n * You can configure the pay modal by passing a [`SendTransactionPayModalConfig`](https://portal.thirdweb.com/references/typescript/v5/SendTransactionPayModalConfig) object to the `payModal` config.\n *\n * ```tsx\n * import { useSendAndConfirmTransaction } from \"thirdweb/react\";\n *\n * const sendAndConfirmTx = useSendAndConfirmTransaction({\n *   payModal: {\n *     theme: \"light\",\n *   },\n * });\n * ```\n *\n * By default, the pay modal is enabled. You can disable it by passing `payModal: false` to the config.\n *\n * ```tsx\n * import { useSendAndConfirmTransaction } from \"thirdweb/react\";\n *\n * const sendAndConfirmTx = useSendAndConfirmTransaction({\n *   payModal: false,\n * });\n * ```\n * @transaction\n */\nexport function useSendAndConfirmTransaction(\n  config: SendAndConfirmTransactionConfig = {},\n): UseMutationResult<\n  TransactionReceipt,\n  Error,\n  SendTransactionOptions[\"transaction\"]\n> {\n  const sendTx = useSendTransaction(config);\n  return useMutation({\n    mutationFn: async (transaction) => {\n      const receipt = await sendTx.mutateAsync(transaction);\n      const confirmedReceipt = await waitForReceipt(receipt);\n      return confirmedReceipt;\n    },\n  });\n}\n"],"mappings":"AAAA,SAAiCA,WAAW,QAAQ,uBAAuB;AAG3E,SAASC,cAAc,QAAQ,wDAAwD;AAGvF,SAASC,kBAAkB,QAAQ,yBAAyB;AAkB5D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA,OAAM,SAAUC,4BAA4BA,CAAA,EACE;EAAA,IAA5CC,MAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA0C,EAAE;EAM5C,MAAMG,MAAM,GAAGN,kBAAkB,CAACE,MAAM,CAAC;EACzC,OAAOJ,WAAW,CAAC;IACjBS,UAAU,EAAE,MAAOC,WAAW,IAAI;MAChC,MAAMC,OAAO,GAAG,MAAMH,MAAM,CAACI,WAAW,CAACF,WAAW,CAAC;MACrD,MAAMG,gBAAgB,GAAG,MAAMZ,cAAc,CAACU,OAAO,CAAC;MACtD,OAAOE,gBAAgB;IACzB;GACD,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}