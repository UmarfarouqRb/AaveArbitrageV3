{"ast":null,"code":"\"use client\";\n\nimport _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"socialType\", \"resolverAddress\", \"resolverChain\", \"loadingComponent\", \"fallbackComponent\", \"queryOptions\"];\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { resolveAvatar } from \"../../../../../extensions/ens/resolve-avatar.js\";\nimport { resolveName } from \"../../../../../extensions/ens/resolve-name.js\";\nimport { getSocialProfiles } from \"../../../../../social/profiles.js\";\nimport { parseAvatarRecord } from \"../../../../../utils/ens/avatar.js\";\nimport { useAccountContext } from \"../../../../core/account/provider.js\";\n/**\n * The component for showing the avatar of the account.\n * If fetches all the social profiles linked to your wallet, including: Farcaster, ENS, Lens (more to be added)\n * You can choose which social profile you want to display. Defaults to the first item in the list.\n *\n * @example\n * ### Basic usage\n * ```tsx\n * import { AccountProvider, AccountAvatar } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountAvatar />\n * </AccountProvider>\n * ```\n * Result: An <img /> component, if the avatar is resolved successfully\n * ```html\n * <img alt=\"\" src=\"resolved-url-for-the-avatar\" />\n * ```\n *\n * ### Show a loading sign when the avatar is being resolved\n * ```tsx\n * import { AccountProvider, AccountAvatar } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountAvatar\n *     loadingComponent={<YourLoadingComponent />}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Fallback to something when the avatar fails to resolve\n * ```tsx\n * import { AccountProvider, AccountAvatar } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountAvatar\n *     fallbackComponent={<DummyImage />}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Select a social profile to display\n * If you wallet associates with more than one social profiles (Lens, Farcaster, ENS, etc.)\n * You can specify which service you want to prioritize using the `socialType` props\n * ```tsx\n * import { AccountProvider, AccountAvatar } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountAvatar\n *     // Choose between: \"farcaster\" | \"lens\" | \"ens\"\n *     socialType={\"ens\"}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Custom ENS resolver chain\n * This component shares the same props with the ENS extension `resolveAvatar`\n * ```tsx\n * import { AccountProvider, AccountAvatar } from \"thirdweb/react\";\n * import { base } from \"thirdweb/chains\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountAvatar\n *     resolverAddress={\"0x...\"}\n *     resolverChain={base}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Custom query options for useQuery\n * This component uses `@tanstack-query`'s useQuery internally.\n * You can use the `queryOptions` prop for more fine-grained control\n * ```tsx\n * <AccountAvatar\n *   queryOptions={{\n *     enabled: isEnabled,\n *     retry: 3,\n *   }}\n * />\n * ```\n * @returns An <img /> if the avatar is resolved successfully\n * @component\n * @wallet\n * @beta\n */\nexport function AccountAvatar(_ref) {\n  let {\n      socialType,\n      resolverAddress,\n      resolverChain,\n      loadingComponent,\n      fallbackComponent,\n      queryOptions\n    } = _ref,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n  const {\n    address,\n    client\n  } = useAccountContext();\n  const avatarQuery = useQuery(_objectSpread({\n    queryFn: async () => {\n      var _socialData$filter$;\n      const [socialData, ensName] = await Promise.all([getSocialProfiles({\n        address,\n        client\n      }), resolveName({\n        address: address || \"\",\n        client,\n        resolverAddress,\n        resolverChain\n      })]);\n      const uri = socialData === null || socialData === void 0 || (_socialData$filter$ = socialData.filter(p => p.avatar && (socialType ? p.type === socialType : true))[0]) === null || _socialData$filter$ === void 0 ? void 0 : _socialData$filter$.avatar;\n      const [resolvedSocialAvatar, resolvedENSAvatar] = await Promise.all([uri ? parseAvatarRecord({\n        client,\n        uri\n      }) : undefined, ensName ? resolveAvatar({\n        client,\n        name: ensName\n      }) : undefined]);\n      // If no social image + ens name found -> exit and show <Blobbie />\n      if (!resolvedSocialAvatar && !resolvedENSAvatar) {\n        throw new Error(\"Failed to resolve social + ens avatar\");\n      }\n      // else, prioritize the social image first\n      if (resolvedSocialAvatar) {\n        return resolvedSocialAvatar;\n      }\n      if (resolvedENSAvatar) {\n        return resolvedENSAvatar;\n      }\n      throw new Error(\"Failed to resolve social + ens avatar\");\n    },\n    queryKey: [\"account-avatar\", address, {\n      socialType\n    }, {\n      resolverAddress,\n      resolverChain\n    }],\n    retry: false\n  }, queryOptions));\n  if (avatarQuery.isLoading) {\n    return loadingComponent || null;\n  }\n  if (!avatarQuery.data) {\n    return fallbackComponent || null;\n  }\n  return _jsx(\"img\", _objectSpread(_objectSpread({\n    src: avatarQuery.data\n  }, restProps), {}, {\n    alt: restProps.alt\n  }));\n}","map":{"version":3,"names":["_objectSpread","_objectWithoutProperties","_excluded","useQuery","resolveAvatar","resolveName","getSocialProfiles","parseAvatarRecord","useAccountContext","AccountAvatar","_ref","socialType","resolverAddress","resolverChain","loadingComponent","fallbackComponent","queryOptions","restProps","address","client","avatarQuery","queryFn","_socialData$filter$","socialData","ensName","Promise","all","uri","filter","p","avatar","type","resolvedSocialAvatar","resolvedENSAvatar","undefined","name","Error","queryKey","retry","isLoading","data","_jsx","src","alt"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/prebuilt/Account/avatar.tsx"],"sourcesContent":["\"use client\";\n\nimport { type UseQueryOptions, useQuery } from \"@tanstack/react-query\";\nimport type React from \"react\";\nimport type { JSX } from \"react\";\nimport { resolveAvatar } from \"../../../../../extensions/ens/resolve-avatar.js\";\nimport {\n  type ResolveNameOptions,\n  resolveName,\n} from \"../../../../../extensions/ens/resolve-name.js\";\nimport { getSocialProfiles } from \"../../../../../social/profiles.js\";\nimport type { SocialProfile } from \"../../../../../social/types.js\";\nimport { parseAvatarRecord } from \"../../../../../utils/ens/avatar.js\";\nimport { useAccountContext } from \"../../../../core/account/provider.js\";\n/**\n * Props for the AccountAvatar component\n * @component\n * @wallet\n */\nexport interface AccountAvatarProps\n  extends Omit<React.ImgHTMLAttributes<HTMLImageElement>, \"src\">,\n    Omit<ResolveNameOptions, \"client\" | \"address\"> {\n  /**\n   * Use this prop to prioritize the social profile that you want to display\n   * This is useful for a wallet containing multiple social profiles.\n   * This component inherits all attributes of a HTML's <img />, so you can interact with it just like a normal <img />\n   *\n   * @example\n   * If you have ENS, Lens and Farcaster profiles linked to your wallet\n   * you can prioritize showing the image for Lens by:\n   * ```tsx\n   * <AccountAvatar\n   *   socialType=\"lens\" // Choose between: \"farcaster\" | \"lens\" | \"ens\"\n   * />\n   * ```\n   */\n  socialType?: SocialProfile[\"type\"];\n\n  /**\n   * This component will be shown while the avatar of the account is being fetched\n   * If not passed, the component will return `null`.\n   *\n   * You can pass a loading sign or spinner to this prop.\n   * @example\n   * ```tsx\n   * <AccountAvatar loadingComponent={<Spinner />} />\n   * ```\n   */\n  loadingComponent?: JSX.Element;\n  /**\n   * This component will be shown if the request for fetching the avatar is done\n   * but could not retreive any result.\n   * You can pass a dummy avatar/image to this prop.\n   *\n   * If not passed, the component will return `null`\n   *\n   * @example\n   * ```tsx\n   * <AccountAvatar fallbackComponent={<DummyImage />} />\n   * ```\n   */\n  fallbackComponent?: JSX.Element;\n\n  /**\n   * Optional query options for `useQuery`\n   */\n  queryOptions?: Omit<UseQueryOptions<string>, \"queryFn\" | \"queryKey\">;\n}\n\n/**\n * The component for showing the avatar of the account.\n * If fetches all the social profiles linked to your wallet, including: Farcaster, ENS, Lens (more to be added)\n * You can choose which social profile you want to display. Defaults to the first item in the list.\n *\n * @example\n * ### Basic usage\n * ```tsx\n * import { AccountProvider, AccountAvatar } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountAvatar />\n * </AccountProvider>\n * ```\n * Result: An <img /> component, if the avatar is resolved successfully\n * ```html\n * <img alt=\"\" src=\"resolved-url-for-the-avatar\" />\n * ```\n *\n * ### Show a loading sign when the avatar is being resolved\n * ```tsx\n * import { AccountProvider, AccountAvatar } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountAvatar\n *     loadingComponent={<YourLoadingComponent />}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Fallback to something when the avatar fails to resolve\n * ```tsx\n * import { AccountProvider, AccountAvatar } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountAvatar\n *     fallbackComponent={<DummyImage />}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Select a social profile to display\n * If you wallet associates with more than one social profiles (Lens, Farcaster, ENS, etc.)\n * You can specify which service you want to prioritize using the `socialType` props\n * ```tsx\n * import { AccountProvider, AccountAvatar } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountAvatar\n *     // Choose between: \"farcaster\" | \"lens\" | \"ens\"\n *     socialType={\"ens\"}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Custom ENS resolver chain\n * This component shares the same props with the ENS extension `resolveAvatar`\n * ```tsx\n * import { AccountProvider, AccountAvatar } from \"thirdweb/react\";\n * import { base } from \"thirdweb/chains\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountAvatar\n *     resolverAddress={\"0x...\"}\n *     resolverChain={base}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Custom query options for useQuery\n * This component uses `@tanstack-query`'s useQuery internally.\n * You can use the `queryOptions` prop for more fine-grained control\n * ```tsx\n * <AccountAvatar\n *   queryOptions={{\n *     enabled: isEnabled,\n *     retry: 3,\n *   }}\n * />\n * ```\n * @returns An <img /> if the avatar is resolved successfully\n * @component\n * @wallet\n * @beta\n */\nexport function AccountAvatar({\n  socialType,\n  resolverAddress,\n  resolverChain,\n  loadingComponent,\n  fallbackComponent,\n  queryOptions,\n  ...restProps\n}: AccountAvatarProps) {\n  const { address, client } = useAccountContext();\n  const avatarQuery = useQuery({\n    queryFn: async (): Promise<string> => {\n      const [socialData, ensName] = await Promise.all([\n        getSocialProfiles({ address, client }),\n        resolveName({\n          address: address || \"\",\n          client,\n          resolverAddress,\n          resolverChain,\n        }),\n      ]);\n\n      const uri = socialData?.filter(\n        (p) => p.avatar && (socialType ? p.type === socialType : true),\n      )[0]?.avatar;\n\n      const [resolvedSocialAvatar, resolvedENSAvatar] = await Promise.all([\n        uri ? parseAvatarRecord({ client, uri }) : undefined,\n        ensName\n          ? resolveAvatar({\n              client,\n              name: ensName,\n            })\n          : undefined,\n      ]);\n\n      // If no social image + ens name found -> exit and show <Blobbie />\n      if (!resolvedSocialAvatar && !resolvedENSAvatar) {\n        throw new Error(\"Failed to resolve social + ens avatar\");\n      }\n\n      // else, prioritize the social image first\n      if (resolvedSocialAvatar) {\n        return resolvedSocialAvatar;\n      }\n\n      if (resolvedENSAvatar) {\n        return resolvedENSAvatar;\n      }\n\n      throw new Error(\"Failed to resolve social + ens avatar\");\n    },\n    queryKey: [\n      \"account-avatar\",\n      address,\n      { socialType },\n      { resolverAddress, resolverChain },\n    ],\n    retry: false,\n    ...queryOptions,\n  });\n\n  if (avatarQuery.isLoading) {\n    return loadingComponent || null;\n  }\n\n  if (!avatarQuery.data) {\n    return fallbackComponent || null;\n  }\n\n  return <img src={avatarQuery.data} {...restProps} alt={restProps.alt} />;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}