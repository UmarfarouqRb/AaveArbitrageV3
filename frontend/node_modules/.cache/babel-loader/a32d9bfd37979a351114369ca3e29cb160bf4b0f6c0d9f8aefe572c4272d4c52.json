{"ast":null,"code":"\"use client\";\n\nimport _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"resolverAddress\", \"resolverChain\", \"socialType\", \"formatFn\", \"queryOptions\", \"loadingComponent\", \"fallbackComponent\"];\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { resolveName } from \"../../../../../extensions/ens/resolve-name.js\";\nimport { getSocialProfiles } from \"../../../../../social/profiles.js\";\nimport { useAccountContext } from \"../../../../core/account/provider.js\";\n/**\n * This component is used to display the name of the account.\n * A \"name\" in this context is the username, or account of the social profiles that the wallet may have.\n * In case a name is not found or failed to resolve, you can always fallback to displaying the wallet address instead by using the `fallbackComponent` prop.\n *\n * This component inherits all attribute of a native HTML <span> element, so you can style it just like how you would style a <span>.\n *\n * @param props\n * @returns A `<span>` containing the name of the account\n * ```html\n * <span>{name}</span>\n * ```\n *\n * @example\n * ### Basic usage\n * ```tsx\n * import { AccountProvider, AccountName } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x1234...3f3f\" client={client}>\n *   <AccountName />\n * </AccountProvider>\n * ```\n *\n * ### Show wallet address while social name is being loaded\n * ```tsx\n * <AccountName\n *   loadingComponent={<AccountAddress />}\n * />\n * ```\n *\n *\n * ### Fallback to showing wallet address if fail to resolve social name\n * ```tsx\n * <AccountName\n *   fallbackComponent={<AccountAddress />}\n * />\n * ```\n *\n * ### Transform the account name using `formatFn` prop\n * ```tsx\n * import { isAddress, shortenAddress } from \"thirdweb/utils\";\n * import { AccountProvider, AccountName } from \"thirdweb/react\";\n *\n * // Let's say we want the name to be capitalized without using CSS\n * const formatName = (name: string) => name.toUpperCase();\n *\n * return <AccountName formatFn={formatName} />\n * ```\n *\n *\n * ### Custom query options for useQuery\n * This component uses `@tanstack-query`'s useQuery internally.\n * You can use the `queryOptions` prop for more fine-grained control\n * ```tsx\n * <AccountName\n *   queryOptions={{\n *     enabled: isEnabled,\n *     retry: 3\n *   }}\n * />\n * ```\n *\n * @component\n * @wallet\n * @beta\n */\nexport function AccountName(_ref) {\n  let {\n      resolverAddress,\n      resolverChain,\n      socialType,\n      formatFn,\n      queryOptions,\n      loadingComponent,\n      fallbackComponent\n    } = _ref,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n  const {\n    address,\n    client\n  } = useAccountContext();\n  const nameQuery = useQuery(_objectSpread({\n    queryFn: async () => {\n      var _socialData$filter$;\n      const [socialData, ensName] = await Promise.all([getSocialProfiles({\n        address,\n        client\n      }), resolveName({\n        address,\n        client,\n        resolverAddress,\n        resolverChain\n      })]);\n      const name = (socialData === null || socialData === void 0 || (_socialData$filter$ = socialData.filter(p => p.name && (socialType ? p.type === socialType : true))[0]) === null || _socialData$filter$ === void 0 ? void 0 : _socialData$filter$.name) || ensName;\n      if (!name) {\n        throw new Error(\"Failed to resolve account name\");\n      }\n      return formatFn ? formatFn(name) : name;\n    },\n    queryKey: [\"account-name\", address, {\n      socialType\n    }, {\n      resolverAddress,\n      resolverChain\n    }],\n    retry: false\n  }, queryOptions));\n  if (nameQuery.isLoading) {\n    return loadingComponent || null;\n  }\n  if (!nameQuery.data) {\n    return fallbackComponent || null;\n  }\n  return _jsx(\"span\", _objectSpread(_objectSpread({}, restProps), {}, {\n    children: nameQuery.data\n  }));\n}","map":{"version":3,"names":["_objectSpread","_objectWithoutProperties","_excluded","useQuery","resolveName","getSocialProfiles","useAccountContext","AccountName","_ref","resolverAddress","resolverChain","socialType","formatFn","queryOptions","loadingComponent","fallbackComponent","restProps","address","client","nameQuery","queryFn","_socialData$filter$","socialData","ensName","Promise","all","name","filter","p","type","Error","queryKey","retry","isLoading","data","_jsx","children"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/prebuilt/Account/name.tsx"],"sourcesContent":["\"use client\";\n\nimport { type UseQueryOptions, useQuery } from \"@tanstack/react-query\";\nimport type React from \"react\";\nimport type { JSX } from \"react\";\nimport {\n  type ResolveNameOptions,\n  resolveName,\n} from \"../../../../../extensions/ens/resolve-name.js\";\nimport { getSocialProfiles } from \"../../../../../social/profiles.js\";\nimport type { SocialProfile } from \"../../../../../social/types.js\";\nimport { useAccountContext } from \"../../../../core/account/provider.js\";\n\n/**\n * Props for the AccountName component\n * @component\n * @wallet\n */\nexport interface AccountNameProps\n  extends Omit<React.HTMLAttributes<HTMLSpanElement>, \"children\">,\n    Omit<ResolveNameOptions, \"client\" | \"address\"> {\n  /**\n   * A function used to transform (format) the name of the account.\n   * it should take in a string and output a string.\n   *\n   * This function is particularly useful\n   */\n  formatFn?: (str: string) => string;\n  /**\n   * Use this prop to prioritize the social profile that you want to display\n   * This is useful for a wallet containing multiple social profiles\n   */\n  socialType?: SocialProfile[\"type\"];\n  /**\n   * This component will be shown while the name of the account is being fetched\n   * If not passed, the component will return `null`.\n   *\n   * You can pass a loading sign or spinner to this prop.\n   * @example\n   * ```tsx\n   * <AccountName loadingComponent={<Spinner />} />\n   * ```\n   */\n  loadingComponent?: JSX.Element;\n  /**\n   * This component will be shown if the request for fetching the name is done but could not retreive any result.\n   * You can pass the wallet address as the fallback option if that's the case.\n   *\n   * If not passed, the component will return `null`\n   *\n   * @example\n   * ```tsx\n   * <AccountName fallbackComponent={\"0x1234....3f3f\"} />\n   * ```\n   */\n  fallbackComponent?: JSX.Element;\n  /**\n   * Optional `useQuery` params\n   */\n  queryOptions?: Omit<UseQueryOptions<string>, \"queryFn\" | \"queryKey\">;\n}\n\n/**\n * This component is used to display the name of the account.\n * A \"name\" in this context is the username, or account of the social profiles that the wallet may have.\n * In case a name is not found or failed to resolve, you can always fallback to displaying the wallet address instead by using the `fallbackComponent` prop.\n *\n * This component inherits all attribute of a native HTML <span> element, so you can style it just like how you would style a <span>.\n *\n * @param props\n * @returns A `<span>` containing the name of the account\n * ```html\n * <span>{name}</span>\n * ```\n *\n * @example\n * ### Basic usage\n * ```tsx\n * import { AccountProvider, AccountName } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x1234...3f3f\" client={client}>\n *   <AccountName />\n * </AccountProvider>\n * ```\n *\n * ### Show wallet address while social name is being loaded\n * ```tsx\n * <AccountName\n *   loadingComponent={<AccountAddress />}\n * />\n * ```\n *\n *\n * ### Fallback to showing wallet address if fail to resolve social name\n * ```tsx\n * <AccountName\n *   fallbackComponent={<AccountAddress />}\n * />\n * ```\n *\n * ### Transform the account name using `formatFn` prop\n * ```tsx\n * import { isAddress, shortenAddress } from \"thirdweb/utils\";\n * import { AccountProvider, AccountName } from \"thirdweb/react\";\n *\n * // Let's say we want the name to be capitalized without using CSS\n * const formatName = (name: string) => name.toUpperCase();\n *\n * return <AccountName formatFn={formatName} />\n * ```\n *\n *\n * ### Custom query options for useQuery\n * This component uses `@tanstack-query`'s useQuery internally.\n * You can use the `queryOptions` prop for more fine-grained control\n * ```tsx\n * <AccountName\n *   queryOptions={{\n *     enabled: isEnabled,\n *     retry: 3\n *   }}\n * />\n * ```\n *\n * @component\n * @wallet\n * @beta\n */\nexport function AccountName({\n  resolverAddress,\n  resolverChain,\n  socialType,\n  formatFn,\n  queryOptions,\n  loadingComponent,\n  fallbackComponent,\n  ...restProps\n}: AccountNameProps) {\n  const { address, client } = useAccountContext();\n  const nameQuery = useQuery({\n    queryFn: async () => {\n      const [socialData, ensName] = await Promise.all([\n        getSocialProfiles({ address, client }),\n        resolveName({\n          address,\n          client,\n          resolverAddress,\n          resolverChain,\n        }),\n      ]);\n\n      const name =\n        socialData?.filter(\n          (p) => p.name && (socialType ? p.type === socialType : true),\n        )[0]?.name || ensName;\n\n      if (!name) {\n        throw new Error(\"Failed to resolve account name\");\n      }\n      return formatFn ? formatFn(name) : name;\n    },\n    queryKey: [\n      \"account-name\",\n      address,\n      { socialType },\n      { resolverAddress, resolverChain },\n    ],\n    retry: false,\n    ...queryOptions,\n  });\n\n  if (nameQuery.isLoading) {\n    return loadingComponent || null;\n  }\n\n  if (!nameQuery.data) {\n    return fallbackComponent || null;\n  }\n\n  return <span {...restProps}>{nameQuery.data}</span>;\n}\n"],"mappings":"AAAA,YAAY;;AAAC,OAAAA,aAAA;AAAA,OAAAC,wBAAA;AAAA,MAAAC,SAAA;;AAEb,SAA+BC,QAAQ,QAAQ,uBAAuB;AAGtE,SAEEC,WAAW,QACN,+CAA+C;AACtD,SAASC,iBAAiB,QAAQ,mCAAmC;AAErE,SAASC,iBAAiB,QAAQ,sCAAsC;AAmDxE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA,OAAM,SAAUC,WAAWA,CAAAC,IAAA,EASR;EAAA,IATS;MAC1BC,eAAe;MACfC,aAAa;MACbC,UAAU;MACVC,QAAQ;MACRC,YAAY;MACZC,gBAAgB;MAChBC;IACY,CACK,GAAAP,IAAA;IADdQ,SAAS,GAAAf,wBAAA,CAAAO,IAAA,EAAAN,SAAA;EAEZ,MAAM;IAAEe,OAAO;IAAEC;EAAM,CAAE,GAAGZ,iBAAiB,EAAE;EAC/C,MAAMa,SAAS,GAAGhB,QAAQ,CAAAH,aAAA;IACxBoB,OAAO,EAAE,MAAAA,CAAA,KAAW;MAAA,IAAAC,mBAAA;MAClB,MAAM,CAACC,UAAU,EAAEC,OAAO,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC9CpB,iBAAiB,CAAC;QAAEY,OAAO;QAAEC;MAAM,CAAE,CAAC,EACtCd,WAAW,CAAC;QACVa,OAAO;QACPC,MAAM;QACNT,eAAe;QACfC;OACD,CAAC,CACH,CAAC;MAEF,MAAMgB,IAAI,GACR,CAAAJ,UAAU,aAAVA,UAAU,gBAAAD,mBAAA,GAAVC,UAAU,CAAEK,MAAM,CACfC,CAAC,IAAKA,CAAC,CAACF,IAAI,KAAKf,UAAU,GAAGiB,CAAC,CAACC,IAAI,KAAKlB,UAAU,GAAG,IAAI,CAAC,CAC7D,CAAC,CAAC,CAAC,cAAAU,mBAAA,uBAFJA,mBAAA,CAEMK,IAAI,KAAIH,OAAO;MAEvB,IAAI,CAACG,IAAI,EAAE;QACT,MAAM,IAAII,KAAK,CAAC,gCAAgC,CAAC;MACnD;MACA,OAAOlB,QAAQ,GAAGA,QAAQ,CAACc,IAAI,CAAC,GAAGA,IAAI;IACzC,CAAC;IACDK,QAAQ,EAAE,CACR,cAAc,EACdd,OAAO,EACP;MAAEN;IAAU,CAAE,EACd;MAAEF,eAAe;MAAEC;IAAa,CAAE,CACnC;IACDsB,KAAK,EAAE;EAAK,GACTnB,YAAY,CAChB,CAAC;EAEF,IAAIM,SAAS,CAACc,SAAS,EAAE;IACvB,OAAOnB,gBAAgB,IAAI,IAAI;EACjC;EAEA,IAAI,CAACK,SAAS,CAACe,IAAI,EAAE;IACnB,OAAOnB,iBAAiB,IAAI,IAAI;EAClC;EAEA,OAAOoB,IAAA,SAAAnC,aAAA,CAAAA,aAAA,KAAUgB,SAAS;IAAAoB,QAAA,EAAGjB,SAAS,CAACe;EAAI,GAAQ;AACrD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}