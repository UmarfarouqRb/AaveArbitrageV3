{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { resolvePromisedValue } from \"../../utils/promise/resolve-promised-value.js\";\nimport { encode } from \"./encode.js\";\n/**\n * Sends a batch transaction using the provided options.\n * @param options - The options for sending the batch transaction.\n * @returns A promise that resolves to the options for waiting for the receipt of the first transaction in the batch.\n * @throws An error if the account is not connected, there are no transactions to send, or the account does not implement sendBatchTransaction.\n * @transaction\n * @example\n * ```ts\n * import { sendBatchTransaction } from \"thirdweb\";\n *\n * const waitForReceiptOptions = await sendBatchTransaction({\n *  account,\n *  transactions\n * });\n * ```\n */\nexport async function sendBatchTransaction(options) {\n  const {\n    account,\n    transactions\n  } = options;\n  if (!account) {\n    throw new Error(\"not connected\");\n  }\n  if (transactions.length === 0) {\n    throw new Error(\"No transactions to send\");\n  }\n  const firstTx = transactions[0];\n  if (!firstTx) {\n    throw new Error(\"No transactions to send\");\n  }\n  if (account.sendBatchTransaction) {\n    const serializedTxs = await Promise.all(transactions.map(async tx => {\n      // no need to estimate gas for these, gas will be estimated on the entire batch\n      const [data, to, accessList, value] = await Promise.all([encode(tx), resolvePromisedValue(tx.to), resolvePromisedValue(tx.accessList), resolvePromisedValue(tx.value)]);\n      const serializedTx = {\n        accessList,\n        chainId: tx.chain.id,\n        data,\n        to,\n        value\n      };\n      return serializedTx;\n    }));\n    const result = await account.sendBatchTransaction(serializedTxs);\n    return _objectSpread(_objectSpread({}, result), {}, {\n      chain: firstTx.chain,\n      client: firstTx.client\n    });\n  }\n  throw new Error(\"Account doesn't implement sendBatchTransaction\");\n}","map":{"version":3,"names":["resolvePromisedValue","encode","sendBatchTransaction","options","account","transactions","Error","length","firstTx","serializedTxs","Promise","all","map","tx","data","to","accessList","value","serializedTx","chainId","chain","id","result","_objectSpread","client"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/transaction/actions/send-batch-transaction.ts"],"sourcesContent":["import { resolvePromisedValue } from \"../../utils/promise/resolve-promised-value.js\";\nimport type {\n  Account,\n  SendTransactionOption,\n} from \"../../wallets/interfaces/wallet.js\";\nimport { encode } from \"./encode.js\";\nimport type { SendTransactionOptions } from \"./send-transaction.js\";\nimport type { WaitForReceiptOptions } from \"./wait-for-tx-receipt.js\";\n\nexport type SendBatchTransactionOptions = {\n  transactions: SendTransactionOptions[\"transaction\"][];\n  account: Account;\n};\n\n/**\n * Sends a batch transaction using the provided options.\n * @param options - The options for sending the batch transaction.\n * @returns A promise that resolves to the options for waiting for the receipt of the first transaction in the batch.\n * @throws An error if the account is not connected, there are no transactions to send, or the account does not implement sendBatchTransaction.\n * @transaction\n * @example\n * ```ts\n * import { sendBatchTransaction } from \"thirdweb\";\n *\n * const waitForReceiptOptions = await sendBatchTransaction({\n *  account,\n *  transactions\n * });\n * ```\n */\nexport async function sendBatchTransaction(\n  options: SendBatchTransactionOptions,\n): Promise<WaitForReceiptOptions> {\n  const { account, transactions } = options;\n  if (!account) {\n    throw new Error(\"not connected\");\n  }\n  if (transactions.length === 0) {\n    throw new Error(\"No transactions to send\");\n  }\n  const firstTx = transactions[0];\n  if (!firstTx) {\n    throw new Error(\"No transactions to send\");\n  }\n  if (account.sendBatchTransaction) {\n    const serializedTxs: SendTransactionOption[] = await Promise.all(\n      transactions.map(async (tx) => {\n        // no need to estimate gas for these, gas will be estimated on the entire batch\n        const [data, to, accessList, value] = await Promise.all([\n          encode(tx),\n          resolvePromisedValue(tx.to),\n          resolvePromisedValue(tx.accessList),\n          resolvePromisedValue(tx.value),\n        ]);\n        const serializedTx: SendTransactionOption = {\n          accessList,\n          chainId: tx.chain.id,\n          data,\n          to,\n          value,\n        };\n        return serializedTx;\n      }),\n    );\n    const result = await account.sendBatchTransaction(serializedTxs);\n    return {\n      ...result,\n      chain: firstTx.chain,\n      client: firstTx.client,\n    };\n  }\n  throw new Error(\"Account doesn't implement sendBatchTransaction\");\n}\n"],"mappings":";AAAA,SAASA,oBAAoB,QAAQ,+CAA+C;AAKpF,SAASC,MAAM,QAAQ,aAAa;AASpC;;;;;;;;;;;;;;;;AAgBA,OAAO,eAAeC,oBAAoBA,CACxCC,OAAoC;EAEpC,MAAM;IAAEC,OAAO;IAAEC;EAAY,CAAE,GAAGF,OAAO;EACzC,IAAI,CAACC,OAAO,EAAE;IACZ,MAAM,IAAIE,KAAK,CAAC,eAAe,CAAC;EAClC;EACA,IAAID,YAAY,CAACE,MAAM,KAAK,CAAC,EAAE;IAC7B,MAAM,IAAID,KAAK,CAAC,yBAAyB,CAAC;EAC5C;EACA,MAAME,OAAO,GAAGH,YAAY,CAAC,CAAC,CAAC;EAC/B,IAAI,CAACG,OAAO,EAAE;IACZ,MAAM,IAAIF,KAAK,CAAC,yBAAyB,CAAC;EAC5C;EACA,IAAIF,OAAO,CAACF,oBAAoB,EAAE;IAChC,MAAMO,aAAa,GAA4B,MAAMC,OAAO,CAACC,GAAG,CAC9DN,YAAY,CAACO,GAAG,CAAC,MAAOC,EAAE,IAAI;MAC5B;MACA,MAAM,CAACC,IAAI,EAAEC,EAAE,EAAEC,UAAU,EAAEC,KAAK,CAAC,GAAG,MAAMP,OAAO,CAACC,GAAG,CAAC,CACtDV,MAAM,CAACY,EAAE,CAAC,EACVb,oBAAoB,CAACa,EAAE,CAACE,EAAE,CAAC,EAC3Bf,oBAAoB,CAACa,EAAE,CAACG,UAAU,CAAC,EACnChB,oBAAoB,CAACa,EAAE,CAACI,KAAK,CAAC,CAC/B,CAAC;MACF,MAAMC,YAAY,GAA0B;QAC1CF,UAAU;QACVG,OAAO,EAAEN,EAAE,CAACO,KAAK,CAACC,EAAE;QACpBP,IAAI;QACJC,EAAE;QACFE;OACD;MACD,OAAOC,YAAY;IACrB,CAAC,CAAC,CACH;IACD,MAAMI,MAAM,GAAG,MAAMlB,OAAO,CAACF,oBAAoB,CAACO,aAAa,CAAC;IAChE,OAAAc,aAAA,CAAAA,aAAA,KACKD,MAAM;MACTF,KAAK,EAAEZ,OAAO,CAACY,KAAK;MACpBI,MAAM,EAAEhB,OAAO,CAACgB;IAAM;EAE1B;EACA,MAAM,IAAIlB,KAAK,CAAC,gDAAgD,CAAC;AACnE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}