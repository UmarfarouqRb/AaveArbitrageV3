{"ast":null,"code":"import { getLoginUrl } from \"../../../../wallets/in-app/core/authentication/getLoginPath.js\";\nfunction getBodyTitle(authOption) {\n  switch (authOption) {\n    case \"google\":\n      return \"Sign In - Google Accounts\";\n    default:\n      return \"Sign In - \".concat(authOption.slice(0, 1).toUpperCase()).concat(authOption.slice(1));\n  }\n}\nfunction getWidthAndHeight(authOption) {\n  switch (authOption) {\n    case \"facebook\":\n      return {\n        height: 555,\n        width: 715\n      };\n    default:\n      return {\n        height: 500,\n        width: 350\n      };\n  }\n}\nfunction getOauthLoginPath(authOption, client, ecosystem) {\n  switch (authOption) {\n    case \"apple\":\n    case \"facebook\":\n    case \"google\":\n    case \"farcaster\":\n    case \"telegram\":\n    case \"github\":\n    case \"twitch\":\n    case \"steam\":\n    case \"line\":\n    case \"x\":\n    case \"tiktok\":\n    case \"guest\":\n    case \"coinbase\":\n    case \"discord\":\n      return getLoginUrl({\n        authOption,\n        client,\n        ecosystem\n      });\n    default:\n      throw new Error(\"Unsupported auth option: \".concat(authOption));\n  }\n}\n/**\n * @internal\n */\nexport function openOauthSignInWindow(_ref) {\n  let {\n    authOption,\n    themeObj,\n    client,\n    ecosystem\n  } = _ref;\n  // open the popup in the center of the screen\n  const {\n    height,\n    width\n  } = getWidthAndHeight(authOption);\n  const top = (window.innerHeight - height) / 2;\n  const left = (window.innerWidth - width) / 2;\n  const win = window.open(getOauthLoginPath(authOption, client, ecosystem), undefined, \"width=\".concat(width, \", height=\").concat(height, \", top=\").concat(top, \", left=\").concat(left));\n  if (win) {\n    const title = getBodyTitle(authOption);\n    win.document.title = title;\n    win.document.body.innerHTML = spinnerWindowHtml;\n    win.document.body.style.background = themeObj.colors.modalBg;\n    win.document.body.style.color = themeObj.colors.accentText;\n  }\n  // close it when current window is closed or refreshed\n  if (win) {\n    window.addEventListener(\"beforeunload\", () => {\n      win === null || win === void 0 || win.close();\n    });\n  }\n  return win;\n}\nconst spinnerWindowHtml = \"\\n<svg class=\\\"loader\\\" viewBox=\\\"0 0 50 50\\\">\\n  <circle\\n    cx=\\\"25\\\"\\n    cy=\\\"25\\\"\\n    r=\\\"20\\\"\\n    fill=\\\"none\\\"\\n    stroke=\\\"currentColor\\\"\\n    stroke-width=\\\"4\\\"\\n  />\\n</svg>\\n\\n<style>\\n  body,\\n  html {\\n    height: 100%;\\n    margin: 0;\\n    padding: 0;\\n  }\\n\\n  body {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n  }\\n\\n  .loader {\\n    width: 50px;\\n    height: 50px;\\n    animation: spin 2s linear infinite;\\n  }\\n\\n  .loader circle {\\n    animation: loading 1.5s linear infinite;\\n  }\\n\\n  @keyframes loading {\\n    0% {\\n      stroke-dasharray: 1, 150;\\n      stroke-dashoffset: 0;\\n    }\\n    50% {\\n      stroke-dasharray: 90, 150;\\n      stroke-dashoffset: -35;\\n    }\\n    100% {\\n      stroke-dasharray: 90, 150;\\n      stroke-dashoffset: -124;\\n    }\\n  }\\n\\n  @keyframes spin {\\n    100% {\\n      transform: rotate(360deg);\\n        }\\n  }\\n</style>\\n\";","map":{"version":3,"names":["getLoginUrl","getBodyTitle","authOption","concat","slice","toUpperCase","getWidthAndHeight","height","width","getOauthLoginPath","client","ecosystem","Error","openOauthSignInWindow","_ref","themeObj","top","window","innerHeight","left","innerWidth","win","open","undefined","title","document","body","innerHTML","spinnerWindowHtml","style","background","colors","modalBg","color","accentText","addEventListener","close"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/wallets/shared/oauthSignIn.ts"],"sourcesContent":["import type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { getLoginUrl } from \"../../../../wallets/in-app/core/authentication/getLoginPath.js\";\nimport type {\n  Ecosystem,\n  InAppWalletOAuth,\n  InAppWalletSocialAuth,\n} from \"../../../../wallets/in-app/core/wallet/types.js\";\nimport type { Theme } from \"../../../core/design-system/index.js\";\n\nfunction getBodyTitle(authOption: InAppWalletSocialAuth) {\n  switch (authOption) {\n    case \"google\":\n      return \"Sign In - Google Accounts\";\n    default:\n      return `Sign In - ${authOption\n        .slice(0, 1)\n        .toUpperCase()}${authOption.slice(1)}`;\n  }\n}\n\nfunction getWidthAndHeight(authOption: InAppWalletSocialAuth) {\n  switch (authOption) {\n    case \"facebook\":\n      return { height: 555, width: 715 };\n    default:\n      return { height: 500, width: 350 };\n  }\n}\n\nfunction getOauthLoginPath(\n  authOption: InAppWalletOAuth,\n  client: ThirdwebClient,\n  ecosystem?: Ecosystem,\n) {\n  switch (authOption) {\n    case \"apple\":\n    case \"facebook\":\n    case \"google\":\n    case \"farcaster\":\n    case \"telegram\":\n    case \"github\":\n    case \"twitch\":\n    case \"steam\":\n    case \"line\":\n    case \"x\":\n    case \"tiktok\":\n    case \"guest\":\n    case \"coinbase\":\n    case \"discord\":\n      return getLoginUrl({ authOption, client, ecosystem });\n    default:\n      throw new Error(`Unsupported auth option: ${authOption}`);\n  }\n}\n\n/**\n * @internal\n */\nexport function openOauthSignInWindow({\n  authOption,\n  themeObj,\n  client,\n  ecosystem,\n}: {\n  authOption: InAppWalletSocialAuth;\n  themeObj: Theme;\n  client: ThirdwebClient;\n  ecosystem?: Ecosystem;\n}) {\n  // open the popup in the center of the screen\n  const { height, width } = getWidthAndHeight(authOption);\n  const top = (window.innerHeight - height) / 2;\n  const left = (window.innerWidth - width) / 2;\n\n  const win = window.open(\n    getOauthLoginPath(authOption, client, ecosystem),\n    undefined,\n    `width=${width}, height=${height}, top=${top}, left=${left}`,\n  );\n  if (win) {\n    const title = getBodyTitle(authOption);\n    win.document.title = title;\n    win.document.body.innerHTML = spinnerWindowHtml;\n    win.document.body.style.background = themeObj.colors.modalBg;\n    win.document.body.style.color = themeObj.colors.accentText;\n  }\n\n  // close it when current window is closed or refreshed\n  if (win) {\n    window.addEventListener(\"beforeunload\", () => {\n      win?.close();\n    });\n  }\n\n  return win;\n}\n\nconst spinnerWindowHtml = `\n<svg class=\"loader\" viewBox=\"0 0 50 50\">\n  <circle\n    cx=\"25\"\n    cy=\"25\"\n    r=\"20\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"4\"\n  />\n</svg>\n\n<style>\n  body,\n  html {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .loader {\n    width: 50px;\n    height: 50px;\n    animation: spin 2s linear infinite;\n  }\n\n  .loader circle {\n    animation: loading 1.5s linear infinite;\n  }\n\n  @keyframes loading {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n\n  @keyframes spin {\n    100% {\n      transform: rotate(360deg);\n        }\n  }\n</style>\n`;\n"],"mappings":"AACA,SAASA,WAAW,QAAQ,gEAAgE;AAQ5F,SAASC,YAAYA,CAACC,UAAiC;EACrD,QAAQA,UAAU;IAChB,KAAK,QAAQ;MACX,OAAO,2BAA2B;IACpC;MACE,oBAAAC,MAAA,CAAoBD,UAAU,CAC3BE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CACXC,WAAW,EAAE,EAAAF,MAAA,CAAGD,UAAU,CAACE,KAAK,CAAC,CAAC,CAAC;EAC1C;AACF;AAEA,SAASE,iBAAiBA,CAACJ,UAAiC;EAC1D,QAAQA,UAAU;IAChB,KAAK,UAAU;MACb,OAAO;QAAEK,MAAM,EAAE,GAAG;QAAEC,KAAK,EAAE;MAAG,CAAE;IACpC;MACE,OAAO;QAAED,MAAM,EAAE,GAAG;QAAEC,KAAK,EAAE;MAAG,CAAE;EACtC;AACF;AAEA,SAASC,iBAAiBA,CACxBP,UAA4B,EAC5BQ,MAAsB,EACtBC,SAAqB;EAErB,QAAQT,UAAU;IAChB,KAAK,OAAO;IACZ,KAAK,UAAU;IACf,KAAK,QAAQ;IACb,KAAK,WAAW;IAChB,KAAK,UAAU;IACf,KAAK,QAAQ;IACb,KAAK,QAAQ;IACb,KAAK,OAAO;IACZ,KAAK,MAAM;IACX,KAAK,GAAG;IACR,KAAK,QAAQ;IACb,KAAK,OAAO;IACZ,KAAK,UAAU;IACf,KAAK,SAAS;MACZ,OAAOF,WAAW,CAAC;QAAEE,UAAU;QAAEQ,MAAM;QAAEC;MAAS,CAAE,CAAC;IACvD;MACE,MAAM,IAAIC,KAAK,6BAAAT,MAAA,CAA6BD,UAAU,CAAE,CAAC;EAC7D;AACF;AAEA;;;AAGA,OAAM,SAAUW,qBAAqBA,CAAAC,IAAA,EAUpC;EAAA,IAVqC;IACpCZ,UAAU;IACVa,QAAQ;IACRL,MAAM;IACNC;EAAS,CAMV,GAAAG,IAAA;EACC;EACA,MAAM;IAAEP,MAAM;IAAEC;EAAK,CAAE,GAAGF,iBAAiB,CAACJ,UAAU,CAAC;EACvD,MAAMc,GAAG,GAAG,CAACC,MAAM,CAACC,WAAW,GAAGX,MAAM,IAAI,CAAC;EAC7C,MAAMY,IAAI,GAAG,CAACF,MAAM,CAACG,UAAU,GAAGZ,KAAK,IAAI,CAAC;EAE5C,MAAMa,GAAG,GAAGJ,MAAM,CAACK,IAAI,CACrBb,iBAAiB,CAACP,UAAU,EAAEQ,MAAM,EAAEC,SAAS,CAAC,EAChDY,SAAS,WAAApB,MAAA,CACAK,KAAK,eAAAL,MAAA,CAAYI,MAAM,YAAAJ,MAAA,CAASa,GAAG,aAAAb,MAAA,CAAUgB,IAAI,CAAE,CAC7D;EACD,IAAIE,GAAG,EAAE;IACP,MAAMG,KAAK,GAAGvB,YAAY,CAACC,UAAU,CAAC;IACtCmB,GAAG,CAACI,QAAQ,CAACD,KAAK,GAAGA,KAAK;IAC1BH,GAAG,CAACI,QAAQ,CAACC,IAAI,CAACC,SAAS,GAAGC,iBAAiB;IAC/CP,GAAG,CAACI,QAAQ,CAACC,IAAI,CAACG,KAAK,CAACC,UAAU,GAAGf,QAAQ,CAACgB,MAAM,CAACC,OAAO;IAC5DX,GAAG,CAACI,QAAQ,CAACC,IAAI,CAACG,KAAK,CAACI,KAAK,GAAGlB,QAAQ,CAACgB,MAAM,CAACG,UAAU;EAC5D;EAEA;EACA,IAAIb,GAAG,EAAE;IACPJ,MAAM,CAACkB,gBAAgB,CAAC,cAAc,EAAE,MAAK;MAC3Cd,GAAG,aAAHA,GAAG,eAAHA,GAAG,CAAEe,KAAK,EAAE;IACd,CAAC,CAAC;EACJ;EAEA,OAAOf,GAAG;AACZ;AAEA,MAAMO,iBAAiB,s5BAyDtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}