{"ast":null,"code":"import { getThirdwebBaseUrl } from \"../../../../utils/domains.js\";\nimport { getClientFetch } from \"../../../../utils/fetch.js\";\n/**\n * Gets the user's status from the backend.\n *\n * @internal\n */\nexport async function getUserStatus(_ref) {\n  let {\n    authToken,\n    client,\n    ecosystem\n  } = _ref;\n  const clientFetch = getClientFetch(client, ecosystem);\n  const response = await clientFetch(\"\".concat(getThirdwebBaseUrl(\"inAppWallet\"), \"/api/2024-05-05/accounts\"), {\n    headers: {\n      Authorization: \"Bearer embedded-wallet-token:\".concat(authToken),\n      \"Content-Type\": \"application/json\"\n    },\n    method: \"GET\"\n  });\n  if (!response.ok) {\n    const result = await response.text().catch(() => {\n      return \"Unknown error\";\n    });\n    throw new Error(\"Failed to get user info: \".concat(result));\n  }\n  return await response.json();\n}","map":{"version":3,"names":["getThirdwebBaseUrl","getClientFetch","getUserStatus","_ref","authToken","client","ecosystem","clientFetch","response","concat","headers","Authorization","method","ok","result","text","catch","Error","json"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/wallets/in-app/core/actions/get-enclave-user-status.ts"],"sourcesContent":["import type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { getThirdwebBaseUrl } from \"../../../../utils/domains.js\";\nimport { getClientFetch } from \"../../../../utils/fetch.js\";\nimport type { UserStatus } from \"../wallet/enclave-wallet.js\";\nimport type { Ecosystem } from \"../wallet/types.js\";\n\n/**\n * Gets the user's status from the backend.\n *\n * @internal\n */\nexport async function getUserStatus({\n  authToken,\n  client,\n  ecosystem,\n}: {\n  authToken: string;\n  client: ThirdwebClient;\n  ecosystem?: Ecosystem;\n}): Promise<UserStatus> {\n  const clientFetch = getClientFetch(client, ecosystem);\n  const response = await clientFetch(\n    `${getThirdwebBaseUrl(\"inAppWallet\")}/api/2024-05-05/accounts`,\n    {\n      headers: {\n        Authorization: `Bearer embedded-wallet-token:${authToken}`,\n        \"Content-Type\": \"application/json\",\n      },\n      method: \"GET\",\n    },\n  );\n\n  if (!response.ok) {\n    const result = await response.text().catch(() => {\n      return \"Unknown error\";\n    });\n    throw new Error(`Failed to get user info: ${result}`);\n  }\n\n  return (await response.json()) as UserStatus;\n}\n"],"mappings":"AACA,SAASA,kBAAkB,QAAQ,8BAA8B;AACjE,SAASC,cAAc,QAAQ,4BAA4B;AAI3D;;;;;AAKA,OAAO,eAAeC,aAAaA,CAAAC,IAAA,EAQlC;EAAA,IARmC;IAClCC,SAAS;IACTC,MAAM;IACNC;EAAS,CAKV,GAAAH,IAAA;EACC,MAAMI,WAAW,GAAGN,cAAc,CAACI,MAAM,EAAEC,SAAS,CAAC;EACrD,MAAME,QAAQ,GAAG,MAAMD,WAAW,IAAAE,MAAA,CAC7BT,kBAAkB,CAAC,aAAa,CAAC,+BACpC;IACEU,OAAO,EAAE;MACPC,aAAa,kCAAAF,MAAA,CAAkCL,SAAS,CAAE;MAC1D,cAAc,EAAE;KACjB;IACDQ,MAAM,EAAE;GACT,CACF;EAED,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;IAChB,MAAMC,MAAM,GAAG,MAAMN,QAAQ,CAACO,IAAI,EAAE,CAACC,KAAK,CAAC,MAAK;MAC9C,OAAO,eAAe;IACxB,CAAC,CAAC;IACF,MAAM,IAAIC,KAAK,6BAAAR,MAAA,CAA6BK,MAAM,CAAE,CAAC;EACvD;EAEA,OAAQ,MAAMN,QAAQ,CAACU,IAAI,EAAE;AAC/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}