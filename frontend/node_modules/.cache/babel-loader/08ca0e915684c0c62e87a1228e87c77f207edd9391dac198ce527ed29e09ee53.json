{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useContext } from \"react\";\nimport { randomBytesHex } from \"../../../../utils/random.js\";\nimport { useSendTransactionCore } from \"../../../core/hooks/transaction/useSendTransaction.js\";\nimport { useActiveWallet } from \"../../../core/hooks/wallets/useActiveWallet.js\";\nimport { useSwitchActiveWalletChain } from \"../../../core/hooks/wallets/useSwitchActiveWalletChain.js\";\nimport { SetRootElementContext } from \"../../../core/providers/RootElementContext.js\";\nimport { TransactionModal } from \"../../ui/TransactionButton/TransactionModal.js\";\n/**\n * A hook to send a transaction with from the user's connected wallet.\n *\n * You can send a transaction with a [prepared contract call](https://portal.thirdweb.com/references/typescript/v5/prepareContractCall), a [prepared transaction](https://portal.thirdweb.com/references/typescript/v5/prepareTransaction), or using a write [Extension](https://portal.thirdweb.com/react/v5/extensions).\n *\n * @returns A UseMutationResult object to send a transaction.\n * @param config Configuration for the `useSendTransaction` hook.\n * Refer to [`SendTransactionConfig`](https://portal.thirdweb.com/references/typescript/v5/SendTransactionConfig) for more details.\n * @example\n *\n * ### Sending a prepared contract call\n *\n * ```tsx\n * import { useSendTransaction } from \"thirdweb/react\";\n * import { getContract, prepareContractCall } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const contract = getContract({\n *   address: \"0x...\",\n *   chain: sepolia,\n *   client,\n * });\n *\n * const { mutate: sendTx, data: transactionResult } = useSendTransaction();\n *\n * const onClick = () => {\n *   const transaction = prepareContractCall({\n *     contract,\n *     method: \"function transfer(address to, uint256 value)\",\n *     params: [to, value],\n *   });\n *   sendTx(transaction);\n * };\n * ```\n *\n * ### Using a write extension\n *\n * ```tsx\n * import { useSendTransaction } from \"thirdweb/react\";\n * import { mintTo } from \"thirdweb/extensions/erc721\";\n *\n * const { mutate: sendTx, data: transactionResult } = useSendTransaction();\n *\n * const onClick = () => {\n *   const transaction = mintTo({\n *     contract,\n *     to: \"0x...\",\n *     nft: {\n *       name: \"NFT Name\",\n *       description: \"NFT Description\",\n *       image: \"https://example.com/image.png\",\n *     },\n *   });\n *   sendTx(transaction);\n * };\n * ```\n *\n * ### Sending a prepared transaction\n *\n * ```tsx\n * import { useSendTransaction } from \"thirdweb/react\";\n * import { prepareTransaction } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const { mutate: sendTx, data: transactionResult } = useSendTransaction();\n *\n * const onClick = () => {\n *   // Send 0.1 SepoliaETH to an address\n *   const transaction = prepareTransaction({\n *     to: \"0x...\",\n *     value: toWei(\"0.1\"),\n *     chain: sepolia,\n *     client: thirdwebClient,\n *     // Specify a token required for the transaction\n *     erc20Value: {\n *       amountWei: toWei(\"0.1\"),\n *       tokenAddress: \"0x...\",\n *     },\n *   });\n *   sendTx(transaction);\n * };\n * ```\n *\n * ### Configuring the Pay Modal\n *\n * When the wallet does not have enough funds to send the transaction, a modal is shown to the user to buy the required funds and then continue with the transaction.\n *\n * You can configure the pay modal by passing a [`SendTransactionPayModalConfig`](https://portal.thirdweb.com/references/typescript/v5/SendTransactionPayModalConfig) object to the `payModal` config.\n *\n * ```tsx\n * import { useSendTransaction } from \"thirdweb/react\";\n *\n * const sendTx = useSendTransaction({\n *   payModal: {\n *     theme: \"light\",\n *   },\n * });\n * ```\n *\n * By default, the pay modal is enabled. You can disable it by passing `payModal: false` to the config.\n *\n * ```tsx\n * import { useSendTransaction } from \"thirdweb/react\";\n *\n * const sendTx = useSendTransaction({\n *   payModal: false,\n * });\n * ```\n *\n * @transaction\n */\nexport function useSendTransaction() {\n  let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const switchChain = useSwitchActiveWalletChain();\n  const wallet = useActiveWallet();\n  const setRootEl = useContext(SetRootElementContext);\n  const payModal = config.payModal;\n  let payModalEnabled = true;\n  if (payModal === false || config.gasless) {\n    payModalEnabled = false;\n  }\n  const showPayModal = data => {\n    var _payModal$metadata;\n    if (payModal === false) return;\n    setRootEl(_jsx(TransactionModal, {\n      country: payModal === null || payModal === void 0 ? void 0 : payModal.country,\n      currency: payModal === null || payModal === void 0 ? void 0 : payModal.currency,\n      client: data.tx.client,\n      localeId: (payModal === null || payModal === void 0 ? void 0 : payModal.locale) || \"en_US\",\n      modalMode: data.mode,\n      onClose: () => {\n        setRootEl(null);\n        data.rejectTx(new Error(\"User rejected transaction by closing modal\"));\n      },\n      onComplete: data.sendTx,\n      onTxSent: data.resolveTx,\n      payOptions: {\n        buyWithCrypto: payModal === null || payModal === void 0 ? void 0 : payModal.buyWithCrypto,\n        buyWithFiat: payModal === null || payModal === void 0 ? void 0 : payModal.buyWithFiat,\n        metadata: payModal === null || payModal === void 0 ? void 0 : payModal.metadata,\n        mode: \"transaction\",\n        onPurchaseSuccess: payModal === null || payModal === void 0 ? void 0 : payModal.onPurchaseSuccess,\n        purchaseData: payModal === null || payModal === void 0 ? void 0 : payModal.purchaseData,\n        showThirdwebBranding: payModal === null || payModal === void 0 ? void 0 : payModal.showThirdwebBranding,\n        transaction: data.tx\n      },\n      supportedTokens: payModal === null || payModal === void 0 ? void 0 : payModal.supportedTokens,\n      theme: (payModal === null || payModal === void 0 ? void 0 : payModal.theme) || \"dark\",\n      title: (payModal === null || payModal === void 0 || (_payModal$metadata = payModal.metadata) === null || _payModal$metadata === void 0 ? void 0 : _payModal$metadata.name) || \"Transaction\",\n      tx: data.tx,\n      txId: randomBytesHex()\n    }));\n  };\n  return useSendTransactionCore({\n    gasless: config.gasless,\n    showPayModal: !payModalEnabled || payModal === false ? undefined : showPayModal,\n    switchChain,\n    wallet\n  });\n}","map":{"version":3,"names":["useContext","randomBytesHex","useSendTransactionCore","useActiveWallet","useSwitchActiveWalletChain","SetRootElementContext","TransactionModal","useSendTransaction","config","arguments","length","undefined","switchChain","wallet","setRootEl","payModal","payModalEnabled","gasless","showPayModal","data","_payModal$metadata","_jsx","country","currency","client","tx","localeId","locale","modalMode","mode","onClose","rejectTx","Error","onComplete","sendTx","onTxSent","resolveTx","payOptions","buyWithCrypto","buyWithFiat","metadata","onPurchaseSuccess","purchaseData","showThirdwebBranding","transaction","supportedTokens","theme","title","name","txId"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/hooks/transaction/useSendTransaction.tsx"],"sourcesContent":["import { useContext } from \"react\";\nimport { randomBytesHex } from \"../../../../utils/random.js\";\nimport {\n  type SendTransactionConfig,\n  type ShowModalData,\n  useSendTransactionCore,\n} from \"../../../core/hooks/transaction/useSendTransaction.js\";\nimport { useActiveWallet } from \"../../../core/hooks/wallets/useActiveWallet.js\";\nimport { useSwitchActiveWalletChain } from \"../../../core/hooks/wallets/useSwitchActiveWalletChain.js\";\nimport { SetRootElementContext } from \"../../../core/providers/RootElementContext.js\";\nimport { TransactionModal } from \"../../ui/TransactionButton/TransactionModal.js\";\n\n/**\n * A hook to send a transaction with from the user's connected wallet.\n *\n * You can send a transaction with a [prepared contract call](https://portal.thirdweb.com/references/typescript/v5/prepareContractCall), a [prepared transaction](https://portal.thirdweb.com/references/typescript/v5/prepareTransaction), or using a write [Extension](https://portal.thirdweb.com/react/v5/extensions).\n *\n * @returns A UseMutationResult object to send a transaction.\n * @param config Configuration for the `useSendTransaction` hook.\n * Refer to [`SendTransactionConfig`](https://portal.thirdweb.com/references/typescript/v5/SendTransactionConfig) for more details.\n * @example\n *\n * ### Sending a prepared contract call\n *\n * ```tsx\n * import { useSendTransaction } from \"thirdweb/react\";\n * import { getContract, prepareContractCall } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const contract = getContract({\n *   address: \"0x...\",\n *   chain: sepolia,\n *   client,\n * });\n *\n * const { mutate: sendTx, data: transactionResult } = useSendTransaction();\n *\n * const onClick = () => {\n *   const transaction = prepareContractCall({\n *     contract,\n *     method: \"function transfer(address to, uint256 value)\",\n *     params: [to, value],\n *   });\n *   sendTx(transaction);\n * };\n * ```\n *\n * ### Using a write extension\n *\n * ```tsx\n * import { useSendTransaction } from \"thirdweb/react\";\n * import { mintTo } from \"thirdweb/extensions/erc721\";\n *\n * const { mutate: sendTx, data: transactionResult } = useSendTransaction();\n *\n * const onClick = () => {\n *   const transaction = mintTo({\n *     contract,\n *     to: \"0x...\",\n *     nft: {\n *       name: \"NFT Name\",\n *       description: \"NFT Description\",\n *       image: \"https://example.com/image.png\",\n *     },\n *   });\n *   sendTx(transaction);\n * };\n * ```\n *\n * ### Sending a prepared transaction\n *\n * ```tsx\n * import { useSendTransaction } from \"thirdweb/react\";\n * import { prepareTransaction } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const { mutate: sendTx, data: transactionResult } = useSendTransaction();\n *\n * const onClick = () => {\n *   // Send 0.1 SepoliaETH to an address\n *   const transaction = prepareTransaction({\n *     to: \"0x...\",\n *     value: toWei(\"0.1\"),\n *     chain: sepolia,\n *     client: thirdwebClient,\n *     // Specify a token required for the transaction\n *     erc20Value: {\n *       amountWei: toWei(\"0.1\"),\n *       tokenAddress: \"0x...\",\n *     },\n *   });\n *   sendTx(transaction);\n * };\n * ```\n *\n * ### Configuring the Pay Modal\n *\n * When the wallet does not have enough funds to send the transaction, a modal is shown to the user to buy the required funds and then continue with the transaction.\n *\n * You can configure the pay modal by passing a [`SendTransactionPayModalConfig`](https://portal.thirdweb.com/references/typescript/v5/SendTransactionPayModalConfig) object to the `payModal` config.\n *\n * ```tsx\n * import { useSendTransaction } from \"thirdweb/react\";\n *\n * const sendTx = useSendTransaction({\n *   payModal: {\n *     theme: \"light\",\n *   },\n * });\n * ```\n *\n * By default, the pay modal is enabled. You can disable it by passing `payModal: false` to the config.\n *\n * ```tsx\n * import { useSendTransaction } from \"thirdweb/react\";\n *\n * const sendTx = useSendTransaction({\n *   payModal: false,\n * });\n * ```\n *\n * @transaction\n */\nexport function useSendTransaction(config: SendTransactionConfig = {}) {\n  const switchChain = useSwitchActiveWalletChain();\n  const wallet = useActiveWallet();\n  const setRootEl = useContext(SetRootElementContext);\n  const payModal = config.payModal;\n\n  let payModalEnabled = true;\n\n  if (payModal === false || config.gasless) {\n    payModalEnabled = false;\n  }\n\n  const showPayModal = (data: ShowModalData) => {\n    if (payModal === false) return;\n    setRootEl(\n      <TransactionModal\n        country={payModal?.country}\n        currency={payModal?.currency}\n        client={data.tx.client}\n        localeId={payModal?.locale || \"en_US\"}\n        modalMode={data.mode}\n        onClose={() => {\n          setRootEl(null);\n          data.rejectTx(\n            new Error(\"User rejected transaction by closing modal\"),\n          );\n        }}\n        onComplete={data.sendTx}\n        onTxSent={data.resolveTx}\n        payOptions={{\n          buyWithCrypto: payModal?.buyWithCrypto,\n          buyWithFiat: payModal?.buyWithFiat,\n          metadata: payModal?.metadata,\n          mode: \"transaction\",\n          onPurchaseSuccess: payModal?.onPurchaseSuccess,\n          purchaseData: payModal?.purchaseData,\n          showThirdwebBranding: payModal?.showThirdwebBranding,\n          transaction: data.tx,\n        }}\n        supportedTokens={payModal?.supportedTokens}\n        theme={payModal?.theme || \"dark\"}\n        title={payModal?.metadata?.name || \"Transaction\"}\n        tx={data.tx}\n        txId={randomBytesHex()}\n      />,\n    );\n  };\n\n  return useSendTransactionCore({\n    gasless: config.gasless,\n    showPayModal:\n      !payModalEnabled || payModal === false ? undefined : showPayModal,\n    switchChain,\n    wallet,\n  });\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}