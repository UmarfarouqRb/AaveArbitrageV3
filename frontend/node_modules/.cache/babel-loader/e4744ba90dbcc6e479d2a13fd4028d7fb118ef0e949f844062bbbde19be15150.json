{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { z } from \"zod\";\nimport { isNativeTokenAddress } from \"../../../constants/addresses.js\";\nimport { name } from \"../../common/read/name.js\";\nimport { symbol } from \"../../common/read/symbol.js\";\nimport { decimals } from \"../__generated__/IERC20/read/decimals.js\";\nconst NATIVE_CURRENCY_SCHEMA = z.object({\n  name: z.string().default(\"Ether\"),\n  symbol: z.string().default(\"ETH\"),\n  decimals: z.number().default(18)\n}).default({\n  name: \"Ether\",\n  symbol: \"ETH\",\n  decimals: 18\n});\n/**\n * Retrieves the metadata of a currency.\n * @param options - The options for the transaction.\n * @returns A promise that resolves to an object containing the currency metadata.\n * @extension ERC20\n * @example\n * ```ts\n * import { getCurrencyMetadata } from \"thirdweb/extensions/erc20\";\n *\n * const currencyMetadata = await getCurrencyMetadata({ contract });\n * ```\n */\nexport async function getCurrencyMetadata(options) {\n  // if the contract is the native token, return the native currency metadata\n  if (isNativeTokenAddress(options.contract.address)) {\n    // if the chain definition does not have a native currency, attempt to fetch it from the API\n    if (!options.contract.chain.nativeCurrency || !options.contract.chain.nativeCurrency.name || !options.contract.chain.nativeCurrency.symbol || !options.contract.chain.nativeCurrency.decimals) {\n      try {\n        const {\n          getChainMetadata\n        } = await import(\"../../../chains/utils.js\");\n        const chain = await getChainMetadata(options.contract.chain);\n        // return the native currency of the chain\n        return NATIVE_CURRENCY_SCHEMA.parse(_objectSpread(_objectSpread({}, chain.nativeCurrency), options.contract.chain.nativeCurrency));\n      } catch (_unused) {\n        // no-op, fall through to the default values below\n      }\n    }\n    return NATIVE_CURRENCY_SCHEMA.parse(options.contract.chain.nativeCurrency);\n  }\n  try {\n    const [name_, symbol_, decimals_] = await Promise.all([name(options).catch(() => \"\"), symbol(options), decimals(options)]);\n    return {\n      decimals: decimals_,\n      name: name_,\n      symbol: symbol_\n    };\n  } catch (e) {\n    throw new Error(\"Invalid currency token: \".concat(e));\n  }\n}","map":{"version":3,"names":["z","isNativeTokenAddress","name","symbol","decimals","NATIVE_CURRENCY_SCHEMA","object","string","default","number","getCurrencyMetadata","options","contract","address","chain","nativeCurrency","getChainMetadata","parse","_objectSpread","_unused","name_","symbol_","decimals_","Promise","all","catch","e","Error","concat"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/extensions/erc20/read/getCurrencyMetadata.ts"],"sourcesContent":["import { z } from \"zod\";\nimport { isNativeTokenAddress } from \"../../../constants/addresses.js\";\nimport type { BaseTransactionOptions } from \"../../../transaction/types.js\";\nimport { name } from \"../../common/read/name.js\";\nimport { symbol } from \"../../common/read/symbol.js\";\nimport { decimals } from \"../__generated__/IERC20/read/decimals.js\";\n\nconst NATIVE_CURRENCY_SCHEMA = z\n  .object({\n    name: z.string().default(\"Ether\"),\n    symbol: z.string().default(\"ETH\"),\n    decimals: z.number().default(18),\n  })\n  .default({\n    name: \"Ether\",\n    symbol: \"ETH\",\n    decimals: 18,\n  });\n\n/**\n * @extension ERC20\n */\nexport type GetCurrencyMetadataResult = {\n  name: string;\n  symbol: string;\n  decimals: number;\n};\n\n/**\n * Retrieves the metadata of a currency.\n * @param options - The options for the transaction.\n * @returns A promise that resolves to an object containing the currency metadata.\n * @extension ERC20\n * @example\n * ```ts\n * import { getCurrencyMetadata } from \"thirdweb/extensions/erc20\";\n *\n * const currencyMetadata = await getCurrencyMetadata({ contract });\n * ```\n */\nexport async function getCurrencyMetadata(\n  options: BaseTransactionOptions,\n): Promise<GetCurrencyMetadataResult> {\n  // if the contract is the native token, return the native currency metadata\n  if (isNativeTokenAddress(options.contract.address)) {\n    // if the chain definition does not have a native currency, attempt to fetch it from the API\n    if (\n      !options.contract.chain.nativeCurrency ||\n      !options.contract.chain.nativeCurrency.name ||\n      !options.contract.chain.nativeCurrency.symbol ||\n      !options.contract.chain.nativeCurrency.decimals\n    ) {\n      try {\n        const { getChainMetadata } = await import(\"../../../chains/utils.js\");\n        const chain = await getChainMetadata(options.contract.chain);\n        // return the native currency of the chain\n        return NATIVE_CURRENCY_SCHEMA.parse({\n          ...chain.nativeCurrency,\n          ...options.contract.chain.nativeCurrency,\n        });\n      } catch {\n        // no-op, fall through to the default values below\n      }\n    }\n\n    return NATIVE_CURRENCY_SCHEMA.parse(options.contract.chain.nativeCurrency);\n  }\n\n  try {\n    const [name_, symbol_, decimals_] = await Promise.all([\n      name(options).catch(() => \"\"),\n      symbol(options),\n      decimals(options),\n    ]);\n\n    return {\n      decimals: decimals_,\n      name: name_,\n      symbol: symbol_,\n    };\n  } catch (e) {\n    throw new Error(`Invalid currency token: ${e}`);\n  }\n}\n"],"mappings":";AAAA,SAASA,CAAC,QAAQ,KAAK;AACvB,SAASC,oBAAoB,QAAQ,iCAAiC;AAEtE,SAASC,IAAI,QAAQ,2BAA2B;AAChD,SAASC,MAAM,QAAQ,6BAA6B;AACpD,SAASC,QAAQ,QAAQ,0CAA0C;AAEnE,MAAMC,sBAAsB,GAAGL,CAAC,CAC7BM,MAAM,CAAC;EACNJ,IAAI,EAAEF,CAAC,CAACO,MAAM,EAAE,CAACC,OAAO,CAAC,OAAO,CAAC;EACjCL,MAAM,EAAEH,CAAC,CAACO,MAAM,EAAE,CAACC,OAAO,CAAC,KAAK,CAAC;EACjCJ,QAAQ,EAAEJ,CAAC,CAACS,MAAM,EAAE,CAACD,OAAO,CAAC,EAAE;CAChC,CAAC,CACDA,OAAO,CAAC;EACPN,IAAI,EAAE,OAAO;EACbC,MAAM,EAAE,KAAK;EACbC,QAAQ,EAAE;CACX,CAAC;AAWJ;;;;;;;;;;;;AAYA,OAAO,eAAeM,mBAAmBA,CACvCC,OAA+B;EAE/B;EACA,IAAIV,oBAAoB,CAACU,OAAO,CAACC,QAAQ,CAACC,OAAO,CAAC,EAAE;IAClD;IACA,IACE,CAACF,OAAO,CAACC,QAAQ,CAACE,KAAK,CAACC,cAAc,IACtC,CAACJ,OAAO,CAACC,QAAQ,CAACE,KAAK,CAACC,cAAc,CAACb,IAAI,IAC3C,CAACS,OAAO,CAACC,QAAQ,CAACE,KAAK,CAACC,cAAc,CAACZ,MAAM,IAC7C,CAACQ,OAAO,CAACC,QAAQ,CAACE,KAAK,CAACC,cAAc,CAACX,QAAQ,EAC/C;MACA,IAAI;QACF,MAAM;UAAEY;QAAgB,CAAE,GAAG,MAAM,MAAM,CAAC,0BAA0B,CAAC;QACrE,MAAMF,KAAK,GAAG,MAAME,gBAAgB,CAACL,OAAO,CAACC,QAAQ,CAACE,KAAK,CAAC;QAC5D;QACA,OAAOT,sBAAsB,CAACY,KAAK,CAAAC,aAAA,CAAAA,aAAA,KAC9BJ,KAAK,CAACC,cAAc,GACpBJ,OAAO,CAACC,QAAQ,CAACE,KAAK,CAACC,cAAc,CACzC,CAAC;MACJ,CAAC,CAAC,OAAAI,OAAA,EAAM;QACN;MAAA;IAEJ;IAEA,OAAOd,sBAAsB,CAACY,KAAK,CAACN,OAAO,CAACC,QAAQ,CAACE,KAAK,CAACC,cAAc,CAAC;EAC5E;EAEA,IAAI;IACF,MAAM,CAACK,KAAK,EAAEC,OAAO,EAAEC,SAAS,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACpDtB,IAAI,CAACS,OAAO,CAAC,CAACc,KAAK,CAAC,MAAM,EAAE,CAAC,EAC7BtB,MAAM,CAACQ,OAAO,CAAC,EACfP,QAAQ,CAACO,OAAO,CAAC,CAClB,CAAC;IAEF,OAAO;MACLP,QAAQ,EAAEkB,SAAS;MACnBpB,IAAI,EAAEkB,KAAK;MACXjB,MAAM,EAAEkB;KACT;EACH,CAAC,CAAC,OAAOK,CAAC,EAAE;IACV,MAAM,IAAIC,KAAK,4BAAAC,MAAA,CAA4BF,CAAC,CAAE,CAAC;EACjD;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}