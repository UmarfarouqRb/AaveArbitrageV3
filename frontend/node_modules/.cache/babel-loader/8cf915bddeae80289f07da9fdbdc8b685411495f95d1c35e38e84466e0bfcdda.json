{"ast":null,"code":"import { parseAbiItem } from \"abitype\";\nimport { encodeEventTopics, toEventHash } from \"viem\";\nimport { isAbiEvent } from \"./utils.js\";\n/**\n * Prepares an event by parsing the signature, generating the event hash, and encoding the event topics.\n * @param options - The options for preparing the event.\n * @returns The prepared event object.\n * @example\n * ```ts\n * import { prepareEvent } from \"thirdweb\";\n * const myEvent = prepareEvent({\n *  signature: \"event MyEvent(uint256 myArg)\",\n * });\n * ```\n * @contract\n */\nexport function prepareEvent(options) {\n  const {\n    signature\n  } = options;\n  let resolvedSignature;\n  if (isAbiEvent(signature)) {\n    resolvedSignature = signature;\n  } else {\n    resolvedSignature = parseAbiItem(signature);\n  }\n  return {\n    abiEvent: resolvedSignature,\n    hash: toEventHash(resolvedSignature),\n    // @ts-expect-error - TODO: investiagte why this complains, it works fine however\n    topics: encodeEventTopics({\n      abi: [resolvedSignature],\n      args: options.filters\n    })\n  };\n}","map":{"version":3,"names":["parseAbiItem","encodeEventTopics","toEventHash","isAbiEvent","prepareEvent","options","signature","resolvedSignature","abiEvent","hash","topics","abi","args","filters"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/event/prepare-event.ts"],"sourcesContent":["import { type AbiEvent, type ParseAbiItem, parseAbiItem } from \"abitype\";\nimport { encodeEventTopics, type Hex, toEventHash } from \"viem\";\nimport type { AbiEventParametersToPrimitiveTypes } from \"./types.js\";\nimport { isAbiEvent } from \"./utils.js\";\n\ntype ParseEvent<event extends AbiEvent | string> =\n  // if the method IS an AbiEvent, return it\n  event extends AbiEvent\n    ? event\n    : event extends string // we now know we are in \"string\" territory\n      ? // if the string starts with `function` then we can parse it\n        event extends `event ${string}`\n        ? ParseAbiItem<event>\n        : // do we have an ABI to check, check the length\n          AbiEvent\n      : // this means its neither have an AbiEvent NOR a string -> never\n        never;\n\ntype EventFilters<abiEvent extends AbiEvent> =\n  AbiEventParametersToPrimitiveTypes<abiEvent[\"inputs\"]>;\n\nexport type PrepareEventOptions<\n  TSignature extends `event ${string}` | AbiEvent,\n> = {\n  signature: TSignature;\n  filters?: Readonly<EventFilters<ParseEvent<TSignature>>>;\n};\n\nexport type PreparedEvent<abiEvent extends AbiEvent> = {\n  abiEvent: abiEvent;\n  hash: Hex;\n  topics: Hex[];\n};\n\n/**\n * Prepares an event by parsing the signature, generating the event hash, and encoding the event topics.\n * @param options - The options for preparing the event.\n * @returns The prepared event object.\n * @example\n * ```ts\n * import { prepareEvent } from \"thirdweb\";\n * const myEvent = prepareEvent({\n *  signature: \"event MyEvent(uint256 myArg)\",\n * });\n * ```\n * @contract\n */\nexport function prepareEvent<TSignature extends `event ${string}` | AbiEvent>(\n  options: PrepareEventOptions<TSignature>,\n): PreparedEvent<ParseEvent<TSignature>> {\n  const { signature } = options;\n  let resolvedSignature: ParseEvent<TSignature>;\n  if (isAbiEvent(signature)) {\n    resolvedSignature = signature as ParseEvent<TSignature>;\n  } else {\n    resolvedSignature = parseAbiItem(signature) as ParseEvent<TSignature>;\n  }\n\n  return {\n    abiEvent: resolvedSignature,\n    hash: toEventHash(resolvedSignature),\n    // @ts-expect-error - TODO: investiagte why this complains, it works fine however\n    topics: encodeEventTopics({\n      abi: [resolvedSignature],\n      args: options.filters,\n    }),\n  };\n}\n"],"mappings":"AAAA,SAA2CA,YAAY,QAAQ,SAAS;AACxE,SAASC,iBAAiB,EAAYC,WAAW,QAAQ,MAAM;AAE/D,SAASC,UAAU,QAAQ,YAAY;AA+BvC;;;;;;;;;;;;;AAaA,OAAM,SAAUC,YAAYA,CAC1BC,OAAwC;EAExC,MAAM;IAAEC;EAAS,CAAE,GAAGD,OAAO;EAC7B,IAAIE,iBAAyC;EAC7C,IAAIJ,UAAU,CAACG,SAAS,CAAC,EAAE;IACzBC,iBAAiB,GAAGD,SAAmC;EACzD,CAAC,MAAM;IACLC,iBAAiB,GAAGP,YAAY,CAACM,SAAS,CAA2B;EACvE;EAEA,OAAO;IACLE,QAAQ,EAAED,iBAAiB;IAC3BE,IAAI,EAAEP,WAAW,CAACK,iBAAiB,CAAC;IACpC;IACAG,MAAM,EAAET,iBAAiB,CAAC;MACxBU,GAAG,EAAE,CAACJ,iBAAiB,CAAC;MACxBK,IAAI,EAAEP,OAAO,CAACQ;KACf;GACF;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}