{"ast":null,"code":"/**\n * Checks for an auth token and associated metadata in the current URL\n */\nexport function getUrlToken() {\n  if (typeof document === \"undefined\") {\n    // Not in web\n    return undefined;\n  }\n  const queryString = window.location.search;\n  const params = new URLSearchParams(queryString);\n  const authResultString = params.get(\"authResult\");\n  const walletId = params.get(\"walletId\");\n  const authProvider = params.get(\"authProvider\");\n  const authCookie = params.get(\"authCookie\");\n  if ((authCookie || authResultString) && walletId) {\n    const authResult = (() => {\n      if (authResultString) {\n        params.delete(\"authResult\");\n        return JSON.parse(decodeURIComponent(authResultString));\n      }\n    })();\n    params.delete(\"walletId\");\n    params.delete(\"authProvider\");\n    params.delete(\"authCookie\");\n    window.history.pushState({}, \"\", \"\".concat(window.location.pathname, \"?\").concat(params.toString()));\n    return {\n      authCookie,\n      authProvider,\n      authResult,\n      walletId\n    };\n  }\n  return undefined;\n}","map":{"version":3,"names":["getUrlToken","document","undefined","queryString","window","location","search","params","URLSearchParams","authResultString","get","walletId","authProvider","authCookie","authResult","delete","JSON","parse","decodeURIComponent","history","pushState","concat","pathname","toString"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/wallets/in-app/web/lib/get-url-token.ts"],"sourcesContent":["import type { AuthOption } from \"../../../../wallets/types.js\";\nimport type { WalletId } from \"../../../wallet-types.js\";\nimport type { AuthStoredTokenWithCookieReturnType } from \"../../core/authentication/types.js\";\n\n/**\n * Checks for an auth token and associated metadata in the current URL\n */\nexport function getUrlToken():\n  | {\n      walletId?: WalletId;\n      authResult?: AuthStoredTokenWithCookieReturnType;\n      authProvider?: AuthOption;\n      authCookie?: string;\n    }\n  | undefined {\n  if (typeof document === \"undefined\") {\n    // Not in web\n    return undefined;\n  }\n\n  const queryString = window.location.search;\n  const params = new URLSearchParams(queryString);\n  const authResultString = params.get(\"authResult\");\n  const walletId = params.get(\"walletId\") as WalletId | undefined;\n  const authProvider = params.get(\"authProvider\") as AuthOption | undefined;\n  const authCookie = params.get(\"authCookie\") as string | undefined;\n\n  if ((authCookie || authResultString) && walletId) {\n    const authResult = (() => {\n      if (authResultString) {\n        params.delete(\"authResult\");\n        return JSON.parse(decodeURIComponent(authResultString));\n      }\n    })();\n    params.delete(\"walletId\");\n    params.delete(\"authProvider\");\n    params.delete(\"authCookie\");\n    window.history.pushState(\n      {},\n      \"\",\n      `${window.location.pathname}?${params.toString()}`,\n    );\n    return { authCookie, authProvider, authResult, walletId };\n  }\n  return undefined;\n}\n"],"mappings":"AAIA;;;AAGA,OAAM,SAAUA,WAAWA,CAAA;EAQzB,IAAI,OAAOC,QAAQ,KAAK,WAAW,EAAE;IACnC;IACA,OAAOC,SAAS;EAClB;EAEA,MAAMC,WAAW,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM;EAC1C,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAACL,WAAW,CAAC;EAC/C,MAAMM,gBAAgB,GAAGF,MAAM,CAACG,GAAG,CAAC,YAAY,CAAC;EACjD,MAAMC,QAAQ,GAAGJ,MAAM,CAACG,GAAG,CAAC,UAAU,CAAyB;EAC/D,MAAME,YAAY,GAAGL,MAAM,CAACG,GAAG,CAAC,cAAc,CAA2B;EACzE,MAAMG,UAAU,GAAGN,MAAM,CAACG,GAAG,CAAC,YAAY,CAAuB;EAEjE,IAAI,CAACG,UAAU,IAAIJ,gBAAgB,KAAKE,QAAQ,EAAE;IAChD,MAAMG,UAAU,GAAG,CAAC,MAAK;MACvB,IAAIL,gBAAgB,EAAE;QACpBF,MAAM,CAACQ,MAAM,CAAC,YAAY,CAAC;QAC3B,OAAOC,IAAI,CAACC,KAAK,CAACC,kBAAkB,CAACT,gBAAgB,CAAC,CAAC;MACzD;IACF,CAAC,EAAC,CAAE;IACJF,MAAM,CAACQ,MAAM,CAAC,UAAU,CAAC;IACzBR,MAAM,CAACQ,MAAM,CAAC,cAAc,CAAC;IAC7BR,MAAM,CAACQ,MAAM,CAAC,YAAY,CAAC;IAC3BX,MAAM,CAACe,OAAO,CAACC,SAAS,CACtB,EAAE,EACF,EAAE,KAAAC,MAAA,CACCjB,MAAM,CAACC,QAAQ,CAACiB,QAAQ,OAAAD,MAAA,CAAId,MAAM,CAACgB,QAAQ,EAAE,CAAE,CACnD;IACD,OAAO;MAAEV,UAAU;MAAED,YAAY;MAAEE,UAAU;MAAEH;IAAQ,CAAE;EAC3D;EACA,OAAOT,SAAS;AAClB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}