{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"contract\", \"queryOptions\"];\nimport { useQuery } from \"@tanstack/react-query\";\nimport { getFunctionId } from \"../../../utils/function-id.js\";\nimport { stringify } from \"../../../utils/json.js\";\nconst CONTRACT_QUERY_CACHE = new WeakMap();\n/**\n * Creates a `useQuery` hook for a contract call.\n * @param readCall - A function that performs the contract function call and returns the result.\n * @returns An object containing the created `useRead` hook.\n * @example\n * ```jsx\n * import { createContractQuery } from \"thirdweb/react\";\n * import { totalSupply } from \"thirdweb/extensions/erc20\";\n * const useTotalSupply = createContractQuery(totalSupply);\n * const { data, isLoading } = useTotalSupply({contract})\n * ```\n * @transaction\n */\nexport function createContractQuery(readCall) {\n  if (CONTRACT_QUERY_CACHE.has(readCall)) {\n    return CONTRACT_QUERY_CACHE.get(readCall);\n  }\n  function useRead(options) {\n    const {\n        contract,\n        queryOptions\n      } = options,\n      params = _objectWithoutProperties(options, _excluded);\n    return useQuery(_objectSpread({\n      queryFn: () => readCall(options),\n      queryKey: [\"readContract\", contract.chain.id, contract.address, getFunctionId(readCall), stringify(params)]\n    }, queryOptions));\n  }\n  CONTRACT_QUERY_CACHE.set(readCall, useRead);\n  return useRead;\n}","map":{"version":3,"names":["useQuery","getFunctionId","stringify","CONTRACT_QUERY_CACHE","WeakMap","createContractQuery","readCall","has","get","useRead","options","contract","queryOptions","params","_objectWithoutProperties","_excluded","_objectSpread","queryFn","queryKey","chain","id","address","set"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/core/utils/createQuery.ts"],"sourcesContent":["import { type UseQueryResult, useQuery } from \"@tanstack/react-query\";\nimport type { Abi } from \"abitype\";\nimport type { BaseTransactionOptions } from \"../../../transaction/types.js\";\nimport { getFunctionId } from \"../../../utils/function-id.js\";\nimport { stringify } from \"../../../utils/json.js\";\n\nconst CONTRACT_QUERY_CACHE = new WeakMap();\n\n/**\n * Creates a `useQuery` hook for a contract call.\n * @param readCall - A function that performs the contract function call and returns the result.\n * @returns An object containing the created `useRead` hook.\n * @example\n * ```jsx\n * import { createContractQuery } from \"thirdweb/react\";\n * import { totalSupply } from \"thirdweb/extensions/erc20\";\n * const useTotalSupply = createContractQuery(totalSupply);\n * const { data, isLoading } = useTotalSupply({contract})\n * ```\n * @transaction\n */\nexport function createContractQuery<\n  opts extends object,\n  result,\n  abi extends Abi,\n>(\n  readCall: (options: BaseTransactionOptions<opts, abi>) => Promise<result>,\n): (\n  options: BaseTransactionOptions<opts, abi> & {\n    queryOptions?: Partial<{ enabled: boolean }>;\n  },\n) => UseQueryResult<result, Error> {\n  if (CONTRACT_QUERY_CACHE.has(readCall)) {\n    return CONTRACT_QUERY_CACHE.get(readCall) as (\n      options: BaseTransactionOptions<opts, abi>,\n    ) => UseQueryResult<result, Error>;\n  }\n  function useRead(\n    options: BaseTransactionOptions<opts, abi> & {\n      queryOptions?: Partial<{ enabled: boolean }>;\n    },\n  ) {\n    const { contract, queryOptions, ...params } = options;\n\n    return useQuery({\n      queryFn: () => readCall(options),\n      queryKey: [\n        \"readContract\",\n        contract.chain.id,\n        contract.address,\n        getFunctionId(readCall),\n        stringify(params),\n      ] as const,\n      ...queryOptions,\n    });\n  }\n  CONTRACT_QUERY_CACHE.set(readCall, useRead);\n  return useRead;\n}\n"],"mappings":";;;AAAA,SAA8BA,QAAQ,QAAQ,uBAAuB;AAGrE,SAASC,aAAa,QAAQ,+BAA+B;AAC7D,SAASC,SAAS,QAAQ,wBAAwB;AAElD,MAAMC,oBAAoB,GAAG,IAAIC,OAAO,EAAE;AAE1C;;;;;;;;;;;;;AAaA,OAAM,SAAUC,mBAAmBA,CAKjCC,QAAyE;EAMzE,IAAIH,oBAAoB,CAACI,GAAG,CAACD,QAAQ,CAAC,EAAE;IACtC,OAAOH,oBAAoB,CAACK,GAAG,CAACF,QAAQ,CAEN;EACpC;EACA,SAASG,OAAOA,CACdC,OAEC;IAED,MAAM;QAAEC,QAAQ;QAAEC;MAAuB,CAAE,GAAGF,OAAO;MAAlBG,MAAM,GAAAC,wBAAA,CAAKJ,OAAO,EAAAK,SAAA;IAErD,OAAOf,QAAQ,CAAAgB,aAAA;MACbC,OAAO,EAAEA,CAAA,KAAMX,QAAQ,CAACI,OAAO,CAAC;MAChCQ,QAAQ,EAAE,CACR,cAAc,EACdP,QAAQ,CAACQ,KAAK,CAACC,EAAE,EACjBT,QAAQ,CAACU,OAAO,EAChBpB,aAAa,CAACK,QAAQ,CAAC,EACvBJ,SAAS,CAACW,MAAM,CAAC;IACT,GACPD,YAAY,CAChB,CAAC;EACJ;EACAT,oBAAoB,CAACmB,GAAG,CAAChB,QAAQ,EAAEG,OAAO,CAAC;EAC3C,OAAOA,OAAO;AAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}