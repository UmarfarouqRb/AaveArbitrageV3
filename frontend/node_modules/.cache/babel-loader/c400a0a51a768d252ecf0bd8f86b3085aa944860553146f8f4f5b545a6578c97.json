{"ast":null,"code":"import _objectWithoutProperties from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nconst _excluded = [\"client\", \"chain\"];\nimport { trackConnect } from \"../analytics/track/connect.js\";\nimport { getCachedChainIfExists } from \"../chains/utils.js\";\nimport { webLocalStorage } from \"../utils/storage/webStorage.js\";\nimport { formatWalletConnectUrl } from \"../utils/url.js\";\nimport { isMobile } from \"../utils/web/isMobile.js\";\nimport { openWindow } from \"../utils/web/openWindow.js\";\nimport { getWalletInfo } from \"./__generated__/getWalletInfo.js\";\nimport { coinbaseWalletSDK } from \"./coinbase/coinbase-wallet.js\";\nimport { getCoinbaseWebProvider } from \"./coinbase/coinbase-web.js\";\nimport { COINBASE } from \"./constants.js\";\nimport { isEcosystemWallet } from \"./ecosystem/is-ecosystem-wallet.js\";\nimport { ecosystemWallet } from \"./in-app/web/ecosystem.js\";\nimport { inAppWallet } from \"./in-app/web/in-app.js\";\nimport { getInjectedProvider } from \"./injected/index.js\";\nimport { smartWallet } from \"./smart/smart-wallet.js\";\nimport { createWalletEmitter } from \"./wallet-emitter.js\";\n// TODO: figure out how to define the type without tuple args type and using function overloads\n/**\n * Creates a wallet based on the provided ID and arguments.\n *\n * - Supports 500+ wallets\n * - Handles both injected browser wallets and WalletConnect sessions\n *\n * [View all available wallets](https://portal.thirdweb.com/typescript/v5/supported-wallets)\n *\n * @param args - The arguments for creating the wallet.\n * @param args.id - The ID of the wallet to create, this will be autocompleted by your IDE.\n * [View all available wallets](https://portal.thirdweb.com/typescript/v5/supported-wallets)\n * @param args.createOptions - The options for creating the wallet.\n * The arguments are different for each wallet type.\n * Refer to the [WalletCreationOptions](https://portal.thirdweb.com/references/typescript/v5/WalletCreationOptions) type for more details.\n * @returns - The created wallet.\n * @example\n *\n * ## Connecting the wallet\n *\n * Once created, you can connect the wallet to your app by calling the `connect` method.\n *\n * The `connect` method returns a promise that resolves to the connected account.\n *\n * Each wallet type can have different connect options. [View the different connect options](https://portal.thirdweb.com/references/typescript/v5/WalletConnectionOption)\n *\n * ## Connecting to an injected wallet\n *\n * ```ts\n * import { createWallet } from \"thirdweb/wallets\";\n *\n * const metamaskWallet = createWallet(\"io.metamask\");\n *\n * const account = await metamaskWallet.connect({\n *  client,\n * });\n * ```\n *\n * You can check if a wallet is installed by calling the [injectedProvider](https://portal.thirdweb.com/references/typescript/v5/injectedProvider) method.\n *\n * ## Connecting via WalletConnect modal\n *\n * ```ts\n * import { createWallet } from \"thirdweb/wallets\";\n *\n * const metamaskWallet = createWallet(\"io.metamask\");\n *\n * await metamask.connect({\n *   client,\n *   walletConnect: {\n *     projectId: \"YOUR_PROJECT_ID\",\n *     showQrModal: true,\n *     appMetadata: {\n *       name: \"My App\",\n *       url: \"https://my-app.com\",\n *       description: \"my app description\",\n *       logoUrl: \"https://path/to/my-app/logo.svg\",\n *     },\n *   },\n * });\n * ```\n * [View ConnectWallet connection options](https://portal.thirdweb.com/references/typescript/v5/WCConnectOptions)\n *\n * ## Connecting with coinbase wallet\n *\n * ```ts\n * import { createWallet } from \"thirdweb/wallets\";\n *\n * const cbWallet = createWallet(\"com.coinbase.wallet\", {\n *   appMetadata: {\n *     name: \"My App\",\n *     url: \"https://my-app.com\",\n *     description: \"my app description\",\n *     logoUrl: \"https://path/to/my-app/logo.svg\",\n *   },\n *   walletConfig: {\n *     // options: 'all' | 'smartWalletOnly' | 'eoaOnly'\n *     options: 'all',\n *   },\n * });\n *\n * const account = await cbWallet.connect({\n *  client,\n * });\n * ```\n *\n * [View Coinbase wallet creation options](https://portal.thirdweb.com/references/typescript/v5/CoinbaseWalletCreationOptions)\n *\n * ## Connecting with a smart wallet\n *\n * ```ts\n * import { createWallet } from \"thirdweb/wallets\";\n *\n * const wallet = createWallet(\"smart\", {\n *   chain: sepolia,\n *   sponsorGas: true,\n * });\n *\n * const account = await wallet.connect({\n *  client,\n *  personalAccount, // pass the admin account\n * });\n * ```\n *\n * @wallet\n */\nexport function createWallet() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  const [id, creationOptions] = args;\n  switch (true) {\n    /**\n     * SMART WALLET\n     */\n    case id === \"smart\":\n      {\n        return smartWallet(creationOptions);\n      }\n    /**\n     * IN-APP WALLET\n     */\n    case id === \"embedded\" || id === \"inApp\":\n      {\n        return inAppWallet(creationOptions);\n      }\n    /**\n     * ECOSYSTEM WALLET\n     */\n    case isEcosystemWallet(id):\n      return ecosystemWallet(...args);\n    /**\n     * COINBASE WALLET VIA SDK\n     * -> if no injected coinbase found, we'll use the coinbase SDK\n     */\n    case id === COINBASE:\n      {\n        const options = creationOptions;\n        return coinbaseWalletSDK({\n          createOptions: options,\n          onConnectRequested: async provider => {\n            // on the web, make sure to show the coinbase popup IMMEDIATELY on connection requested\n            // otherwise the popup might get blocked in safari\n            // TODO awaiting the provider is fast only thanks to preloading that happens in our components\n            // these probably need to actually imported / created synchronously to be used headless properly\n            const {\n              showCoinbasePopup\n            } = await import(\"./coinbase/utils.js\");\n            return showCoinbasePopup(provider);\n          },\n          providerFactory: () => getCoinbaseWebProvider(options)\n        });\n      }\n    /**\n     * WALLET CONNECT AND INJECTED WALLETS + walletConnect standalone\n     */\n    default:\n      {\n        const emitter = createWalletEmitter();\n        let account;\n        let chain;\n        let unsubscribeChain;\n        function reset() {\n          account = undefined;\n          chain = undefined;\n        }\n        let handleDisconnect = async () => {};\n        const unsubscribeDisconnect = emitter.subscribe(\"disconnect\", () => {\n          var _unsubscribeChain;\n          reset();\n          (_unsubscribeChain = unsubscribeChain) === null || _unsubscribeChain === void 0 || _unsubscribeChain();\n          unsubscribeDisconnect();\n        });\n        emitter.subscribe(\"accountChanged\", _account => {\n          account = _account;\n        });\n        let handleSwitchChain = async () => {\n          throw new Error(\"Not implemented yet\");\n        };\n        // on mobile, deeplink to the wallet app for session handling\n        const sessionHandler = isMobile() ? uri => openWindow(uri) : undefined;\n        const wallet = {\n          autoConnect: async options => {\n            const {\n              injectedProvider\n            } = await import(\"./injected/mipdStore.js\");\n            // injected wallet priority for autoConnect\n            if (id !== \"walletConnect\" && injectedProvider(id)) {\n              const {\n                autoConnectEip1193Wallet\n              } = await import(\"./injected/index.js\");\n              const [connectedAccount, connectedChain, doDisconnect, doSwitchChain] = await autoConnectEip1193Wallet({\n                chain: options.chain,\n                client: options.client,\n                emitter,\n                id: id,\n                provider: getInjectedProvider(id)\n              });\n              // set the states\n              account = connectedAccount;\n              chain = connectedChain;\n              handleDisconnect = doDisconnect;\n              handleSwitchChain = doSwitchChain;\n              unsubscribeChain = emitter.subscribe(\"chainChanged\", newChain => {\n                chain = newChain;\n              });\n              trackConnect({\n                chainId: chain.id,\n                client: options.client,\n                walletAddress: account.address,\n                walletType: id\n              });\n              // return account\n              return account;\n            }\n            if (options && \"client\" in options) {\n              const {\n                autoConnectWC\n              } = await import(\"./wallet-connect/controller.js\");\n              const [connectedAccount, connectedChain, doDisconnect, doSwitchChain] = await autoConnectWC(options, emitter, wallet.id, webLocalStorage, sessionHandler);\n              // set the states\n              account = connectedAccount;\n              chain = connectedChain;\n              handleDisconnect = doDisconnect;\n              handleSwitchChain = doSwitchChain;\n              trackConnect({\n                chainId: chain.id,\n                client: options.client,\n                walletAddress: account.address,\n                walletType: id\n              });\n              // return account\n              return account;\n            }\n            throw new Error(\"Failed to auto connect\");\n          },\n          connect: async options => {\n            async function wcConnect(wcOptions) {\n              const {\n                connectWC\n              } = await import(\"./wallet-connect/controller.js\");\n              let qrOverlay;\n              try {\n                var _wcOptions$walletConn;\n                const [connectedAccount, connectedChain, doDisconnect, doSwitchChain] = await connectWC(_objectSpread(_objectSpread({}, wcOptions), {}, {\n                  walletConnect: _objectSpread(_objectSpread({}, wcOptions.walletConnect), {}, {\n                    onDisplayUri: ((_wcOptions$walletConn = wcOptions.walletConnect) === null || _wcOptions$walletConn === void 0 ? void 0 : _wcOptions$walletConn.onDisplayUri) || (async uri => {\n                      // Check if we're in a browser environment\n                      if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n                        // on mobile, open the wallet app via deeplink\n                        if (isMobile()) {\n                          const walletInfo = await getWalletInfo(id);\n                          const mobileAppLink = walletInfo.mobile.native || walletInfo.mobile.universal;\n                          if (mobileAppLink) {\n                            openWindow(formatWalletConnectUrl(mobileAppLink, uri).redirect);\n                          } else {\n                            // on android, wc:// links show the app picker\n                            openWindow(uri);\n                          }\n                          return;\n                        }\n                        try {\n                          var _wcOptions$walletConn2, _wcOptions$walletConn3;\n                          // on desktop, create a QR overlay\n                          const {\n                            createQROverlay\n                          } = await import(\"./wallet-connect/qr-overlay.js\");\n                          // Clean up any existing overlay\n                          if (qrOverlay) {\n                            qrOverlay.destroy();\n                          }\n                          // Create new QR overlay\n                          qrOverlay = createQROverlay(uri, {\n                            theme: (_wcOptions$walletConn2 = (_wcOptions$walletConn3 = wcOptions.walletConnect) === null || _wcOptions$walletConn3 === void 0 || (_wcOptions$walletConn3 = _wcOptions$walletConn3.qrModalOptions) === null || _wcOptions$walletConn3 === void 0 ? void 0 : _wcOptions$walletConn3.themeMode) !== null && _wcOptions$walletConn2 !== void 0 ? _wcOptions$walletConn2 : \"dark\",\n                            qrSize: 280,\n                            showCloseButton: true,\n                            onCancel: () => {\n                              var _wcOptions$walletConn4, _wcOptions$walletConn5;\n                              (_wcOptions$walletConn4 = wcOptions.walletConnect) === null || _wcOptions$walletConn4 === void 0 || (_wcOptions$walletConn5 = _wcOptions$walletConn4.onCancel) === null || _wcOptions$walletConn5 === void 0 || _wcOptions$walletConn5.call(_wcOptions$walletConn4);\n                            }\n                          });\n                        } catch (error) {\n                          console.error(\"Failed to create QR overlay:\", error);\n                        }\n                      }\n                    })\n                  })\n                }), emitter, wallet.id, webLocalStorage, sessionHandler);\n                // Clean up QR overlay on successful connection\n                if (qrOverlay) {\n                  qrOverlay.destroy();\n                  qrOverlay = undefined;\n                }\n                // set the states\n                account = connectedAccount;\n                chain = connectedChain;\n                handleDisconnect = doDisconnect;\n                handleSwitchChain = doSwitchChain;\n                trackConnect({\n                  chainId: chain.id,\n                  client: wcOptions.client,\n                  walletAddress: account.address,\n                  walletType: id\n                });\n                return account;\n              } catch (error) {\n                // Clean up QR overlay on connection error\n                if (qrOverlay) {\n                  qrOverlay.destroy();\n                  qrOverlay = undefined;\n                }\n                throw error;\n              }\n            }\n            if (id === \"walletConnect\") {\n              const {\n                  client,\n                  chain: _chain\n                } = options,\n                walletConnectOptions = _objectWithoutProperties(options, _excluded);\n              return wcConnect({\n                chain: _chain,\n                client,\n                walletConnect: _objectSpread({}, walletConnectOptions)\n              });\n            }\n            // prefer walletconnect over injected if explicitely passing walletConnect options\n            const forceWalletConnectOption = options && \"walletConnect\" in options;\n            const {\n              injectedProvider\n            } = await import(\"./injected/mipdStore.js\");\n            if (injectedProvider(id) && !forceWalletConnectOption) {\n              const {\n                connectEip1193Wallet\n              } = await import(\"./injected/index.js\");\n              const [connectedAccount, connectedChain, doDisconnect, doSwitchChain] = await connectEip1193Wallet({\n                chain: options.chain,\n                client: options.client,\n                emitter,\n                id: id,\n                provider: getInjectedProvider(id)\n              });\n              // set the states\n              account = connectedAccount;\n              chain = connectedChain;\n              handleDisconnect = doDisconnect;\n              handleSwitchChain = doSwitchChain;\n              unsubscribeChain = emitter.subscribe(\"chainChanged\", newChain => {\n                chain = newChain;\n              });\n              trackConnect({\n                chainId: chain.id,\n                client: options.client,\n                walletAddress: account.address,\n                walletType: id\n              });\n              // return account\n              return account;\n            }\n            if (options && \"client\" in options) {\n              return wcConnect(options);\n            }\n            throw new Error(\"Failed to connect\");\n          },\n          // these get overridden in connect and autoConnect\n          disconnect: async () => {\n            reset();\n            await handleDisconnect();\n          },\n          getAccount: () => account,\n          getChain() {\n            if (!chain) {\n              return undefined;\n            }\n            chain = getCachedChainIfExists(chain.id) || chain;\n            return chain;\n          },\n          getConfig: () => args[1],\n          id,\n          subscribe: emitter.subscribe,\n          switchChain: async c => {\n            // TODO: this should actually throw an error if the chain switch fails\n            // but our useSwitchActiveWalletChain hook currently doesn't handle this\n            try {\n              await handleSwitchChain(c);\n              chain = c;\n            } catch (e) {\n              console.error(\"Error switching chain\", e);\n            }\n          }\n        };\n        return wallet;\n      }\n  }\n}\n/**\n * Creates a wallet that allows connecting to any wallet that supports the WalletConnect protocol.\n * @returns The created smart wallet.\n * @example\n * ```ts\n * import { walletConnect } from \"thirdweb/wallets\";\n *\n * const wallet = walletConnect();\n *\n * const account = await wallet.connect({\n *  client\n * });\n * ```\n * @wallet\n */\nexport function walletConnect() {\n  return createWallet(\"walletConnect\");\n}","map":{"version":3,"names":["trackConnect","getCachedChainIfExists","webLocalStorage","formatWalletConnectUrl","isMobile","openWindow","getWalletInfo","coinbaseWalletSDK","getCoinbaseWebProvider","COINBASE","isEcosystemWallet","ecosystemWallet","inAppWallet","getInjectedProvider","smartWallet","createWalletEmitter","createWallet","_len","arguments","length","args","Array","_key","id","creationOptions","options","createOptions","onConnectRequested","provider","showCoinbasePopup","providerFactory","emitter","account","chain","unsubscribeChain","reset","undefined","handleDisconnect","unsubscribeDisconnect","subscribe","_unsubscribeChain","_account","handleSwitchChain","Error","sessionHandler","uri","wallet","autoConnect","injectedProvider","autoConnectEip1193Wallet","connectedAccount","connectedChain","doDisconnect","doSwitchChain","client","newChain","chainId","walletAddress","address","walletType","autoConnectWC","connect","wcConnect","wcOptions","connectWC","qrOverlay","_wcOptions$walletConn","_objectSpread","walletConnect","onDisplayUri","window","document","walletInfo","mobileAppLink","mobile","native","universal","redirect","_wcOptions$walletConn2","_wcOptions$walletConn3","createQROverlay","destroy","theme","qrModalOptions","themeMode","qrSize","showCloseButton","onCancel","_wcOptions$walletConn4","_wcOptions$walletConn5","call","error","console","_chain","walletConnectOptions","_objectWithoutProperties","_excluded","forceWalletConnectOption","connectEip1193Wallet","disconnect","getAccount","getChain","getConfig","switchChain","c","e"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/wallets/create-wallet.ts"],"sourcesContent":["import { trackConnect } from \"../analytics/track/connect.js\";\nimport type { Chain } from \"../chains/types.js\";\nimport { getCachedChainIfExists } from \"../chains/utils.js\";\nimport { webLocalStorage } from \"../utils/storage/webStorage.js\";\nimport { formatWalletConnectUrl } from \"../utils/url.js\";\nimport { isMobile } from \"../utils/web/isMobile.js\";\nimport { openWindow } from \"../utils/web/openWindow.js\";\nimport { getWalletInfo } from \"./__generated__/getWalletInfo.js\";\nimport type {\n  InjectedSupportedWalletIds,\n  WCSupportedWalletIds,\n} from \"./__generated__/wallet-ids.js\";\nimport { coinbaseWalletSDK } from \"./coinbase/coinbase-wallet.js\";\nimport { getCoinbaseWebProvider } from \"./coinbase/coinbase-web.js\";\nimport { COINBASE } from \"./constants.js\";\nimport { isEcosystemWallet } from \"./ecosystem/is-ecosystem-wallet.js\";\nimport { ecosystemWallet } from \"./in-app/web/ecosystem.js\";\nimport { inAppWallet } from \"./in-app/web/in-app.js\";\nimport { getInjectedProvider } from \"./injected/index.js\";\nimport type { Account, Wallet } from \"./interfaces/wallet.js\";\nimport { smartWallet } from \"./smart/smart-wallet.js\";\nimport type { QROverlay } from \"./wallet-connect/qr-overlay.js\";\nimport type { WCConnectOptions } from \"./wallet-connect/types.js\";\nimport { createWalletEmitter } from \"./wallet-emitter.js\";\nimport type {\n  CreateWalletArgs,\n  EcosystemWalletId,\n  WalletAutoConnectionOption,\n  WalletId,\n} from \"./wallet-types.js\";\n\n// TODO: figure out how to define the type without tuple args type and using function overloads\n\n/**\n * Creates a wallet based on the provided ID and arguments.\n *\n * - Supports 500+ wallets\n * - Handles both injected browser wallets and WalletConnect sessions\n *\n * [View all available wallets](https://portal.thirdweb.com/typescript/v5/supported-wallets)\n *\n * @param args - The arguments for creating the wallet.\n * @param args.id - The ID of the wallet to create, this will be autocompleted by your IDE.\n * [View all available wallets](https://portal.thirdweb.com/typescript/v5/supported-wallets)\n * @param args.createOptions - The options for creating the wallet.\n * The arguments are different for each wallet type.\n * Refer to the [WalletCreationOptions](https://portal.thirdweb.com/references/typescript/v5/WalletCreationOptions) type for more details.\n * @returns - The created wallet.\n * @example\n *\n * ## Connecting the wallet\n *\n * Once created, you can connect the wallet to your app by calling the `connect` method.\n *\n * The `connect` method returns a promise that resolves to the connected account.\n *\n * Each wallet type can have different connect options. [View the different connect options](https://portal.thirdweb.com/references/typescript/v5/WalletConnectionOption)\n *\n * ## Connecting to an injected wallet\n *\n * ```ts\n * import { createWallet } from \"thirdweb/wallets\";\n *\n * const metamaskWallet = createWallet(\"io.metamask\");\n *\n * const account = await metamaskWallet.connect({\n *  client,\n * });\n * ```\n *\n * You can check if a wallet is installed by calling the [injectedProvider](https://portal.thirdweb.com/references/typescript/v5/injectedProvider) method.\n *\n * ## Connecting via WalletConnect modal\n *\n * ```ts\n * import { createWallet } from \"thirdweb/wallets\";\n *\n * const metamaskWallet = createWallet(\"io.metamask\");\n *\n * await metamask.connect({\n *   client,\n *   walletConnect: {\n *     projectId: \"YOUR_PROJECT_ID\",\n *     showQrModal: true,\n *     appMetadata: {\n *       name: \"My App\",\n *       url: \"https://my-app.com\",\n *       description: \"my app description\",\n *       logoUrl: \"https://path/to/my-app/logo.svg\",\n *     },\n *   },\n * });\n * ```\n * [View ConnectWallet connection options](https://portal.thirdweb.com/references/typescript/v5/WCConnectOptions)\n *\n * ## Connecting with coinbase wallet\n *\n * ```ts\n * import { createWallet } from \"thirdweb/wallets\";\n *\n * const cbWallet = createWallet(\"com.coinbase.wallet\", {\n *   appMetadata: {\n *     name: \"My App\",\n *     url: \"https://my-app.com\",\n *     description: \"my app description\",\n *     logoUrl: \"https://path/to/my-app/logo.svg\",\n *   },\n *   walletConfig: {\n *     // options: 'all' | 'smartWalletOnly' | 'eoaOnly'\n *     options: 'all',\n *   },\n * });\n *\n * const account = await cbWallet.connect({\n *  client,\n * });\n * ```\n *\n * [View Coinbase wallet creation options](https://portal.thirdweb.com/references/typescript/v5/CoinbaseWalletCreationOptions)\n *\n * ## Connecting with a smart wallet\n *\n * ```ts\n * import { createWallet } from \"thirdweb/wallets\";\n *\n * const wallet = createWallet(\"smart\", {\n *   chain: sepolia,\n *   sponsorGas: true,\n * });\n *\n * const account = await wallet.connect({\n *  client,\n *  personalAccount, // pass the admin account\n * });\n * ```\n *\n * @wallet\n */\nexport function createWallet<const ID extends WalletId>(\n  ...args: CreateWalletArgs<ID>\n): Wallet<ID> {\n  const [id, creationOptions] = args;\n\n  switch (true) {\n    /**\n     * SMART WALLET\n     */\n    case id === \"smart\": {\n      return smartWallet(\n        creationOptions as CreateWalletArgs<\"smart\">[1],\n      ) as Wallet<ID>;\n    }\n    /**\n     * IN-APP WALLET\n     */\n    case id === \"embedded\" || id === \"inApp\": {\n      return inAppWallet(\n        creationOptions as CreateWalletArgs<\"inApp\">[1],\n      ) as Wallet<ID>;\n    }\n    /**\n     * ECOSYSTEM WALLET\n     */\n    case isEcosystemWallet(id):\n      return ecosystemWallet(\n        ...(args as CreateWalletArgs<EcosystemWalletId>),\n      ) as Wallet<ID>;\n\n    /**\n     * COINBASE WALLET VIA SDK\n     * -> if no injected coinbase found, we'll use the coinbase SDK\n     */\n    case id === COINBASE: {\n      const options = creationOptions as CreateWalletArgs<typeof COINBASE>[1];\n      return coinbaseWalletSDK({\n        createOptions: options,\n        onConnectRequested: async (provider) => {\n          // on the web, make sure to show the coinbase popup IMMEDIATELY on connection requested\n          // otherwise the popup might get blocked in safari\n          // TODO awaiting the provider is fast only thanks to preloading that happens in our components\n          // these probably need to actually imported / created synchronously to be used headless properly\n          const { showCoinbasePopup } = await import(\"./coinbase/utils.js\");\n          return showCoinbasePopup(provider);\n        },\n        providerFactory: () => getCoinbaseWebProvider(options),\n      }) as Wallet<ID>;\n    }\n    /**\n     * WALLET CONNECT AND INJECTED WALLETS + walletConnect standalone\n     */\n    default: {\n      const emitter = createWalletEmitter<ID>();\n      let account: Account | undefined;\n      let chain: Chain | undefined;\n      let unsubscribeChain: (() => void) | undefined;\n\n      function reset() {\n        account = undefined;\n        chain = undefined;\n      }\n\n      let handleDisconnect = async () => {};\n\n      const unsubscribeDisconnect = emitter.subscribe(\"disconnect\", () => {\n        reset();\n        unsubscribeChain?.();\n        unsubscribeDisconnect();\n      });\n\n      emitter.subscribe(\"accountChanged\", (_account) => {\n        account = _account;\n      });\n\n      let handleSwitchChain: (chain: Chain) => Promise<void> = async () => {\n        throw new Error(\"Not implemented yet\");\n      };\n\n      // on mobile, deeplink to the wallet app for session handling\n      const sessionHandler = isMobile()\n        ? (uri: string) => openWindow(uri)\n        : undefined;\n\n      const wallet: Wallet<ID> = {\n        autoConnect: async (\n          options: WalletAutoConnectionOption<\n            WCSupportedWalletIds | InjectedSupportedWalletIds\n          >,\n        ) => {\n          const { injectedProvider } = await import(\"./injected/mipdStore.js\");\n          // injected wallet priority for autoConnect\n          if (id !== \"walletConnect\" && injectedProvider(id)) {\n            const { autoConnectEip1193Wallet } = await import(\n              \"./injected/index.js\"\n            );\n\n            const [\n              connectedAccount,\n              connectedChain,\n              doDisconnect,\n              doSwitchChain,\n            ] = await autoConnectEip1193Wallet({\n              chain: options.chain,\n              client: options.client,\n              emitter,\n              id: id as InjectedSupportedWalletIds,\n              provider: getInjectedProvider(id),\n            });\n            // set the states\n            account = connectedAccount;\n            chain = connectedChain;\n            handleDisconnect = doDisconnect;\n            handleSwitchChain = doSwitchChain;\n            unsubscribeChain = emitter.subscribe(\"chainChanged\", (newChain) => {\n              chain = newChain;\n            });\n            trackConnect({\n              chainId: chain.id,\n              client: options.client,\n              walletAddress: account.address,\n              walletType: id,\n            });\n            // return account\n            return account;\n          }\n\n          if (options && \"client\" in options) {\n            const { autoConnectWC } = await import(\n              \"./wallet-connect/controller.js\"\n            );\n\n            const [\n              connectedAccount,\n              connectedChain,\n              doDisconnect,\n              doSwitchChain,\n            ] = await autoConnectWC(\n              options,\n              emitter,\n              wallet.id as WCSupportedWalletIds,\n              webLocalStorage,\n              sessionHandler,\n            );\n            // set the states\n            account = connectedAccount;\n            chain = connectedChain;\n            handleDisconnect = doDisconnect;\n            handleSwitchChain = doSwitchChain;\n            trackConnect({\n              chainId: chain.id,\n              client: options.client,\n              walletAddress: account.address,\n              walletType: id,\n            });\n            // return account\n            return account;\n          }\n          throw new Error(\"Failed to auto connect\");\n        },\n        connect: async (options) => {\n          async function wcConnect(wcOptions: WCConnectOptions) {\n            const { connectWC } = await import(\n              \"./wallet-connect/controller.js\"\n            );\n\n            let qrOverlay: QROverlay | undefined;\n\n            try {\n              const [\n                connectedAccount,\n                connectedChain,\n                doDisconnect,\n                doSwitchChain,\n              ] = await connectWC(\n                {\n                  ...wcOptions,\n                  walletConnect: {\n                    ...wcOptions.walletConnect,\n                    onDisplayUri:\n                      wcOptions.walletConnect?.onDisplayUri ||\n                      (async (uri) => {\n                        // Check if we're in a browser environment\n                        if (\n                          typeof window !== \"undefined\" &&\n                          typeof document !== \"undefined\"\n                        ) {\n                          // on mobile, open the wallet app via deeplink\n                          if (isMobile()) {\n                            const walletInfo = await getWalletInfo(id);\n\n                            const mobileAppLink =\n                              walletInfo.mobile.native ||\n                              walletInfo.mobile.universal;\n                            if (mobileAppLink) {\n                              openWindow(\n                                formatWalletConnectUrl(mobileAppLink, uri)\n                                  .redirect,\n                              );\n                            } else {\n                              // on android, wc:// links show the app picker\n                              openWindow(uri);\n                            }\n                            return;\n                          }\n\n                          try {\n                            // on desktop, create a QR overlay\n                            const { createQROverlay } = await import(\n                              \"./wallet-connect/qr-overlay.js\"\n                            );\n\n                            // Clean up any existing overlay\n                            if (qrOverlay) {\n                              qrOverlay.destroy();\n                            }\n\n                            // Create new QR overlay\n                            qrOverlay = createQROverlay(uri, {\n                              theme:\n                                wcOptions.walletConnect?.qrModalOptions\n                                  ?.themeMode ?? \"dark\",\n                              qrSize: 280,\n                              showCloseButton: true,\n                              onCancel: () => {\n                                wcOptions.walletConnect?.onCancel?.();\n                              },\n                            });\n                          } catch (error) {\n                            console.error(\n                              \"Failed to create QR overlay:\",\n                              error,\n                            );\n                          }\n                        }\n                      }),\n                  },\n                },\n                emitter,\n                wallet.id as WCSupportedWalletIds | \"walletConnect\",\n                webLocalStorage,\n                sessionHandler,\n              );\n\n              // Clean up QR overlay on successful connection\n              if (qrOverlay) {\n                qrOverlay.destroy();\n                qrOverlay = undefined;\n              }\n\n              // set the states\n              account = connectedAccount;\n              chain = connectedChain;\n              handleDisconnect = doDisconnect;\n              handleSwitchChain = doSwitchChain;\n              trackConnect({\n                chainId: chain.id,\n                client: wcOptions.client,\n                walletAddress: account.address,\n                walletType: id,\n              });\n              return account;\n            } catch (error) {\n              // Clean up QR overlay on connection error\n              if (qrOverlay) {\n                qrOverlay.destroy();\n                qrOverlay = undefined;\n              }\n              throw error;\n            }\n          }\n\n          if (id === \"walletConnect\") {\n            const { client, chain: _chain, ...walletConnectOptions } = options;\n\n            return wcConnect({\n              chain: _chain,\n              client,\n              walletConnect: {\n                ...walletConnectOptions,\n              },\n            });\n          }\n\n          // prefer walletconnect over injected if explicitely passing walletConnect options\n          const forceWalletConnectOption =\n            options && \"walletConnect\" in options;\n\n          const { injectedProvider } = await import(\"./injected/mipdStore.js\");\n          if (injectedProvider(id) && !forceWalletConnectOption) {\n            const { connectEip1193Wallet } = await import(\n              \"./injected/index.js\"\n            );\n\n            const [\n              connectedAccount,\n              connectedChain,\n              doDisconnect,\n              doSwitchChain,\n            ] = await connectEip1193Wallet({\n              chain: options.chain,\n              client: options.client,\n              emitter,\n              id: id as InjectedSupportedWalletIds,\n              provider: getInjectedProvider(id),\n            });\n            // set the states\n            account = connectedAccount;\n            chain = connectedChain;\n            handleDisconnect = doDisconnect;\n            handleSwitchChain = doSwitchChain;\n            unsubscribeChain = emitter.subscribe(\"chainChanged\", (newChain) => {\n              chain = newChain;\n            });\n            trackConnect({\n              chainId: chain.id,\n              client: options.client,\n              walletAddress: account.address,\n              walletType: id,\n            });\n            // return account\n            return account;\n          }\n\n          if (options && \"client\" in options) {\n            return wcConnect(options);\n          }\n          throw new Error(\"Failed to connect\");\n        },\n        // these get overridden in connect and autoConnect\n        disconnect: async () => {\n          reset();\n          await handleDisconnect();\n        },\n        getAccount: () => account,\n        getChain() {\n          if (!chain) {\n            return undefined;\n          }\n\n          chain = getCachedChainIfExists(chain.id) || chain;\n          return chain;\n        },\n        getConfig: () => args[1],\n        id,\n        subscribe: emitter.subscribe,\n        switchChain: async (c) => {\n          // TODO: this should actually throw an error if the chain switch fails\n          // but our useSwitchActiveWalletChain hook currently doesn't handle this\n          try {\n            await handleSwitchChain(c);\n            chain = c;\n          } catch (e) {\n            console.error(\"Error switching chain\", e);\n          }\n        },\n      };\n      return wallet;\n    }\n  }\n}\n\n/**\n * Creates a wallet that allows connecting to any wallet that supports the WalletConnect protocol.\n * @returns The created smart wallet.\n * @example\n * ```ts\n * import { walletConnect } from \"thirdweb/wallets\";\n *\n * const wallet = walletConnect();\n *\n * const account = await wallet.connect({\n *  client\n * });\n * ```\n * @wallet\n */\nexport function walletConnect() {\n  return createWallet(\"walletConnect\");\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}