{"ast":null,"code":"import { concat, pad, toHex } from \"viem\";\nfunction getInitCode(unpackedUserOperation) {\n  return unpackedUserOperation.factory ? concat([unpackedUserOperation.factory, unpackedUserOperation.factoryData || \"0x\"]) : \"0x\";\n}\nfunction getAccountGasLimits(unpackedUserOperation) {\n  return concat([pad(toHex(BigInt(unpackedUserOperation.verificationGasLimit)), {\n    size: 16\n  }), pad(toHex(BigInt(unpackedUserOperation.callGasLimit)), {\n    size: 16\n  })]);\n}\nfunction getGasLimits(unpackedUserOperation) {\n  return concat([pad(toHex(BigInt(unpackedUserOperation.maxPriorityFeePerGas)), {\n    size: 16\n  }), pad(toHex(BigInt(unpackedUserOperation.maxFeePerGas)), {\n    size: 16\n  })]);\n}\nfunction getPaymasterAndData(unpackedUserOperation) {\n  return unpackedUserOperation.paymaster ? concat([unpackedUserOperation.paymaster, pad(toHex(BigInt(unpackedUserOperation.paymasterVerificationGasLimit || 0)), {\n    size: 16\n  }), pad(toHex(BigInt(unpackedUserOperation.paymasterPostOpGasLimit || 0)), {\n    size: 16\n  }), unpackedUserOperation.paymasterData || \"0x\"]) : \"0x\";\n}\nexport const getPackedUserOperation = userOperation => {\n  return {\n    accountGasLimits: getAccountGasLimits(userOperation),\n    callData: userOperation.callData,\n    gasFees: getGasLimits(userOperation),\n    initCode: getInitCode(userOperation),\n    nonce: BigInt(userOperation.nonce),\n    paymasterAndData: getPaymasterAndData(userOperation),\n    preVerificationGas: BigInt(userOperation.preVerificationGas),\n    sender: userOperation.sender,\n    signature: userOperation.signature\n  };\n};","map":{"version":3,"names":["concat","pad","toHex","getInitCode","unpackedUserOperation","factory","factoryData","getAccountGasLimits","BigInt","verificationGasLimit","size","callGasLimit","getGasLimits","maxPriorityFeePerGas","maxFeePerGas","getPaymasterAndData","paymaster","paymasterVerificationGasLimit","paymasterPostOpGasLimit","paymasterData","getPackedUserOperation","userOperation","accountGasLimits","callData","gasFees","initCode","nonce","paymasterAndData","preVerificationGas","sender","signature"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/wallets/smart/lib/packUserOp.ts"],"sourcesContent":["import { concat, type Hex, pad, toHex } from \"viem\";\nimport type { PackedUserOperation, UserOperationV07 } from \"../types.js\";\n\nfunction getInitCode(unpackedUserOperation: UserOperationV07) {\n  return unpackedUserOperation.factory\n    ? concat([\n        unpackedUserOperation.factory as Hex,\n        unpackedUserOperation.factoryData || (\"0x\" as Hex),\n      ])\n    : \"0x\";\n}\n\nfunction getAccountGasLimits(unpackedUserOperation: UserOperationV07) {\n  return concat([\n    pad(toHex(BigInt(unpackedUserOperation.verificationGasLimit)), {\n      size: 16,\n    }),\n    pad(toHex(BigInt(unpackedUserOperation.callGasLimit)), { size: 16 }),\n  ]) as Hex;\n}\n\nfunction getGasLimits(unpackedUserOperation: UserOperationV07) {\n  return concat([\n    pad(toHex(BigInt(unpackedUserOperation.maxPriorityFeePerGas)), {\n      size: 16,\n    }),\n    pad(toHex(BigInt(unpackedUserOperation.maxFeePerGas)), { size: 16 }),\n  ]) as Hex;\n}\n\nfunction getPaymasterAndData(unpackedUserOperation: UserOperationV07) {\n  return unpackedUserOperation.paymaster\n    ? concat([\n        unpackedUserOperation.paymaster as Hex,\n        pad(\n          toHex(\n            BigInt(unpackedUserOperation.paymasterVerificationGasLimit || 0),\n          ),\n          {\n            size: 16,\n          },\n        ),\n        pad(toHex(BigInt(unpackedUserOperation.paymasterPostOpGasLimit || 0)), {\n          size: 16,\n        }),\n        unpackedUserOperation.paymasterData || (\"0x\" as Hex),\n      ])\n    : \"0x\";\n}\n\nexport const getPackedUserOperation = (\n  userOperation: UserOperationV07,\n): PackedUserOperation => {\n  return {\n    accountGasLimits: getAccountGasLimits(userOperation),\n    callData: userOperation.callData,\n    gasFees: getGasLimits(userOperation),\n    initCode: getInitCode(userOperation),\n    nonce: BigInt(userOperation.nonce),\n    paymasterAndData: getPaymasterAndData(userOperation),\n    preVerificationGas: BigInt(userOperation.preVerificationGas),\n    sender: userOperation.sender,\n    signature: userOperation.signature,\n  };\n};\n"],"mappings":"AAAA,SAASA,MAAM,EAAYC,GAAG,EAAEC,KAAK,QAAQ,MAAM;AAGnD,SAASC,WAAWA,CAACC,qBAAuC;EAC1D,OAAOA,qBAAqB,CAACC,OAAO,GAChCL,MAAM,CAAC,CACLI,qBAAqB,CAACC,OAAc,EACpCD,qBAAqB,CAACE,WAAW,IAAK,IAAY,CACnD,CAAC,GACF,IAAI;AACV;AAEA,SAASC,mBAAmBA,CAACH,qBAAuC;EAClE,OAAOJ,MAAM,CAAC,CACZC,GAAG,CAACC,KAAK,CAACM,MAAM,CAACJ,qBAAqB,CAACK,oBAAoB,CAAC,CAAC,EAAE;IAC7DC,IAAI,EAAE;GACP,CAAC,EACFT,GAAG,CAACC,KAAK,CAACM,MAAM,CAACJ,qBAAqB,CAACO,YAAY,CAAC,CAAC,EAAE;IAAED,IAAI,EAAE;EAAE,CAAE,CAAC,CACrE,CAAQ;AACX;AAEA,SAASE,YAAYA,CAACR,qBAAuC;EAC3D,OAAOJ,MAAM,CAAC,CACZC,GAAG,CAACC,KAAK,CAACM,MAAM,CAACJ,qBAAqB,CAACS,oBAAoB,CAAC,CAAC,EAAE;IAC7DH,IAAI,EAAE;GACP,CAAC,EACFT,GAAG,CAACC,KAAK,CAACM,MAAM,CAACJ,qBAAqB,CAACU,YAAY,CAAC,CAAC,EAAE;IAAEJ,IAAI,EAAE;EAAE,CAAE,CAAC,CACrE,CAAQ;AACX;AAEA,SAASK,mBAAmBA,CAACX,qBAAuC;EAClE,OAAOA,qBAAqB,CAACY,SAAS,GAClChB,MAAM,CAAC,CACLI,qBAAqB,CAACY,SAAgB,EACtCf,GAAG,CACDC,KAAK,CACHM,MAAM,CAACJ,qBAAqB,CAACa,6BAA6B,IAAI,CAAC,CAAC,CACjE,EACD;IACEP,IAAI,EAAE;GACP,CACF,EACDT,GAAG,CAACC,KAAK,CAACM,MAAM,CAACJ,qBAAqB,CAACc,uBAAuB,IAAI,CAAC,CAAC,CAAC,EAAE;IACrER,IAAI,EAAE;GACP,CAAC,EACFN,qBAAqB,CAACe,aAAa,IAAK,IAAY,CACrD,CAAC,GACF,IAAI;AACV;AAEA,OAAO,MAAMC,sBAAsB,GACjCC,aAA+B,IACR;EACvB,OAAO;IACLC,gBAAgB,EAAEf,mBAAmB,CAACc,aAAa,CAAC;IACpDE,QAAQ,EAAEF,aAAa,CAACE,QAAQ;IAChCC,OAAO,EAAEZ,YAAY,CAACS,aAAa,CAAC;IACpCI,QAAQ,EAAEtB,WAAW,CAACkB,aAAa,CAAC;IACpCK,KAAK,EAAElB,MAAM,CAACa,aAAa,CAACK,KAAK,CAAC;IAClCC,gBAAgB,EAAEZ,mBAAmB,CAACM,aAAa,CAAC;IACpDO,kBAAkB,EAAEpB,MAAM,CAACa,aAAa,CAACO,kBAAkB,CAAC;IAC5DC,MAAM,EAAER,aAAa,CAACQ,MAAM;IAC5BC,SAAS,EAAET,aAAa,CAACS;GAC1B;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}