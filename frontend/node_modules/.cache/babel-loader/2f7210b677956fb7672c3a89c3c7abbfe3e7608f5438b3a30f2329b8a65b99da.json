{"ast":null,"code":"\"use client\";\n\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { linkProfile, preAuthenticate } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { fontSize } from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { Container, Line, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { FadeIn } from \"../../ui/components/FadeIn.js\";\nimport { OTPInput } from \"../../ui/components/OTPInput.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Text } from \"../../ui/components/text.js\";\nimport { StyledButton } from \"../../ui/design-system/elements.js\";\n/**\n * @internal\n */\nexport function OTPLoginUI(props) {\n  var _wallet$getConfig;\n  const {\n    wallet,\n    done,\n    goBack,\n    userInfo\n  } = props;\n  const isWideModal = props.size === \"wide\";\n  const locale = props.locale;\n  const [otpInput, setOtpInput] = useState(\"\");\n  const [verifyStatus, setVerifyStatus] = useState(\"idle\");\n  const [error, setError] = useState();\n  const [accountStatus, setAccountStatus] = useState(\"sending\");\n  const [countdown, setCountdown] = useState(0);\n  const ecosystem = isEcosystemWallet(wallet) ? {\n    id: wallet.id,\n    partnerId: (_wallet$getConfig = wallet.getConfig()) === null || _wallet$getConfig === void 0 ? void 0 : _wallet$getConfig.partnerId\n  } : undefined;\n  const [screen] = useState(\"base\");\n  const sendEmailOrSms = useCallback(async () => {\n    setOtpInput(\"\");\n    setVerifyStatus(\"idle\");\n    setAccountStatus(\"sending\");\n    try {\n      if (\"email\" in userInfo) {\n        await preAuthenticate({\n          client: props.client,\n          ecosystem,\n          email: userInfo.email,\n          strategy: \"email\"\n        });\n        setAccountStatus(\"sent\");\n        setCountdown(60); // Start 60-second countdown\n      } else if (\"phone\" in userInfo) {\n        await preAuthenticate({\n          client: props.client,\n          ecosystem,\n          phoneNumber: userInfo.phone,\n          strategy: \"phone\"\n        });\n        setAccountStatus(\"sent\");\n        setCountdown(60); // Start 60-second countdown\n      } else {\n        throw new Error(\"Invalid userInfo\");\n      }\n    } catch (e) {\n      console.error(e);\n      setVerifyStatus(\"idle\");\n      setAccountStatus(\"error\");\n    }\n  }, [props.client, userInfo, ecosystem]);\n  async function connect(otp) {\n    if (\"email\" in userInfo) {\n      await wallet.connect({\n        chain: props.chain,\n        client: props.client,\n        email: userInfo.email,\n        strategy: \"email\",\n        verificationCode: otp\n      });\n      await setLastAuthProvider(\"email\", webLocalStorage);\n    } else if (\"phone\" in userInfo) {\n      await wallet.connect({\n        chain: props.chain,\n        client: props.client,\n        phoneNumber: userInfo.phone,\n        strategy: \"phone\",\n        verificationCode: otp\n      });\n      await setLastAuthProvider(\"phone\", webLocalStorage);\n    } else {\n      throw new Error(\"Invalid userInfo\");\n    }\n  }\n  async function link(otp) {\n    if (\"email\" in userInfo) {\n      await linkProfile({\n        client: props.client,\n        ecosystem,\n        email: userInfo.email,\n        strategy: \"email\",\n        verificationCode: otp\n      });\n    } else if (\"phone\" in userInfo) {\n      await linkProfile({\n        client: props.client,\n        ecosystem,\n        phoneNumber: userInfo.phone,\n        strategy: \"phone\",\n        verificationCode: otp\n      });\n    }\n  }\n  const verify = async otp => {\n    if (otp.length !== 6) {\n      return;\n    }\n    setVerifyStatus(\"verifying\");\n    try {\n      // verifies otp for UI feedback\n      if (props.isLinking) {\n        await link(otp);\n      } else {\n        await connect(otp);\n      }\n      done();\n      setVerifyStatus(\"valid\");\n    } catch (e) {\n      var _e$message;\n      // TODO: More robust error handling\n      if (e instanceof Error && e !== null && e !== void 0 && (_e$message = e.message) !== null && _e$message !== void 0 && _e$message.includes(\"PAYMENT_METHOD_REQUIRED\")) {\n        setVerifyStatus(\"payment_required\");\n      } else if (e instanceof Error && (e.message.toLowerCase().includes(\"link\") || e.message.toLowerCase().includes(\"profile\"))) {\n        setVerifyStatus(\"linking_error\");\n        setError(e.message);\n      } else {\n        setVerifyStatus(\"invalid\");\n      }\n      console.error(\"Authentication Error\", e);\n    }\n  };\n  // send email on mount\n  const emailSentOnMount = useRef(false);\n  useEffect(() => {\n    if (!emailSentOnMount.current) {\n      emailSentOnMount.current = true;\n      sendEmailOrSms();\n    }\n  }, [sendEmailOrSms]);\n  // Handle countdown timer\n  useEffect(() => {\n    if (countdown <= 0) return;\n    const timer = setInterval(() => {\n      setCountdown(current => {\n        if (current <= 1) {\n          clearInterval(timer);\n          return 0;\n        }\n        return current - 1;\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [countdown]);\n  if (screen === \"base\") {\n    return _jsxs(Container, {\n      animate: \"fadein\",\n      flex: \"column\",\n      fullHeight: true,\n      className: \"tw-otp-login-screen\",\n      children: [_jsx(Container, {\n        p: \"lg\",\n        children: _jsx(ModalHeader, {\n          onBack: goBack,\n          title: locale.signIn\n        })\n      }), _jsx(Container, {\n        center: \"y\",\n        expand: true,\n        flex: \"column\",\n        children: _jsxs(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n          },\n          children: [_jsxs(Container, {\n            center: \"x\",\n            flex: \"column\",\n            px: \"lg\",\n            children: [!isWideModal && _jsx(Spacer, {\n              y: \"xl\"\n            }), _jsx(Text, {\n              className: \"tw-screen-title\",\n              children: locale.emailLoginScreen.enterCodeSendTo\n            }), _jsx(Spacer, {\n              y: \"sm\"\n            }), _jsx(Text, {\n              color: \"primaryText\",\n              children: \"email\" in userInfo ? userInfo.email : userInfo.phone\n            }), _jsx(Spacer, {\n              y: \"xl\"\n            })]\n          }), _jsx(OTPInput, {\n            digits: 6,\n            isInvalid: verifyStatus === \"invalid\",\n            onEnter: () => {\n              verify(otpInput);\n            },\n            setValue: value => {\n              setOtpInput(value);\n              setVerifyStatus(\"idle\"); // reset error\n            },\n            value: otpInput\n          }), verifyStatus === \"invalid\" && _jsxs(FadeIn, {\n            children: [_jsx(Spacer, {\n              y: \"md\"\n            }), _jsx(Text, {\n              center: true,\n              color: \"danger\",\n              size: \"sm\",\n              className: \"tw-invalid-code-text\",\n              children: locale.emailLoginScreen.invalidCode\n            })]\n          }), verifyStatus === \"linking_error\" && _jsxs(FadeIn, {\n            children: [_jsx(Spacer, {\n              y: \"md\"\n            }), _jsx(Text, {\n              center: true,\n              color: \"danger\",\n              size: \"sm\",\n              className: \"tw-screen-error\",\n              children: error || \"Failed to verify code\"\n            })]\n          }), verifyStatus === \"payment_required\" && _jsxs(FadeIn, {\n            children: [_jsx(Spacer, {\n              y: \"md\"\n            }), _jsx(Text, {\n              center: true,\n              color: \"danger\",\n              size: \"sm\",\n              className: \"tw-screen-error\",\n              children: locale.maxAccountsExceeded\n            })]\n          }), _jsx(Spacer, {\n            y: \"xl\"\n          }), _jsx(Container, {\n            px: isWideModal ? \"xxl\" : \"lg\",\n            children: verifyStatus === \"verifying\" ? _jsx(Container, {\n              animate: \"fadein\",\n              center: \"x\",\n              flex: \"row\",\n              children: _jsx(Spinner, {\n                color: \"accentText\",\n                size: \"lg\"\n              })\n            }) : _jsx(Container, {\n              animate: \"fadein\",\n              children: _jsx(Button, {\n                onClick: () => verify(otpInput),\n                style: {\n                  width: \"100%\"\n                },\n                type: \"submit\",\n                variant: \"accent\",\n                className: \"tw-verify-button\",\n                children: locale.emailLoginScreen.verify\n              })\n            }, \"btn-container\")\n          }), _jsx(Spacer, {\n            y: \"xl\"\n          }), !isWideModal && _jsx(Line, {}), _jsxs(Container, {\n            gap: \"xs\",\n            p: isWideModal ? undefined : \"lg\",\n            children: [accountStatus === \"error\" && _jsx(Text, {\n              center: true,\n              color: \"danger\",\n              size: \"sm\",\n              className: \"tw-screen-error\",\n              children: locale.emailLoginScreen.failedToSendCode\n            }), accountStatus === \"sending\" && _jsxs(Container, {\n              center: \"both\",\n              flex: \"row\",\n              gap: \"xs\",\n              style: {\n                textAlign: \"center\"\n              },\n              children: [_jsx(Text, {\n                size: \"sm\",\n                children: locale.emailLoginScreen.sendingCode\n              }), _jsx(Spinner, {\n                color: \"secondaryText\",\n                size: \"xs\"\n              })]\n            }), accountStatus !== \"sending\" && _jsx(LinkButton, {\n              onClick: countdown === 0 ? sendEmailOrSms : undefined,\n              style: {\n                cursor: countdown > 0 ? \"default\" : \"pointer\",\n                opacity: countdown > 0 ? 0.5 : 1\n              },\n              className: \"tw-resend-button\",\n              type: \"button\",\n              children: countdown > 0 ? \"Resend code in \".concat(countdown, \" seconds\") : locale.emailLoginScreen.resendCode\n            })]\n          })]\n        })\n      })]\n    });\n  }\n  return null;\n}\nconst LinkButton = /* @__PURE__ */StyledButton(_ => {\n  const theme = useCustomTheme();\n  return {\n    all: \"unset\",\n    \"&:hover\": {\n      color: theme.colors.primaryText\n    },\n    color: theme.colors.accentText,\n    cursor: \"pointer\",\n    fontSize: fontSize.sm,\n    fontWeight: 500,\n    textAlign: \"center\",\n    width: \"100%\"\n  };\n});","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","webLocalStorage","isEcosystemWallet","linkProfile","preAuthenticate","useCustomTheme","fontSize","setLastAuthProvider","Container","Line","ModalHeader","Button","FadeIn","OTPInput","Spacer","Spinner","Text","StyledButton","OTPLoginUI","props","_wallet$getConfig","wallet","done","goBack","userInfo","isWideModal","size","locale","otpInput","setOtpInput","verifyStatus","setVerifyStatus","error","setError","accountStatus","setAccountStatus","countdown","setCountdown","ecosystem","id","partnerId","getConfig","undefined","screen","sendEmailOrSms","client","email","strategy","phoneNumber","phone","Error","e","console","connect","otp","chain","verificationCode","link","verify","length","isLinking","_e$message","message","includes","toLowerCase","emailSentOnMount","current","timer","setInterval","clearInterval","_jsxs","animate","flex","fullHeight","className","children","_jsx","p","onBack","title","signIn","center","expand","onSubmit","preventDefault","px","y","emailLoginScreen","enterCodeSendTo","color","digits","isInvalid","onEnter","setValue","value","invalidCode","maxAccountsExceeded","onClick","style","width","type","variant","gap","failedToSendCode","textAlign","sendingCode","LinkButton","cursor","opacity","concat","resendCode","_","theme","all","colors","primaryText","accentText","sm","fontWeight"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/wallets/shared/OTPLoginUI.tsx"],"sourcesContent":["\"use client\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport {\n  linkProfile,\n  preAuthenticate,\n} from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { fontSize } from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { Container, Line, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { FadeIn } from \"../../ui/components/FadeIn.js\";\nimport { OTPInput } from \"../../ui/components/OTPInput.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Text } from \"../../ui/components/text.js\";\nimport { StyledButton } from \"../../ui/design-system/elements.js\";\nimport type { InAppWalletLocale } from \"./locale/types.js\";\n\ntype VerificationStatus =\n  | \"verifying\"\n  | \"invalid\"\n  | \"linking_error\"\n  | \"valid\"\n  | \"idle\"\n  | \"payment_required\";\ntype AccountStatus = \"sending\" | \"sent\" | \"error\";\ntype ScreenToShow = \"base\" | \"enter-password-or-recovery-code\";\n\n/**\n * @internal\n */\nexport function OTPLoginUI(props: {\n  userInfo: { email: string } | { phone: string };\n  wallet: Wallet;\n  locale: InAppWalletLocale;\n  done: () => void;\n  goBack?: () => void;\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  size: \"compact\" | \"wide\";\n  isLinking?: boolean;\n}) {\n  const { wallet, done, goBack, userInfo } = props;\n  const isWideModal = props.size === \"wide\";\n  const locale = props.locale;\n  const [otpInput, setOtpInput] = useState(\"\");\n  const [verifyStatus, setVerifyStatus] = useState<VerificationStatus>(\"idle\");\n  const [error, setError] = useState<string | undefined>();\n  const [accountStatus, setAccountStatus] = useState<AccountStatus>(\"sending\");\n  const [countdown, setCountdown] = useState(0);\n  const ecosystem = isEcosystemWallet(wallet)\n    ? {\n        id: wallet.id,\n        partnerId: wallet.getConfig()?.partnerId,\n      }\n    : undefined;\n\n  const [screen] = useState<ScreenToShow>(\"base\");\n\n  const sendEmailOrSms = useCallback(async () => {\n    setOtpInput(\"\");\n    setVerifyStatus(\"idle\");\n    setAccountStatus(\"sending\");\n\n    try {\n      if (\"email\" in userInfo) {\n        await preAuthenticate({\n          client: props.client,\n          ecosystem,\n          email: userInfo.email,\n          strategy: \"email\",\n        });\n        setAccountStatus(\"sent\");\n        setCountdown(60); // Start 60-second countdown\n      } else if (\"phone\" in userInfo) {\n        await preAuthenticate({\n          client: props.client,\n          ecosystem,\n          phoneNumber: userInfo.phone,\n          strategy: \"phone\",\n        });\n        setAccountStatus(\"sent\");\n        setCountdown(60); // Start 60-second countdown\n      } else {\n        throw new Error(\"Invalid userInfo\");\n      }\n    } catch (e) {\n      console.error(e);\n      setVerifyStatus(\"idle\");\n      setAccountStatus(\"error\");\n    }\n  }, [props.client, userInfo, ecosystem]);\n\n  async function connect(otp: string) {\n    if (\"email\" in userInfo) {\n      await wallet.connect({\n        chain: props.chain,\n        client: props.client,\n        email: userInfo.email,\n        strategy: \"email\",\n        verificationCode: otp,\n      });\n      await setLastAuthProvider(\"email\", webLocalStorage);\n    } else if (\"phone\" in userInfo) {\n      await wallet.connect({\n        chain: props.chain,\n        client: props.client,\n        phoneNumber: userInfo.phone,\n        strategy: \"phone\",\n        verificationCode: otp,\n      });\n      await setLastAuthProvider(\"phone\", webLocalStorage);\n    } else {\n      throw new Error(\"Invalid userInfo\");\n    }\n  }\n\n  async function link(otp: string) {\n    if (\"email\" in userInfo) {\n      await linkProfile({\n        client: props.client,\n        ecosystem,\n        email: userInfo.email,\n        strategy: \"email\",\n        verificationCode: otp,\n      });\n    } else if (\"phone\" in userInfo) {\n      await linkProfile({\n        client: props.client,\n        ecosystem,\n        phoneNumber: userInfo.phone,\n        strategy: \"phone\",\n        verificationCode: otp,\n      });\n    }\n  }\n\n  const verify = async (otp: string) => {\n    if (otp.length !== 6) {\n      return;\n    }\n    setVerifyStatus(\"verifying\");\n\n    try {\n      // verifies otp for UI feedback\n      if (props.isLinking) {\n        await link(otp);\n      } else {\n        await connect(otp);\n      }\n      done();\n\n      setVerifyStatus(\"valid\");\n    } catch (e) {\n      // TODO: More robust error handling\n      if (\n        e instanceof Error &&\n        e?.message?.includes(\"PAYMENT_METHOD_REQUIRED\")\n      ) {\n        setVerifyStatus(\"payment_required\");\n      } else if (\n        e instanceof Error &&\n        (e.message.toLowerCase().includes(\"link\") ||\n          e.message.toLowerCase().includes(\"profile\"))\n      ) {\n        setVerifyStatus(\"linking_error\");\n        setError(e.message);\n      } else {\n        setVerifyStatus(\"invalid\");\n      }\n      console.error(\"Authentication Error\", e);\n    }\n  };\n\n  // send email on mount\n  const emailSentOnMount = useRef(false);\n  useEffect(() => {\n    if (!emailSentOnMount.current) {\n      emailSentOnMount.current = true;\n      sendEmailOrSms();\n    }\n  }, [sendEmailOrSms]);\n\n  // Handle countdown timer\n  useEffect(() => {\n    if (countdown <= 0) return;\n\n    const timer = setInterval(() => {\n      setCountdown((current) => {\n        if (current <= 1) {\n          clearInterval(timer);\n          return 0;\n        }\n        return current - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [countdown]);\n\n  if (screen === \"base\") {\n    return (\n      <Container\n        animate=\"fadein\"\n        flex=\"column\"\n        fullHeight\n        className=\"tw-otp-login-screen\"\n      >\n        <Container p=\"lg\">\n          <ModalHeader onBack={goBack} title={locale.signIn} />\n        </Container>\n\n        <Container center=\"y\" expand flex=\"column\">\n          <form\n            onSubmit={(e) => {\n              e.preventDefault();\n            }}\n          >\n            <Container center=\"x\" flex=\"column\" px=\"lg\">\n              {!isWideModal && <Spacer y=\"xl\" />}\n              <Text className=\"tw-screen-title\">\n                {locale.emailLoginScreen.enterCodeSendTo}\n              </Text>\n              <Spacer y=\"sm\" />\n              <Text color=\"primaryText\">\n                {\"email\" in userInfo ? userInfo.email : userInfo.phone}\n              </Text>\n              <Spacer y=\"xl\" />\n            </Container>\n\n            <OTPInput\n              digits={6}\n              isInvalid={verifyStatus === \"invalid\"}\n              onEnter={() => {\n                verify(otpInput);\n              }}\n              setValue={(value) => {\n                setOtpInput(value);\n                setVerifyStatus(\"idle\"); // reset error\n              }}\n              value={otpInput}\n            />\n\n            {verifyStatus === \"invalid\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text\n                  center\n                  color=\"danger\"\n                  size=\"sm\"\n                  className=\"tw-invalid-code-text\"\n                >\n                  {locale.emailLoginScreen.invalidCode}\n                </Text>\n              </FadeIn>\n            )}\n\n            {verifyStatus === \"linking_error\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text\n                  center\n                  color=\"danger\"\n                  size=\"sm\"\n                  className=\"tw-screen-error\"\n                >\n                  {error || \"Failed to verify code\"}\n                </Text>\n              </FadeIn>\n            )}\n\n            {verifyStatus === \"payment_required\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text\n                  center\n                  color=\"danger\"\n                  size=\"sm\"\n                  className=\"tw-screen-error\"\n                >\n                  {locale.maxAccountsExceeded}\n                </Text>\n              </FadeIn>\n            )}\n\n            <Spacer y=\"xl\" />\n\n            <Container px={isWideModal ? \"xxl\" : \"lg\"}>\n              {verifyStatus === \"verifying\" ? (\n                <Container animate=\"fadein\" center=\"x\" flex=\"row\">\n                  <Spinner color=\"accentText\" size=\"lg\" />\n                </Container>\n              ) : (\n                <Container animate=\"fadein\" key=\"btn-container\">\n                  <Button\n                    onClick={() => verify(otpInput)}\n                    style={{\n                      width: \"100%\",\n                    }}\n                    type=\"submit\"\n                    variant=\"accent\"\n                    className=\"tw-verify-button\"\n                  >\n                    {locale.emailLoginScreen.verify}\n                  </Button>\n                </Container>\n              )}\n            </Container>\n\n            <Spacer y=\"xl\" />\n\n            {!isWideModal && <Line />}\n\n            <Container gap=\"xs\" p={isWideModal ? undefined : \"lg\"}>\n              {accountStatus === \"error\" && (\n                <Text\n                  center\n                  color=\"danger\"\n                  size=\"sm\"\n                  className=\"tw-screen-error\"\n                >\n                  {locale.emailLoginScreen.failedToSendCode}\n                </Text>\n              )}\n\n              {accountStatus === \"sending\" && (\n                <Container\n                  center=\"both\"\n                  flex=\"row\"\n                  gap=\"xs\"\n                  style={{\n                    textAlign: \"center\",\n                  }}\n                >\n                  <Text size=\"sm\">{locale.emailLoginScreen.sendingCode}</Text>\n                  <Spinner color=\"secondaryText\" size=\"xs\" />\n                </Container>\n              )}\n\n              {accountStatus !== \"sending\" && (\n                <LinkButton\n                  onClick={countdown === 0 ? sendEmailOrSms : undefined}\n                  style={{\n                    cursor: countdown > 0 ? \"default\" : \"pointer\",\n                    opacity: countdown > 0 ? 0.5 : 1,\n                  }}\n                  className=\"tw-resend-button\"\n                  type=\"button\"\n                >\n                  {countdown > 0\n                    ? `Resend code in ${countdown} seconds`\n                    : locale.emailLoginScreen.resendCode}\n                </LinkButton>\n              )}\n            </Container>\n          </form>\n        </Container>\n      </Container>\n    );\n  }\n\n  return null;\n}\n\nconst LinkButton = /* @__PURE__ */ StyledButton((_) => {\n  const theme = useCustomTheme();\n  return {\n    all: \"unset\",\n    \"&:hover\": {\n      color: theme.colors.primaryText,\n    },\n    color: theme.colors.accentText,\n    cursor: \"pointer\",\n    fontSize: fontSize.sm,\n    fontWeight: 500,\n    textAlign: \"center\",\n    width: \"100%\",\n  };\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}