{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { useQueries } from \"@tanstack/react-query\";\nimport { prepare as prepareOnramp } from \"../../../../bridge/Onramp.js\";\nimport { getToken } from \"../../../../pay/convert/get-token.js\";\nimport { toUnits } from \"../../../../utils/units.js\";\n/**\n * @internal\n * Hook to get prepared onramp quotes from Coinbase, Stripe, and Transak providers.\n */\nexport function useBuyWithFiatQuotesForProviders(params, queryOptions) {\n  const providers = [\"coinbase\", \"stripe\", \"transak\"];\n  const queries = useQueries({\n    queries: providers.map(provider => _objectSpread(_objectSpread({}, queryOptions), {}, {\n      enabled: !!params,\n      queryFn: async () => {\n        if (!params) {\n          throw new Error(\"No params provided\");\n        }\n        const token = await getToken(params.client, params.tokenAddress, params.chainId);\n        const amountWei = toUnits(params.amount, token.decimals);\n        return prepareOnramp({\n          amount: amountWei,\n          chainId: params.chainId,\n          client: params.client,\n          currency: params.currency || \"USD\",\n          onramp: provider,\n          receiver: params.receiver,\n          tokenAddress: params.tokenAddress,\n          country: params.country\n        });\n      },\n      queryKey: [\"onramp-prepare\", provider, params],\n      retry: false\n    }))\n  });\n  return queries;\n}","map":{"version":3,"names":["useQueries","prepare","prepareOnramp","getToken","toUnits","useBuyWithFiatQuotesForProviders","params","queryOptions","providers","queries","map","provider","_objectSpread","enabled","queryFn","Error","token","client","tokenAddress","chainId","amountWei","amount","decimals","currency","onramp","receiver","country","queryKey","retry"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/core/hooks/pay/useBuyWithFiatQuotesForProviders.ts"],"sourcesContent":["import { type UseQueryOptions, useQueries } from \"@tanstack/react-query\";\nimport { prepare as prepareOnramp } from \"../../../../bridge/Onramp.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { getToken } from \"../../../../pay/convert/get-token.js\";\nimport type { Address } from \"../../../../utils/address.js\";\nimport { toUnits } from \"../../../../utils/units.js\";\n\n/**\n * @internal\n */\ntype UseBuyWithFiatQuotesForProvidersParams = {\n  /**\n   * A client is the entry point to the thirdweb SDK.\n   */\n  client: ThirdwebClient;\n  /**\n   * The destination chain ID.\n   */\n  chainId: number;\n  /**\n   * The destination token address.\n   */\n  tokenAddress: Address;\n  /**\n   * The address that will receive the tokens.\n   */\n  receiver: Address;\n  /**\n   * The desired token amount in wei.\n   */\n  amount: string;\n  /**\n   * The fiat currency (e.g., \"USD\"). Defaults to \"USD\".\n   */\n  currency?: string;\n  /**\n   * The user's ISO 3166 alpha-2 country code. This is used to determine onramp provider support.\n   */\n  country?: string;\n};\n\n/**\n * @internal\n */\ntype OnrampQuoteQueryOptions = Omit<\n  UseQueryOptions<Awaited<ReturnType<typeof prepareOnramp>>>,\n  \"queryFn\" | \"queryKey\" | \"enabled\"\n>;\n\n/**\n * @internal\n */\ntype UseBuyWithFiatQuotesForProvidersResult = {\n  data: Awaited<ReturnType<typeof prepareOnramp>> | undefined;\n  isLoading: boolean;\n  error: Error | null;\n  isError: boolean;\n  isSuccess: boolean;\n}[];\n\n/**\n * @internal\n * Hook to get prepared onramp quotes from Coinbase, Stripe, and Transak providers.\n */\nexport function useBuyWithFiatQuotesForProviders(\n  params?: UseBuyWithFiatQuotesForProvidersParams,\n  queryOptions?: OnrampQuoteQueryOptions,\n): UseBuyWithFiatQuotesForProvidersResult {\n  const providers = [\"coinbase\", \"stripe\", \"transak\"] as const;\n\n  const queries = useQueries({\n    queries: providers.map((provider) => ({\n      ...queryOptions,\n      enabled: !!params,\n      queryFn: async () => {\n        if (!params) {\n          throw new Error(\"No params provided\");\n        }\n\n        const token = await getToken(\n          params.client,\n          params.tokenAddress,\n          params.chainId,\n        );\n\n        const amountWei = toUnits(params.amount, token.decimals);\n\n        return prepareOnramp({\n          amount: amountWei,\n          chainId: params.chainId,\n          client: params.client,\n          currency: params.currency || \"USD\",\n          onramp: provider,\n          receiver: params.receiver,\n          tokenAddress: params.tokenAddress,\n          country: params.country,\n        });\n      },\n      queryKey: [\"onramp-prepare\", provider, params],\n      retry: false,\n    })),\n  });\n\n  return queries;\n}\n"],"mappings":";AAAA,SAA+BA,UAAU,QAAQ,uBAAuB;AACxE,SAASC,OAAO,IAAIC,aAAa,QAAQ,8BAA8B;AAEvE,SAASC,QAAQ,QAAQ,sCAAsC;AAE/D,SAASC,OAAO,QAAQ,4BAA4B;AAuDpD;;;;AAIA,OAAM,SAAUC,gCAAgCA,CAC9CC,MAA+C,EAC/CC,YAAsC;EAEtC,MAAMC,SAAS,GAAG,CAAC,UAAU,EAAE,QAAQ,EAAE,SAAS,CAAU;EAE5D,MAAMC,OAAO,GAAGT,UAAU,CAAC;IACzBS,OAAO,EAAED,SAAS,CAACE,GAAG,CAAEC,QAAQ,IAAAC,aAAA,CAAAA,aAAA,KAC3BL,YAAY;MACfM,OAAO,EAAE,CAAC,CAACP,MAAM;MACjBQ,OAAO,EAAE,MAAAA,CAAA,KAAW;QAClB,IAAI,CAACR,MAAM,EAAE;UACX,MAAM,IAAIS,KAAK,CAAC,oBAAoB,CAAC;QACvC;QAEA,MAAMC,KAAK,GAAG,MAAMb,QAAQ,CAC1BG,MAAM,CAACW,MAAM,EACbX,MAAM,CAACY,YAAY,EACnBZ,MAAM,CAACa,OAAO,CACf;QAED,MAAMC,SAAS,GAAGhB,OAAO,CAACE,MAAM,CAACe,MAAM,EAAEL,KAAK,CAACM,QAAQ,CAAC;QAExD,OAAOpB,aAAa,CAAC;UACnBmB,MAAM,EAAED,SAAS;UACjBD,OAAO,EAAEb,MAAM,CAACa,OAAO;UACvBF,MAAM,EAAEX,MAAM,CAACW,MAAM;UACrBM,QAAQ,EAAEjB,MAAM,CAACiB,QAAQ,IAAI,KAAK;UAClCC,MAAM,EAAEb,QAAQ;UAChBc,QAAQ,EAAEnB,MAAM,CAACmB,QAAQ;UACzBP,YAAY,EAAEZ,MAAM,CAACY,YAAY;UACjCQ,OAAO,EAAEpB,MAAM,CAACoB;SACjB,CAAC;MACJ,CAAC;MACDC,QAAQ,EAAE,CAAC,gBAAgB,EAAEhB,QAAQ,EAAEL,MAAM,CAAC;MAC9CsB,KAAK,EAAE;IAAK,EACZ;GACH,CAAC;EAEF,OAAOnB,OAAO;AAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}