{"ast":null,"code":"import { getGasPrice } from \"../gas/get-gas-price.js\";\nimport { estimateGasCost } from \"./actions/estimate-gas-cost.js\";\n/**\n * @internal\n */\nexport function isAbiFunction(item) {\n  return !!(item && typeof item === \"object\" && \"type\" in item && item.type === \"function\");\n}\nexport async function getTransactionGasCost(tx, from) {\n  try {\n    const gasCost = await estimateGasCost({\n      from,\n      transaction: tx\n    });\n    const bufferCost = gasCost.wei / 10n;\n    // Note: get tx.value AFTER estimateGasCost\n    // add 10% extra gas cost to the estimate to ensure user buys enough to cover the tx cost\n    return gasCost.wei + bufferCost;\n  } catch (_unused) {\n    if (from) {\n      // try again without passing from\n      return await getTransactionGasCost(tx);\n    }\n    // fallback if both fail, use the tx value + 1M * gas price\n    const gasPrice = await getGasPrice({\n      chain: tx.chain,\n      client: tx.client\n    });\n    return 1000000n * gasPrice;\n  }\n}","map":{"version":3,"names":["getGasPrice","estimateGasCost","isAbiFunction","item","type","getTransactionGasCost","tx","from","gasCost","transaction","bufferCost","wei","_unused","gasPrice","chain","client"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/transaction/utils.ts"],"sourcesContent":["import type { AbiFunction } from \"abitype\";\nimport { getGasPrice } from \"../gas/get-gas-price.js\";\nimport { estimateGasCost } from \"./actions/estimate-gas-cost.js\";\nimport type { PreparedTransaction } from \"./prepare-transaction.js\";\n\n/**\n * @internal\n */\nexport function isAbiFunction(item: unknown): item is AbiFunction {\n  return !!(\n    item &&\n    typeof item === \"object\" &&\n    \"type\" in item &&\n    item.type === \"function\"\n  );\n}\n\nexport async function getTransactionGasCost(\n  tx: PreparedTransaction,\n  from?: string,\n) {\n  try {\n    const gasCost = await estimateGasCost({\n      from,\n      transaction: tx,\n    });\n\n    const bufferCost = gasCost.wei / 10n;\n\n    // Note: get tx.value AFTER estimateGasCost\n    // add 10% extra gas cost to the estimate to ensure user buys enough to cover the tx cost\n    return gasCost.wei + bufferCost;\n  } catch {\n    if (from) {\n      // try again without passing from\n      return await getTransactionGasCost(tx);\n    }\n    // fallback if both fail, use the tx value + 1M * gas price\n    const gasPrice = await getGasPrice({\n      chain: tx.chain,\n      client: tx.client,\n    });\n\n    return 1_000_000n * gasPrice;\n  }\n}\n"],"mappings":"AACA,SAASA,WAAW,QAAQ,yBAAyB;AACrD,SAASC,eAAe,QAAQ,gCAAgC;AAGhE;;;AAGA,OAAM,SAAUC,aAAaA,CAACC,IAAa;EACzC,OAAO,CAAC,EACNA,IAAI,IACJ,OAAOA,IAAI,KAAK,QAAQ,IACxB,MAAM,IAAIA,IAAI,IACdA,IAAI,CAACC,IAAI,KAAK,UAAU,CACzB;AACH;AAEA,OAAO,eAAeC,qBAAqBA,CACzCC,EAAuB,EACvBC,IAAa;EAEb,IAAI;IACF,MAAMC,OAAO,GAAG,MAAMP,eAAe,CAAC;MACpCM,IAAI;MACJE,WAAW,EAAEH;KACd,CAAC;IAEF,MAAMI,UAAU,GAAGF,OAAO,CAACG,GAAG,GAAG,GAAG;IAEpC;IACA;IACA,OAAOH,OAAO,CAACG,GAAG,GAAGD,UAAU;EACjC,CAAC,CAAC,OAAAE,OAAA,EAAM;IACN,IAAIL,IAAI,EAAE;MACR;MACA,OAAO,MAAMF,qBAAqB,CAACC,EAAE,CAAC;IACxC;IACA;IACA,MAAMO,QAAQ,GAAG,MAAMb,WAAW,CAAC;MACjCc,KAAK,EAAER,EAAE,CAACQ,KAAK;MACfC,MAAM,EAAET,EAAE,CAACS;KACZ,CAAC;IAEF,OAAO,QAAU,GAAGF,QAAQ;EAC9B;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}