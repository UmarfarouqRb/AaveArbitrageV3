{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { balanceOf } from \"../__generated__/IERC721A/read/balanceOf.js\";\nimport { tokensOfOwner } from \"../__generated__/IERC721AQueryable/read/tokensOfOwner.js\";\nimport { tokenOfOwnerByIndex } from \"../__generated__/IERC721Enumerable/read/tokenOfOwnerByIndex.js\";\n/**\n * Retrieves the token IDs owned by a specific address.\n * @param options - The options for retrieving the owned token IDs.\n * @returns A promise that resolves to an array of bigint representing the owned token IDs.\n * @extension ERC721\n * @example\n * ```ts\n * import { getOwnedTokenIds } from \"thirdweb/extensions/erc721\";\n *\n * const ownedTokenIds = await getOwnedTokenIds({\n *  contract,\n *  owner: \"0x1234...\",\n * });\n * ```\n */\nexport async function getOwnedTokenIds(options) {\n  // try both paths, we take whichever one resolves first\n  const result = await Promise.any([\n  // get all the tokens owned by the owner\n  tokensOfOwner(_objectSpread({}, options)),\n  // get the balance of the owner and then fetch each token ID\n  // this is the \"fallback\" path really\n  (async () => {\n    const balanceOfResult = await balanceOf(options);\n    const promises = [];\n    for (let i = 0n; i < balanceOfResult; i++) {\n      promises.push(tokenOfOwnerByIndex(_objectSpread(_objectSpread({}, options), {}, {\n        index: i\n      })));\n    }\n    return Promise.all(promises);\n  })()]).catch(() => null);\n  if (result) {\n    return result;\n  }\n  throw new Error(\"The contract at \".concat(options.contract.address, \" on chain \").concat(options.contract.chain.id, \" does not support the tokenOfOwnerByIndex or tokensOfOwner interface\"));\n}","map":{"version":3,"names":["balanceOf","tokensOfOwner","tokenOfOwnerByIndex","getOwnedTokenIds","options","result","Promise","any","_objectSpread","balanceOfResult","promises","i","push","index","all","catch","Error","concat","contract","address","chain","id"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/extensions/erc721/read/getOwnedTokenIds.ts"],"sourcesContent":["import type { BaseTransactionOptions } from \"../../../transaction/types.js\";\nimport {\n  type BalanceOfParams,\n  balanceOf,\n} from \"../__generated__/IERC721A/read/balanceOf.js\";\nimport { tokensOfOwner } from \"../__generated__/IERC721AQueryable/read/tokensOfOwner.js\";\nimport { tokenOfOwnerByIndex } from \"../__generated__/IERC721Enumerable/read/tokenOfOwnerByIndex.js\";\n\n/**\n * @extension ERC721\n */\nexport type GetOwnedTokenIdsParams = BalanceOfParams;\n\n/**\n * Retrieves the token IDs owned by a specific address.\n * @param options - The options for retrieving the owned token IDs.\n * @returns A promise that resolves to an array of bigint representing the owned token IDs.\n * @extension ERC721\n * @example\n * ```ts\n * import { getOwnedTokenIds } from \"thirdweb/extensions/erc721\";\n *\n * const ownedTokenIds = await getOwnedTokenIds({\n *  contract,\n *  owner: \"0x1234...\",\n * });\n * ```\n */\nexport async function getOwnedTokenIds(\n  options: BaseTransactionOptions<GetOwnedTokenIdsParams>,\n): Promise<bigint[]> {\n  // try both paths, we take whichever one resolves first\n  const result = await Promise.any([\n    // get all the tokens owned by the owner\n    tokensOfOwner({ ...options }) as Promise<bigint[]>,\n    // get the balance of the owner and then fetch each token ID\n    // this is the \"fallback\" path really\n    (async () => {\n      const balanceOfResult = await balanceOf(options);\n      const promises: ReturnType<typeof tokenOfOwnerByIndex>[] = [];\n\n      for (let i = 0n; i < balanceOfResult; i++) {\n        promises.push(tokenOfOwnerByIndex({ ...options, index: i }));\n      }\n\n      return Promise.all(promises);\n    })(),\n  ]).catch(() => null);\n\n  if (result) {\n    return result;\n  }\n\n  throw new Error(\n    `The contract at ${options.contract.address} on chain ${options.contract.chain.id} does not support the tokenOfOwnerByIndex or tokensOfOwner interface`,\n  );\n}\n"],"mappings":";AACA,SAEEA,SAAS,QACJ,6CAA6C;AACpD,SAASC,aAAa,QAAQ,0DAA0D;AACxF,SAASC,mBAAmB,QAAQ,gEAAgE;AAOpG;;;;;;;;;;;;;;;AAeA,OAAO,eAAeC,gBAAgBA,CACpCC,OAAuD;EAEvD;EACA,MAAMC,MAAM,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC;EAC/B;EACAN,aAAa,CAAAO,aAAA,KAAMJ,OAAO,CAAE,CAAsB;EAClD;EACA;EACA,CAAC,YAAW;IACV,MAAMK,eAAe,GAAG,MAAMT,SAAS,CAACI,OAAO,CAAC;IAChD,MAAMM,QAAQ,GAA6C,EAAE;IAE7D,KAAK,IAAIC,CAAC,GAAG,EAAE,EAAEA,CAAC,GAAGF,eAAe,EAAEE,CAAC,EAAE,EAAE;MACzCD,QAAQ,CAACE,IAAI,CAACV,mBAAmB,CAAAM,aAAA,CAAAA,aAAA,KAAMJ,OAAO;QAAES,KAAK,EAAEF;MAAC,EAAE,CAAC,CAAC;IAC9D;IAEA,OAAOL,OAAO,CAACQ,GAAG,CAACJ,QAAQ,CAAC;EAC9B,CAAC,EAAC,CAAE,CACL,CAAC,CAACK,KAAK,CAAC,MAAM,IAAI,CAAC;EAEpB,IAAIV,MAAM,EAAE;IACV,OAAOA,MAAM;EACf;EAEA,MAAM,IAAIW,KAAK,oBAAAC,MAAA,CACMb,OAAO,CAACc,QAAQ,CAACC,OAAO,gBAAAF,MAAA,CAAab,OAAO,CAACc,QAAQ,CAACE,KAAK,CAACC,EAAE,yEAAsE,CACxJ;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}