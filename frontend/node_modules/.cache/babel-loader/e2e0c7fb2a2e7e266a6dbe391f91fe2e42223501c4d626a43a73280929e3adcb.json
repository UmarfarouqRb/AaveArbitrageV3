{"ast":null,"code":"import { parseAvatarRecord } from \"../../utils/ens/avatar.js\";\nimport { withCache } from \"../../utils/promise/withCache.js\";\nimport { resolveText } from \"./resolve-text.js\";\n/**\n * Resolves an ENS name to the avatar URL.\n * @param options - The options for resolving an ENS address.\n * @example\n * ```ts\n * import { resolveAvatar } from \"thirdweb/extensions/ens\";\n * const address = await resolveAvatar({\n *    client,\n *    name: \"vitalik.eth\",\n * });\n * ```\n * @extension ENS\n * @returns A promise that resolves to the avatar url, or null if not set.\n */\nexport async function resolveAvatar(options) {\n  const {\n    client,\n    name,\n    resolverAddress,\n    resolverChain\n  } = options;\n  return withCache(async () => {\n    const record = await resolveText({\n      client,\n      key: \"avatar\",\n      name,\n      resolverAddress,\n      resolverChain\n    });\n    if (!record) {\n      return null;\n    }\n    try {\n      return parseAvatarRecord({\n        client,\n        uri: record\n      });\n    } catch (e) {\n      console.error(\"Error parsing avatar record\", e);\n      return null;\n    }\n  }, {\n    cacheKey: \"ens:avatar:\".concat(name),\n    // 1min cache\n    cacheTime: 60 * 1000\n  });\n}","map":{"version":3,"names":["parseAvatarRecord","withCache","resolveText","resolveAvatar","options","client","name","resolverAddress","resolverChain","record","key","uri","e","console","error","cacheKey","concat","cacheTime"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/extensions/ens/resolve-avatar.ts"],"sourcesContent":["import type { Chain } from \"../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../client/client.js\";\nimport { parseAvatarRecord } from \"../../utils/ens/avatar.js\";\nimport { withCache } from \"../../utils/promise/withCache.js\";\nimport { resolveText } from \"./resolve-text.js\";\n\n/**\n * @extension ENS\n */\nexport type ResolveAvatarOptions = {\n  client: ThirdwebClient;\n  name: string;\n  resolverAddress?: string;\n  resolverChain?: Chain;\n};\n\n/**\n * Resolves an ENS name to the avatar URL.\n * @param options - The options for resolving an ENS address.\n * @example\n * ```ts\n * import { resolveAvatar } from \"thirdweb/extensions/ens\";\n * const address = await resolveAvatar({\n *    client,\n *    name: \"vitalik.eth\",\n * });\n * ```\n * @extension ENS\n * @returns A promise that resolves to the avatar url, or null if not set.\n */\nexport async function resolveAvatar(options: ResolveAvatarOptions) {\n  const { client, name, resolverAddress, resolverChain } = options;\n  return withCache(\n    async () => {\n      const record = await resolveText({\n        client,\n        key: \"avatar\",\n        name,\n        resolverAddress,\n        resolverChain,\n      });\n\n      if (!record) {\n        return null;\n      }\n      try {\n        return parseAvatarRecord({ client, uri: record });\n      } catch (e) {\n        console.error(\"Error parsing avatar record\", e);\n        return null;\n      }\n    },\n    {\n      cacheKey: `ens:avatar:${name}`,\n      // 1min cache\n      cacheTime: 60 * 1000,\n    },\n  );\n}\n"],"mappings":"AAEA,SAASA,iBAAiB,QAAQ,2BAA2B;AAC7D,SAASC,SAAS,QAAQ,kCAAkC;AAC5D,SAASC,WAAW,QAAQ,mBAAmB;AAY/C;;;;;;;;;;;;;;AAcA,OAAO,eAAeC,aAAaA,CAACC,OAA6B;EAC/D,MAAM;IAAEC,MAAM;IAAEC,IAAI;IAAEC,eAAe;IAAEC;EAAa,CAAE,GAAGJ,OAAO;EAChE,OAAOH,SAAS,CACd,YAAW;IACT,MAAMQ,MAAM,GAAG,MAAMP,WAAW,CAAC;MAC/BG,MAAM;MACNK,GAAG,EAAE,QAAQ;MACbJ,IAAI;MACJC,eAAe;MACfC;KACD,CAAC;IAEF,IAAI,CAACC,MAAM,EAAE;MACX,OAAO,IAAI;IACb;IACA,IAAI;MACF,OAAOT,iBAAiB,CAAC;QAAEK,MAAM;QAAEM,GAAG,EAAEF;MAAM,CAAE,CAAC;IACnD,CAAC,CAAC,OAAOG,CAAC,EAAE;MACVC,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEF,CAAC,CAAC;MAC/C,OAAO,IAAI;IACb;EACF,CAAC,EACD;IACEG,QAAQ,gBAAAC,MAAA,CAAgBV,IAAI,CAAE;IAC9B;IACAW,SAAS,EAAE,EAAE,GAAG;GACjB,CACF;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}