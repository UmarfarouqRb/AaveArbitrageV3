{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { Value } from \"ox\";\nimport * as ox__AbiFunction from \"ox/AbiFunction\";\nimport * as Bridge from \"../../bridge/index.js\";\nimport { getCachedChain } from \"../../chains/utils.js\";\nimport { NATIVE_TOKEN_ADDRESS } from \"../../constants/addresses.js\";\nimport { getContract } from \"../../contract/contract.js\";\nimport { decimals } from \"../../extensions/erc20/read/decimals.js\";\n/**\n * Get a quote of type [`BuyWithCryptoQuote`](https://portal.thirdweb.com/references/typescript/v5/BuyWithCryptoQuote) to buy any given token with crypto.\n * This quote contains the information about the swap such as token amounts, processing fees, estimated time etc.\n *\n * Once you have the quote, you can use `prepareTransaction` and prepare the transaction for submission.\n * @param params - object of type [`GetBuyWithCryptoQuoteParams`](https://portal.thirdweb.com/references/typescript/v5/GetBuyWithCryptoQuoteParams)\n * @returns Object of type [`BuyWithCryptoQuote`](https://portal.thirdweb.com/references/typescript/v5/BuyWithCryptoQuote) which contains the information about the quote such as processing fees, estimated time, converted token amounts, etc.\n * @example\n *\n * ```ts\n * import { getBuyWithCryptoQuote } from \"thirdweb/pay\";\n *\n * const quote = await getBuyWithCryptoQuote({\n *  client,\n *  fromAddress: \"0x...\", // wallet address\n *  fromChainId: 137, // chain id of the source token\n *  fromTokenAddress: \"0x...\", // token address of the source token\n *  fromAmount: \"10\", // amount of source token to swap\n *  // optionally, you can use `toAmount` instead if you only want a certain amount of destination token\n *  toChainId: 10, // chain id of the destination token\n *  toTokenAddress: \"0x...\", // token address of the destination token\n *  toAddress: \"0x...\", // optional: send the tokens to a different address\n *  maxSlippageBPS: 50, // optional: max 0.5% slippage\n * });\n * ```\n * @deprecated\n * @buyCrypto\n */\nexport async function getBuyWithCryptoQuote(params) {\n  try {\n    const quote = await (async () => {\n      if (params.toAmount) {\n        const destinationTokenContract = getContract({\n          address: params.toTokenAddress,\n          chain: getCachedChain(params.toChainId),\n          client: params.client\n        });\n        const tokenDecimals = destinationTokenContract.address.toLowerCase() === NATIVE_TOKEN_ADDRESS ? 18 : await decimals({\n          contract: destinationTokenContract\n        });\n        const amount = Value.from(params.toAmount, tokenDecimals);\n        return Bridge.Buy.prepare({\n          amount: amount,\n          client: params.client,\n          destinationChainId: params.toChainId,\n          destinationTokenAddress: params.toTokenAddress,\n          originChainId: params.fromChainId,\n          originTokenAddress: params.fromTokenAddress,\n          paymentLinkId: params.paymentLinkId,\n          purchaseData: params.purchaseData,\n          receiver: params.toAddress,\n          sender: params.fromAddress\n        });\n      } else if (params.fromAmount) {\n        const originTokenContract = getContract({\n          address: params.fromTokenAddress,\n          chain: getCachedChain(params.fromChainId),\n          client: params.client\n        });\n        const tokenDecimals = await decimals({\n          contract: originTokenContract\n        });\n        const amount = Value.from(params.fromAmount, tokenDecimals);\n        return Bridge.Sell.prepare({\n          amount: amount,\n          client: params.client,\n          destinationChainId: params.toChainId,\n          destinationTokenAddress: params.toTokenAddress,\n          originChainId: params.fromChainId,\n          originTokenAddress: params.fromTokenAddress,\n          paymentLinkId: params.paymentLinkId,\n          purchaseData: params.purchaseData,\n          receiver: params.toAddress,\n          sender: params.fromAddress\n        });\n      }\n      throw new Error(\"Invalid quote request, must provide either `fromAmount` or `toAmount`\");\n    })();\n    // check if the fromAddress already has approval for the given amount\n    const firstStep = quote.steps[0];\n    if (!firstStep) {\n      throw new Error(\"This quote is incompatible with getBuyWithCryptoQuote. Please use Bridge.Buy.prepare instead.\");\n    }\n    const approvalTxs = firstStep.transactions.filter(tx => tx.action === \"approval\");\n    if (approvalTxs.length > 1) {\n      throw new Error(\"This quote is incompatible with getBuyWithCryptoQuote. Please use Bridge.Buy.prepare instead.\");\n    }\n    const approvalTx = approvalTxs[0];\n    const txs = firstStep.transactions.filter(tx => tx.action !== \"approval\");\n    if (txs.length > 1) {\n      throw new Error(\"This quote is incompatible with getBuyWithCryptoQuote. Please use Bridge.Buy.prepare instead.\");\n    }\n    const tx = txs[0];\n    if (!tx) {\n      throw new Error(\"This quote is incompatible with getBuyWithCryptoQuote. Please use Bridge.Buy.prepare instead.\");\n    }\n    let approvalData;\n    if (approvalTx) {\n      const abiFunction = ox__AbiFunction.from([\"function approve(address spender, uint256 amount)\"]);\n      const [spender, amount] = ox__AbiFunction.decodeData(abiFunction, approvalTx.data);\n      approvalData = {\n        amountWei: amount.toString(),\n        chainId: firstStep.originToken.chainId,\n        spenderAddress: spender,\n        tokenAddress: firstStep.originToken.address\n      };\n    }\n    const swapRoute = {\n      approvalData,\n      client: params.client,\n      paymentTokens: [{\n        amount: Value.format(quote.originAmount, firstStep.originToken.decimals).toString(),\n        amountUSDCents: Number(Value.format(quote.originAmount, firstStep.originToken.decimals)) * (firstStep.originToken.prices.USD || 0) * 100,\n        amountWei: quote.originAmount.toString(),\n        token: {\n          chainId: firstStep.originToken.chainId,\n          decimals: firstStep.originToken.decimals,\n          name: firstStep.originToken.name,\n          priceUSDCents: (firstStep.originToken.prices.USD || 0) * 100,\n          symbol: firstStep.originToken.symbol,\n          tokenAddress: firstStep.originToken.address\n        }\n      }],\n      // TODO (UB): add develope and platform fees in API\n      processingFees: [{\n        amount: \"0\",\n        amountUSDCents: 0,\n        amountWei: \"0\",\n        token: {\n          chainId: firstStep.originToken.chainId,\n          decimals: firstStep.originToken.decimals,\n          name: firstStep.originToken.name,\n          priceUSDCents: (firstStep.originToken.prices.USD || 0) * 100,\n          symbol: firstStep.originToken.symbol,\n          tokenAddress: firstStep.originToken.address\n        }\n      }],\n      swapDetails: {\n        estimated: {\n          durationSeconds: firstStep.estimatedExecutionTimeMs / 1000,\n          feesUSDCents: 0,\n          fromAmountUSDCents: Number(Value.format(quote.originAmount, firstStep.originToken.decimals)) * (firstStep.originToken.prices.USD || 0) * 100,\n          gasCostUSDCents: 0,\n          slippageBPS: 0,\n          toAmountMinUSDCents: Number(Value.format(quote.destinationAmount, firstStep.destinationToken.decimals)) * (firstStep.destinationToken.prices.USD || 0) * 100,\n          toAmountUSDCents: Number(Value.format(quote.destinationAmount, firstStep.destinationToken.decimals)) * (firstStep.destinationToken.prices.USD || 0) * 100\n        },\n        fromAddress: quote.intent.sender,\n        fromAmount: Value.format(quote.originAmount, firstStep.originToken.decimals).toString(),\n        fromAmountWei: quote.originAmount.toString(),\n        fromToken: {\n          chainId: firstStep.originToken.chainId,\n          decimals: firstStep.originToken.decimals,\n          name: firstStep.originToken.name,\n          priceUSDCents: (firstStep.originToken.prices.USD || 0) * 100,\n          symbol: firstStep.originToken.symbol,\n          tokenAddress: firstStep.originToken.address\n        },\n        maxSlippageBPS: 0,\n        toAddress: quote.intent.receiver,\n        toAmount: Value.format(quote.destinationAmount, firstStep.destinationToken.decimals).toString(),\n        toAmountMin: Value.format(quote.destinationAmount, firstStep.destinationToken.decimals).toString(),\n        toAmountMinWei: quote.destinationAmount.toString(),\n        toAmountWei: quote.destinationAmount.toString(),\n        toToken: {\n          chainId: firstStep.destinationToken.chainId,\n          decimals: firstStep.destinationToken.decimals,\n          name: firstStep.destinationToken.name,\n          priceUSDCents: (firstStep.destinationToken.prices.USD || 0) * 100,\n          symbol: firstStep.destinationToken.symbol,\n          tokenAddress: firstStep.destinationToken.address\n        }\n      },\n      transactionRequest: _objectSpread(_objectSpread({}, tx), {}, {\n        extraGas: 50000n // extra gas buffer\n      })\n    };\n    return swapRoute;\n  } catch (error) {\n    console.error(\"Error getting buy with crypto quote\", error);\n    throw error;\n  }\n}","map":{"version":3,"names":["Value","ox__AbiFunction","Bridge","getCachedChain","NATIVE_TOKEN_ADDRESS","getContract","decimals","getBuyWithCryptoQuote","params","quote","toAmount","destinationTokenContract","address","toTokenAddress","chain","toChainId","client","tokenDecimals","toLowerCase","contract","amount","from","Buy","prepare","destinationChainId","destinationTokenAddress","originChainId","fromChainId","originTokenAddress","fromTokenAddress","paymentLinkId","purchaseData","receiver","toAddress","sender","fromAddress","fromAmount","originTokenContract","Sell","Error","firstStep","steps","approvalTxs","transactions","filter","tx","action","length","approvalTx","txs","approvalData","abiFunction","spender","decodeData","data","amountWei","toString","chainId","originToken","spenderAddress","tokenAddress","swapRoute","paymentTokens","format","originAmount","amountUSDCents","Number","prices","USD","token","name","priceUSDCents","symbol","processingFees","swapDetails","estimated","durationSeconds","estimatedExecutionTimeMs","feesUSDCents","fromAmountUSDCents","gasCostUSDCents","slippageBPS","toAmountMinUSDCents","destinationAmount","destinationToken","toAmountUSDCents","intent","fromAmountWei","fromToken","maxSlippageBPS","toAmountMin","toAmountMinWei","toAmountWei","toToken","transactionRequest","_objectSpread","extraGas","error","console"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/pay/buyWithCrypto/getQuote.ts"],"sourcesContent":["import { Value } from \"ox\";\nimport * as ox__AbiFunction from \"ox/AbiFunction\";\nimport * as Bridge from \"../../bridge/index.js\";\nimport { getCachedChain } from \"../../chains/utils.js\";\nimport type { ThirdwebClient } from \"../../client/client.js\";\nimport { NATIVE_TOKEN_ADDRESS } from \"../../constants/addresses.js\";\nimport { getContract } from \"../../contract/contract.js\";\nimport { decimals } from \"../../extensions/erc20/read/decimals.js\";\nimport type { PrepareTransactionOptions } from \"../../transaction/prepare-transaction.js\";\nimport type { PurchaseData } from \"../types.js\";\nimport type {\n  QuoteApprovalInfo,\n  QuotePaymentToken,\n  QuoteTokenInfo,\n} from \"./commonTypes.js\";\n\n/**\n * The parameters for [`getBuyWithCryptoQuote`](https://portal.thirdweb.com/references/typescript/v5/getBuyWithCryptoQuote) function\n * It includes information about which tokens to swap, the amount of tokens to swap, slippage, etc.\n * @buyCrypto\n */\nexport type GetBuyWithCryptoQuoteParams = {\n  /**\n   * A client is the entry point to the thirdweb SDK. It is required for all other actions.\n   *\n   * You can create a client using the `createThirdwebClient` function.\n   * Refer to the [Creating a Client](https://portal.thirdweb.com/typescript/v5/client) documentation for more information.\n   *\n   */\n  client: ThirdwebClient;\n\n  /**\n   * This is only relevant if the buy-with-crypto transaction is part of buy-with-fiat flow.\n   *\n   * When a swap is required after an onramp transaction, the intentId is used to link the buy-with-crypto transaction to the onramp transaction.\n   * Refer to [`getPostOnRampQuote`](https://portal.thirdweb.com/references/typescript/v5/getPostOnRampQuote) for more information.`\n   *\n   */\n  intentId?: string;\n\n  /**\n   * The address of wallet that pays for the tokens.\n   */\n  fromAddress: string;\n\n  /**\n   * The address of the wallet where the tokens are sent\n   */\n  toAddress: string;\n\n  // source token\n\n  /**\n   * The chain id of the source token.\n   */\n  fromChainId: number;\n\n  /**\n   * The token address of the source token.\n   */\n  fromTokenAddress: string;\n\n  // to\n\n  /**\n   * The chain id of the destination token.\n   */\n  toChainId: number;\n\n  /**\n   * The token address of the destination token.\n   */\n  toTokenAddress: string;\n\n  /**\n   * Extra details to store with the purchase.\n   *\n   * This details will be stored with the purchase and can be retrieved later via the status API or Webhook\n   */\n  purchaseData?: PurchaseData;\n\n  /**\n   * The maximum slippage in basis points (bps) allowed for the swap.\n   * For example, if you want to allow a maximum slippage of 0.5%, you should specify `50` bps.\n   */\n  maxSlippageBPS?: number;\n\n  /**\n   * @hidden\n   */\n  paymentLinkId?: string;\n} & (\n  | {\n      /**\n       * The amount of source token to be swapped.\n       * This is useful if you want to swap a certain amount of source token\n       *\n       * If you want a certain amount of destination token, you can provide `toAmount` instead of `fromAmount`.\n       */\n      fromAmount: string;\n      toAmount?: never;\n    }\n  | {\n      /**\n       * The amount of destination token to be received.\n       * This is useful if you want to get a certain amount of destination token.\n       *\n       * If you want to swap a certain amount of source token, you can provide `fromAmount` instead of `toAmount`.\n       */\n      toAmount: string;\n      fromAmount?: never;\n    }\n);\n\n/**\n * @buyCrypto\n */\nexport type BuyWithCryptoQuote = {\n  transactionRequest: PrepareTransactionOptions;\n  approvalData?: QuoteApprovalInfo;\n\n  swapDetails: {\n    fromAddress: string;\n    toAddress: string;\n\n    fromToken: QuoteTokenInfo;\n    toToken: QuoteTokenInfo;\n\n    fromAmount: string;\n    fromAmountWei: string;\n\n    toAmountMinWei: string;\n    toAmountMin: string;\n    toAmount: string;\n    toAmountWei: string;\n\n    estimated: {\n      fromAmountUSDCents: number;\n      toAmountMinUSDCents: number;\n      toAmountUSDCents: number;\n      slippageBPS: number;\n      feesUSDCents: number;\n      gasCostUSDCents?: number;\n      durationSeconds?: number;\n    };\n\n    maxSlippageBPS: number;\n  };\n\n  paymentTokens: QuotePaymentToken[];\n  processingFees: QuotePaymentToken[];\n  client: ThirdwebClient;\n};\n\n/**\n * Get a quote of type [`BuyWithCryptoQuote`](https://portal.thirdweb.com/references/typescript/v5/BuyWithCryptoQuote) to buy any given token with crypto.\n * This quote contains the information about the swap such as token amounts, processing fees, estimated time etc.\n *\n * Once you have the quote, you can use `prepareTransaction` and prepare the transaction for submission.\n * @param params - object of type [`GetBuyWithCryptoQuoteParams`](https://portal.thirdweb.com/references/typescript/v5/GetBuyWithCryptoQuoteParams)\n * @returns Object of type [`BuyWithCryptoQuote`](https://portal.thirdweb.com/references/typescript/v5/BuyWithCryptoQuote) which contains the information about the quote such as processing fees, estimated time, converted token amounts, etc.\n * @example\n *\n * ```ts\n * import { getBuyWithCryptoQuote } from \"thirdweb/pay\";\n *\n * const quote = await getBuyWithCryptoQuote({\n *  client,\n *  fromAddress: \"0x...\", // wallet address\n *  fromChainId: 137, // chain id of the source token\n *  fromTokenAddress: \"0x...\", // token address of the source token\n *  fromAmount: \"10\", // amount of source token to swap\n *  // optionally, you can use `toAmount` instead if you only want a certain amount of destination token\n *  toChainId: 10, // chain id of the destination token\n *  toTokenAddress: \"0x...\", // token address of the destination token\n *  toAddress: \"0x...\", // optional: send the tokens to a different address\n *  maxSlippageBPS: 50, // optional: max 0.5% slippage\n * });\n * ```\n * @deprecated\n * @buyCrypto\n */\nexport async function getBuyWithCryptoQuote(\n  params: GetBuyWithCryptoQuoteParams,\n): Promise<BuyWithCryptoQuote> {\n  try {\n    const quote = await (async () => {\n      if (params.toAmount) {\n        const destinationTokenContract = getContract({\n          address: params.toTokenAddress,\n          chain: getCachedChain(params.toChainId),\n          client: params.client,\n        });\n        const tokenDecimals =\n          destinationTokenContract.address.toLowerCase() ===\n          NATIVE_TOKEN_ADDRESS\n            ? 18\n            : await decimals({\n                contract: destinationTokenContract,\n              });\n        const amount = Value.from(params.toAmount, tokenDecimals);\n        return Bridge.Buy.prepare({\n          amount: amount,\n          client: params.client,\n          destinationChainId: params.toChainId,\n          destinationTokenAddress: params.toTokenAddress,\n          originChainId: params.fromChainId,\n          originTokenAddress: params.fromTokenAddress,\n          paymentLinkId: params.paymentLinkId,\n          purchaseData: params.purchaseData,\n          receiver: params.toAddress,\n          sender: params.fromAddress,\n        });\n      } else if (params.fromAmount) {\n        const originTokenContract = getContract({\n          address: params.fromTokenAddress,\n          chain: getCachedChain(params.fromChainId),\n          client: params.client,\n        });\n        const tokenDecimals = await decimals({\n          contract: originTokenContract,\n        });\n        const amount = Value.from(params.fromAmount, tokenDecimals);\n        return Bridge.Sell.prepare({\n          amount: amount,\n          client: params.client,\n          destinationChainId: params.toChainId,\n          destinationTokenAddress: params.toTokenAddress,\n          originChainId: params.fromChainId,\n          originTokenAddress: params.fromTokenAddress,\n          paymentLinkId: params.paymentLinkId,\n          purchaseData: params.purchaseData,\n          receiver: params.toAddress,\n          sender: params.fromAddress,\n        });\n      }\n      throw new Error(\n        \"Invalid quote request, must provide either `fromAmount` or `toAmount`\",\n      );\n    })();\n\n    // check if the fromAddress already has approval for the given amount\n    const firstStep = quote.steps[0];\n    if (!firstStep) {\n      throw new Error(\n        \"This quote is incompatible with getBuyWithCryptoQuote. Please use Bridge.Buy.prepare instead.\",\n      );\n    }\n    const approvalTxs = firstStep.transactions.filter(\n      (tx) => tx.action === \"approval\",\n    );\n    if (approvalTxs.length > 1) {\n      throw new Error(\n        \"This quote is incompatible with getBuyWithCryptoQuote. Please use Bridge.Buy.prepare instead.\",\n      );\n    }\n    const approvalTx = approvalTxs[0];\n\n    const txs = firstStep.transactions.filter((tx) => tx.action !== \"approval\");\n    if (txs.length > 1) {\n      throw new Error(\n        \"This quote is incompatible with getBuyWithCryptoQuote. Please use Bridge.Buy.prepare instead.\",\n      );\n    }\n    const tx = txs[0];\n    if (!tx) {\n      throw new Error(\n        \"This quote is incompatible with getBuyWithCryptoQuote. Please use Bridge.Buy.prepare instead.\",\n      );\n    }\n\n    let approvalData: QuoteApprovalInfo | undefined;\n    if (approvalTx) {\n      const abiFunction = ox__AbiFunction.from([\n        \"function approve(address spender, uint256 amount)\",\n      ]);\n      const [spender, amount] = ox__AbiFunction.decodeData(\n        abiFunction,\n        approvalTx.data,\n      );\n      approvalData = {\n        amountWei: amount.toString(),\n        chainId: firstStep.originToken.chainId,\n        spenderAddress: spender,\n        tokenAddress: firstStep.originToken.address,\n      };\n    }\n\n    const swapRoute: BuyWithCryptoQuote = {\n      approvalData,\n      client: params.client,\n\n      paymentTokens: [\n        {\n          amount: Value.format(\n            quote.originAmount,\n            firstStep.originToken.decimals,\n          ).toString(),\n          amountUSDCents:\n            Number(\n              Value.format(quote.originAmount, firstStep.originToken.decimals),\n            ) *\n            (firstStep.originToken.prices.USD || 0) *\n            100,\n          amountWei: quote.originAmount.toString(),\n          token: {\n            chainId: firstStep.originToken.chainId,\n            decimals: firstStep.originToken.decimals,\n            name: firstStep.originToken.name,\n            priceUSDCents: (firstStep.originToken.prices.USD || 0) * 100,\n            symbol: firstStep.originToken.symbol,\n            tokenAddress: firstStep.originToken.address,\n          },\n        },\n      ],\n      // TODO (UB): add develope and platform fees in API\n      processingFees: [\n        {\n          amount: \"0\",\n          amountUSDCents: 0,\n          amountWei: \"0\",\n          token: {\n            chainId: firstStep.originToken.chainId,\n            decimals: firstStep.originToken.decimals,\n            name: firstStep.originToken.name,\n            priceUSDCents: (firstStep.originToken.prices.USD || 0) * 100,\n            symbol: firstStep.originToken.symbol,\n            tokenAddress: firstStep.originToken.address,\n          },\n        },\n      ],\n      swapDetails: {\n        estimated: {\n          durationSeconds: firstStep.estimatedExecutionTimeMs / 1000,\n          feesUSDCents: 0,\n          fromAmountUSDCents:\n            Number(\n              Value.format(quote.originAmount, firstStep.originToken.decimals),\n            ) *\n            (firstStep.originToken.prices.USD || 0) *\n            100,\n          gasCostUSDCents: 0,\n          slippageBPS: 0,\n          toAmountMinUSDCents:\n            Number(\n              Value.format(\n                quote.destinationAmount,\n                firstStep.destinationToken.decimals,\n              ),\n            ) *\n            (firstStep.destinationToken.prices.USD || 0) *\n            100,\n          toAmountUSDCents:\n            Number(\n              Value.format(\n                quote.destinationAmount,\n                firstStep.destinationToken.decimals,\n              ),\n            ) *\n            (firstStep.destinationToken.prices.USD || 0) *\n            100,\n        },\n        fromAddress: quote.intent.sender,\n\n        fromAmount: Value.format(\n          quote.originAmount,\n          firstStep.originToken.decimals,\n        ).toString(),\n        fromAmountWei: quote.originAmount.toString(),\n\n        fromToken: {\n          chainId: firstStep.originToken.chainId,\n          decimals: firstStep.originToken.decimals,\n          name: firstStep.originToken.name,\n          priceUSDCents: (firstStep.originToken.prices.USD || 0) * 100,\n          symbol: firstStep.originToken.symbol,\n          tokenAddress: firstStep.originToken.address,\n        },\n\n        maxSlippageBPS: 0,\n        toAddress: quote.intent.receiver,\n        toAmount: Value.format(\n          quote.destinationAmount,\n          firstStep.destinationToken.decimals,\n        ).toString(),\n        toAmountMin: Value.format(\n          quote.destinationAmount,\n          firstStep.destinationToken.decimals,\n        ).toString(),\n\n        toAmountMinWei: quote.destinationAmount.toString(),\n\n        toAmountWei: quote.destinationAmount.toString(),\n        toToken: {\n          chainId: firstStep.destinationToken.chainId,\n          decimals: firstStep.destinationToken.decimals,\n          name: firstStep.destinationToken.name,\n          priceUSDCents: (firstStep.destinationToken.prices.USD || 0) * 100,\n          symbol: firstStep.destinationToken.symbol,\n          tokenAddress: firstStep.destinationToken.address,\n        },\n      },\n      transactionRequest: {\n        ...tx,\n        extraGas: 50000n, // extra gas buffer\n      },\n    };\n\n    return swapRoute;\n  } catch (error) {\n    console.error(\"Error getting buy with crypto quote\", error);\n    throw error;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}