{"ast":null,"code":"import { isOpStackChain } from \"../../chains/constants.js\";\nimport { getDefaultGasOverrides } from \"../../gas/fee-data.js\";\nimport { resolvePromisedValue } from \"../../utils/promise/resolve-promised-value.js\";\nimport { toEther } from \"../../utils/units.js\";\nimport { estimateGas } from \"./estimate-gas.js\";\n/**\n * Estimate the gas cost of a transaction in ether and wei.\n * @example\n * ```ts\n * import { estimateGasCost } from \"thirdweb\";\n *\n * const gasCost = await estimateGasCost({ transaction });\n * ```\n * @transaction\n */\nexport async function estimateGasCost(options) {\n  var _ref, _options$from, _options$account;\n  const {\n    transaction\n  } = options;\n  const from = (_ref = (_options$from = options.from) !== null && _options$from !== void 0 ? _options$from : (_options$account = options.account) === null || _options$account === void 0 ? void 0 : _options$account.address) !== null && _ref !== void 0 ? _ref : undefined;\n  const gasLimit = (await resolvePromisedValue(transaction.gas)) || (await estimateGas({\n    from,\n    transaction\n  }));\n  const fees = await getDefaultGasOverrides(transaction.client, transaction.chain);\n  const gasPrice = fees.maxFeePerGas || fees.gasPrice;\n  if (gasPrice === undefined) {\n    throw new Error(\"Unable to determine gas price for chain \".concat(transaction.chain.id));\n  }\n  let l1Fee;\n  if (await isOpStackChain(transaction.chain)) {\n    const {\n      estimateL1Fee\n    } = await import(\"../../gas/estimate-l1-fee.js\");\n    l1Fee = await estimateL1Fee({\n      transaction\n    });\n  } else {\n    l1Fee = 0n;\n  }\n  const wei = gasLimit * gasPrice + l1Fee;\n  return {\n    ether: toEther(wei),\n    wei\n  };\n}","map":{"version":3,"names":["isOpStackChain","getDefaultGasOverrides","resolvePromisedValue","toEther","estimateGas","estimateGasCost","options","_ref","_options$from","_options$account","transaction","from","account","address","undefined","gasLimit","gas","fees","client","chain","gasPrice","maxFeePerGas","Error","concat","id","l1Fee","estimateL1Fee","wei","ether"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/transaction/actions/estimate-gas-cost.ts"],"sourcesContent":["import { isOpStackChain } from \"../../chains/constants.js\";\nimport { getDefaultGasOverrides } from \"../../gas/fee-data.js\";\nimport { resolvePromisedValue } from \"../../utils/promise/resolve-promised-value.js\";\nimport { toEther } from \"../../utils/units.js\";\nimport { type EstimateGasOptions, estimateGas } from \"./estimate-gas.js\";\n\nexport type EstimateGasCostResult = {\n  /**\n   * The estimated gas cost in ether.\n   */\n  ether: string;\n  /**\n   * The estimated gas cost in wei.\n   */\n  wei: bigint;\n};\n\n/**\n * Estimate the gas cost of a transaction in ether and wei.\n * @example\n * ```ts\n * import { estimateGasCost } from \"thirdweb\";\n *\n * const gasCost = await estimateGasCost({ transaction });\n * ```\n * @transaction\n */\nexport async function estimateGasCost(\n  options: EstimateGasOptions,\n): Promise<EstimateGasCostResult> {\n  const { transaction } = options;\n  const from = options.from ?? options.account?.address ?? undefined;\n  const gasLimit =\n    (await resolvePromisedValue(transaction.gas)) ||\n    (await estimateGas({ from, transaction }));\n  const fees = await getDefaultGasOverrides(\n    transaction.client,\n    transaction.chain,\n  );\n  const gasPrice = fees.maxFeePerGas || fees.gasPrice;\n  if (gasPrice === undefined) {\n    throw new Error(\n      `Unable to determine gas price for chain ${transaction.chain.id}`,\n    );\n  }\n  let l1Fee: bigint;\n  if (await isOpStackChain(transaction.chain)) {\n    const { estimateL1Fee } = await import(\"../../gas/estimate-l1-fee.js\");\n    l1Fee = await estimateL1Fee({\n      transaction,\n    });\n  } else {\n    l1Fee = 0n;\n  }\n  const wei = gasLimit * gasPrice + l1Fee;\n  return {\n    ether: toEther(wei),\n    wei,\n  };\n}\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,2BAA2B;AAC1D,SAASC,sBAAsB,QAAQ,uBAAuB;AAC9D,SAASC,oBAAoB,QAAQ,+CAA+C;AACpF,SAASC,OAAO,QAAQ,sBAAsB;AAC9C,SAAkCC,WAAW,QAAQ,mBAAmB;AAaxE;;;;;;;;;;AAUA,OAAO,eAAeC,eAAeA,CACnCC,OAA2B;EAAA,IAAAC,IAAA,EAAAC,aAAA,EAAAC,gBAAA;EAE3B,MAAM;IAAEC;EAAW,CAAE,GAAGJ,OAAO;EAC/B,MAAMK,IAAI,IAAAJ,IAAA,IAAAC,aAAA,GAAGF,OAAO,CAACK,IAAI,cAAAH,aAAA,cAAAA,aAAA,IAAAC,gBAAA,GAAIH,OAAO,CAACM,OAAO,cAAAH,gBAAA,uBAAfA,gBAAA,CAAiBI,OAAO,cAAAN,IAAA,cAAAA,IAAA,GAAIO,SAAS;EAClE,MAAMC,QAAQ,GACZ,CAAC,MAAMb,oBAAoB,CAACQ,WAAW,CAACM,GAAG,CAAC,MAC3C,MAAMZ,WAAW,CAAC;IAAEO,IAAI;IAAED;EAAW,CAAE,CAAC,CAAC;EAC5C,MAAMO,IAAI,GAAG,MAAMhB,sBAAsB,CACvCS,WAAW,CAACQ,MAAM,EAClBR,WAAW,CAACS,KAAK,CAClB;EACD,MAAMC,QAAQ,GAAGH,IAAI,CAACI,YAAY,IAAIJ,IAAI,CAACG,QAAQ;EACnD,IAAIA,QAAQ,KAAKN,SAAS,EAAE;IAC1B,MAAM,IAAIQ,KAAK,4CAAAC,MAAA,CAC8Bb,WAAW,CAACS,KAAK,CAACK,EAAE,CAAE,CAClE;EACH;EACA,IAAIC,KAAa;EACjB,IAAI,MAAMzB,cAAc,CAACU,WAAW,CAACS,KAAK,CAAC,EAAE;IAC3C,MAAM;MAAEO;IAAa,CAAE,GAAG,MAAM,MAAM,CAAC,8BAA8B,CAAC;IACtED,KAAK,GAAG,MAAMC,aAAa,CAAC;MAC1BhB;KACD,CAAC;EACJ,CAAC,MAAM;IACLe,KAAK,GAAG,EAAE;EACZ;EACA,MAAME,GAAG,GAAGZ,QAAQ,GAAGK,QAAQ,GAAGK,KAAK;EACvC,OAAO;IACLG,KAAK,EAAEzB,OAAO,CAACwB,GAAG,CAAC;IACnBA;GACD;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}