{"ast":null,"code":"import { eth_getCode } from \"../../rpc/actions/eth_getCode.js\";\nimport { getRpcClient } from \"../../rpc/rpc.js\";\nconst BYTECODE_CACHE = new WeakMap();\n/**\n * Retrieves the bytecode of a contract.\n * @param contract - The ThirdwebContract instance.\n * @returns A Promise that resolves to the bytecode of the contract.\n * @example\n * ```ts\n * import { getBytecode } from \"thirdweb/contract\";\n * const bytecode = await getBytecode(contract);\n * ```\n * @contract\n */\nexport function getBytecode(contract) {\n  if (BYTECODE_CACHE.has(contract)) {\n    return BYTECODE_CACHE.get(contract);\n  }\n  const prom = (async () => {\n    const rpcRequest = getRpcClient(contract);\n    const result = await eth_getCode(rpcRequest, {\n      address: contract.address,\n      blockTag: \"latest\"\n    });\n    if (result === \"0x\") {\n      BYTECODE_CACHE.delete(contract);\n    }\n    return result;\n  })();\n  BYTECODE_CACHE.set(contract, prom);\n  return prom;\n}","map":{"version":3,"names":["eth_getCode","getRpcClient","BYTECODE_CACHE","WeakMap","getBytecode","contract","has","get","prom","rpcRequest","result","address","blockTag","delete","set"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/contract/actions/get-bytecode.ts"],"sourcesContent":["import { eth_getCode } from \"../../rpc/actions/eth_getCode.js\";\nimport { getRpcClient } from \"../../rpc/rpc.js\";\nimport type { Hex } from \"../../utils/encoding/hex.js\";\nimport type { ThirdwebContract } from \"../contract.js\";\n\nconst BYTECODE_CACHE = new WeakMap<ThirdwebContract, Promise<Hex>>();\n\n/**\n * Retrieves the bytecode of a contract.\n * @param contract - The ThirdwebContract instance.\n * @returns A Promise that resolves to the bytecode of the contract.\n * @example\n * ```ts\n * import { getBytecode } from \"thirdweb/contract\";\n * const bytecode = await getBytecode(contract);\n * ```\n * @contract\n */\nexport function getBytecode(contract: ThirdwebContract): Promise<Hex> {\n  if (BYTECODE_CACHE.has(contract)) {\n    return BYTECODE_CACHE.get(contract) as Promise<Hex>;\n  }\n\n  const prom = (async () => {\n    const rpcRequest = getRpcClient(contract);\n    const result = await eth_getCode(rpcRequest, {\n      address: contract.address,\n      blockTag: \"latest\",\n    });\n    if (result === \"0x\") {\n      BYTECODE_CACHE.delete(contract);\n    }\n    return result;\n  })();\n  BYTECODE_CACHE.set(contract, prom);\n  return prom;\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kCAAkC;AAC9D,SAASC,YAAY,QAAQ,kBAAkB;AAI/C,MAAMC,cAAc,GAAG,IAAIC,OAAO,EAAkC;AAEpE;;;;;;;;;;;AAWA,OAAM,SAAUC,WAAWA,CAACC,QAA0B;EACpD,IAAIH,cAAc,CAACI,GAAG,CAACD,QAAQ,CAAC,EAAE;IAChC,OAAOH,cAAc,CAACK,GAAG,CAACF,QAAQ,CAAiB;EACrD;EAEA,MAAMG,IAAI,GAAG,CAAC,YAAW;IACvB,MAAMC,UAAU,GAAGR,YAAY,CAACI,QAAQ,CAAC;IACzC,MAAMK,MAAM,GAAG,MAAMV,WAAW,CAACS,UAAU,EAAE;MAC3CE,OAAO,EAAEN,QAAQ,CAACM,OAAO;MACzBC,QAAQ,EAAE;KACX,CAAC;IACF,IAAIF,MAAM,KAAK,IAAI,EAAE;MACnBR,cAAc,CAACW,MAAM,CAACR,QAAQ,CAAC;IACjC;IACA,OAAOK,MAAM;EACf,CAAC,EAAC,CAAE;EACJR,cAAc,CAACY,GAAG,CAACT,QAAQ,EAAEG,IAAI,CAAC;EAClC,OAAOA,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}