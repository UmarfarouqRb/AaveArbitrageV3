{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"account\"];\nimport { parseAccount } from '../../accounts/utils/parseAccount.js';\nimport { hexToBigInt } from '../../utils/encoding/fromHex.js';\n/* @deprecated Use `eth_gasPrice` for `maxFeePerGas`, `eth_estimateGas` to get the `gasLimit`, set `maxPriorityFeePerGas` to `0`, and use `zks_gasPerPubdata` for `gasPerPubdataLimit` instead. */\nexport async function estimateFee(client, parameters) {\n  var _client$chain, _formatters$transacti;\n  const {\n      account: account_\n    } = parameters,\n    request = _objectWithoutProperties(parameters, _excluded);\n  const account = account_ ? parseAccount(account_) : client.account;\n  const formatters = (_client$chain = client.chain) === null || _client$chain === void 0 ? void 0 : _client$chain.formatters;\n  const formatted = formatters === null || formatters === void 0 || (_formatters$transacti = formatters.transactionRequest) === null || _formatters$transacti === void 0 ? void 0 : _formatters$transacti.format(_objectSpread(_objectSpread({}, request), {}, {\n    from: account === null || account === void 0 ? void 0 : account.address\n  }));\n  const result = await client.request({\n    method: 'zks_estimateFee',\n    params: [formatted]\n  });\n  return {\n    gasLimit: hexToBigInt(result.gas_limit),\n    gasPerPubdataLimit: hexToBigInt(result.gas_per_pubdata_limit),\n    maxPriorityFeePerGas: hexToBigInt(result.max_priority_fee_per_gas),\n    maxFeePerGas: hexToBigInt(result.max_fee_per_gas)\n  };\n}","map":{"version":3,"names":["parseAccount","hexToBigInt","estimateFee","client","parameters","_client$chain","_formatters$transacti","account","account_","request","_objectWithoutProperties","_excluded","formatters","chain","formatted","transactionRequest","format","_objectSpread","from","address","result","method","params","gasLimit","gas_limit","gasPerPubdataLimit","gas_per_pubdata_limit","maxPriorityFeePerGas","max_priority_fee_per_gas","maxFeePerGas","max_fee_per_gas"],"sources":["/home/user/Arbitrage/frontend/node_modules/viem/zksync/actions/estimateFee.ts"],"sourcesContent":["import { parseAccount } from '../../accounts/utils/parseAccount.js'\nimport type { SendTransactionParameters } from '../../actions/wallet/sendTransaction.js'\nimport type { Client } from '../../clients/createClient.js'\nimport type { Transport } from '../../clients/transports/createTransport.js'\nimport type { Account } from '../../types/account.js'\nimport { hexToBigInt } from '../../utils/encoding/fromHex.js'\nimport type { ChainEIP712 } from '../types/chain.js'\nimport type { PublicZksyncRpcSchema } from '../types/eip1193.js'\nimport type { ZksyncFee } from '../types/fee.js'\n\nexport type EstimateFeeParameters<\n  chain extends ChainEIP712 | undefined = ChainEIP712 | undefined,\n  account extends Account | undefined = Account | undefined,\n  chainOverride extends ChainEIP712 | undefined = ChainEIP712 | undefined,\n> = SendTransactionParameters<chain, account, chainOverride>\n\nexport type EstimateFeeReturnType = ZksyncFee\n/* @deprecated Use `eth_gasPrice` for `maxFeePerGas`, `eth_estimateGas` to get the `gasLimit`, set `maxPriorityFeePerGas` to `0`, and use `zks_gasPerPubdata` for `gasPerPubdataLimit` instead. */\nexport async function estimateFee<\n  chain extends ChainEIP712 | undefined,\n  account extends Account | undefined,\n>(\n  client: Client<Transport, chain, account, PublicZksyncRpcSchema>,\n  parameters: EstimateFeeParameters<chain, account>,\n): Promise<EstimateFeeReturnType> {\n  const { account: account_, ...request } = parameters\n  const account = account_ ? parseAccount(account_) : client.account\n\n  const formatters = client.chain?.formatters\n  const formatted = formatters?.transactionRequest?.format({\n    ...request,\n    from: account?.address,\n  })\n\n  const result = await client.request({\n    method: 'zks_estimateFee',\n    params: [formatted],\n  })\n\n  return {\n    gasLimit: hexToBigInt(result.gas_limit),\n    gasPerPubdataLimit: hexToBigInt(result.gas_per_pubdata_limit),\n    maxPriorityFeePerGas: hexToBigInt(result.max_priority_fee_per_gas),\n    maxFeePerGas: hexToBigInt(result.max_fee_per_gas),\n  }\n}\n"],"mappings":";;;AAAA,SAASA,YAAY,QAAQ,sCAAsC;AAKnE,SAASC,WAAW,QAAQ,iCAAiC;AAY7D;AACA,OAAO,eAAeC,WAAWA,CAI/BC,MAAgE,EAChEC,UAAiD;EAAA,IAAAC,aAAA,EAAAC,qBAAA;EAEjD,MAAM;MAAEC,OAAO,EAAEC;IAAoB,CAAE,GAAGJ,UAAU;IAAtBK,OAAO,GAAAC,wBAAA,CAAKN,UAAU,EAAAO,SAAA;EACpD,MAAMJ,OAAO,GAAGC,QAAQ,GAAGR,YAAY,CAACQ,QAAQ,CAAC,GAAGL,MAAM,CAACI,OAAO;EAElE,MAAMK,UAAU,IAAAP,aAAA,GAAGF,MAAM,CAACU,KAAK,cAAAR,aAAA,uBAAZA,aAAA,CAAcO,UAAU;EAC3C,MAAME,SAAS,GAAGF,UAAU,aAAVA,UAAU,gBAAAN,qBAAA,GAAVM,UAAU,CAAEG,kBAAkB,cAAAT,qBAAA,uBAA9BA,qBAAA,CAAgCU,MAAM,CAAAC,aAAA,CAAAA,aAAA,KACnDR,OAAO;IACVS,IAAI,EAAEX,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEY;EAAO,EACvB,CAAC;EAEF,MAAMC,MAAM,GAAG,MAAMjB,MAAM,CAACM,OAAO,CAAC;IAClCY,MAAM,EAAE,iBAAiB;IACzBC,MAAM,EAAE,CAACR,SAAS;GACnB,CAAC;EAEF,OAAO;IACLS,QAAQ,EAAEtB,WAAW,CAACmB,MAAM,CAACI,SAAS,CAAC;IACvCC,kBAAkB,EAAExB,WAAW,CAACmB,MAAM,CAACM,qBAAqB,CAAC;IAC7DC,oBAAoB,EAAE1B,WAAW,CAACmB,MAAM,CAACQ,wBAAwB,CAAC;IAClEC,YAAY,EAAE5B,WAAW,CAACmB,MAAM,CAACU,eAAe;GACjD;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}