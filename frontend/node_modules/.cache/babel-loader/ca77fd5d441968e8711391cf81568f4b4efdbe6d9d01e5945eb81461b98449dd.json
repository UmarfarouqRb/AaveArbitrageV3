{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n/**\n * Get transactions for a wallet\n * @example\n * ```ts\n * import { Insight } from \"thirdweb\";\n *\n * const transactions = await Insight.getTransactions({\n *   client,\n *   walletAddress: \"0x1234567890123456789012345678901234567890\",\n *   chains: [sepolia],\n * });\n * ```\n * @insight\n */\nexport async function getTransactions(args) {\n  const [{\n    getV1WalletsByWalletAddressTransactions\n  }, {\n    getThirdwebDomains\n  }, {\n    getClientFetch\n  }, {\n    assertInsightEnabled\n  }, {\n    stringify\n  }] = await Promise.all([import(\"@thirdweb-dev/insight\"), import(\"../utils/domains.js\"), import(\"../utils/fetch.js\"), import(\"./common.js\"), import(\"../utils/json.js\")]);\n  await assertInsightEnabled(args.chains);\n  const threeMonthsAgoInSeconds = Math.floor((Date.now() - 3 * 30 * 24 * 60 * 60 * 1000) / 1000);\n  const {\n    client,\n    walletAddress,\n    chains,\n    queryOptions\n  } = args;\n  const defaultQueryOptions = {\n    chain: chains.map(chain => chain.id),\n    filter_block_timestamp_gte: threeMonthsAgoInSeconds,\n    limit: 100\n  };\n  const result = await getV1WalletsByWalletAddressTransactions({\n    baseUrl: \"https://\".concat(getThirdwebDomains().insight),\n    fetch: getClientFetch(client),\n    path: {\n      wallet_address: walletAddress\n    },\n    query: _objectSpread(_objectSpread({}, defaultQueryOptions), queryOptions)\n  });\n  if (result.error) {\n    throw new Error(\"\".concat(result.response.status, \" \").concat(result.response.statusText, \" - \").concat(result.error ? stringify(result.error) : \"Unknown error\"));\n  }\n  return result.data.data || [];\n}","map":{"version":3,"names":["getTransactions","args","getV1WalletsByWalletAddressTransactions","getThirdwebDomains","getClientFetch","assertInsightEnabled","stringify","Promise","all","chains","threeMonthsAgoInSeconds","Math","floor","Date","now","client","walletAddress","queryOptions","defaultQueryOptions","chain","map","id","filter_block_timestamp_gte","limit","result","baseUrl","concat","insight","fetch","path","wallet_address","query","_objectSpread","error","Error","response","status","statusText","data"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/insight/get-transactions.ts"],"sourcesContent":["import type {\n  GetV1WalletsByWalletAddressTransactionsData,\n  GetV1WalletsByWalletAddressTransactionsResponse,\n} from \"@thirdweb-dev/insight\";\nimport type { Chain } from \"../chains/types.js\";\nimport type { ThirdwebClient } from \"../client/client.js\";\n\nexport type Transaction = NonNullable<\n  GetV1WalletsByWalletAddressTransactionsResponse[\"data\"]\n>[number];\n\n/**\n * Get transactions for a wallet\n * @example\n * ```ts\n * import { Insight } from \"thirdweb\";\n *\n * const transactions = await Insight.getTransactions({\n *   client,\n *   walletAddress: \"0x1234567890123456789012345678901234567890\",\n *   chains: [sepolia],\n * });\n * ```\n * @insight\n */\nexport async function getTransactions(args: {\n  client: ThirdwebClient;\n  walletAddress: string;\n  chains: Chain[];\n  queryOptions?: GetV1WalletsByWalletAddressTransactionsData[\"query\"];\n}): Promise<Transaction[]> {\n  const [\n    { getV1WalletsByWalletAddressTransactions },\n    { getThirdwebDomains },\n    { getClientFetch },\n    { assertInsightEnabled },\n    { stringify },\n  ] = await Promise.all([\n    import(\"@thirdweb-dev/insight\"),\n    import(\"../utils/domains.js\"),\n    import(\"../utils/fetch.js\"),\n    import(\"./common.js\"),\n    import(\"../utils/json.js\"),\n  ]);\n\n  await assertInsightEnabled(args.chains);\n  const threeMonthsAgoInSeconds = Math.floor(\n    (Date.now() - 3 * 30 * 24 * 60 * 60 * 1000) / 1000,\n  );\n  const { client, walletAddress, chains, queryOptions } = args;\n\n  const defaultQueryOptions: GetV1WalletsByWalletAddressTransactionsData[\"query\"] =\n    {\n      chain: chains.map((chain) => chain.id),\n      filter_block_timestamp_gte: threeMonthsAgoInSeconds,\n      limit: 100,\n    };\n\n  const result = await getV1WalletsByWalletAddressTransactions({\n    baseUrl: `https://${getThirdwebDomains().insight}`,\n    fetch: getClientFetch(client),\n    path: {\n      wallet_address: walletAddress,\n    },\n    query: {\n      ...defaultQueryOptions,\n      ...queryOptions,\n    },\n  });\n  if (result.error) {\n    throw new Error(\n      `${result.response.status} ${result.response.statusText} - ${result.error ? stringify(result.error) : \"Unknown error\"}`,\n    );\n  }\n  return result.data.data || [];\n}\n"],"mappings":";AAWA;;;;;;;;;;;;;;AAcA,OAAO,eAAeA,eAAeA,CAACC,IAKrC;EACC,MAAM,CACJ;IAAEC;EAAuC,CAAE,EAC3C;IAAEC;EAAkB,CAAE,EACtB;IAAEC;EAAc,CAAE,EAClB;IAAEC;EAAoB,CAAE,EACxB;IAAEC;EAAS,CAAE,CACd,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACpB,MAAM,CAAC,uBAAuB,CAAC,EAC/B,MAAM,CAAC,qBAAqB,CAAC,EAC7B,MAAM,CAAC,mBAAmB,CAAC,EAC3B,MAAM,CAAC,aAAa,CAAC,EACrB,MAAM,CAAC,kBAAkB,CAAC,CAC3B,CAAC;EAEF,MAAMH,oBAAoB,CAACJ,IAAI,CAACQ,MAAM,CAAC;EACvC,MAAMC,uBAAuB,GAAGC,IAAI,CAACC,KAAK,CACxC,CAACC,IAAI,CAACC,GAAG,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,IAAI,IAAI,CACnD;EACD,MAAM;IAAEC,MAAM;IAAEC,aAAa;IAAEP,MAAM;IAAEQ;EAAY,CAAE,GAAGhB,IAAI;EAE5D,MAAMiB,mBAAmB,GACvB;IACEC,KAAK,EAAEV,MAAM,CAACW,GAAG,CAAED,KAAK,IAAKA,KAAK,CAACE,EAAE,CAAC;IACtCC,0BAA0B,EAAEZ,uBAAuB;IACnDa,KAAK,EAAE;GACR;EAEH,MAAMC,MAAM,GAAG,MAAMtB,uCAAuC,CAAC;IAC3DuB,OAAO,aAAAC,MAAA,CAAavB,kBAAkB,EAAE,CAACwB,OAAO,CAAE;IAClDC,KAAK,EAAExB,cAAc,CAACW,MAAM,CAAC;IAC7Bc,IAAI,EAAE;MACJC,cAAc,EAAEd;KACjB;IACDe,KAAK,EAAAC,aAAA,CAAAA,aAAA,KACAd,mBAAmB,GACnBD,YAAY;GAElB,CAAC;EACF,IAAIO,MAAM,CAACS,KAAK,EAAE;IAChB,MAAM,IAAIC,KAAK,IAAAR,MAAA,CACVF,MAAM,CAACW,QAAQ,CAACC,MAAM,OAAAV,MAAA,CAAIF,MAAM,CAACW,QAAQ,CAACE,UAAU,SAAAX,MAAA,CAAMF,MAAM,CAACS,KAAK,GAAG3B,SAAS,CAACkB,MAAM,CAACS,KAAK,CAAC,GAAG,eAAe,CAAE,CACxH;EACH;EACA,OAAOT,MAAM,CAACc,IAAI,CAACA,IAAI,IAAI,EAAE;AAC/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}