{"ast":null,"code":"import { getChainDecimals, getChainNativeCurrencyName, getChainSymbol } from \"../../chains/utils.js\";\nimport { NATIVE_TOKEN_ADDRESS } from \"../../constants/addresses.js\";\nimport { getContract } from \"../../contract/contract.js\";\nimport { eth_getBalance } from \"../../rpc/actions/eth_getBalance.js\";\nimport { getRpcClient } from \"../../rpc/rpc.js\";\nimport { toTokens } from \"../../utils/units.js\";\n/**\n * Retrieves the balance of a token or native currency for a given wallet.\n * @param options - The options for retrieving the token balance.\n * @param options.address - The address for which to retrieve the balance.\n * @param options.client - The Thirdweb client to use for the request.\n * @param options.chain - The chain for which to retrieve the balance.\n * @param options.tokenAddress - (Optional) The address of the token to retrieve the balance for. If not provided, the balance of the native token will be retrieved.\n * @returns A promise that resolves to the token balance result.\n * @example\n * ```ts\n * import { getWalletBalance } from \"thirdweb/wallets\";\n * const balance = await getWalletBalance({ address, client, chain, tokenAddress });\n * ```\n * @walletUtils\n */\nexport async function getWalletBalance(options) {\n  const {\n    address,\n    client,\n    chain,\n    tokenAddress\n  } = options;\n  // erc20 case\n  if (tokenAddress) {\n    // load balanceOf dynamically to avoid circular dependency\n    const {\n      getBalance\n    } = await import(\"../../extensions/erc20/read/getBalance.js\");\n    return getBalance({\n      address,\n      contract: getContract({\n        address: tokenAddress,\n        chain,\n        client\n      })\n    });\n  }\n  // native token case\n  const rpcRequest = getRpcClient({\n    chain,\n    client\n  });\n  const [nativeSymbol, nativeDecimals, nativeName, nativeBalance] = await Promise.all([getChainSymbol(chain), getChainDecimals(chain), getChainNativeCurrencyName(chain), eth_getBalance(rpcRequest, {\n    address\n  })]);\n  return {\n    chainId: chain.id,\n    decimals: nativeDecimals,\n    displayValue: toTokens(nativeBalance, nativeDecimals),\n    name: nativeName,\n    symbol: nativeSymbol,\n    tokenAddress: tokenAddress !== null && tokenAddress !== void 0 ? tokenAddress : NATIVE_TOKEN_ADDRESS,\n    value: nativeBalance\n  };\n}","map":{"version":3,"names":["getChainDecimals","getChainNativeCurrencyName","getChainSymbol","NATIVE_TOKEN_ADDRESS","getContract","eth_getBalance","getRpcClient","toTokens","getWalletBalance","options","address","client","chain","tokenAddress","getBalance","contract","rpcRequest","nativeSymbol","nativeDecimals","nativeName","nativeBalance","Promise","all","chainId","id","decimals","displayValue","name","symbol","value"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/wallets/utils/getWalletBalance.ts"],"sourcesContent":["import type { Chain } from \"../../chains/types.js\";\nimport {\n  getChainDecimals,\n  getChainNativeCurrencyName,\n  getChainSymbol,\n} from \"../../chains/utils.js\";\nimport type { ThirdwebClient } from \"../../client/client.js\";\nimport { NATIVE_TOKEN_ADDRESS } from \"../../constants/addresses.js\";\nimport { getContract } from \"../../contract/contract.js\";\nimport type { GetBalanceResult } from \"../../extensions/erc20/read/getBalance.js\";\nimport { eth_getBalance } from \"../../rpc/actions/eth_getBalance.js\";\nimport { getRpcClient } from \"../../rpc/rpc.js\";\nimport { toTokens } from \"../../utils/units.js\";\n\nexport type GetWalletBalanceOptions = {\n  address: string;\n  client: ThirdwebClient;\n  chain: Chain;\n  /**\n   * (Optional) The address of the token to retrieve the balance for. If not provided, the balance of the native token will be retrieved.\n   */\n  tokenAddress?: string;\n};\n\nexport type GetWalletBalanceResult = GetBalanceResult;\n\n/**\n * Retrieves the balance of a token or native currency for a given wallet.\n * @param options - The options for retrieving the token balance.\n * @param options.address - The address for which to retrieve the balance.\n * @param options.client - The Thirdweb client to use for the request.\n * @param options.chain - The chain for which to retrieve the balance.\n * @param options.tokenAddress - (Optional) The address of the token to retrieve the balance for. If not provided, the balance of the native token will be retrieved.\n * @returns A promise that resolves to the token balance result.\n * @example\n * ```ts\n * import { getWalletBalance } from \"thirdweb/wallets\";\n * const balance = await getWalletBalance({ address, client, chain, tokenAddress });\n * ```\n * @walletUtils\n */\nexport async function getWalletBalance(\n  options: GetWalletBalanceOptions,\n): Promise<GetBalanceResult> {\n  const { address, client, chain, tokenAddress } = options;\n  // erc20 case\n  if (tokenAddress) {\n    // load balanceOf dynamically to avoid circular dependency\n    const { getBalance } = await import(\n      \"../../extensions/erc20/read/getBalance.js\"\n    );\n    return getBalance({\n      address,\n      contract: getContract({ address: tokenAddress, chain, client }),\n    });\n  }\n  // native token case\n  const rpcRequest = getRpcClient({ chain, client });\n\n  const [nativeSymbol, nativeDecimals, nativeName, nativeBalance] =\n    await Promise.all([\n      getChainSymbol(chain),\n      getChainDecimals(chain),\n      getChainNativeCurrencyName(chain),\n      eth_getBalance(rpcRequest, { address }),\n    ]);\n\n  return {\n    chainId: chain.id,\n    decimals: nativeDecimals,\n    displayValue: toTokens(nativeBalance, nativeDecimals),\n    name: nativeName,\n    symbol: nativeSymbol,\n    tokenAddress: tokenAddress ?? NATIVE_TOKEN_ADDRESS,\n    value: nativeBalance,\n  };\n}\n"],"mappings":"AACA,SACEA,gBAAgB,EAChBC,0BAA0B,EAC1BC,cAAc,QACT,uBAAuB;AAE9B,SAASC,oBAAoB,QAAQ,8BAA8B;AACnE,SAASC,WAAW,QAAQ,4BAA4B;AAExD,SAASC,cAAc,QAAQ,qCAAqC;AACpE,SAASC,YAAY,QAAQ,kBAAkB;AAC/C,SAASC,QAAQ,QAAQ,sBAAsB;AAc/C;;;;;;;;;;;;;;;AAeA,OAAO,eAAeC,gBAAgBA,CACpCC,OAAgC;EAEhC,MAAM;IAAEC,OAAO;IAAEC,MAAM;IAAEC,KAAK;IAAEC;EAAY,CAAE,GAAGJ,OAAO;EACxD;EACA,IAAII,YAAY,EAAE;IAChB;IACA,MAAM;MAAEC;IAAU,CAAE,GAAG,MAAM,MAAM,CACjC,2CAA2C,CAC5C;IACD,OAAOA,UAAU,CAAC;MAChBJ,OAAO;MACPK,QAAQ,EAAEX,WAAW,CAAC;QAAEM,OAAO,EAAEG,YAAY;QAAED,KAAK;QAAED;MAAM,CAAE;KAC/D,CAAC;EACJ;EACA;EACA,MAAMK,UAAU,GAAGV,YAAY,CAAC;IAAEM,KAAK;IAAED;EAAM,CAAE,CAAC;EAElD,MAAM,CAACM,YAAY,EAAEC,cAAc,EAAEC,UAAU,EAAEC,aAAa,CAAC,GAC7D,MAAMC,OAAO,CAACC,GAAG,CAAC,CAChBpB,cAAc,CAACU,KAAK,CAAC,EACrBZ,gBAAgB,CAACY,KAAK,CAAC,EACvBX,0BAA0B,CAACW,KAAK,CAAC,EACjCP,cAAc,CAACW,UAAU,EAAE;IAAEN;EAAO,CAAE,CAAC,CACxC,CAAC;EAEJ,OAAO;IACLa,OAAO,EAAEX,KAAK,CAACY,EAAE;IACjBC,QAAQ,EAAEP,cAAc;IACxBQ,YAAY,EAAEnB,QAAQ,CAACa,aAAa,EAAEF,cAAc,CAAC;IACrDS,IAAI,EAAER,UAAU;IAChBS,MAAM,EAAEX,YAAY;IACpBJ,YAAY,EAAEA,YAAY,aAAZA,YAAY,cAAZA,YAAY,GAAIV,oBAAoB;IAClD0B,KAAK,EAAET;GACR;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}