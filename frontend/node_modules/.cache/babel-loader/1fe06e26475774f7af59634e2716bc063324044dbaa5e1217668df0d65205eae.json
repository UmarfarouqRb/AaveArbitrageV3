{"ast":null,"code":"\"use client\";\n\nimport { useCallback, useState } from \"react\";\nimport { useConnectionManagerCtx } from \"../../providers/connection-manager.js\";\nimport { useSetActiveWalletConnectionStatus } from \"./useSetActiveWalletConnectionStatus.js\";\n/**\n * A hook to set a wallet as active wallet\n * @returns A function that lets you connect a wallet.\n * @example\n * ```jsx\n * import { createThirdwebClient } from \"thirdweb\";\n * import { useConnect } from \"thirdweb/react\";\n * import { createWallet } from \"thirdweb/wallets\";\n *\n * const client = createThirdwebClient({\n *   clientId: \"YOUR_CLIENT_ID\",\n * });\n *\n * function Example() {\n *   const { connect, isConnecting, error } = useConnect();\n *   return (\n *     <button\n *       onClick={() =>\n *         connect(async () => {\n *           // instantiate wallet\n *           const wallet = createWallet(\"io.metamask\");\n *           // connect wallet\n *           await wallet.connect({\n *             client,\n *           });\n *           // return the wallet\n *           return wallet;\n *         })\n *       }\n *     >\n *       Connect\n *     </button>\n *   );\n * }\n * ```\n * @walletConnection\n */\nexport function useConnect(options) {\n  const manager = useConnectionManagerCtx(\"useConnect\");\n  const {\n    connect\n  } = manager;\n  const setConnectionStatus = useSetActiveWalletConnectionStatus();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [error, setError] = useState(null);\n  const handleConnection = useCallback(async walletOrFn => {\n    // reset error state\n    setError(null);\n    setConnectionStatus(\"connecting\");\n    if (typeof walletOrFn !== \"function\") {\n      const account = await connect(walletOrFn, options);\n      setConnectionStatus(\"connected\");\n      return account;\n    }\n    setIsConnecting(true);\n    try {\n      const w = await walletOrFn();\n      const account = await connect(w, options);\n      setConnectionStatus(\"connected\");\n      return account;\n    } catch (e) {\n      console.error(e);\n      setError(e);\n      setConnectionStatus(\"disconnected\");\n    } finally {\n      setIsConnecting(false);\n    }\n    return null;\n  }, [connect, options, setConnectionStatus]);\n  const cancelConnection = useCallback(() => {\n    setIsConnecting(false);\n    setConnectionStatus(\"disconnected\");\n  }, [setConnectionStatus]);\n  return {\n    connect: handleConnection,\n    error,\n    isConnecting,\n    cancelConnection\n  };\n}","map":{"version":3,"names":["useCallback","useState","useConnectionManagerCtx","useSetActiveWalletConnectionStatus","useConnect","options","manager","connect","setConnectionStatus","isConnecting","setIsConnecting","error","setError","handleConnection","walletOrFn","account","w","e","console","cancelConnection"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/core/hooks/wallets/useConnect.ts"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useState } from \"react\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport type { ConnectManagerOptions } from \"../../../../wallets/manager/index.js\";\nimport { useConnectionManagerCtx } from \"../../providers/connection-manager.js\";\nimport { useSetActiveWalletConnectionStatus } from \"./useSetActiveWalletConnectionStatus.js\";\n\n/**\n * A hook to set a wallet as active wallet\n * @returns A function that lets you connect a wallet.\n * @example\n * ```jsx\n * import { createThirdwebClient } from \"thirdweb\";\n * import { useConnect } from \"thirdweb/react\";\n * import { createWallet } from \"thirdweb/wallets\";\n *\n * const client = createThirdwebClient({\n *   clientId: \"YOUR_CLIENT_ID\",\n * });\n *\n * function Example() {\n *   const { connect, isConnecting, error } = useConnect();\n *   return (\n *     <button\n *       onClick={() =>\n *         connect(async () => {\n *           // instantiate wallet\n *           const wallet = createWallet(\"io.metamask\");\n *           // connect wallet\n *           await wallet.connect({\n *             client,\n *           });\n *           // return the wallet\n *           return wallet;\n *         })\n *       }\n *     >\n *       Connect\n *     </button>\n *   );\n * }\n * ```\n * @walletConnection\n */\nexport function useConnect(options?: ConnectManagerOptions) {\n  const manager = useConnectionManagerCtx(\"useConnect\");\n  const { connect } = manager;\n  const setConnectionStatus = useSetActiveWalletConnectionStatus();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [error, setError] = useState<Error | null>(null);\n\n  const handleConnection = useCallback(\n    async (walletOrFn: Wallet | (() => Promise<Wallet>)) => {\n      // reset error state\n      setError(null);\n      setConnectionStatus(\"connecting\");\n      if (typeof walletOrFn !== \"function\") {\n        const account = await connect(walletOrFn, options);\n        setConnectionStatus(\"connected\");\n        return account;\n      }\n\n      setIsConnecting(true);\n      try {\n        const w = await walletOrFn();\n        const account = await connect(w, options);\n        setConnectionStatus(\"connected\");\n        return account;\n      } catch (e) {\n        console.error(e);\n        setError(e as Error);\n        setConnectionStatus(\"disconnected\");\n      } finally {\n        setIsConnecting(false);\n      }\n      return null;\n    },\n    [connect, options, setConnectionStatus],\n  );\n\n  const cancelConnection = useCallback(() => {\n    setIsConnecting(false);\n    setConnectionStatus(\"disconnected\");\n  }, [setConnectionStatus]);\n\n  return {\n    connect: handleConnection,\n    error,\n    isConnecting,\n    cancelConnection,\n  } as const;\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAG7C,SAASC,uBAAuB,QAAQ,uCAAuC;AAC/E,SAASC,kCAAkC,QAAQ,yCAAyC;AAE5F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAM,SAAUC,UAAUA,CAACC,OAA+B;EACxD,MAAMC,OAAO,GAAGJ,uBAAuB,CAAC,YAAY,CAAC;EACrD,MAAM;IAAEK;EAAO,CAAE,GAAGD,OAAO;EAC3B,MAAME,mBAAmB,GAAGL,kCAAkC,EAAE;EAChE,MAAM,CAACM,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAe,IAAI,CAAC;EAEtD,MAAMY,gBAAgB,GAAGb,WAAW,CAClC,MAAOc,UAA4C,IAAI;IACrD;IACAF,QAAQ,CAAC,IAAI,CAAC;IACdJ,mBAAmB,CAAC,YAAY,CAAC;IACjC,IAAI,OAAOM,UAAU,KAAK,UAAU,EAAE;MACpC,MAAMC,OAAO,GAAG,MAAMR,OAAO,CAACO,UAAU,EAAET,OAAO,CAAC;MAClDG,mBAAmB,CAAC,WAAW,CAAC;MAChC,OAAOO,OAAO;IAChB;IAEAL,eAAe,CAAC,IAAI,CAAC;IACrB,IAAI;MACF,MAAMM,CAAC,GAAG,MAAMF,UAAU,EAAE;MAC5B,MAAMC,OAAO,GAAG,MAAMR,OAAO,CAACS,CAAC,EAAEX,OAAO,CAAC;MACzCG,mBAAmB,CAAC,WAAW,CAAC;MAChC,OAAOO,OAAO;IAChB,CAAC,CAAC,OAAOE,CAAC,EAAE;MACVC,OAAO,CAACP,KAAK,CAACM,CAAC,CAAC;MAChBL,QAAQ,CAACK,CAAU,CAAC;MACpBT,mBAAmB,CAAC,cAAc,CAAC;IACrC,CAAC,SAAS;MACRE,eAAe,CAAC,KAAK,CAAC;IACxB;IACA,OAAO,IAAI;EACb,CAAC,EACD,CAACH,OAAO,EAAEF,OAAO,EAAEG,mBAAmB,CAAC,CACxC;EAED,MAAMW,gBAAgB,GAAGnB,WAAW,CAAC,MAAK;IACxCU,eAAe,CAAC,KAAK,CAAC;IACtBF,mBAAmB,CAAC,cAAc,CAAC;EACrC,CAAC,EAAE,CAACA,mBAAmB,CAAC,CAAC;EAEzB,OAAO;IACLD,OAAO,EAAEM,gBAAgB;IACzBF,KAAK;IACLF,YAAY;IACZU;GACQ;AACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}