{"ast":null,"code":"import { getClientFetch } from \"../../../../utils/fetch.js\";\nimport { stringify } from \"../../../../utils/json.js\";\nimport { ROUTE_AUTH_JWT_CALLBACK } from \"../../native/helpers/constants.js\";\nimport { createErrorMessage } from \"../../native/helpers/errors.js\";\nexport async function customJwt(args) {\n  const clientFetch = getClientFetch(args.client, args.ecosystem);\n  const res = await clientFetch(ROUTE_AUTH_JWT_CALLBACK, {\n    body: stringify({\n      developerClientId: args.client.clientId,\n      jwt: args.jwt\n    }),\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    method: \"POST\"\n  });\n  if (!res.ok) {\n    const error = await res.json();\n    throw new Error(\"JWT authentication error: \".concat(error.message));\n  }\n  try {\n    const {\n      verifiedToken\n    } = await res.json();\n    return {\n      storedToken: verifiedToken\n    };\n  } catch (e) {\n    throw new Error(createErrorMessage(\"Malformed response from post jwt authentication\", e));\n  }\n}","map":{"version":3,"names":["getClientFetch","stringify","ROUTE_AUTH_JWT_CALLBACK","createErrorMessage","customJwt","args","clientFetch","client","ecosystem","res","body","developerClientId","clientId","jwt","headers","method","ok","error","json","Error","concat","message","verifiedToken","storedToken","e"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/wallets/in-app/core/authentication/jwt.ts"],"sourcesContent":["import type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { getClientFetch } from \"../../../../utils/fetch.js\";\nimport { stringify } from \"../../../../utils/json.js\";\nimport { ROUTE_AUTH_JWT_CALLBACK } from \"../../native/helpers/constants.js\";\nimport { createErrorMessage } from \"../../native/helpers/errors.js\";\nimport type { Ecosystem } from \"../wallet/types.js\";\nimport type { AuthStoredTokenWithCookieReturnType } from \"./types.js\";\n\nexport async function customJwt(args: {\n  jwt: string;\n  client: ThirdwebClient;\n  ecosystem?: Ecosystem;\n}): Promise<AuthStoredTokenWithCookieReturnType> {\n  const clientFetch = getClientFetch(args.client, args.ecosystem);\n\n  const res = await clientFetch(ROUTE_AUTH_JWT_CALLBACK, {\n    body: stringify({\n      developerClientId: args.client.clientId,\n      jwt: args.jwt,\n    }),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    method: \"POST\",\n  });\n\n  if (!res.ok) {\n    const error = await res.json();\n    throw new Error(`JWT authentication error: ${error.message}`);\n  }\n\n  try {\n    const { verifiedToken } = await res.json();\n\n    return { storedToken: verifiedToken };\n  } catch (e) {\n    throw new Error(\n      createErrorMessage(\"Malformed response from post jwt authentication\", e),\n    );\n  }\n}\n"],"mappings":"AACA,SAASA,cAAc,QAAQ,4BAA4B;AAC3D,SAASC,SAAS,QAAQ,2BAA2B;AACrD,SAASC,uBAAuB,QAAQ,mCAAmC;AAC3E,SAASC,kBAAkB,QAAQ,gCAAgC;AAInE,OAAO,eAAeC,SAASA,CAACC,IAI/B;EACC,MAAMC,WAAW,GAAGN,cAAc,CAACK,IAAI,CAACE,MAAM,EAAEF,IAAI,CAACG,SAAS,CAAC;EAE/D,MAAMC,GAAG,GAAG,MAAMH,WAAW,CAACJ,uBAAuB,EAAE;IACrDQ,IAAI,EAAET,SAAS,CAAC;MACdU,iBAAiB,EAAEN,IAAI,CAACE,MAAM,CAACK,QAAQ;MACvCC,GAAG,EAAER,IAAI,CAACQ;KACX,CAAC;IACFC,OAAO,EAAE;MACP,cAAc,EAAE;KACjB;IACDC,MAAM,EAAE;GACT,CAAC;EAEF,IAAI,CAACN,GAAG,CAACO,EAAE,EAAE;IACX,MAAMC,KAAK,GAAG,MAAMR,GAAG,CAACS,IAAI,EAAE;IAC9B,MAAM,IAAIC,KAAK,8BAAAC,MAAA,CAA8BH,KAAK,CAACI,OAAO,CAAE,CAAC;EAC/D;EAEA,IAAI;IACF,MAAM;MAAEC;IAAa,CAAE,GAAG,MAAMb,GAAG,CAACS,IAAI,EAAE;IAE1C,OAAO;MAAEK,WAAW,EAAED;IAAa,CAAE;EACvC,CAAC,CAAC,OAAOE,CAAC,EAAE;IACV,MAAM,IAAIL,KAAK,CACbhB,kBAAkB,CAAC,iDAAiD,EAAEqB,CAAC,CAAC,CACzE;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}