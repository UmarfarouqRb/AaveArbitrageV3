{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { CheckCircledIcon, CrossCircledIcon } from \"@radix-ui/react-icons\";\nimport { useId, useState } from \"react\";\nimport { fontSize, iconSize, spacing } from \"../../../../core/design-system/index.js\";\nimport { useWalletBalance } from \"../../../../core/hooks/others/useWalletBalance.js\";\nimport { useActiveAccount } from \"../../../../core/hooks/wallets/useActiveAccount.js\";\nimport { useActiveWalletChain } from \"../../../../core/hooks/wallets/useActiveWalletChain.js\";\nimport { useSendToken } from \"../../../../core/hooks/wallets/useSendToken.js\";\nimport { defaultTokens } from \"../../../../core/utils/defaultTokens.js\";\nimport { Container, ModalHeader } from \"../../components/basic.js\";\nimport { Button } from \"../../components/buttons.js\";\nimport { Input, Label } from \"../../components/formElements.js\";\nimport { Skeleton } from \"../../components/Skeleton.js\";\nimport { Spacer } from \"../../components/Spacer.js\";\nimport { Spinner } from \"../../components/Spinner.js\";\nimport { TokenIcon } from \"../../components/TokenIcon.js\";\nimport { Text } from \"../../components/text.js\";\nimport { StyledDiv } from \"../../design-system/elements.js\";\nimport { formatTokenBalance } from \"./formatTokenBalance.js\";\nimport { NATIVE_TOKEN } from \"./nativeToken.js\";\nimport { TokenSelector } from \"./TokenSelector.js\";\n/**\n * @internal\n */\nexport function SendFunds(props) {\n  const [screen, setScreen] = useState(\"base\");\n  const activeChain = useActiveWalletChain();\n  const chainId = activeChain === null || activeChain === void 0 ? void 0 : activeChain.id;\n  const {\n    connectLocale,\n    client\n  } = props;\n  let defaultToken = NATIVE_TOKEN;\n  const supportedTokens = props.supportedTokens || defaultTokens;\n  if (\n  // if we know chainId\n  chainId &&\n  // if there is a list of tokens for this chain\n  supportedTokens[chainId] &&\n  // if the list of tokens is not the default list\n  supportedTokens[chainId] !== defaultTokens[chainId]) {\n    // use the first token in the list as default selected\n    const tokensForChain = supportedTokens[chainId];\n    const firstToken = tokensForChain === null || tokensForChain === void 0 ? void 0 : tokensForChain[0];\n    if (firstToken) {\n      defaultToken = firstToken;\n    }\n  }\n  const [token, setToken] = useState(defaultToken);\n  const [receiverAddress, setReceiverAddress] = useState(\"\");\n  const [amount, setAmount] = useState(\"0\");\n  const chain = useActiveWalletChain();\n  const tokenList = (chain !== null && chain !== void 0 && chain.id ? supportedTokens[chain.id] : undefined) || [];\n  if (screen === \"tokenSelector\" && chain) {\n    return _jsx(TokenSelector, {\n      chain: chain,\n      client: client,\n      connectLocale: connectLocale,\n      onBack: () => {\n        setScreen(\"base\");\n      },\n      onTokenSelect: _token => {\n        setToken(_token);\n        setScreen(\"base\");\n      },\n      tokenList: tokenList\n    });\n  }\n  return _jsx(SendFundsForm, {\n    amount: amount,\n    client: client,\n    connectLocale: connectLocale,\n    onBack: props.onBack,\n    onTokenSelect: () => {\n      setScreen(\"tokenSelector\");\n    },\n    receiverAddress: receiverAddress,\n    setAmount: setAmount,\n    setReceiverAddress: setReceiverAddress,\n    token: token\n  });\n}\n/**\n * @internal Exported for tests\n */\nexport function SendFundsForm(props) {\n  var _balanceQuery$data, _balanceQuery$data2;\n  const locale = props.connectLocale.sendFundsScreen;\n  const tokenAddress = props.token && \"address\" in props.token ? props.token.address : undefined;\n  const chain = useActiveWalletChain();\n  const activeAccount = useActiveAccount();\n  const activeChain = useActiveWalletChain();\n  const balanceQuery = useWalletBalance({\n    address: activeAccount === null || activeAccount === void 0 ? void 0 : activeAccount.address,\n    chain,\n    client: props.client,\n    tokenAddress: tokenAddress\n  });\n  const {\n    receiverAddress,\n    setReceiverAddress,\n    amount,\n    setAmount\n  } = props;\n  const sendTokenMutation = useSendToken(props.client);\n  function getErrorMessage(error) {\n    var _error$data;\n    const message = (error === null || error === void 0 || (_error$data = error.data) === null || _error$data === void 0 ? void 0 : _error$data.message) || (error === null || error === void 0 ? void 0 : error.message);\n    if (!message) {\n      return locale.transactionFailed;\n    }\n    if (message.includes(\"user rejected\") || message.includes(\"user closed modal\") || message.includes(\"user denied\")) {\n      return locale.transactionRejected;\n    }\n    if (message.includes(\"insufficient funds\")) {\n      return locale.insufficientFunds;\n    }\n    return message;\n  }\n  const tokenId = useId();\n  const receiverId = useId();\n  const amountId = useId();\n  if (!activeChain) {\n    return null; // this should never happen\n  }\n  if (sendTokenMutation.isError) {\n    return _jsxs(Container, {\n      animate: \"fadein\",\n      p: \"lg\",\n      className: \"tw-send-funds-screen tw-send-funds-screen__error\",\n      children: [_jsx(ModalHeader, {\n        onBack: () => {\n          sendTokenMutation.reset();\n        },\n        title: locale.title\n      }), _jsx(Spacer, {\n        y: \"xl\"\n      }), _jsxs(Container, {\n        animate: \"fadein\",\n        center: \"both\",\n        color: \"danger\",\n        flex: \"column\",\n        gap: \"lg\",\n        style: {\n          minHeight: \"200px\"\n        },\n        children: [_jsx(CrossCircledIcon, {\n          height: iconSize.xl,\n          width: iconSize.xl\n        }), _jsx(Text, {\n          center: true,\n          color: \"danger\",\n          multiline: true,\n          children: getErrorMessage(sendTokenMutation.error)\n        })]\n      })]\n    });\n  }\n  if (sendTokenMutation.isSuccess) {\n    return _jsxs(Container, {\n      animate: \"fadein\",\n      p: \"lg\",\n      className: \"tw-send-funds-screen tw-send-funds-screen__success\",\n      children: [_jsx(ModalHeader, {\n        onBack: () => {\n          sendTokenMutation.reset();\n        },\n        title: locale.title\n      }), _jsxs(Container, {\n        animate: \"fadein\",\n        center: \"both\",\n        color: \"success\",\n        flex: \"column\",\n        gap: \"lg\",\n        style: {\n          minHeight: \"250px\"\n        },\n        children: [_jsx(CheckCircledIcon, {\n          height: iconSize.xl,\n          width: iconSize.xl\n        }), _jsxs(Text, {\n          color: \"success\",\n          children: [\" \", locale.successMessage, \" \"]\n        })]\n      })]\n    });\n  }\n  const tokenName = (props.token && \"name\" in props.token ? props.token.name : undefined) || (balanceQuery === null || balanceQuery === void 0 || (_balanceQuery$data = balanceQuery.data) === null || _balanceQuery$data === void 0 ? void 0 : _balanceQuery$data.name);\n  const tokenSymbol = (props.token && \"symbol\" in props.token ? props.token.symbol : undefined) || (balanceQuery === null || balanceQuery === void 0 || (_balanceQuery$data2 = balanceQuery.data) === null || _balanceQuery$data2 === void 0 ? void 0 : _balanceQuery$data2.symbol);\n  return _jsxs(Container, {\n    animate: \"fadein\",\n    p: \"lg\",\n    className: \"tw-send-funds-screen tw-send-funds-screen__form\",\n    children: [_jsx(ModalHeader, {\n      onBack: props.onBack,\n      title: locale.title\n    }), _jsx(Spacer, {\n      y: \"xl\"\n    }), _jsxs(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n      },\n      children: [_jsx(Label, {\n        color: \"secondaryText\",\n        htmlFor: tokenId,\n        children: locale.token\n      }), _jsx(Spacer, {\n        y: \"sm\"\n      }), _jsxs(Button, {\n        className: \"tw-select-token-button\",\n        fullWidth: true,\n        id: tokenId,\n        onClick: props.onTokenSelect,\n        style: {\n          gap: spacing.sm,\n          justifyContent: \"flex-start\",\n          padding: spacing.sm\n        },\n        variant: \"outline\",\n        children: [_jsx(TokenIcon, {\n          chain: activeChain,\n          client: props.client,\n          size: \"lg\",\n          token: props.token\n        }), _jsxs(Container, {\n          flex: \"column\",\n          gap: \"xs\",\n          children: [tokenName ? _jsx(Text, {\n            color: \"primaryText\",\n            size: \"sm\",\n            children: tokenName\n          }) : _jsx(Skeleton, {\n            height: fontSize.xs,\n            width: \"150px\"\n          }), balanceQuery.data ? _jsx(Text, {\n            size: \"xs\",\n            children: formatTokenBalance(balanceQuery.data)\n          }) : _jsx(Skeleton, {\n            height: fontSize.xs,\n            width: \"100px\"\n          })]\n        })]\n      }), _jsx(Spacer, {\n        y: \"lg\"\n      }), _jsx(Label, {\n        color: \"secondaryText\",\n        htmlFor: receiverId,\n        children: locale.sendTo\n      }), _jsx(Spacer, {\n        y: \"sm\"\n      }), _jsx(Input, {\n        className: \"tw-address-input\",\n        id: receiverId,\n        onChange: e => {\n          setReceiverAddress(e.target.value);\n        },\n        placeholder: \"0x... or ENS name\",\n        required: true,\n        value: receiverAddress,\n        variant: \"outline\"\n      }), _jsx(Spacer, {\n        y: \"lg\"\n      }), _jsx(Label, {\n        color: \"secondaryText\",\n        htmlFor: amountId,\n        children: locale.amount\n      }), _jsx(Spacer, {\n        y: \"sm\"\n      }), _jsxs(Container, {\n        relative: true,\n        children: [_jsx(Input, {\n          className: \"tw-amount-input\",\n          id: amountId,\n          onChange: e => {\n            setAmount(e.target.value);\n          },\n          required: true,\n          type: \"number\",\n          value: amount,\n          variant: \"outline\"\n        }), _jsx(CurrencyBadge, {\n          children: _jsxs(Text, {\n            size: \"xs\",\n            children: [\" \", tokenSymbol, \" \"]\n          })\n        })]\n      }), _jsx(Spacer, {\n        y: \"xxl\"\n      }), _jsxs(Button, {\n        className: \"tw-send-funds-button\",\n        fullWidth: true,\n        onClick: async () => {\n          if (!receiverAddress || !amount) {\n            return;\n          }\n          await sendTokenMutation.mutateAsync({\n            amount,\n            receiverAddress,\n            tokenAddress: tokenAddress\n          });\n        },\n        style: {\n          alignItems: \"center\",\n          gap: spacing.sm,\n          padding: spacing.md\n        },\n        type: \"submit\",\n        variant: \"accent\",\n        children: [sendTokenMutation.isPending && _jsx(Spinner, {\n          color: \"accentButtonText\",\n          size: \"sm\"\n        }), sendTokenMutation.isPending ? locale.sending : locale.submitButton]\n      })]\n    })]\n  });\n}\nconst CurrencyBadge = /* @__PURE__ */StyledDiv({\n  position: \"absolute\",\n  right: spacing.sm,\n  top: \"50%\",\n  transform: \"translateY(-50%)\"\n});","map":{"version":3,"names":["CheckCircledIcon","CrossCircledIcon","useId","useState","fontSize","iconSize","spacing","useWalletBalance","useActiveAccount","useActiveWalletChain","useSendToken","defaultTokens","Container","ModalHeader","Button","Input","Label","Skeleton","Spacer","Spinner","TokenIcon","Text","StyledDiv","formatTokenBalance","NATIVE_TOKEN","TokenSelector","SendFunds","props","screen","setScreen","activeChain","chainId","id","connectLocale","client","defaultToken","supportedTokens","tokensForChain","firstToken","token","setToken","receiverAddress","setReceiverAddress","amount","setAmount","chain","tokenList","undefined","_jsx","onBack","onTokenSelect","_token","SendFundsForm","_balanceQuery$data","_balanceQuery$data2","locale","sendFundsScreen","tokenAddress","address","activeAccount","balanceQuery","sendTokenMutation","getErrorMessage","error","_error$data","message","data","transactionFailed","includes","transactionRejected","insufficientFunds","tokenId","receiverId","amountId","isError","_jsxs","animate","p","className","children","reset","title","y","center","color","flex","gap","style","minHeight","height","xl","width","multiline","isSuccess","successMessage","tokenName","name","tokenSymbol","symbol","onSubmit","e","preventDefault","htmlFor","fullWidth","onClick","sm","justifyContent","padding","variant","size","xs","sendTo","onChange","target","value","placeholder","required","relative","type","CurrencyBadge","mutateAsync","alignItems","md","isPending","sending","submitButton","position","right","top","transform"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/ConnectWallet/screens/SendFunds.tsx"],"sourcesContent":["import { CheckCircledIcon, CrossCircledIcon } from \"@radix-ui/react-icons\";\nimport { useId, useState } from \"react\";\nimport type { ThirdwebClient } from \"../../../../../client/client.js\";\nimport {\n  fontSize,\n  iconSize,\n  spacing,\n} from \"../../../../core/design-system/index.js\";\nimport { useWalletBalance } from \"../../../../core/hooks/others/useWalletBalance.js\";\nimport { useActiveAccount } from \"../../../../core/hooks/wallets/useActiveAccount.js\";\nimport { useActiveWalletChain } from \"../../../../core/hooks/wallets/useActiveWalletChain.js\";\nimport { useSendToken } from \"../../../../core/hooks/wallets/useSendToken.js\";\nimport {\n  defaultTokens,\n  type SupportedTokens,\n} from \"../../../../core/utils/defaultTokens.js\";\nimport { Container, ModalHeader } from \"../../components/basic.js\";\nimport { Button } from \"../../components/buttons.js\";\nimport { Input, Label } from \"../../components/formElements.js\";\nimport { Skeleton } from \"../../components/Skeleton.js\";\nimport { Spacer } from \"../../components/Spacer.js\";\nimport { Spinner } from \"../../components/Spinner.js\";\nimport { TokenIcon } from \"../../components/TokenIcon.js\";\nimport { Text } from \"../../components/text.js\";\nimport { StyledDiv } from \"../../design-system/elements.js\";\nimport type { ConnectLocale } from \"../locale/types.js\";\nimport { formatTokenBalance } from \"./formatTokenBalance.js\";\nimport { type ERC20OrNativeToken, NATIVE_TOKEN } from \"./nativeToken.js\";\nimport { TokenSelector } from \"./TokenSelector.js\";\n\ntype TXError = Error & { data?: { message?: string } };\n\n/**\n * @internal\n */\nexport function SendFunds(props: {\n  supportedTokens?: SupportedTokens;\n  onBack: () => void;\n  connectLocale: ConnectLocale;\n  client: ThirdwebClient;\n}) {\n  const [screen, setScreen] = useState<\"base\" | \"tokenSelector\">(\"base\");\n  const activeChain = useActiveWalletChain();\n  const chainId = activeChain?.id;\n  const { connectLocale, client } = props;\n\n  let defaultToken: ERC20OrNativeToken = NATIVE_TOKEN;\n  const supportedTokens = props.supportedTokens || defaultTokens;\n  if (\n    // if we know chainId\n    chainId &&\n    // if there is a list of tokens for this chain\n    supportedTokens[chainId] &&\n    // if the list of tokens is not the default list\n    supportedTokens[chainId] !== defaultTokens[chainId]\n  ) {\n    // use the first token in the list as default selected\n    const tokensForChain = supportedTokens[chainId];\n    const firstToken = tokensForChain?.[0];\n    if (firstToken) {\n      defaultToken = firstToken;\n    }\n  }\n\n  const [token, setToken] = useState<ERC20OrNativeToken>(defaultToken);\n\n  const [receiverAddress, setReceiverAddress] = useState(\"\");\n  const [amount, setAmount] = useState(\"0\");\n\n  const chain = useActiveWalletChain();\n\n  const tokenList = (chain?.id ? supportedTokens[chain.id] : undefined) || [];\n\n  if (screen === \"tokenSelector\" && chain) {\n    return (\n      <TokenSelector\n        chain={chain}\n        client={client}\n        connectLocale={connectLocale}\n        onBack={() => {\n          setScreen(\"base\");\n        }}\n        onTokenSelect={(_token) => {\n          setToken(_token);\n          setScreen(\"base\");\n        }}\n        tokenList={tokenList}\n      />\n    );\n  }\n\n  return (\n    <SendFundsForm\n      amount={amount}\n      client={client}\n      connectLocale={connectLocale}\n      onBack={props.onBack}\n      onTokenSelect={() => {\n        setScreen(\"tokenSelector\");\n      }}\n      receiverAddress={receiverAddress}\n      setAmount={setAmount}\n      setReceiverAddress={setReceiverAddress}\n      token={token}\n    />\n  );\n}\n\n/**\n * @internal Exported for tests\n */\nexport function SendFundsForm(props: {\n  onTokenSelect: () => void;\n  token: ERC20OrNativeToken;\n  receiverAddress: string;\n  setReceiverAddress: (value: string) => void;\n  amount: string;\n  setAmount: (value: string) => void;\n  onBack: () => void;\n  client: ThirdwebClient;\n  connectLocale: ConnectLocale;\n}) {\n  const locale = props.connectLocale.sendFundsScreen;\n  const tokenAddress =\n    props.token && \"address\" in props.token ? props.token.address : undefined;\n\n  const chain = useActiveWalletChain();\n  const activeAccount = useActiveAccount();\n  const activeChain = useActiveWalletChain();\n\n  const balanceQuery = useWalletBalance({\n    address: activeAccount?.address,\n    chain,\n    client: props.client,\n    tokenAddress: tokenAddress,\n  });\n\n  const { receiverAddress, setReceiverAddress, amount, setAmount } = props;\n  const sendTokenMutation = useSendToken(props.client);\n\n  function getErrorMessage(error?: TXError) {\n    const message = error?.data?.message || error?.message;\n\n    if (!message) {\n      return locale.transactionFailed;\n    }\n\n    if (\n      message.includes(\"user rejected\") ||\n      message.includes(\"user closed modal\") ||\n      message.includes(\"user denied\")\n    ) {\n      return locale.transactionRejected;\n    }\n\n    if (message.includes(\"insufficient funds\")) {\n      return locale.insufficientFunds;\n    }\n\n    return message;\n  }\n\n  const tokenId = useId();\n  const receiverId = useId();\n  const amountId = useId();\n\n  if (!activeChain) {\n    return null; // this should never happen\n  }\n\n  if (sendTokenMutation.isError) {\n    return (\n      <Container\n        animate=\"fadein\"\n        p=\"lg\"\n        className=\"tw-send-funds-screen tw-send-funds-screen__error\"\n      >\n        <ModalHeader\n          onBack={() => {\n            sendTokenMutation.reset();\n          }}\n          title={locale.title}\n        />\n        <Spacer y=\"xl\" />\n        <Container\n          animate=\"fadein\"\n          center=\"both\"\n          color=\"danger\"\n          flex=\"column\"\n          gap=\"lg\"\n          style={{\n            minHeight: \"200px\",\n          }}\n        >\n          <CrossCircledIcon height={iconSize.xl} width={iconSize.xl} />\n          <Text center color=\"danger\" multiline>\n            {getErrorMessage(sendTokenMutation.error)}\n          </Text>\n        </Container>\n      </Container>\n    );\n  }\n\n  if (sendTokenMutation.isSuccess) {\n    return (\n      <Container\n        animate=\"fadein\"\n        p=\"lg\"\n        className=\"tw-send-funds-screen tw-send-funds-screen__success\"\n      >\n        <ModalHeader\n          onBack={() => {\n            sendTokenMutation.reset();\n          }}\n          title={locale.title}\n        />\n        <Container\n          animate=\"fadein\"\n          center=\"both\"\n          color=\"success\"\n          flex=\"column\"\n          gap=\"lg\"\n          style={{\n            minHeight: \"250px\",\n          }}\n        >\n          <CheckCircledIcon height={iconSize.xl} width={iconSize.xl} />\n          <Text color=\"success\"> {locale.successMessage} </Text>\n        </Container>\n      </Container>\n    );\n  }\n\n  const tokenName =\n    (props.token && \"name\" in props.token ? props.token.name : undefined) ||\n    balanceQuery?.data?.name;\n\n  const tokenSymbol =\n    (props.token && \"symbol\" in props.token ? props.token.symbol : undefined) ||\n    balanceQuery?.data?.symbol;\n\n  return (\n    <Container\n      animate=\"fadein\"\n      p=\"lg\"\n      className=\"tw-send-funds-screen tw-send-funds-screen__form\"\n    >\n      <ModalHeader onBack={props.onBack} title={locale.title} />\n      <Spacer y=\"xl\" />\n\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n        }}\n      >\n        {/* Token  */}\n        <Label color=\"secondaryText\" htmlFor={tokenId}>\n          {locale.token}\n        </Label>\n        <Spacer y=\"sm\" />\n        <Button\n          className=\"tw-select-token-button\"\n          fullWidth\n          id={tokenId}\n          onClick={props.onTokenSelect}\n          style={{\n            gap: spacing.sm,\n            justifyContent: \"flex-start\",\n            padding: spacing.sm,\n          }}\n          variant=\"outline\"\n        >\n          <TokenIcon\n            chain={activeChain}\n            client={props.client}\n            size=\"lg\"\n            token={props.token}\n          />\n\n          <Container flex=\"column\" gap=\"xs\">\n            {tokenName ? (\n              <Text color=\"primaryText\" size=\"sm\">\n                {tokenName}\n              </Text>\n            ) : (\n              <Skeleton height={fontSize.xs} width=\"150px\" />\n            )}\n\n            {balanceQuery.data ? (\n              <Text size=\"xs\">{formatTokenBalance(balanceQuery.data)}</Text>\n            ) : (\n              <Skeleton height={fontSize.xs} width=\"100px\" />\n            )}\n          </Container>\n        </Button>\n\n        <Spacer y=\"lg\" />\n\n        {/* Send to  */}\n        <Label color=\"secondaryText\" htmlFor={receiverId}>\n          {locale.sendTo}\n        </Label>\n        <Spacer y=\"sm\" />\n        <Input\n          className=\"tw-address-input\"\n          id={receiverId}\n          onChange={(e) => {\n            setReceiverAddress(e.target.value);\n          }}\n          placeholder=\"0x... or ENS name\"\n          required\n          value={receiverAddress}\n          variant=\"outline\"\n        />\n\n        <Spacer y=\"lg\" />\n\n        {/* Amount  */}\n        <Label color=\"secondaryText\" htmlFor={amountId}>\n          {locale.amount}\n        </Label>\n        <Spacer y=\"sm\" />\n        <Container relative>\n          <Input\n            className=\"tw-amount-input\"\n            id={amountId}\n            onChange={(e) => {\n              setAmount(e.target.value);\n            }}\n            required\n            type=\"number\"\n            value={amount}\n            variant=\"outline\"\n          />\n          <CurrencyBadge>\n            <Text size=\"xs\"> {tokenSymbol} </Text>\n          </CurrencyBadge>\n        </Container>\n\n        <Spacer y=\"xxl\" />\n\n        {/* Submit */}\n        <Button\n          className=\"tw-send-funds-button\"\n          fullWidth\n          onClick={async () => {\n            if (!receiverAddress || !amount) {\n              return;\n            }\n\n            await sendTokenMutation.mutateAsync({\n              amount,\n              receiverAddress,\n              tokenAddress: tokenAddress,\n            });\n          }}\n          style={{\n            alignItems: \"center\",\n            gap: spacing.sm,\n            padding: spacing.md,\n          }}\n          type=\"submit\"\n          variant=\"accent\"\n        >\n          {sendTokenMutation.isPending && (\n            <Spinner color=\"accentButtonText\" size=\"sm\" />\n          )}\n          {sendTokenMutation.isPending ? locale.sending : locale.submitButton}\n        </Button>\n      </form>\n    </Container>\n  );\n}\n\nconst CurrencyBadge = /* @__PURE__ */ StyledDiv({\n  position: \"absolute\",\n  right: spacing.sm,\n  top: \"50%\",\n  transform: \"translateY(-50%)\",\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}