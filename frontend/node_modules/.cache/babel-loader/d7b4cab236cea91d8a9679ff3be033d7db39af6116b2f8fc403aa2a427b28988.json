{"ast":null,"code":"\"use client\";\n\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useEffect, useState } from \"react\";\nimport { trackPayEvent } from \"../../../../../analytics/track/pay.js\";\nimport { defineChain } from \"../../../../../chains/utils.js\";\nimport { toUnits } from \"../../../../../utils/units.js\";\nimport { usePaymentMethods } from \"../../../../core/hooks/usePaymentMethods.js\";\nimport { useActiveWallet } from \"../../../../core/hooks/wallets/useActiveWallet.js\";\nimport { useConnectedWallets } from \"../../../../core/hooks/wallets/useConnectedWallets.js\";\nimport { WalletSwitcherConnectionScreen } from \"../../ConnectWallet/screens/WalletSwitcherConnectionScreen.js\";\nimport { Container, ModalHeader } from \"../../components/basic.js\";\nimport { Spacer } from \"../../components/Spacer.js\";\nimport { FiatProviderSelection } from \"./FiatProviderSelection.js\";\nimport { TokenSelection } from \"./TokenSelection.js\";\nimport { WalletFiatSelection } from \"./WalletFiatSelection.js\";\nexport function PaymentSelection(_ref) {\n  var _payerWallet$getAccou2;\n  let {\n    destinationToken,\n    client,\n    destinationAmount,\n    receiverAddress,\n    onPaymentMethodSelected,\n    onError,\n    onBack,\n    connectOptions,\n    connectLocale,\n    paymentMethods,\n    supportedTokens,\n    feePayer,\n    currency,\n    country\n  } = _ref;\n  const connectedWallets = useConnectedWallets();\n  const activeWallet = useActiveWallet();\n  const initialStep = paymentMethods.length === 1 && paymentMethods[0] === \"card\" ? {\n    type: \"fiatProviderSelection\"\n  } : {\n    type: \"walletSelection\"\n  };\n  const [currentStep, setCurrentStep] = useState(initialStep);\n  useQuery({\n    queryFn: () => {\n      trackPayEvent({\n        client,\n        event: \"payment_selection\",\n        toChainId: destinationToken.chainId,\n        toToken: destinationToken.address\n      });\n      return true;\n    },\n    queryKey: [\"payment_selection\"]\n  });\n  const payerWallet = currentStep.type === \"tokenSelection\" ? currentStep.selectedWallet : activeWallet;\n  const {\n    data: suitableTokenPaymentMethods,\n    isLoading: paymentMethodsLoading,\n    error: paymentMethodsError\n  } = usePaymentMethods({\n    client,\n    destinationAmount,\n    destinationToken,\n    payerWallet,\n    supportedTokens\n  });\n  // Handle error from usePaymentMethods\n  useEffect(() => {\n    if (paymentMethodsError) {\n      onError(paymentMethodsError);\n    }\n  }, [paymentMethodsError, onError]);\n  const handlePaymentMethodSelected = paymentMethod => {\n    try {\n      onPaymentMethodSelected(paymentMethod);\n    } catch (error) {\n      onError(error);\n    }\n  };\n  const handleWalletSelected = wallet => {\n    setCurrentStep({\n      selectedWallet: wallet,\n      type: \"tokenSelection\"\n    });\n  };\n  const handleConnectWallet = async () => {\n    setCurrentStep({\n      type: \"walletConnection\"\n    });\n  };\n  const handleFiatSelected = () => {\n    setCurrentStep({\n      type: \"fiatProviderSelection\"\n    });\n  };\n  const handleBackToWalletSelection = () => {\n    setCurrentStep({\n      type: \"walletSelection\"\n    });\n  };\n  const handleOnrampProviderSelected = provider => {\n    var _payerWallet$getAccou;\n    const recipientAddress = receiverAddress || (payerWallet === null || payerWallet === void 0 || (_payerWallet$getAccou = payerWallet.getAccount()) === null || _payerWallet$getAccou === void 0 ? void 0 : _payerWallet$getAccou.address);\n    if (!recipientAddress) {\n      onError(new Error(\"No recipient address available for fiat payment\"));\n      return;\n    }\n    const fiatPaymentMethod = {\n      currency: currency || \"USD\",\n      onramp: provider,\n      payerWallet,\n      type: \"fiat\"\n    };\n    handlePaymentMethodSelected(fiatPaymentMethod);\n  };\n  const getStepTitle = () => {\n    switch (currentStep.type) {\n      case \"walletSelection\":\n        return \"Choose Payment Method\";\n      case \"tokenSelection\":\n        return \"Select Token\";\n      case \"fiatProviderSelection\":\n        return \"Select Payment Provider\";\n      case \"walletConnection\":\n        return \"Connect Wallet\";\n    }\n  };\n  const getBackHandler = () => {\n    if (paymentMethods.length === 1 && paymentMethods[0] === \"card\") {\n      return onBack;\n    }\n    switch (currentStep.type) {\n      case \"walletSelection\":\n        return onBack;\n      case \"tokenSelection\":\n      case \"fiatProviderSelection\":\n      case \"walletConnection\":\n        return handleBackToWalletSelection;\n    }\n  };\n  // Handle rendering WalletSwitcherConnectionScreen\n  if (currentStep.type === \"walletConnection\") {\n    var _connectOptions$walle;\n    const destinationChain = destinationToken ? defineChain(destinationToken.chainId) : undefined;\n    const chains = destinationChain ? [destinationChain, ...((connectOptions === null || connectOptions === void 0 ? void 0 : connectOptions.chains) || [])] : connectOptions === null || connectOptions === void 0 ? void 0 : connectOptions.chains;\n    return _jsx(WalletSwitcherConnectionScreen, {\n      accountAbstraction: connectOptions === null || connectOptions === void 0 ? void 0 : connectOptions.accountAbstraction,\n      appMetadata: connectOptions === null || connectOptions === void 0 ? void 0 : connectOptions.appMetadata,\n      chain: destinationChain || (connectOptions === null || connectOptions === void 0 ? void 0 : connectOptions.chain),\n      chains: chains,\n      client: client,\n      connectLocale: connectLocale,\n      hiddenWallets: [],\n      isEmbed: false,\n      onBack: handleBackToWalletSelection,\n      onSelect: handleWalletSelected,\n      recommendedWallets: connectOptions === null || connectOptions === void 0 ? void 0 : connectOptions.recommendedWallets,\n      showAllWallets: (connectOptions === null || connectOptions === void 0 ? void 0 : connectOptions.showAllWallets) === undefined ? true : connectOptions === null || connectOptions === void 0 ? void 0 : connectOptions.showAllWallets,\n      walletConnect: connectOptions === null || connectOptions === void 0 ? void 0 : connectOptions.walletConnect,\n      wallets: connectOptions === null || connectOptions === void 0 || (_connectOptions$walle = connectOptions.wallets) === null || _connectOptions$walle === void 0 ? void 0 : _connectOptions$walle.filter(w => w.id !== \"inApp\")\n    });\n  }\n  return _jsxs(Container, {\n    flex: \"column\",\n    px: \"md\",\n    pt: \"md+\",\n    children: [_jsx(ModalHeader, {\n      onBack: getBackHandler(),\n      title: getStepTitle()\n    }), _jsx(Spacer, {\n      y: \"lg\"\n    }), _jsxs(Container, {\n      flex: \"column\",\n      style: {\n        minHeight: \"300px\"\n      },\n      children: [currentStep.type === \"walletSelection\" && _jsx(WalletFiatSelection, {\n        client: client,\n        connectedWallets: connectedWallets,\n        onConnectWallet: handleConnectWallet,\n        onFiatSelected: handleFiatSelected,\n        onWalletSelected: handleWalletSelected,\n        paymentMethods: paymentMethods\n      }), currentStep.type === \"tokenSelection\" && _jsx(TokenSelection, {\n        client: client,\n        destinationAmount: toUnits(destinationAmount, destinationToken.decimals),\n        destinationToken: destinationToken,\n        feePayer: feePayer,\n        onBack: handleBackToWalletSelection,\n        onPaymentMethodSelected: handlePaymentMethodSelected,\n        paymentMethods: suitableTokenPaymentMethods,\n        paymentMethodsLoading: paymentMethodsLoading,\n        currency: currency\n      }), currentStep.type === \"fiatProviderSelection\" && _jsx(FiatProviderSelection, {\n        country: country,\n        client: client,\n        onProviderSelected: handleOnrampProviderSelected,\n        toAddress: receiverAddress || (payerWallet === null || payerWallet === void 0 || (_payerWallet$getAccou2 = payerWallet.getAccount()) === null || _payerWallet$getAccou2 === void 0 ? void 0 : _payerWallet$getAccou2.address) || \"\",\n        toAmount: destinationAmount,\n        toChainId: destinationToken.chainId,\n        toTokenAddress: destinationToken.address,\n        currency: currency\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["useQuery","useEffect","useState","trackPayEvent","defineChain","toUnits","usePaymentMethods","useActiveWallet","useConnectedWallets","WalletSwitcherConnectionScreen","Container","ModalHeader","Spacer","FiatProviderSelection","TokenSelection","WalletFiatSelection","PaymentSelection","_ref","_payerWallet$getAccou2","destinationToken","client","destinationAmount","receiverAddress","onPaymentMethodSelected","onError","onBack","connectOptions","connectLocale","paymentMethods","supportedTokens","feePayer","currency","country","connectedWallets","activeWallet","initialStep","length","type","currentStep","setCurrentStep","queryFn","event","toChainId","chainId","toToken","address","queryKey","payerWallet","selectedWallet","data","suitableTokenPaymentMethods","isLoading","paymentMethodsLoading","error","paymentMethodsError","handlePaymentMethodSelected","paymentMethod","handleWalletSelected","wallet","handleConnectWallet","handleFiatSelected","handleBackToWalletSelection","handleOnrampProviderSelected","provider","_payerWallet$getAccou","recipientAddress","getAccount","Error","fiatPaymentMethod","onramp","getStepTitle","getBackHandler","_connectOptions$walle","destinationChain","undefined","chains","_jsx","accountAbstraction","appMetadata","chain","hiddenWallets","isEmbed","onSelect","recommendedWallets","showAllWallets","walletConnect","wallets","filter","w","id","_jsxs","flex","px","pt","children","title","y","style","minHeight","onConnectWallet","onFiatSelected","onWalletSelected","decimals","onProviderSelected","toAddress","toAmount","toTokenAddress"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/Bridge/payment-selection/PaymentSelection.tsx"],"sourcesContent":["\"use client\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useEffect, useState } from \"react\";\nimport { trackPayEvent } from \"../../../../../analytics/track/pay.js\";\nimport type { Token } from \"../../../../../bridge/types/Token.js\";\nimport { defineChain } from \"../../../../../chains/utils.js\";\nimport type { ThirdwebClient } from \"../../../../../client/client.js\";\nimport type { SupportedFiatCurrency } from \"../../../../../pay/convert/type.js\";\nimport type { Address } from \"../../../../../utils/address.js\";\nimport { toUnits } from \"../../../../../utils/units.js\";\nimport type { Wallet } from \"../../../../../wallets/interfaces/wallet.js\";\nimport { usePaymentMethods } from \"../../../../core/hooks/usePaymentMethods.js\";\nimport { useActiveWallet } from \"../../../../core/hooks/wallets/useActiveWallet.js\";\nimport { useConnectedWallets } from \"../../../../core/hooks/wallets/useConnectedWallets.js\";\nimport type { SupportedTokens } from \"../../../../core/utils/defaultTokens.js\";\nimport type { ConnectLocale } from \"../../ConnectWallet/locale/types.js\";\nimport { WalletSwitcherConnectionScreen } from \"../../ConnectWallet/screens/WalletSwitcherConnectionScreen.js\";\nimport { Container, ModalHeader } from \"../../components/basic.js\";\nimport { Spacer } from \"../../components/Spacer.js\";\nimport type { PayEmbedConnectOptions } from \"../../PayEmbed.js\";\nimport type { PaymentMethod } from \"../types.js\";\nimport { FiatProviderSelection } from \"./FiatProviderSelection.js\";\nimport { TokenSelection } from \"./TokenSelection.js\";\nimport { WalletFiatSelection } from \"./WalletFiatSelection.js\";\n\ntype PaymentSelectionProps = {\n  /**\n   * The destination token to bridge to\n   */\n  destinationToken: Token;\n\n  /**\n   * The destination amount to bridge\n   */\n  destinationAmount: string;\n\n  /**\n   * The receiver address\n   */\n  receiverAddress: Address;\n\n  /**\n   * ThirdwebClient for API calls\n   */\n  client: ThirdwebClient;\n\n  /**\n   * Called when user selects a payment method\n   */\n  onPaymentMethodSelected: (paymentMethod: PaymentMethod) => void;\n\n  /**\n   * Called when an error occurs\n   */\n  onError: (error: Error) => void;\n\n  /**\n   * Called when user wants to go back\n   */\n  onBack: () => void;\n\n  /**\n   * Connect options for wallet connection\n   */\n  connectOptions: PayEmbedConnectOptions | undefined;\n\n  /**\n   * Locale for connect UI\n   */\n  connectLocale: ConnectLocale;\n\n  /**\n   * Allowed payment methods\n   */\n  paymentMethods: (\"crypto\" | \"card\")[];\n\n  /**\n   * Fee payer\n   */\n  feePayer: \"sender\" | \"receiver\" | undefined;\n\n  /**\n   * The currency to use for the payment.\n   * @default \"USD\"\n   */\n  currency: SupportedFiatCurrency;\n\n  /**\n   * The user's ISO 3166 alpha-2 country code. This is used to determine onramp provider support.\n   */\n  country: string | undefined;\n\n  supportedTokens: SupportedTokens | undefined;\n};\n\ntype Step =\n  | { type: \"walletSelection\" }\n  | { type: \"tokenSelection\"; selectedWallet: Wallet }\n  | { type: \"fiatProviderSelection\" }\n  | { type: \"walletConnection\" };\n\nexport function PaymentSelection({\n  destinationToken,\n  client,\n  destinationAmount,\n  receiverAddress,\n  onPaymentMethodSelected,\n  onError,\n  onBack,\n  connectOptions,\n  connectLocale,\n  paymentMethods,\n  supportedTokens,\n  feePayer,\n  currency,\n  country,\n}: PaymentSelectionProps) {\n  const connectedWallets = useConnectedWallets();\n  const activeWallet = useActiveWallet();\n\n  const initialStep =\n    paymentMethods.length === 1 && paymentMethods[0] === \"card\"\n      ? {\n          type: \"fiatProviderSelection\" as const,\n        }\n      : {\n          type: \"walletSelection\" as const,\n        };\n\n  const [currentStep, setCurrentStep] = useState<Step>(initialStep);\n\n  useQuery({\n    queryFn: () => {\n      trackPayEvent({\n        client,\n        event: \"payment_selection\",\n        toChainId: destinationToken.chainId,\n        toToken: destinationToken.address,\n      });\n      return true;\n    },\n    queryKey: [\"payment_selection\"],\n  });\n\n  const payerWallet =\n    currentStep.type === \"tokenSelection\"\n      ? currentStep.selectedWallet\n      : activeWallet;\n  const {\n    data: suitableTokenPaymentMethods,\n    isLoading: paymentMethodsLoading,\n    error: paymentMethodsError,\n  } = usePaymentMethods({\n    client,\n    destinationAmount,\n    destinationToken,\n    payerWallet,\n    supportedTokens,\n  });\n\n  // Handle error from usePaymentMethods\n  useEffect(() => {\n    if (paymentMethodsError) {\n      onError(paymentMethodsError as Error);\n    }\n  }, [paymentMethodsError, onError]);\n\n  const handlePaymentMethodSelected = (paymentMethod: PaymentMethod) => {\n    try {\n      onPaymentMethodSelected(paymentMethod);\n    } catch (error) {\n      onError(error as Error);\n    }\n  };\n\n  const handleWalletSelected = (wallet: Wallet) => {\n    setCurrentStep({ selectedWallet: wallet, type: \"tokenSelection\" });\n  };\n\n  const handleConnectWallet = async () => {\n    setCurrentStep({ type: \"walletConnection\" });\n  };\n\n  const handleFiatSelected = () => {\n    setCurrentStep({ type: \"fiatProviderSelection\" });\n  };\n\n  const handleBackToWalletSelection = () => {\n    setCurrentStep({ type: \"walletSelection\" });\n  };\n\n  const handleOnrampProviderSelected = (\n    provider: \"coinbase\" | \"stripe\" | \"transak\",\n  ) => {\n    const recipientAddress =\n      receiverAddress || payerWallet?.getAccount()?.address;\n    if (!recipientAddress) {\n      onError(new Error(\"No recipient address available for fiat payment\"));\n      return;\n    }\n\n    const fiatPaymentMethod: PaymentMethod = {\n      currency: currency || \"USD\",\n      onramp: provider,\n      payerWallet,\n      type: \"fiat\",\n    };\n    handlePaymentMethodSelected(fiatPaymentMethod);\n  };\n\n  const getStepTitle = () => {\n    switch (currentStep.type) {\n      case \"walletSelection\":\n        return \"Choose Payment Method\";\n      case \"tokenSelection\":\n        return \"Select Token\";\n      case \"fiatProviderSelection\":\n        return \"Select Payment Provider\";\n      case \"walletConnection\":\n        return \"Connect Wallet\";\n    }\n  };\n\n  const getBackHandler = () => {\n    if (paymentMethods.length === 1 && paymentMethods[0] === \"card\") {\n      return onBack;\n    }\n    switch (currentStep.type) {\n      case \"walletSelection\":\n        return onBack;\n      case \"tokenSelection\":\n      case \"fiatProviderSelection\":\n      case \"walletConnection\":\n        return handleBackToWalletSelection;\n    }\n  };\n\n  // Handle rendering WalletSwitcherConnectionScreen\n  if (currentStep.type === \"walletConnection\") {\n    const destinationChain = destinationToken\n      ? defineChain(destinationToken.chainId)\n      : undefined;\n    const chains = destinationChain\n      ? [destinationChain, ...(connectOptions?.chains || [])]\n      : connectOptions?.chains;\n\n    return (\n      <WalletSwitcherConnectionScreen\n        accountAbstraction={connectOptions?.accountAbstraction}\n        appMetadata={connectOptions?.appMetadata}\n        chain={destinationChain || connectOptions?.chain}\n        chains={chains}\n        client={client}\n        connectLocale={connectLocale}\n        hiddenWallets={[]}\n        isEmbed={false}\n        onBack={handleBackToWalletSelection}\n        onSelect={handleWalletSelected}\n        recommendedWallets={connectOptions?.recommendedWallets}\n        showAllWallets={\n          connectOptions?.showAllWallets === undefined\n            ? true\n            : connectOptions?.showAllWallets\n        }\n        walletConnect={connectOptions?.walletConnect}\n        wallets={connectOptions?.wallets?.filter((w) => w.id !== \"inApp\")}\n      />\n    );\n  }\n\n  return (\n    <Container flex=\"column\" px=\"md\" pt=\"md+\">\n      <ModalHeader onBack={getBackHandler()} title={getStepTitle()} />\n      <Spacer y=\"lg\" />\n\n      <Container flex=\"column\" style={{ minHeight: \"300px\" }}>\n        {currentStep.type === \"walletSelection\" && (\n          <WalletFiatSelection\n            client={client}\n            connectedWallets={connectedWallets}\n            onConnectWallet={handleConnectWallet}\n            onFiatSelected={handleFiatSelected}\n            onWalletSelected={handleWalletSelected}\n            paymentMethods={paymentMethods}\n          />\n        )}\n\n        {currentStep.type === \"tokenSelection\" && (\n          <TokenSelection\n            client={client}\n            destinationAmount={toUnits(\n              destinationAmount,\n              destinationToken.decimals,\n            )}\n            destinationToken={destinationToken}\n            feePayer={feePayer}\n            onBack={handleBackToWalletSelection}\n            onPaymentMethodSelected={handlePaymentMethodSelected}\n            paymentMethods={suitableTokenPaymentMethods}\n            paymentMethodsLoading={paymentMethodsLoading}\n            currency={currency}\n          />\n        )}\n\n        {currentStep.type === \"fiatProviderSelection\" && (\n          <FiatProviderSelection\n            country={country}\n            client={client}\n            onProviderSelected={handleOnrampProviderSelected}\n            toAddress={\n              receiverAddress || payerWallet?.getAccount()?.address || \"\"\n            }\n            toAmount={destinationAmount}\n            toChainId={destinationToken.chainId}\n            toTokenAddress={destinationToken.address}\n            currency={currency}\n          />\n        )}\n      </Container>\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}