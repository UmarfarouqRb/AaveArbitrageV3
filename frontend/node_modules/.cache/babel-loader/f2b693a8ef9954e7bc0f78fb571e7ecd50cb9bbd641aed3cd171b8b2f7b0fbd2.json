{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { defineChain } from \"../chains/utils.js\";\nimport { getThirdwebBaseUrl } from \"../utils/domains.js\";\nimport { getClientFetch } from \"../utils/fetch.js\";\nimport { stringify } from \"../utils/json.js\";\nimport { ApiError } from \"./types/Errors.js\";\n/**\n * Retrieves a Bridge quote for the provided sell intent. The quote will specify the expected `destinationAmount` that will be received in exchange for the specified `originAmount`, which is specified with the `sellAmountWei` option.\n *\n * @example\n * ```typescript\n * import { Bridge, NATIVE_TOKEN_ADDRESS } from \"thirdweb\";\n *\n * const quote = await Bridge.Sell.quote({\n *   originChainId: 1,\n *   originTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   destinationChainId: 10,\n *   destinationTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   amount: toWei(\"0.01\"),\n *   client: thirdwebClient,\n * });\n * ```\n *\n * This will return a quote that might look like:\n * ```typescript\n * {\n *   originAmount: 1000000000000000000n,\n *   destinationAmount: 9999979011973735n,\n *   blockNumber: 22026509n,\n *   timestamp: 1741730936680,\n *   estimatedExecutionTimeMs: 1000\n *   steps: [\n *     {\n *       originToken: {\n *         chainId: 1,\n *         address: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *         symbol: \"ETH\",\n *         name: \"Ethereum\",\n *         decimals: 18,\n *         priceUsd: 2000,\n *         iconUri: \"https://...\"\n *       },\n *       destinationToken: {\n *         chainId: 10,\n *         address: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *         symbol: \"ETH\",\n *         name: \"Ethereum\",\n *         decimals: 18,\n *         priceUsd: 2000,\n *         iconUri: \"https://...\"\n *       },\n *       originAmount: 1000000000000000000n,\n *       destinationAmount:  99999979011973735n,\n *       estimatedExecutionTimeMs: 1000\n *     }\n *   ],\n *   intent: {\n *     originChainId: 1,\n *     originTokenAddress: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *     destinationChainId: 10,\n *     destinationTokenAddress: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *     amount: 1000000000000000000n\n *   }\n * }\n * ```\n *\n * The quote is an **estimate** for how much you would expect to receive for a specific sell. This quote is not guaranteed and you should use `Sell.prepare` to get a finalized quote with transaction data ready for execution.\n * So why use `quote`? The quote function is sometimes slightly faster than `prepare`, and can be used before the user connects their wallet.\n *\n * You can access this functions input and output types with `Sell.quote.Options` and `Sell.quote.Result`, respectively.\n *\n * To limit quotes to routes that have a certain number of steps involved, use the `maxSteps` option.\n *\n * ```ts\n * const quote = await Bridge.Sell.quote({\n *   originChainId: 1,\n *   originTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   destinationChainId: 10,\n *   destinationTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   amount: toWei(\"0.01\"),\n *   maxSteps: 2, // Will only return a quote for routes with 2 or fewer steps\n *   client: thirdwebClient,\n * });\n * ```\n *\n * @param options - The options for the quote.\n * @param options.originChainId - The chain ID of the origin token.\n * @param options.originTokenAddress - The address of the origin token.\n * @param options.destinationChainId - The chain ID of the destination token.\n * @param options.destinationTokenAddress - The address of the destination token.\n * @param options.amount - The amount of the origin token to sell.\n * @param [options.maxSteps] - Limit the number of total steps in the route.\n * @param options.client - Your thirdweb client.\n *\n * @returns A promise that resolves to a non-finalized quote for the requested sell.\n *\n * @throws Will throw an error if there is an issue fetching the quote.\n * @bridge Sell\n * @beta\n */\nexport async function quote(options) {\n  const {\n    originChainId,\n    originTokenAddress,\n    destinationChainId,\n    destinationTokenAddress,\n    amount,\n    client,\n    maxSteps\n  } = options;\n  const clientFetch = getClientFetch(client);\n  const url = new URL(\"\".concat(getThirdwebBaseUrl(\"bridge\"), \"/v1/sell/quote\"));\n  url.searchParams.set(\"originChainId\", originChainId.toString());\n  url.searchParams.set(\"originTokenAddress\", originTokenAddress);\n  url.searchParams.set(\"destinationChainId\", destinationChainId.toString());\n  url.searchParams.set(\"destinationTokenAddress\", destinationTokenAddress);\n  url.searchParams.set(\"sellAmountWei\", amount.toString());\n  url.searchParams.set(\"amount\", amount.toString());\n  if (typeof maxSteps !== \"undefined\") {\n    url.searchParams.set(\"maxSteps\", maxSteps.toString());\n  }\n  const response = await clientFetch(url.toString());\n  if (!response.ok) {\n    const errorJson = await response.json();\n    throw new ApiError({\n      code: errorJson.code || \"UNKNOWN_ERROR\",\n      correlationId: errorJson.correlationId || undefined,\n      message: errorJson.message || response.statusText,\n      statusCode: response.status\n    });\n  }\n  const {\n    data\n  } = await response.json();\n  return {\n    blockNumber: data.blockNumber ? BigInt(data.blockNumber) : undefined,\n    destinationAmount: BigInt(data.destinationAmount),\n    estimatedExecutionTimeMs: data.estimatedExecutionTimeMs,\n    intent: {\n      amount,\n      destinationChainId,\n      destinationTokenAddress,\n      originChainId,\n      originTokenAddress\n    },\n    originAmount: BigInt(data.originAmount),\n    steps: data.steps,\n    timestamp: data.timestamp\n  };\n}\n/**\n * Prepares a **finalized** Bridge quote for the provided sell request with transaction data. This function will return everything `quote` does, with the addition of a series of prepared transactions and the associated expiration timestamp.\n *\n * @example\n * ```typescript\n * import { Bridge, NATIVE_TOKEN_ADDRESS } from \"thirdweb\";\n *\n * const quote = await Bridge.Sell.prepare({\n *   originChainId: 1,\n *   originTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   destinationChainId: 10,\n *   destinationTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   amount: toWei(\"0.01\"),\n *   client: thirdwebClient,\n * });\n * ```\n *\n * This will return a quote that might look like:\n * ```typescript\n * {\n *   originAmount: 2000000000n,\n *   destinationAmount:  9980000000000000000n,\n *   blockNumber: 22026509n,\n *   timestamp: 1741730936680,\n *   estimatedExecutionTimeMs: 1000\n *   steps: [\n *     {\n *       originToken: {\n *         chainId: 1,\n *         address: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n *         symbol: \"USDC\",\n *         name: \"USDC\",\n *         decimals: 6,\n *         priceUsd: 1,\n *         iconUri: \"https://...\"\n *       },\n *       destinationToken: {\n *         chainId: 10,\n *         address: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *         symbol: \"ETH\",\n *         name: \"Ethereum\",\n *         decimals: 18,\n *         priceUsd: 2000,\n *         iconUri: \"https://...\"\n *       },\n *       originAmount: 2000000000n,\n *       destinationAmount:  9980000000000000000n,\n *       estimatedExecutionTimeMs: 1000\n *     }\n *     transactions: [\n *       {\n *         id: \"0x...\",\n *         action: \"approval\",\n *         to: \"0x...\",\n *         data: \"0x...\",\n *         chainId: 10,\n *         type: \"eip1559\"\n *       },\n *       {\n *         id: \"0x...\",\n *         action: \"sell\",\n *         to: \"0x...\",\n *         data: \"0x...\",\n *         chainId: 10,\n *         type: \"eip1559\"\n *       }\n *     ],\n *   ],\n *   expiration: 1741730936680,\n *   intent: {\n *     originChainId: 1,\n *     originTokenAddress: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n *     destinationChainId: 10,\n *     destinationTokenAddress: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *     amount: 2000000000n\n *   }\n * }\n * ```\n *\n * ## Sending the transactions\n * The `transactions` array is a series of transactions ready to be executed (with `sendTransaction`) must be executed one after the other in order to fulfill the complete route. There are a few things to keep in mind when executing these transactions:\n *  - Approvals will have the `approval` action specified. You can perform approvals with `sendAndConfirmTransaction`, then proceed to the next transaction.\n *  - All transactions are assumed to be executed by the `sender` address, regardless of which chain they are on. The final transaction will use the `receiver` as the recipient address.\n *  - If an `expiration` timestamp is provided, all transactions must be executed before that time to guarantee successful execution at the specified price.\n *\n * NOTE: To get the status of each non-approval transaction, use `Bridge.status` rather than checking for transaction inclusion. This function will ensure full bridge completion on the destination chain.\n *\n * You can access this functions input and output types with `Sell.prepare.Options` and `Sell.prepare.Result`, respectively.\n *\n * You can include arbitrary data to be included on any webhooks and status responses with the `purchaseData` option.\n *\n * ```ts\n * const quote = await Bridge.Sell.prepare({\n *   originChainId: 1,\n *   originTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   destinationChainId: 10,\n *   destinationTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   amount: toWei(\"0.01\"),\n *   purchaseData: {\n *     size: \"large\",\n *     shippingAddress: \"123 Main St, New York, NY 10001\",\n *   },\n *   client: thirdwebClient,\n * });\n * ```\n *\n * To limit quotes to routes that have a certain number of steps involved, use the `maxSteps` option.\n *\n * ```ts\n * const quote = await Bridge.Sell.prepare({\n *   originChainId: 1,\n *   originTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   destinationChainId: 10,\n *   destinationTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   amount: toWei(\"0.01\"),\n *   maxSteps: 2, // Will only return a quote for routes with 2 or fewer steps\n *   client: thirdwebClient,\n * });\n * ```\n *\n * @param options - The options for the quote.\n * @param options.originChainId - The chain ID of the origin token.\n * @param options.originTokenAddress - The address of the origin token.\n * @param options.destinationChainId - The chain ID of the destination token.\n * @param options.destinationTokenAddress - The address of the destination token.\n * @param options.amount - The amount of the origin token to sell.\n * @param options.sender - The address of the sender.\n * @param options.receiver - The address of the recipient.\n * @param options.purchaseData - Arbitrary data to be passed to the purchase function and included with any webhooks or status calls.\n * @param [options.maxSteps] - Limit the number of total steps in the route.\n * @param options.client - Your thirdweb client.\n *\n * @returns A promise that resolves to a finalized quote and transactions for the requested sell.\n *\n * @throws Will throw an error if there is an issue fetching the quote.\n * @bridge Sell\n * @beta\n */\nexport async function prepare(options) {\n  const {\n    originChainId,\n    originTokenAddress,\n    destinationChainId,\n    destinationTokenAddress,\n    amount,\n    sender,\n    receiver,\n    client,\n    purchaseData,\n    maxSteps,\n    paymentLinkId\n  } = options;\n  const clientFetch = getClientFetch(client);\n  const url = new URL(\"\".concat(getThirdwebBaseUrl(\"bridge\"), \"/v1/sell/prepare\"));\n  const response = await clientFetch(url.toString(), {\n    body: stringify({\n      amount: amount.toString(),\n      destinationChainId: destinationChainId.toString(),\n      destinationTokenAddress,\n      maxSteps,\n      originChainId: originChainId.toString(),\n      originTokenAddress,\n      paymentLinkId,\n      purchaseData,\n      receiver,\n      sellAmountWei: amount.toString(),\n      sender\n    }),\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    method: \"POST\"\n  });\n  if (!response.ok) {\n    const errorJson = await response.json();\n    throw new ApiError({\n      code: errorJson.code || \"UNKNOWN_ERROR\",\n      correlationId: errorJson.correlationId || undefined,\n      message: errorJson.message || response.statusText,\n      statusCode: response.status\n    });\n  }\n  const {\n    data\n  } = await response.json();\n  return {\n    blockNumber: data.blockNumber ? BigInt(data.blockNumber) : undefined,\n    destinationAmount: BigInt(data.destinationAmount),\n    estimatedExecutionTimeMs: data.estimatedExecutionTimeMs,\n    expiration: data.expiration,\n    intent: {\n      amount,\n      destinationChainId,\n      destinationTokenAddress,\n      originChainId,\n      originTokenAddress,\n      purchaseData,\n      receiver,\n      sender\n    },\n    originAmount: BigInt(data.originAmount),\n    steps: data.steps.map(step => _objectSpread(_objectSpread({}, step), {}, {\n      transactions: step.transactions.map(transaction => _objectSpread(_objectSpread({}, transaction), {}, {\n        chain: defineChain(transaction.chainId),\n        client,\n        value: transaction.value ? BigInt(transaction.value) : undefined\n      }))\n    })),\n    timestamp: data.timestamp\n  };\n}","map":{"version":3,"names":["defineChain","getThirdwebBaseUrl","getClientFetch","stringify","ApiError","quote","options","originChainId","originTokenAddress","destinationChainId","destinationTokenAddress","amount","client","maxSteps","clientFetch","url","URL","concat","searchParams","set","toString","response","ok","errorJson","json","code","correlationId","undefined","message","statusText","statusCode","status","data","blockNumber","BigInt","destinationAmount","estimatedExecutionTimeMs","intent","originAmount","steps","timestamp","prepare","sender","receiver","purchaseData","paymentLinkId","body","sellAmountWei","headers","method","expiration","map","step","_objectSpread","transactions","transaction","chain","chainId","value"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/bridge/Sell.ts"],"sourcesContent":["import type { Address as ox__Address } from \"ox\";\nimport { defineChain } from \"../chains/utils.js\";\nimport type { ThirdwebClient } from \"../client/client.js\";\nimport type { PurchaseData } from \"../pay/types.js\";\nimport { getThirdwebBaseUrl } from \"../utils/domains.js\";\nimport { getClientFetch } from \"../utils/fetch.js\";\nimport { stringify } from \"../utils/json.js\";\nimport { ApiError } from \"./types/Errors.js\";\nimport type { PreparedQuote, Quote } from \"./types/Quote.js\";\n\n/**\n * Retrieves a Bridge quote for the provided sell intent. The quote will specify the expected `destinationAmount` that will be received in exchange for the specified `originAmount`, which is specified with the `sellAmountWei` option.\n *\n * @example\n * ```typescript\n * import { Bridge, NATIVE_TOKEN_ADDRESS } from \"thirdweb\";\n *\n * const quote = await Bridge.Sell.quote({\n *   originChainId: 1,\n *   originTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   destinationChainId: 10,\n *   destinationTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   amount: toWei(\"0.01\"),\n *   client: thirdwebClient,\n * });\n * ```\n *\n * This will return a quote that might look like:\n * ```typescript\n * {\n *   originAmount: 1000000000000000000n,\n *   destinationAmount: 9999979011973735n,\n *   blockNumber: 22026509n,\n *   timestamp: 1741730936680,\n *   estimatedExecutionTimeMs: 1000\n *   steps: [\n *     {\n *       originToken: {\n *         chainId: 1,\n *         address: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *         symbol: \"ETH\",\n *         name: \"Ethereum\",\n *         decimals: 18,\n *         priceUsd: 2000,\n *         iconUri: \"https://...\"\n *       },\n *       destinationToken: {\n *         chainId: 10,\n *         address: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *         symbol: \"ETH\",\n *         name: \"Ethereum\",\n *         decimals: 18,\n *         priceUsd: 2000,\n *         iconUri: \"https://...\"\n *       },\n *       originAmount: 1000000000000000000n,\n *       destinationAmount:  99999979011973735n,\n *       estimatedExecutionTimeMs: 1000\n *     }\n *   ],\n *   intent: {\n *     originChainId: 1,\n *     originTokenAddress: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *     destinationChainId: 10,\n *     destinationTokenAddress: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *     amount: 1000000000000000000n\n *   }\n * }\n * ```\n *\n * The quote is an **estimate** for how much you would expect to receive for a specific sell. This quote is not guaranteed and you should use `Sell.prepare` to get a finalized quote with transaction data ready for execution.\n * So why use `quote`? The quote function is sometimes slightly faster than `prepare`, and can be used before the user connects their wallet.\n *\n * You can access this functions input and output types with `Sell.quote.Options` and `Sell.quote.Result`, respectively.\n *\n * To limit quotes to routes that have a certain number of steps involved, use the `maxSteps` option.\n *\n * ```ts\n * const quote = await Bridge.Sell.quote({\n *   originChainId: 1,\n *   originTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   destinationChainId: 10,\n *   destinationTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   amount: toWei(\"0.01\"),\n *   maxSteps: 2, // Will only return a quote for routes with 2 or fewer steps\n *   client: thirdwebClient,\n * });\n * ```\n *\n * @param options - The options for the quote.\n * @param options.originChainId - The chain ID of the origin token.\n * @param options.originTokenAddress - The address of the origin token.\n * @param options.destinationChainId - The chain ID of the destination token.\n * @param options.destinationTokenAddress - The address of the destination token.\n * @param options.amount - The amount of the origin token to sell.\n * @param [options.maxSteps] - Limit the number of total steps in the route.\n * @param options.client - Your thirdweb client.\n *\n * @returns A promise that resolves to a non-finalized quote for the requested sell.\n *\n * @throws Will throw an error if there is an issue fetching the quote.\n * @bridge Sell\n * @beta\n */\nexport async function quote(options: quote.Options): Promise<quote.Result> {\n  const {\n    originChainId,\n    originTokenAddress,\n    destinationChainId,\n    destinationTokenAddress,\n    amount,\n    client,\n    maxSteps,\n  } = options;\n\n  const clientFetch = getClientFetch(client);\n  const url = new URL(`${getThirdwebBaseUrl(\"bridge\")}/v1/sell/quote`);\n  url.searchParams.set(\"originChainId\", originChainId.toString());\n  url.searchParams.set(\"originTokenAddress\", originTokenAddress);\n  url.searchParams.set(\"destinationChainId\", destinationChainId.toString());\n  url.searchParams.set(\"destinationTokenAddress\", destinationTokenAddress);\n  url.searchParams.set(\"sellAmountWei\", amount.toString());\n  url.searchParams.set(\"amount\", amount.toString());\n  if (typeof maxSteps !== \"undefined\") {\n    url.searchParams.set(\"maxSteps\", maxSteps.toString());\n  }\n\n  const response = await clientFetch(url.toString());\n  if (!response.ok) {\n    const errorJson = await response.json();\n    throw new ApiError({\n      code: errorJson.code || \"UNKNOWN_ERROR\",\n      correlationId: errorJson.correlationId || undefined,\n      message: errorJson.message || response.statusText,\n      statusCode: response.status,\n    });\n  }\n\n  const { data }: { data: Quote } = await response.json();\n  return {\n    blockNumber: data.blockNumber ? BigInt(data.blockNumber) : undefined,\n    destinationAmount: BigInt(data.destinationAmount),\n    estimatedExecutionTimeMs: data.estimatedExecutionTimeMs,\n    intent: {\n      amount,\n      destinationChainId,\n      destinationTokenAddress,\n      originChainId,\n      originTokenAddress,\n    },\n    originAmount: BigInt(data.originAmount),\n    steps: data.steps,\n    timestamp: data.timestamp,\n  };\n}\n\n/**\n * Namespace containing types for the sell quote function.\n * @namespace quote\n * @bridge Sell\n */\nexport declare namespace quote {\n  /**\n   * Options for getting a sell quote.\n   * @interface Options\n   * @bridge Sell\n   */\n  type Options = {\n    /** The origin chain ID */\n    originChainId: number;\n    /** The origin token address */\n    originTokenAddress: ox__Address.Address;\n    /** The destination chain ID */\n    destinationChainId: number;\n    /** The destination token address */\n    destinationTokenAddress: ox__Address.Address;\n    /** The amount to sell in wei */\n    amount: bigint;\n    /** Your thirdweb client */\n    client: ThirdwebClient;\n    /** Maximum number of steps in the route */\n    maxSteps?: number;\n  };\n\n  /**\n   * Result returned from getting a sell quote.\n   * Contains quote details and intent information.\n   * @interface Result\n   * @bridge Sell\n   */\n  type Result = Quote & {\n    intent: {\n      originChainId: number;\n      originTokenAddress: ox__Address.Address;\n      destinationChainId: number;\n      destinationTokenAddress: ox__Address.Address;\n      amount: bigint;\n    };\n  };\n}\n\n/**\n * Prepares a **finalized** Bridge quote for the provided sell request with transaction data. This function will return everything `quote` does, with the addition of a series of prepared transactions and the associated expiration timestamp.\n *\n * @example\n * ```typescript\n * import { Bridge, NATIVE_TOKEN_ADDRESS } from \"thirdweb\";\n *\n * const quote = await Bridge.Sell.prepare({\n *   originChainId: 1,\n *   originTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   destinationChainId: 10,\n *   destinationTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   amount: toWei(\"0.01\"),\n *   client: thirdwebClient,\n * });\n * ```\n *\n * This will return a quote that might look like:\n * ```typescript\n * {\n *   originAmount: 2000000000n,\n *   destinationAmount:  9980000000000000000n,\n *   blockNumber: 22026509n,\n *   timestamp: 1741730936680,\n *   estimatedExecutionTimeMs: 1000\n *   steps: [\n *     {\n *       originToken: {\n *         chainId: 1,\n *         address: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n *         symbol: \"USDC\",\n *         name: \"USDC\",\n *         decimals: 6,\n *         priceUsd: 1,\n *         iconUri: \"https://...\"\n *       },\n *       destinationToken: {\n *         chainId: 10,\n *         address: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *         symbol: \"ETH\",\n *         name: \"Ethereum\",\n *         decimals: 18,\n *         priceUsd: 2000,\n *         iconUri: \"https://...\"\n *       },\n *       originAmount: 2000000000n,\n *       destinationAmount:  9980000000000000000n,\n *       estimatedExecutionTimeMs: 1000\n *     }\n *     transactions: [\n *       {\n *         id: \"0x...\",\n *         action: \"approval\",\n *         to: \"0x...\",\n *         data: \"0x...\",\n *         chainId: 10,\n *         type: \"eip1559\"\n *       },\n *       {\n *         id: \"0x...\",\n *         action: \"sell\",\n *         to: \"0x...\",\n *         data: \"0x...\",\n *         chainId: 10,\n *         type: \"eip1559\"\n *       }\n *     ],\n *   ],\n *   expiration: 1741730936680,\n *   intent: {\n *     originChainId: 1,\n *     originTokenAddress: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n *     destinationChainId: 10,\n *     destinationTokenAddress: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n *     amount: 2000000000n\n *   }\n * }\n * ```\n *\n * ## Sending the transactions\n * The `transactions` array is a series of transactions ready to be executed (with `sendTransaction`) must be executed one after the other in order to fulfill the complete route. There are a few things to keep in mind when executing these transactions:\n *  - Approvals will have the `approval` action specified. You can perform approvals with `sendAndConfirmTransaction`, then proceed to the next transaction.\n *  - All transactions are assumed to be executed by the `sender` address, regardless of which chain they are on. The final transaction will use the `receiver` as the recipient address.\n *  - If an `expiration` timestamp is provided, all transactions must be executed before that time to guarantee successful execution at the specified price.\n *\n * NOTE: To get the status of each non-approval transaction, use `Bridge.status` rather than checking for transaction inclusion. This function will ensure full bridge completion on the destination chain.\n *\n * You can access this functions input and output types with `Sell.prepare.Options` and `Sell.prepare.Result`, respectively.\n *\n * You can include arbitrary data to be included on any webhooks and status responses with the `purchaseData` option.\n *\n * ```ts\n * const quote = await Bridge.Sell.prepare({\n *   originChainId: 1,\n *   originTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   destinationChainId: 10,\n *   destinationTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   amount: toWei(\"0.01\"),\n *   purchaseData: {\n *     size: \"large\",\n *     shippingAddress: \"123 Main St, New York, NY 10001\",\n *   },\n *   client: thirdwebClient,\n * });\n * ```\n *\n * To limit quotes to routes that have a certain number of steps involved, use the `maxSteps` option.\n *\n * ```ts\n * const quote = await Bridge.Sell.prepare({\n *   originChainId: 1,\n *   originTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   destinationChainId: 10,\n *   destinationTokenAddress: NATIVE_TOKEN_ADDRESS,\n *   amount: toWei(\"0.01\"),\n *   maxSteps: 2, // Will only return a quote for routes with 2 or fewer steps\n *   client: thirdwebClient,\n * });\n * ```\n *\n * @param options - The options for the quote.\n * @param options.originChainId - The chain ID of the origin token.\n * @param options.originTokenAddress - The address of the origin token.\n * @param options.destinationChainId - The chain ID of the destination token.\n * @param options.destinationTokenAddress - The address of the destination token.\n * @param options.amount - The amount of the origin token to sell.\n * @param options.sender - The address of the sender.\n * @param options.receiver - The address of the recipient.\n * @param options.purchaseData - Arbitrary data to be passed to the purchase function and included with any webhooks or status calls.\n * @param [options.maxSteps] - Limit the number of total steps in the route.\n * @param options.client - Your thirdweb client.\n *\n * @returns A promise that resolves to a finalized quote and transactions for the requested sell.\n *\n * @throws Will throw an error if there is an issue fetching the quote.\n * @bridge Sell\n * @beta\n */\nexport async function prepare(\n  options: prepare.Options,\n): Promise<prepare.Result> {\n  const {\n    originChainId,\n    originTokenAddress,\n    destinationChainId,\n    destinationTokenAddress,\n    amount,\n    sender,\n    receiver,\n    client,\n    purchaseData,\n    maxSteps,\n    paymentLinkId,\n  } = options;\n\n  const clientFetch = getClientFetch(client);\n  const url = new URL(`${getThirdwebBaseUrl(\"bridge\")}/v1/sell/prepare`);\n\n  const response = await clientFetch(url.toString(), {\n    body: stringify({\n      amount: amount.toString(),\n      destinationChainId: destinationChainId.toString(),\n      destinationTokenAddress,\n      maxSteps,\n      originChainId: originChainId.toString(),\n      originTokenAddress,\n      paymentLinkId,\n      purchaseData,\n      receiver,\n      sellAmountWei: amount.toString(),\n      sender,\n    }),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    method: \"POST\",\n  });\n  if (!response.ok) {\n    const errorJson = await response.json();\n    throw new ApiError({\n      code: errorJson.code || \"UNKNOWN_ERROR\",\n      correlationId: errorJson.correlationId || undefined,\n      message: errorJson.message || response.statusText,\n      statusCode: response.status,\n    });\n  }\n\n  const { data }: { data: PreparedQuote } = await response.json();\n  return {\n    blockNumber: data.blockNumber ? BigInt(data.blockNumber) : undefined,\n    destinationAmount: BigInt(data.destinationAmount),\n    estimatedExecutionTimeMs: data.estimatedExecutionTimeMs,\n    expiration: data.expiration,\n    intent: {\n      amount,\n      destinationChainId,\n      destinationTokenAddress,\n      originChainId,\n      originTokenAddress,\n      purchaseData,\n      receiver,\n      sender,\n    },\n    originAmount: BigInt(data.originAmount),\n    steps: data.steps.map((step) => ({\n      ...step,\n      transactions: step.transactions.map((transaction) => ({\n        ...transaction,\n        chain: defineChain(transaction.chainId),\n        client,\n        value: transaction.value ? BigInt(transaction.value) : undefined,\n      })),\n    })),\n    timestamp: data.timestamp,\n  };\n}\n\n/**\n * Namespace containing types for the sell prepare function.\n * @namespace prepare\n * @bridge Sell\n */\nexport declare namespace prepare {\n  /**\n   * Options for preparing a sell transaction.\n   * @interface Options\n   * @bridge Sell\n   */\n  type Options = {\n    /** The origin chain ID */\n    originChainId: number;\n    /** The origin token address */\n    originTokenAddress: ox__Address.Address;\n    /** The destination chain ID */\n    destinationChainId: number;\n    /** The destination token address */\n    destinationTokenAddress: ox__Address.Address;\n    /** The amount to sell in wei */\n    amount: bigint;\n    /** The sender address */\n    sender: ox__Address.Address;\n    /** The receiver address */\n    receiver: ox__Address.Address;\n    /** Your thirdweb client */\n    client: ThirdwebClient;\n    /** Arbitrary purchase data */\n    purchaseData?: PurchaseData;\n    /** Maximum number of steps in the route */\n    maxSteps?: number;\n    /**\n     * @hidden\n     */\n    paymentLinkId?: string;\n  };\n\n  /**\n   * Result returned from preparing a sell transaction.\n   * Contains prepared quote with transaction data and intent information.\n   * @interface Result\n   * @bridge Sell\n   */\n  type Result = PreparedQuote & {\n    intent: {\n      originChainId: number;\n      originTokenAddress: ox__Address.Address;\n      destinationChainId: number;\n      destinationTokenAddress: ox__Address.Address;\n      amount: bigint;\n      sender: ox__Address.Address;\n      receiver: ox__Address.Address;\n      purchaseData?: PurchaseData;\n    };\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}