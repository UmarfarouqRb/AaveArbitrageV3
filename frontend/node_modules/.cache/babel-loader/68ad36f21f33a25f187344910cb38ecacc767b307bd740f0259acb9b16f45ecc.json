{"ast":null,"code":"\"use client\";\n\nimport _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"chain\", \"tokenAddress\", \"loadingComponent\", \"fallbackComponent\", \"queryOptions\", \"formatFn\", \"showBalanceInFiat\"];\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useActiveWalletChain } from \"../../../../../react/core/hooks/wallets/useActiveWalletChain.js\";\nimport { getAddress } from \"../../../../../utils/address.js\";\nimport { useAccountContext } from \"../../../../core/account/provider.js\";\nimport { formatAccountFiatBalance, formatAccountTokenBalance, loadAccountBalance } from \"../../../../core/utils/account.js\";\n/**\n * This component fetches and shows the balance of the wallet address on a given chain.\n * It inherits all the attributes of a HTML <span> component, hence you can style it just like how you would style a normal <span>\n *\n *\n * @example\n * ### Basic usage\n * ```tsx\n * import { AccountProvider, AccountBalance } from \"thirdweb/react\";\n * import { ethereum } from \"thirdweb/chains\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountBalance chain={ethereum} />\n * </AccountProvider>\n * ```\n * Result:\n * ```html\n * <span>1.091435 ETH</span>\n * ```\n *\n *\n * ### Format the balance (round up, shorten etc.)\n * The AccountBalance component accepts a `formatFn` which takes in an object of type `AccountBalanceInfo` and outputs a string\n * The function is used to modify the display value of the wallet balance (either in crypto or fiat)\n *\n * ```tsx\n * import type { AccountBalanceInfo } from \"thirdweb/react\";\n * import { formatNumber } from \"thirdweb/utils\";\n *\n * const format = (props: AccountInfoBalance):string => `${formatNumber(props.balance, 1)} ${props.symbol.toLowerCase()}`\n *\n * <AccountBalance formatFn={format} />\n * ```\n *\n * Result:\n * ```html\n * <span>1.1 eth</span> // the balance is rounded up to 1 decimal and the symbol is lowercased\n * ```\n *\n * ### Show a loading sign when the balance is being fetched\n * ```tsx\n * import { AccountProvider, AccountBalance } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountBalance\n *     chain={ethereum}\n *     loadingComponent={<Spinner />}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Fallback to something when the balance fails to resolve\n * ```tsx\n * <AccountProvider address=\"0x...\">\n *   <AccountBalance\n *     chain={nonExistentChain}\n *     fallbackComponent={\"Failed to load\"}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Custom query options for useQuery\n * This component uses `@tanstack-query`'s useQuery internally.\n * You can use the `queryOptions` prop for more fine-grained control\n * ```tsx\n * <AccountBalance\n *   queryOptions={{\n *     enabled: isEnabled,\n *     retry: 4,\n *   }}\n * />\n * ```\n *\n * @component\n * @wallet\n * @beta\n */\nexport function AccountBalance(_ref) {\n  let {\n      chain,\n      tokenAddress,\n      loadingComponent,\n      fallbackComponent,\n      queryOptions,\n      formatFn,\n      showBalanceInFiat\n    } = _ref,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n  const {\n    address,\n    client\n  } = useAccountContext();\n  const walletChain = useActiveWalletChain();\n  const chainToLoad = chain || walletChain;\n  const balanceQuery = useQuery(_objectSpread({\n    queryFn: async () => loadAccountBalance({\n      address: getAddress(address),\n      chain: chainToLoad,\n      client,\n      showBalanceInFiat,\n      tokenAddress: tokenAddress ? getAddress(tokenAddress) : undefined\n    }),\n    queryKey: [\"internal_account_balance\", (chainToLoad === null || chainToLoad === void 0 ? void 0 : chainToLoad.id) || -1, address, {\n      tokenAddress\n    }, showBalanceInFiat],\n    retry: false\n  }, queryOptions));\n  if (balanceQuery.isLoading) {\n    return loadingComponent || null;\n  }\n  if (!balanceQuery.data) {\n    return fallbackComponent || null;\n  }\n  // Prioritize using the formatFn from users\n  if (formatFn) {\n    return _jsx(\"span\", _objectSpread(_objectSpread({}, restProps), {}, {\n      children: formatFn(balanceQuery.data)\n    }));\n  }\n  if (showBalanceInFiat) {\n    return _jsx(\"span\", _objectSpread(_objectSpread({}, restProps), {}, {\n      children: formatAccountFiatBalance(_objectSpread(_objectSpread({}, balanceQuery.data), {}, {\n        decimals: 0\n      }))\n    }));\n  }\n  return _jsx(\"span\", _objectSpread(_objectSpread({}, restProps), {}, {\n    children: formatAccountTokenBalance(_objectSpread(_objectSpread({}, balanceQuery.data), {}, {\n      decimals: balanceQuery.data.balance < 1 ? 3 : 2\n    }))\n  }));\n}","map":{"version":3,"names":["_objectSpread","_objectWithoutProperties","_excluded","useQuery","useActiveWalletChain","getAddress","useAccountContext","formatAccountFiatBalance","formatAccountTokenBalance","loadAccountBalance","AccountBalance","_ref","chain","tokenAddress","loadingComponent","fallbackComponent","queryOptions","formatFn","showBalanceInFiat","restProps","address","client","walletChain","chainToLoad","balanceQuery","queryFn","undefined","queryKey","id","retry","isLoading","data","_jsx","children","decimals","balance"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/prebuilt/Account/balance.tsx"],"sourcesContent":["\"use client\";\n\nimport { type UseQueryOptions, useQuery } from \"@tanstack/react-query\";\nimport type React from \"react\";\nimport type { JSX } from \"react\";\nimport type { Chain } from \"../../../../../chains/types.js\";\nimport type { SupportedFiatCurrency } from \"../../../../../pay/convert/type.js\";\nimport { useActiveWalletChain } from \"../../../../../react/core/hooks/wallets/useActiveWalletChain.js\";\nimport { getAddress } from \"../../../../../utils/address.js\";\nimport { useAccountContext } from \"../../../../core/account/provider.js\";\nimport {\n  type AccountBalanceInfo,\n  formatAccountFiatBalance,\n  formatAccountTokenBalance,\n  loadAccountBalance,\n} from \"../../../../core/utils/account.js\";\n\n/**\n * Props for the AccountBalance component\n * @component\n * @wallet\n */\nexport interface AccountBalanceProps\n  extends Omit<React.HTMLAttributes<HTMLSpanElement>, \"children\"> {\n  /**\n   * The network to fetch balance on\n   * If not passed, the component will use the current chain that the wallet is connected to (`useActiveWalletChain()`)\n   */\n  chain?: Chain;\n  /**\n   * By default this component will fetch the balance for the native token on a given chain\n   * If you want to fetch balance for an ERC20 token, use the `tokenAddress` props\n   */\n  tokenAddress?: string;\n  /**\n   * A function to format the balance's display value\n   * use this function to transform the balance display value like round up the number\n   * Particularly useful to avoid overflowing-UI issues\n   */\n  formatFn?: (props: AccountBalanceInfo) => string;\n  /**\n   * This component will be shown while the balance of the account is being fetched\n   * If not passed, the component will return `null`.\n   *\n   * You can/should pass a loading sign or spinner to this prop.\n   * @example\n   * ```tsx\n   * <AccountBalance\n   *   chain={ethereum}\n   *   loadingComponent={<Spinner />}\n   * />\n   * ```\n   */\n  loadingComponent?: JSX.Element;\n  /**\n   * This component will be shown if the balance fails to be retreived\n   * If not passed, the component will return `null`.\n   *\n   * You can/should pass a descriptive text/component to this prop, indicating that the\n   * balance was not fetched successfully\n   * @example\n   * ```tsx\n   * <AccountBalance\n   *   chain={nonExistentChain}\n   *   fallbackComponent={\"Failed to load\"}\n   * />\n   * ```\n   */\n  fallbackComponent?: JSX.Element;\n  /**\n   * Optional `useQuery` params\n   */\n  queryOptions?: Omit<\n    UseQueryOptions<AccountBalanceInfo>,\n    \"queryFn\" | \"queryKey\"\n  >;\n\n  /**\n   * Show the token balance in a supported fiat currency (e.g \"USD\")\n   */\n  showBalanceInFiat?: SupportedFiatCurrency;\n}\n\n/**\n * This component fetches and shows the balance of the wallet address on a given chain.\n * It inherits all the attributes of a HTML <span> component, hence you can style it just like how you would style a normal <span>\n *\n *\n * @example\n * ### Basic usage\n * ```tsx\n * import { AccountProvider, AccountBalance } from \"thirdweb/react\";\n * import { ethereum } from \"thirdweb/chains\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountBalance chain={ethereum} />\n * </AccountProvider>\n * ```\n * Result:\n * ```html\n * <span>1.091435 ETH</span>\n * ```\n *\n *\n * ### Format the balance (round up, shorten etc.)\n * The AccountBalance component accepts a `formatFn` which takes in an object of type `AccountBalanceInfo` and outputs a string\n * The function is used to modify the display value of the wallet balance (either in crypto or fiat)\n *\n * ```tsx\n * import type { AccountBalanceInfo } from \"thirdweb/react\";\n * import { formatNumber } from \"thirdweb/utils\";\n *\n * const format = (props: AccountInfoBalance):string => `${formatNumber(props.balance, 1)} ${props.symbol.toLowerCase()}`\n *\n * <AccountBalance formatFn={format} />\n * ```\n *\n * Result:\n * ```html\n * <span>1.1 eth</span> // the balance is rounded up to 1 decimal and the symbol is lowercased\n * ```\n *\n * ### Show a loading sign when the balance is being fetched\n * ```tsx\n * import { AccountProvider, AccountBalance } from \"thirdweb/react\";\n *\n * <AccountProvider address=\"0x...\">\n *   <AccountBalance\n *     chain={ethereum}\n *     loadingComponent={<Spinner />}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Fallback to something when the balance fails to resolve\n * ```tsx\n * <AccountProvider address=\"0x...\">\n *   <AccountBalance\n *     chain={nonExistentChain}\n *     fallbackComponent={\"Failed to load\"}\n *   />\n * </AccountProvider>\n * ```\n *\n * ### Custom query options for useQuery\n * This component uses `@tanstack-query`'s useQuery internally.\n * You can use the `queryOptions` prop for more fine-grained control\n * ```tsx\n * <AccountBalance\n *   queryOptions={{\n *     enabled: isEnabled,\n *     retry: 4,\n *   }}\n * />\n * ```\n *\n * @component\n * @wallet\n * @beta\n */\nexport function AccountBalance({\n  chain,\n  tokenAddress,\n  loadingComponent,\n  fallbackComponent,\n  queryOptions,\n  formatFn,\n  showBalanceInFiat,\n  ...restProps\n}: AccountBalanceProps) {\n  const { address, client } = useAccountContext();\n  const walletChain = useActiveWalletChain();\n  const chainToLoad = chain || walletChain;\n  const balanceQuery = useQuery({\n    queryFn: async (): Promise<AccountBalanceInfo> =>\n      loadAccountBalance({\n        address: getAddress(address),\n        chain: chainToLoad,\n        client,\n        showBalanceInFiat,\n        tokenAddress: tokenAddress ? getAddress(tokenAddress) : undefined,\n      }),\n    queryKey: [\n      \"internal_account_balance\",\n      chainToLoad?.id || -1,\n      address,\n      { tokenAddress },\n      showBalanceInFiat,\n    ] as const,\n    retry: false,\n    ...queryOptions,\n  });\n\n  if (balanceQuery.isLoading) {\n    return loadingComponent || null;\n  }\n\n  if (!balanceQuery.data) {\n    return fallbackComponent || null;\n  }\n\n  // Prioritize using the formatFn from users\n  if (formatFn) {\n    return <span {...restProps}>{formatFn(balanceQuery.data)}</span>;\n  }\n\n  if (showBalanceInFiat) {\n    return (\n      <span {...restProps}>\n        {formatAccountFiatBalance({ ...balanceQuery.data, decimals: 0 })}\n      </span>\n    );\n  }\n\n  return (\n    <span {...restProps}>\n      {formatAccountTokenBalance({\n        ...balanceQuery.data,\n        decimals: balanceQuery.data.balance < 1 ? 3 : 2,\n      })}\n    </span>\n  );\n}\n"],"mappings":"AAAA,YAAY;;AAAC,OAAAA,aAAA;AAAA,OAAAC,wBAAA;AAAA,MAAAC,SAAA;;AAEb,SAA+BC,QAAQ,QAAQ,uBAAuB;AAKtE,SAASC,oBAAoB,QAAQ,iEAAiE;AACtG,SAASC,UAAU,QAAQ,iCAAiC;AAC5D,SAASC,iBAAiB,QAAQ,sCAAsC;AACxE,SAEEC,wBAAwB,EACxBC,yBAAyB,EACzBC,kBAAkB,QACb,mCAAmC;AAoE1C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA,OAAM,SAAUC,cAAcA,CAAAC,IAAA,EASR;EAAA,IATS;MAC7BC,KAAK;MACLC,YAAY;MACZC,gBAAgB;MAChBC,iBAAiB;MACjBC,YAAY;MACZC,QAAQ;MACRC;IACY,CACQ,GAAAP,IAAA;IADjBQ,SAAS,GAAAlB,wBAAA,CAAAU,IAAA,EAAAT,SAAA;EAEZ,MAAM;IAAEkB,OAAO;IAAEC;EAAM,CAAE,GAAGf,iBAAiB,EAAE;EAC/C,MAAMgB,WAAW,GAAGlB,oBAAoB,EAAE;EAC1C,MAAMmB,WAAW,GAAGX,KAAK,IAAIU,WAAW;EACxC,MAAME,YAAY,GAAGrB,QAAQ,CAAAH,aAAA;IAC3ByB,OAAO,EAAE,MAAAA,CAAA,KACPhB,kBAAkB,CAAC;MACjBW,OAAO,EAAEf,UAAU,CAACe,OAAO,CAAC;MAC5BR,KAAK,EAAEW,WAAW;MAClBF,MAAM;MACNH,iBAAiB;MACjBL,YAAY,EAAEA,YAAY,GAAGR,UAAU,CAACQ,YAAY,CAAC,GAAGa;KACzD,CAAC;IACJC,QAAQ,EAAE,CACR,0BAA0B,EAC1B,CAAAJ,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEK,EAAE,KAAI,CAAC,CAAC,EACrBR,OAAO,EACP;MAAEP;IAAY,CAAE,EAChBK,iBAAiB,CACT;IACVW,KAAK,EAAE;EAAK,GACTb,YAAY,CAChB,CAAC;EAEF,IAAIQ,YAAY,CAACM,SAAS,EAAE;IAC1B,OAAOhB,gBAAgB,IAAI,IAAI;EACjC;EAEA,IAAI,CAACU,YAAY,CAACO,IAAI,EAAE;IACtB,OAAOhB,iBAAiB,IAAI,IAAI;EAClC;EAEA;EACA,IAAIE,QAAQ,EAAE;IACZ,OAAOe,IAAA,SAAAhC,aAAA,CAAAA,aAAA,KAAUmB,SAAS;MAAAc,QAAA,EAAGhB,QAAQ,CAACO,YAAY,CAACO,IAAI;IAAC,GAAQ;EAClE;EAEA,IAAIb,iBAAiB,EAAE;IACrB,OACEc,IAAA,SAAAhC,aAAA,CAAAA,aAAA,KAAUmB,SAAS;MAAAc,QAAA,EAChB1B,wBAAwB,CAAAP,aAAA,CAAAA,aAAA,KAAMwB,YAAY,CAACO,IAAI;QAAEG,QAAQ,EAAE;MAAC,EAAE;IAAC,GAC3D;EAEX;EAEA,OACEF,IAAA,SAAAhC,aAAA,CAAAA,aAAA,KAAUmB,SAAS;IAAAc,QAAA,EAChBzB,yBAAyB,CAAAR,aAAA,CAAAA,aAAA,KACrBwB,YAAY,CAACO,IAAI;MACpBG,QAAQ,EAAEV,YAAY,CAACO,IAAI,CAACI,OAAO,GAAG,CAAC,GAAG,CAAC,GAAG;IAAC,EAChD;EAAC,GACG;AAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}