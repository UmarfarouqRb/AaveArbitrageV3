{"ast":null,"code":"import { getThirdwebBaseUrl } from \"../utils/domains.js\";\nimport { getClientFetch } from \"../utils/fetch.js\";\nimport { ApiError } from \"./types/Errors.js\";\n/**\n * Retrieves the status of an Onramp session created via {@link Bridge.Onramp.prepare}. The\n * status will include any on-chain transactions that have occurred as a result of the onramp\n * as well as any arbitrary `purchaseData` that was supplied when the onramp was\n * prepared.\n *\n * @example\n * ```typescript\n * import { Bridge } from \"thirdweb\";\n *\n * const onrampStatus = await Bridge.Onramp.status({\n *   id: \"022218cc-96af-4291-b90c-dadcb47571ec\",\n *   client: thirdwebClient,\n * });\n *\n * // Possible results:\n * // {\n * //   status: \"CREATED\",\n * //   transactions: [],\n * //   purchaseData: {\n * //     orderId: \"abc-123\",\n * //   },\n * // }\n * //\n * // or\n * // {\n * //   status: \"PENDING\",\n * //   transactions: [],\n * //   purchaseData: {\n * //     orderId: \"abc-123\",\n * //   },\n * // }\n * //\n * // or\n * // {\n * //   status: \"COMPLETED\",\n * //   transactions: [\n * //     {\n * //       chainId: 1,\n * //       transactionHash:\n * //         \"0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef\",\n * //     },\n * //   ],\n * //   purchaseData: {\n * //     orderId: \"abc-123\",\n * //   },\n * // }\n * ```\n *\n * @param options - The options for fetching the onramp status.\n * @param options.id - The UUID returned from {@link Bridge.Onramp.prepare}.\n * @param options.client - Your thirdweb client instance.\n *\n * @returns A promise that resolves to the status of the onramp session.\n *\n * @throws Will throw an error if there is an issue fetching the status.\n * @bridge Onramp\n * @beta\n */\nexport async function status(options) {\n  const {\n    id,\n    client\n  } = options;\n  const clientFetch = getClientFetch(client);\n  const url = new URL(\"\".concat(getThirdwebBaseUrl(\"bridge\"), \"/v1/onramp/status\"));\n  url.searchParams.set(\"id\", id);\n  const response = await clientFetch(url.toString());\n  if (!response.ok) {\n    const errorJson = await response.json();\n    throw new ApiError({\n      code: errorJson.code || \"UNKNOWN_ERROR\",\n      correlationId: errorJson.correlationId || undefined,\n      message: errorJson.message || response.statusText,\n      statusCode: response.status\n    });\n  }\n  const {\n    data\n  } = await response.json();\n  return data;\n}","map":{"version":3,"names":["getThirdwebBaseUrl","getClientFetch","ApiError","status","options","id","client","clientFetch","url","URL","concat","searchParams","set","response","toString","ok","errorJson","json","code","correlationId","undefined","message","statusText","statusCode","data"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/bridge/OnrampStatus.ts"],"sourcesContent":["import type { Hex as ox__Hex } from \"ox\";\nimport type { ThirdwebClient } from \"../client/client.js\";\nimport type { PurchaseData } from \"../pay/types.js\";\nimport { getThirdwebBaseUrl } from \"../utils/domains.js\";\nimport { getClientFetch } from \"../utils/fetch.js\";\nimport { ApiError } from \"./types/Errors.js\";\n\n/**\n * Retrieves the status of an Onramp session created via {@link Bridge.Onramp.prepare}. The\n * status will include any on-chain transactions that have occurred as a result of the onramp\n * as well as any arbitrary `purchaseData` that was supplied when the onramp was\n * prepared.\n *\n * @example\n * ```typescript\n * import { Bridge } from \"thirdweb\";\n *\n * const onrampStatus = await Bridge.Onramp.status({\n *   id: \"022218cc-96af-4291-b90c-dadcb47571ec\",\n *   client: thirdwebClient,\n * });\n *\n * // Possible results:\n * // {\n * //   status: \"CREATED\",\n * //   transactions: [],\n * //   purchaseData: {\n * //     orderId: \"abc-123\",\n * //   },\n * // }\n * //\n * // or\n * // {\n * //   status: \"PENDING\",\n * //   transactions: [],\n * //   purchaseData: {\n * //     orderId: \"abc-123\",\n * //   },\n * // }\n * //\n * // or\n * // {\n * //   status: \"COMPLETED\",\n * //   transactions: [\n * //     {\n * //       chainId: 1,\n * //       transactionHash:\n * //         \"0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef\",\n * //     },\n * //   ],\n * //   purchaseData: {\n * //     orderId: \"abc-123\",\n * //   },\n * // }\n * ```\n *\n * @param options - The options for fetching the onramp status.\n * @param options.id - The UUID returned from {@link Bridge.Onramp.prepare}.\n * @param options.client - Your thirdweb client instance.\n *\n * @returns A promise that resolves to the status of the onramp session.\n *\n * @throws Will throw an error if there is an issue fetching the status.\n * @bridge Onramp\n * @beta\n */\nexport async function status(options: status.Options): Promise<status.Result> {\n  const { id, client } = options;\n\n  const clientFetch = getClientFetch(client);\n  const url = new URL(`${getThirdwebBaseUrl(\"bridge\")}/v1/onramp/status`);\n  url.searchParams.set(\"id\", id);\n\n  const response = await clientFetch(url.toString());\n  if (!response.ok) {\n    const errorJson = await response.json();\n    throw new ApiError({\n      code: errorJson.code || \"UNKNOWN_ERROR\",\n      correlationId: errorJson.correlationId || undefined,\n      message: errorJson.message || response.statusText,\n      statusCode: response.status,\n    });\n  }\n\n  const { data }: { data: status.Result } = await response.json();\n  return data;\n}\n\nexport declare namespace status {\n  /**\n   * Input parameters for {@link Bridge.Onramp.status}.\n   */\n  export type Options = {\n    /**\n     * The Onramp session ID returned by {@link Bridge.Onramp.prepare}.\n     */\n    id: string;\n    /** Your {@link ThirdwebClient} instance. */\n    client: ThirdwebClient;\n  };\n\n  /**\n   * The result returned from {@link Bridge.Onramp.status}.\n   */\n  export type Result =\n    | {\n        status: \"COMPLETED\";\n        transactions: Array<{\n          chainId: number;\n          transactionHash: ox__Hex.Hex;\n        }>;\n        purchaseData?: PurchaseData;\n      }\n    | {\n        status: \"PENDING\";\n        transactions: Array<{\n          chainId: number;\n          transactionHash: ox__Hex.Hex;\n        }>;\n        purchaseData?: PurchaseData;\n      }\n    | {\n        status: \"CREATED\";\n        transactions: Array<{\n          chainId: number;\n          transactionHash: ox__Hex.Hex;\n        }>;\n        purchaseData?: PurchaseData;\n      }\n    | {\n        status: \"FAILED\";\n        transactions: Array<{\n          chainId: number;\n          transactionHash: ox__Hex.Hex;\n        }>;\n        purchaseData?: PurchaseData;\n      };\n}\n"],"mappings":"AAGA,SAASA,kBAAkB,QAAQ,qBAAqB;AACxD,SAASC,cAAc,QAAQ,mBAAmB;AAClD,SAASC,QAAQ,QAAQ,mBAAmB;AAE5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,OAAO,eAAeC,MAAMA,CAACC,OAAuB;EAClD,MAAM;IAAEC,EAAE;IAAEC;EAAM,CAAE,GAAGF,OAAO;EAE9B,MAAMG,WAAW,GAAGN,cAAc,CAACK,MAAM,CAAC;EAC1C,MAAME,GAAG,GAAG,IAAIC,GAAG,IAAAC,MAAA,CAAIV,kBAAkB,CAAC,QAAQ,CAAC,sBAAmB,CAAC;EACvEQ,GAAG,CAACG,YAAY,CAACC,GAAG,CAAC,IAAI,EAAEP,EAAE,CAAC;EAE9B,MAAMQ,QAAQ,GAAG,MAAMN,WAAW,CAACC,GAAG,CAACM,QAAQ,EAAE,CAAC;EAClD,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE;IAChB,MAAMC,SAAS,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE;IACvC,MAAM,IAAIf,QAAQ,CAAC;MACjBgB,IAAI,EAAEF,SAAS,CAACE,IAAI,IAAI,eAAe;MACvCC,aAAa,EAAEH,SAAS,CAACG,aAAa,IAAIC,SAAS;MACnDC,OAAO,EAAEL,SAAS,CAACK,OAAO,IAAIR,QAAQ,CAACS,UAAU;MACjDC,UAAU,EAAEV,QAAQ,CAACV;KACtB,CAAC;EACJ;EAEA,MAAM;IAAEqB;EAAI,CAAE,GAA4B,MAAMX,QAAQ,CAACI,IAAI,EAAE;EAC/D,OAAOO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}