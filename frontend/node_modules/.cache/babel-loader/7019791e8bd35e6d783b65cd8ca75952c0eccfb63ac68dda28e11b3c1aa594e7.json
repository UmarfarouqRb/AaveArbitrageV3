{"ast":null,"code":"import { useQuery } from \"@tanstack/react-query\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { getProfiles } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport { useConnectedWallets } from \"../../../core/hooks/wallets/useConnectedWallets.js\";\n/**\n * Retrieves all linked profiles of the connected in-app or ecosystem account.\n *\n * @returns A React Query result containing the linked profiles for the connected in-app account.\n *  This hook will only run if the connected wallet supports account linking.\n *\n * @example\n * ```jsx\n * import { useProfiles } from \"thirdweb/react\";\n *\n * const { data: profiles } = useProfiles({\n *   client,\n * });\n *\n * console.log(\"Type:\", profiles[0].type); // \"discord\"\n * console.log(\"Email:\", profiles[0].details.email); // \"john.doe@example.com\"\n * ```\n *\n * @wallet\n */\nexport function useProfiles(args) {\n  const wallets = useConnectedWallets();\n  const enabled = wallets.length > 0 && wallets.some(w => w.id === \"inApp\" || isEcosystemWallet(w));\n  return useQuery({\n    enabled,\n    queryFn: async () => {\n      var _ecosystemWallet$getC;\n      const ecosystemWallet = wallets.find(w => isEcosystemWallet(w));\n      const ecosystem = ecosystemWallet ? {\n        id: ecosystemWallet.id,\n        partnerId: (_ecosystemWallet$getC = ecosystemWallet.getConfig()) === null || _ecosystemWallet$getC === void 0 ? void 0 : _ecosystemWallet$getC.partnerId\n      } : undefined;\n      return getProfiles({\n        client: args.client,\n        ecosystem\n      });\n    },\n    queryKey: [\"profiles\", wallets.map(w => {\n      var _w$getAccount;\n      return \"\".concat(w.id, \"-\").concat((_w$getAccount = w.getAccount()) === null || _w$getAccount === void 0 ? void 0 : _w$getAccount.address);\n    })]\n  });\n}","map":{"version":3,"names":["useQuery","isEcosystemWallet","getProfiles","useConnectedWallets","useProfiles","args","wallets","enabled","length","some","w","id","queryFn","_ecosystemWallet$getC","ecosystemWallet","find","ecosystem","partnerId","getConfig","undefined","client","queryKey","map","_w$getAccount","concat","getAccount","address"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/hooks/wallets/useProfiles.ts"],"sourcesContent":["import { type UseQueryResult, useQuery } from \"@tanstack/react-query\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport type { Profile } from \"../../../../wallets/in-app/core/authentication/types.js\";\nimport type { Ecosystem } from \"../../../../wallets/in-app/core/wallet/types.js\";\nimport { getProfiles } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport { useConnectedWallets } from \"../../../core/hooks/wallets/useConnectedWallets.js\";\n\n/**\n * Retrieves all linked profiles of the connected in-app or ecosystem account.\n *\n * @returns A React Query result containing the linked profiles for the connected in-app account.\n *  This hook will only run if the connected wallet supports account linking.\n *\n * @example\n * ```jsx\n * import { useProfiles } from \"thirdweb/react\";\n *\n * const { data: profiles } = useProfiles({\n *   client,\n * });\n *\n * console.log(\"Type:\", profiles[0].type); // \"discord\"\n * console.log(\"Email:\", profiles[0].details.email); // \"john.doe@example.com\"\n * ```\n *\n * @wallet\n */\nexport function useProfiles(args: {\n  client: ThirdwebClient;\n}): UseQueryResult<Profile[]> {\n  const wallets = useConnectedWallets();\n  const enabled =\n    wallets.length > 0 &&\n    wallets.some((w) => w.id === \"inApp\" || isEcosystemWallet(w));\n  return useQuery({\n    enabled,\n    queryFn: async () => {\n      const ecosystemWallet = wallets.find((w) => isEcosystemWallet(w));\n      const ecosystem: Ecosystem | undefined = ecosystemWallet\n        ? {\n            id: ecosystemWallet.id,\n            partnerId: ecosystemWallet.getConfig()?.partnerId,\n          }\n        : undefined;\n      return getProfiles({\n        client: args.client,\n        ecosystem,\n      });\n    },\n    queryKey: [\n      \"profiles\",\n      wallets.map((w) => `${w.id}-${w.getAccount()?.address}`),\n    ],\n  });\n}\n"],"mappings":"AAAA,SAA8BA,QAAQ,QAAQ,uBAAuB;AAErE,SAASC,iBAAiB,QAAQ,sDAAsD;AAGxF,SAASC,WAAW,QAAQ,kDAAkD;AAC9E,SAASC,mBAAmB,QAAQ,oDAAoD;AAExF;;;;;;;;;;;;;;;;;;;;AAoBA,OAAM,SAAUC,WAAWA,CAACC,IAE3B;EACC,MAAMC,OAAO,GAAGH,mBAAmB,EAAE;EACrC,MAAMI,OAAO,GACXD,OAAO,CAACE,MAAM,GAAG,CAAC,IAClBF,OAAO,CAACG,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAK,OAAO,IAAIV,iBAAiB,CAACS,CAAC,CAAC,CAAC;EAC/D,OAAOV,QAAQ,CAAC;IACdO,OAAO;IACPK,OAAO,EAAE,MAAAA,CAAA,KAAW;MAAA,IAAAC,qBAAA;MAClB,MAAMC,eAAe,GAAGR,OAAO,CAACS,IAAI,CAAEL,CAAC,IAAKT,iBAAiB,CAACS,CAAC,CAAC,CAAC;MACjE,MAAMM,SAAS,GAA0BF,eAAe,GACpD;QACEH,EAAE,EAAEG,eAAe,CAACH,EAAE;QACtBM,SAAS,GAAAJ,qBAAA,GAAEC,eAAe,CAACI,SAAS,EAAE,cAAAL,qBAAA,uBAA3BA,qBAAA,CAA6BI;OACzC,GACDE,SAAS;MACb,OAAOjB,WAAW,CAAC;QACjBkB,MAAM,EAAEf,IAAI,CAACe,MAAM;QACnBJ;OACD,CAAC;IACJ,CAAC;IACDK,QAAQ,EAAE,CACR,UAAU,EACVf,OAAO,CAACgB,GAAG,CAAEZ,CAAC;MAAA,IAAAa,aAAA;MAAA,UAAAC,MAAA,CAAQd,CAAC,CAACC,EAAE,OAAAa,MAAA,EAAAD,aAAA,GAAIb,CAAC,CAACe,UAAU,EAAE,cAAAF,aAAA,uBAAdA,aAAA,CAAgBG,OAAO;IAAA,CAAE,CAAC;GAE3D,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}