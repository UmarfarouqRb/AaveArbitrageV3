{"ast":null,"code":"import { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { unlinkProfile } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport { useConnectedWallets } from \"../../../core/hooks/wallets/useConnectedWallets.js\";\n/**\n * Unlinks a web2 or web3 profile currently connected in-app or ecosystem account.\n * **When a profile is unlinked from the account, it will no longer be able to be used to sign into the account.**\n *\n * @example\n *\n * ### Unlinking an email account\n *\n * ```jsx\n * import { useUnlinkProfile } from \"thirdweb/react\";\n *\n * const { data: connectedProfiles, isLoading } = useProfiles({\n *   client: props.client,\n * });\n * const { mutate: unlinkProfile } = useUnlinkProfile();\n *\n * const onClick = () => {\n *   unlinkProfile({\n *     client,\n *      // Select any other profile you want to unlink\n *     profileToUnlink: connectedProfiles[1]\n *   });\n * };\n * ```\n *\n * ### Unlinking an email account with account deletion\n *\n * ```jsx\n * import { useUnlinkProfile } from \"thirdweb/react\";\n *\n * const { mutate: unlinkProfile } = useUnlinkProfile();\n *\n * const onClick = () => {\n *   unlinkProfile({\n *     client,\n *      // Select the profile you want to unlink\n *     profileToUnlink: connectedProfiles[0],\n *     allowAccountDeletion: true, // This will delete the account if it's the last profile linked to the account\n *   });\n * };\n * ```\n *\n * @wallet\n */\nexport function useUnlinkProfile() {\n  const wallets = useConnectedWallets();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: async _ref => {\n      var _ecosystemWallet$getC;\n      let {\n        client,\n        profileToUnlink,\n        allowAccountDeletion = false\n      } = _ref;\n      const ecosystemWallet = wallets.find(w => isEcosystemWallet(w));\n      const ecosystem = ecosystemWallet ? {\n        id: ecosystemWallet.id,\n        partnerId: (_ecosystemWallet$getC = ecosystemWallet.getConfig()) === null || _ecosystemWallet$getC === void 0 ? void 0 : _ecosystemWallet$getC.partnerId\n      } : undefined;\n      await unlinkProfile({\n        allowAccountDeletion,\n        client,\n        ecosystem,\n        profileToUnlink\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: [\"profiles\"]\n      });\n    }\n  });\n}","map":{"version":3,"names":["useMutation","useQueryClient","isEcosystemWallet","unlinkProfile","useConnectedWallets","useUnlinkProfile","wallets","queryClient","mutationFn","_ref","_ecosystemWallet$getC","client","profileToUnlink","allowAccountDeletion","ecosystemWallet","find","w","ecosystem","id","partnerId","getConfig","undefined","onSuccess","invalidateQueries","queryKey"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/hooks/wallets/useUnlinkProfile.ts"],"sourcesContent":["import { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport type { Profile } from \"../../../../wallets/in-app/core/authentication/types.js\";\nimport type { Ecosystem } from \"../../../../wallets/in-app/core/wallet/types.js\";\nimport { unlinkProfile } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport { useConnectedWallets } from \"../../../core/hooks/wallets/useConnectedWallets.js\";\n\n/**\n * Unlinks a web2 or web3 profile currently connected in-app or ecosystem account.\n * **When a profile is unlinked from the account, it will no longer be able to be used to sign into the account.**\n *\n * @example\n *\n * ### Unlinking an email account\n *\n * ```jsx\n * import { useUnlinkProfile } from \"thirdweb/react\";\n *\n * const { data: connectedProfiles, isLoading } = useProfiles({\n *   client: props.client,\n * });\n * const { mutate: unlinkProfile } = useUnlinkProfile();\n *\n * const onClick = () => {\n *   unlinkProfile({\n *     client,\n *      // Select any other profile you want to unlink\n *     profileToUnlink: connectedProfiles[1]\n *   });\n * };\n * ```\n *\n * ### Unlinking an email account with account deletion\n *\n * ```jsx\n * import { useUnlinkProfile } from \"thirdweb/react\";\n *\n * const { mutate: unlinkProfile } = useUnlinkProfile();\n *\n * const onClick = () => {\n *   unlinkProfile({\n *     client,\n *      // Select the profile you want to unlink\n *     profileToUnlink: connectedProfiles[0],\n *     allowAccountDeletion: true, // This will delete the account if it's the last profile linked to the account\n *   });\n * };\n * ```\n *\n * @wallet\n */\nexport function useUnlinkProfile() {\n  const wallets = useConnectedWallets();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: async ({\n      client,\n      profileToUnlink,\n      allowAccountDeletion = false,\n    }: {\n      client: ThirdwebClient;\n      profileToUnlink: Profile;\n      allowAccountDeletion?: boolean;\n    }) => {\n      const ecosystemWallet = wallets.find((w) => isEcosystemWallet(w));\n      const ecosystem: Ecosystem | undefined = ecosystemWallet\n        ? {\n            id: ecosystemWallet.id,\n            partnerId: ecosystemWallet.getConfig()?.partnerId,\n          }\n        : undefined;\n\n      await unlinkProfile({\n        allowAccountDeletion,\n        client,\n        ecosystem,\n        profileToUnlink,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"profiles\"] });\n    },\n  });\n}\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,cAAc,QAAQ,uBAAuB;AAEnE,SAASC,iBAAiB,QAAQ,sDAAsD;AAGxF,SAASC,aAAa,QAAQ,kDAAkD;AAChF,SAASC,mBAAmB,QAAQ,oDAAoD;AAExF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,OAAM,SAAUC,gBAAgBA,CAAA;EAC9B,MAAMC,OAAO,GAAGF,mBAAmB,EAAE;EACrC,MAAMG,WAAW,GAAGN,cAAc,EAAE;EACpC,OAAOD,WAAW,CAAC;IACjBQ,UAAU,EAAE,MAAAC,IAAA,IAQP;MAAA,IAAAC,qBAAA;MAAA,IARc;QACjBC,MAAM;QACNC,eAAe;QACfC,oBAAoB,GAAG;MAAK,CAK7B,GAAAJ,IAAA;MACC,MAAMK,eAAe,GAAGR,OAAO,CAACS,IAAI,CAAEC,CAAC,IAAKd,iBAAiB,CAACc,CAAC,CAAC,CAAC;MACjE,MAAMC,SAAS,GAA0BH,eAAe,GACpD;QACEI,EAAE,EAAEJ,eAAe,CAACI,EAAE;QACtBC,SAAS,GAAAT,qBAAA,GAAEI,eAAe,CAACM,SAAS,EAAE,cAAAV,qBAAA,uBAA3BA,qBAAA,CAA6BS;OACzC,GACDE,SAAS;MAEb,MAAMlB,aAAa,CAAC;QAClBU,oBAAoB;QACpBF,MAAM;QACNM,SAAS;QACTL;OACD,CAAC;IACJ,CAAC;IACDU,SAAS,EAAEA,CAAA,KAAK;MACdf,WAAW,CAACgB,iBAAiB,CAAC;QAAEC,QAAQ,EAAE,CAAC,UAAU;MAAC,CAAE,CAAC;IAC3D;GACD,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}