{"ast":null,"code":"\"use client\";\n\nimport _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { NATIVE_TOKEN_ADDRESS } from \"../../../../constants/addresses.js\";\nimport { getAddress, shortenAddress } from \"../../../../utils/address.js\";\nimport { resolvePromisedValue } from \"../../../../utils/promise/resolve-promised-value.js\";\nimport { getWalletBalance } from \"../../../../wallets/utils/getWalletBalance.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { fontSize, spacing } from \"../../../core/design-system/index.js\";\nimport { useChainMetadata } from \"../../../core/hooks/others/useChainQuery.js\";\nimport { useTransactionDetails } from \"../../../core/hooks/useTransactionDetails.js\";\nimport { useActiveAccount } from \"../../../core/hooks/wallets/useActiveAccount.js\";\nimport { useActiveWallet } from \"../../../core/hooks/wallets/useActiveWallet.js\";\nimport { ConnectButton } from \"../ConnectWallet/ConnectButton.js\";\nimport { PoweredByThirdweb } from \"../ConnectWallet/PoweredByTW.js\";\nimport { formatCurrencyAmount } from \"../ConnectWallet/screens/formatTokenBalance.js\";\nimport { Container, Line } from \"../components/basic.js\";\nimport { Button } from \"../components/buttons.js\";\nimport { ChainName } from \"../components/ChainName.js\";\nimport { Spacer } from \"../components/Spacer.js\";\nimport { Text } from \"../components/text.js\";\nimport { ChainIcon } from \"./common/TokenAndChain.js\";\nimport { WithHeader } from \"./common/WithHeader.js\";\nexport function TransactionPayment(_ref) {\n  var _transactionDataQuery, _transactionDataQuery2, _transactionDataQuery3, _transactionDataQuery4, _transactionDataQuery5, _transactionDataQuery6, _transactionDataQuery7, _transactionDataQuery8;\n  let {\n    transaction,\n    client,\n    onContinue,\n    onExecuteTransaction,\n    connectOptions,\n    currency,\n    showThirdwebBranding = true,\n    buttonLabel: _buttonLabel,\n    metadata\n  } = _ref;\n  const theme = useCustomTheme();\n  const activeAccount = useActiveAccount();\n  const wallet = useActiveWallet();\n  // Get chain metadata for native currency symbol\n  const chainMetadata = useChainMetadata(transaction.chain);\n  // Use the extracted hook for transaction details\n  const transactionDataQuery = useTransactionDetails({\n    client,\n    transaction: transaction,\n    wallet\n  });\n  // We can't use useWalletBalance here because erc20Value is a possibly async value\n  const {\n    data: userBalance\n  } = useQuery({\n    enabled: !!(activeAccount !== null && activeAccount !== void 0 && activeAccount.address),\n    queryFn: async () => {\n      if (!(activeAccount !== null && activeAccount !== void 0 && activeAccount.address)) {\n        return \"0\";\n      }\n      const erc20Value = await resolvePromisedValue(transaction.erc20Value);\n      const walletBalance = await getWalletBalance({\n        address: activeAccount === null || activeAccount === void 0 ? void 0 : activeAccount.address,\n        chain: transaction.chain,\n        tokenAddress: (erc20Value === null || erc20Value === void 0 ? void 0 : erc20Value.tokenAddress.toLowerCase()) !== NATIVE_TOKEN_ADDRESS ? erc20Value === null || erc20Value === void 0 ? void 0 : erc20Value.tokenAddress : undefined,\n        client\n      });\n      return walletBalance.displayValue;\n    },\n    queryKey: [\"user-balance\", activeAccount === null || activeAccount === void 0 ? void 0 : activeAccount.address]\n  });\n  const contractName = ((_transactionDataQuery = transactionDataQuery.data) === null || _transactionDataQuery === void 0 || (_transactionDataQuery = _transactionDataQuery.contractMetadata) === null || _transactionDataQuery === void 0 ? void 0 : _transactionDataQuery.name) || \"Unknown Contract\";\n  const functionName = ((_transactionDataQuery2 = transactionDataQuery.data) === null || _transactionDataQuery2 === void 0 || (_transactionDataQuery2 = _transactionDataQuery2.functionInfo) === null || _transactionDataQuery2 === void 0 ? void 0 : _transactionDataQuery2.functionName) || \"Contract Call\";\n  const isLoading = transactionDataQuery.isLoading || chainMetadata.isLoading;\n  const buttonLabel = _buttonLabel || \"Execute \".concat(functionName);\n  const tokenFiatPricePerToken = ((_transactionDataQuery3 = transactionDataQuery.data) === null || _transactionDataQuery3 === void 0 || (_transactionDataQuery3 = _transactionDataQuery3.tokenInfo) === null || _transactionDataQuery3 === void 0 ? void 0 : _transactionDataQuery3.prices[currency]) || undefined;\n  const totalFiatCost = tokenFiatPricePerToken && transactionDataQuery.data ? tokenFiatPricePerToken * Number(transactionDataQuery.data.totalCost) : undefined;\n  const costToDisplay = totalFiatCost !== undefined ? formatCurrencyAmount(currency, totalFiatCost) : (_transactionDataQuery4 = transactionDataQuery.data) === null || _transactionDataQuery4 === void 0 ? void 0 : _transactionDataQuery4.txCostDisplay;\n  if (isLoading) {\n    return _jsxs(WithHeader, {\n      client: client,\n      title: metadata.title || \"Transaction\",\n      description: metadata.description,\n      image: metadata.image,\n      children: [_jsx(SkeletonHeader, {\n        theme: theme\n      }), _jsx(Spacer, {\n        y: \"md\"\n      }), _jsx(Line, {}), _jsx(Spacer, {\n        y: \"md\"\n      }), _jsx(SkeletonRow, {\n        theme: theme,\n        width: \"60%\"\n      }), _jsx(Spacer, {\n        y: \"xs\"\n      }), _jsx(SkeletonRow, {\n        theme: theme,\n        width: \"40%\"\n      }), _jsx(Spacer, {\n        y: \"xs\"\n      }), _jsx(SkeletonRow, {\n        theme: theme,\n        width: \"50%\"\n      }), _jsx(Spacer, {\n        y: \"xs\"\n      }), _jsx(SkeletonRow, {\n        theme: theme,\n        width: \"45%\"\n      }), _jsx(Spacer, {\n        y: \"xs\"\n      }), _jsx(SkeletonRow, {\n        theme: theme,\n        width: \"55%\"\n      }), _jsx(Spacer, {\n        y: \"md\"\n      }), _jsx(Line, {}), _jsx(Spacer, {\n        y: \"lg\"\n      }), _jsx(\"div\", {\n        style: {\n          backgroundColor: theme.colors.skeletonBg,\n          borderRadius: spacing.md,\n          height: \"48px\",\n          width: \"100%\"\n        }\n      }), showThirdwebBranding ? _jsxs(\"div\", {\n        children: [_jsx(Spacer, {\n          y: \"md\"\n        }), _jsx(PoweredByThirdweb, {}), _jsx(Spacer, {\n          y: \"md\"\n        })]\n      }) : null]\n    });\n  }\n  return _jsxs(WithHeader, {\n    client: client,\n    title: metadata.title || \"Transaction\",\n    description: metadata.description,\n    image: metadata.image,\n    children: [_jsxs(Container, {\n      center: \"y\",\n      flex: \"row\",\n      gap: \"3xs\",\n      style: {\n        justifyContent: \"space-between\"\n      },\n      children: [_jsx(Text, {\n        color: \"primaryText\",\n        size: \"xl\",\n        weight: 600,\n        children: costToDisplay\n      }), _jsx(Text, {\n        color: \"secondaryText\",\n        size: \"md\",\n        style: {\n          backgroundColor: theme.colors.tertiaryBg,\n          borderRadius: spacing.sm,\n          fontFamily: \"monospace\",\n          padding: \"\".concat(spacing.xs, \" \").concat(spacing.sm),\n          textAlign: \"right\"\n        },\n        children: functionName\n      })]\n    }), _jsx(Spacer, {\n      y: \"md\"\n    }), _jsx(Line, {}), _jsx(Spacer, {\n      y: \"md\"\n    }), contractName !== \"UnknownContract\" && contractName !== undefined && contractName !== \"Unknown Contract\" && _jsxs(_Fragment, {\n      children: [_jsxs(Container, {\n        flex: \"row\",\n        style: {\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [_jsx(Text, {\n          color: \"secondaryText\",\n          size: \"sm\",\n          children: \"Contract\"\n        }), _jsx(Text, {\n          color: \"primaryText\",\n          size: \"sm\",\n          children: contractName\n        })]\n      }), _jsx(Spacer, {\n        y: \"xs\"\n      })]\n    }), _jsxs(Container, {\n      flex: \"row\",\n      style: {\n        alignItems: \"center\",\n        justifyContent: \"space-between\"\n      },\n      children: [_jsx(Text, {\n        color: \"secondaryText\",\n        size: \"sm\",\n        children: \"Address\"\n      }), _jsx(\"a\", {\n        href: \"https://thirdweb.com/\".concat(transaction.chain.id, \"/\").concat(transaction.to),\n        rel: \"noopener noreferrer\",\n        style: {\n          color: theme.colors.accentText,\n          fontFamily: \"monospace\",\n          fontSize: fontSize.sm,\n          textDecoration: \"none\"\n        },\n        target: \"_blank\",\n        children: shortenAddress(transaction.to)\n      })]\n    }), _jsx(Spacer, {\n      y: \"xs\"\n    }), _jsxs(Container, {\n      flex: \"row\",\n      style: {\n        alignItems: \"center\",\n        justifyContent: \"space-between\"\n      },\n      children: [_jsx(Text, {\n        color: \"secondaryText\",\n        size: \"sm\",\n        children: \"Network\"\n      }), _jsxs(Container, {\n        center: \"y\",\n        flex: \"row\",\n        gap: \"3xs\",\n        children: [_jsx(ChainIcon, {\n          chain: transaction.chain,\n          client: client,\n          size: \"xs\"\n        }), _jsx(ChainName, {\n          chain: transaction.chain,\n          client: client,\n          color: \"primaryText\",\n          short: true,\n          size: \"sm\",\n          style: {\n            fontFamily: \"monospace\"\n          }\n        })]\n      })]\n    }), _jsx(Spacer, {\n      y: \"xs\"\n    }), ((_transactionDataQuery5 = transactionDataQuery.data) === null || _transactionDataQuery5 === void 0 ? void 0 : _transactionDataQuery5.txCostDisplay) && _jsxs(_Fragment, {\n      children: [_jsxs(Container, {\n        flex: \"row\",\n        style: {\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [_jsx(Text, {\n          color: \"secondaryText\",\n          size: \"sm\",\n          children: \"Cost\"\n        }), _jsx(Text, {\n          color: \"primaryText\",\n          size: \"sm\",\n          style: {\n            fontFamily: \"monospace\"\n          },\n          children: (_transactionDataQuery6 = transactionDataQuery.data) === null || _transactionDataQuery6 === void 0 ? void 0 : _transactionDataQuery6.txCostDisplay\n        })]\n      }), _jsx(Spacer, {\n        y: \"xs\"\n      })]\n    }), ((_transactionDataQuery7 = transactionDataQuery.data) === null || _transactionDataQuery7 === void 0 ? void 0 : _transactionDataQuery7.gasCostDisplay) && _jsxs(_Fragment, {\n      children: [_jsxs(Container, {\n        flex: \"row\",\n        style: {\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [_jsx(Text, {\n          color: \"secondaryText\",\n          size: \"sm\",\n          children: \"Network fees\"\n        }), _jsx(Text, {\n          color: \"primaryText\",\n          size: \"sm\",\n          style: {\n            fontFamily: \"monospace\"\n          },\n          children: (_transactionDataQuery8 = transactionDataQuery.data) === null || _transactionDataQuery8 === void 0 ? void 0 : _transactionDataQuery8.gasCostDisplay\n        })]\n      }), _jsx(Spacer, {\n        y: \"md\"\n      })]\n    }), _jsx(Line, {}), _jsx(Spacer, {\n      y: \"lg\"\n    }), activeAccount ? _jsx(Button, {\n      fullWidth: true,\n      onClick: () => {\n        var _transactionDataQuery9;\n        if ((_transactionDataQuery9 = transactionDataQuery.data) !== null && _transactionDataQuery9 !== void 0 && _transactionDataQuery9.tokenInfo) {\n          if (userBalance && Number(userBalance) < Number(transactionDataQuery.data.totalCost)) {\n            // if user has funds, but not enough, we need to fund the wallet with the difference\n            onContinue((Number(transactionDataQuery.data.totalCost) - Number(userBalance)).toString(), transactionDataQuery.data.tokenInfo, getAddress(activeAccount.address));\n            return;\n          }\n          // If the user has enough to pay, skip the payment step altogether\n          if (userBalance && Number(userBalance) >= Number(transactionDataQuery.data.totalCost)) {\n            onExecuteTransaction();\n            return;\n          }\n          // otherwise, use the full transaction cost\n          onContinue(transactionDataQuery.data.totalCost, transactionDataQuery.data.tokenInfo, getAddress(activeAccount.address));\n        } else {\n          // if token not supported, can't go into buy flow, so skip to execute transaction\n          onExecuteTransaction();\n        }\n      },\n      style: {\n        fontSize: fontSize.md,\n        padding: \"\".concat(spacing.sm, \" \").concat(spacing.md)\n      },\n      variant: \"primary\",\n      children: buttonLabel\n    }) : _jsx(ConnectButton, _objectSpread({\n      client: client,\n      connectButton: {\n        label: buttonLabel\n      },\n      theme: theme\n    }, connectOptions)), showThirdwebBranding ? _jsxs(\"div\", {\n      children: [_jsx(Spacer, {\n        y: \"md\"\n      }), _jsx(PoweredByThirdweb, {})]\n    }) : null, _jsx(Spacer, {\n      y: \"md\"\n    })]\n  });\n}\nconst SkeletonHeader = props => _jsxs(Container, {\n  center: \"y\",\n  flex: \"row\",\n  gap: \"3xs\",\n  style: {\n    justifyContent: \"space-between\"\n  },\n  children: [_jsx(\"div\", {\n    style: {\n      backgroundColor: props.theme.colors.skeletonBg,\n      borderRadius: spacing.xs,\n      height: \"32px\",\n      width: \"80px\"\n    }\n  }), _jsx(\"div\", {\n    style: {\n      backgroundColor: props.theme.colors.skeletonBg,\n      borderRadius: spacing.sm,\n      height: \"24px\",\n      width: \"120px\"\n    }\n  })]\n});\n// Skeleton component for loading state\nconst SkeletonRow = _ref2 => {\n  let {\n    width = \"100%\",\n    theme\n  } = _ref2;\n  return _jsxs(Container, {\n    flex: \"row\",\n    style: {\n      alignItems: \"center\",\n      justifyContent: \"space-between\"\n    },\n    children: [_jsx(\"div\", {\n      style: {\n        backgroundColor: theme.colors.skeletonBg,\n        borderRadius: spacing.xs,\n        height: \"16px\",\n        width: \"30%\"\n      }\n    }), _jsx(\"div\", {\n      style: {\n        backgroundColor: theme.colors.skeletonBg,\n        borderRadius: spacing.xs,\n        height: \"16px\",\n        width\n      }\n    })]\n  });\n};","map":{"version":3,"names":["_objectSpread","useQuery","NATIVE_TOKEN_ADDRESS","getAddress","shortenAddress","resolvePromisedValue","getWalletBalance","useCustomTheme","fontSize","spacing","useChainMetadata","useTransactionDetails","useActiveAccount","useActiveWallet","ConnectButton","PoweredByThirdweb","formatCurrencyAmount","Container","Line","Button","ChainName","Spacer","Text","ChainIcon","WithHeader","TransactionPayment","_ref","_transactionDataQuery","_transactionDataQuery2","_transactionDataQuery3","_transactionDataQuery4","_transactionDataQuery5","_transactionDataQuery6","_transactionDataQuery7","_transactionDataQuery8","transaction","client","onContinue","onExecuteTransaction","connectOptions","currency","showThirdwebBranding","buttonLabel","_buttonLabel","metadata","theme","activeAccount","wallet","chainMetadata","chain","transactionDataQuery","data","userBalance","enabled","address","queryFn","erc20Value","walletBalance","tokenAddress","toLowerCase","undefined","displayValue","queryKey","contractName","contractMetadata","name","functionName","functionInfo","isLoading","concat","tokenFiatPricePerToken","tokenInfo","prices","totalFiatCost","Number","totalCost","costToDisplay","txCostDisplay","_jsxs","title","description","image","children","_jsx","SkeletonHeader","y","SkeletonRow","width","style","backgroundColor","colors","skeletonBg","borderRadius","md","height","center","flex","gap","justifyContent","color","size","weight","tertiaryBg","sm","fontFamily","padding","xs","textAlign","_Fragment","alignItems","href","id","to","rel","accentText","textDecoration","target","short","gasCostDisplay","fullWidth","onClick","_transactionDataQuery9","toString","variant","connectButton","label","props","_ref2"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/Bridge/TransactionPayment.tsx"],"sourcesContent":["\"use client\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { TokenWithPrices } from \"../../../../bridge/types/Token.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { NATIVE_TOKEN_ADDRESS } from \"../../../../constants/addresses.js\";\nimport type { SupportedFiatCurrency } from \"../../../../pay/convert/type.js\";\nimport type { PreparedTransaction } from \"../../../../transaction/prepare-transaction.js\";\nimport {\n  type Address,\n  getAddress,\n  shortenAddress,\n} from \"../../../../utils/address.js\";\nimport { resolvePromisedValue } from \"../../../../utils/promise/resolve-promised-value.js\";\nimport { getWalletBalance } from \"../../../../wallets/utils/getWalletBalance.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport {\n  fontSize,\n  spacing,\n  type Theme,\n} from \"../../../core/design-system/index.js\";\nimport { useChainMetadata } from \"../../../core/hooks/others/useChainQuery.js\";\nimport { useTransactionDetails } from \"../../../core/hooks/useTransactionDetails.js\";\nimport { useActiveAccount } from \"../../../core/hooks/wallets/useActiveAccount.js\";\nimport { useActiveWallet } from \"../../../core/hooks/wallets/useActiveWallet.js\";\nimport { ConnectButton } from \"../ConnectWallet/ConnectButton.js\";\nimport { PoweredByThirdweb } from \"../ConnectWallet/PoweredByTW.js\";\nimport { formatCurrencyAmount } from \"../ConnectWallet/screens/formatTokenBalance.js\";\nimport { Container, Line } from \"../components/basic.js\";\nimport { Button } from \"../components/buttons.js\";\nimport { ChainName } from \"../components/ChainName.js\";\nimport { Spacer } from \"../components/Spacer.js\";\nimport { Text } from \"../components/text.js\";\nimport type { PayEmbedConnectOptions } from \"../PayEmbed.js\";\nimport { ChainIcon } from \"./common/TokenAndChain.js\";\nimport { WithHeader } from \"./common/WithHeader.js\";\n\ntype TransactionPaymentProps = {\n  /**\n   * UI configuration and mode\n   */\n  transaction: PreparedTransaction;\n  currency: SupportedFiatCurrency;\n  buttonLabel: string | undefined;\n  metadata: {\n    title: string | undefined;\n    description: string | undefined;\n    image: string | undefined;\n  };\n\n  /**\n   * ThirdwebClient for blockchain interactions\n   */\n  client: ThirdwebClient;\n\n  /**\n   * Called when user confirms transaction execution\n   */\n  onContinue: (\n    amount: string,\n    token: TokenWithPrices,\n    receiverAddress: Address,\n  ) => void;\n\n  /**\n   * Request to execute the transaction immediately (skips funding flow)\n   */\n  onExecuteTransaction: () => void;\n\n  /**\n   * Connect options for wallet connection\n   */\n  connectOptions?: PayEmbedConnectOptions;\n\n  /**\n   * Whether to show thirdweb branding in the widget.\n   * @default true\n   */\n  showThirdwebBranding?: boolean;\n};\n\nexport function TransactionPayment({\n  transaction,\n  client,\n  onContinue,\n  onExecuteTransaction,\n  connectOptions,\n  currency,\n  showThirdwebBranding = true,\n  buttonLabel: _buttonLabel,\n  metadata,\n}: TransactionPaymentProps) {\n  const theme = useCustomTheme();\n  const activeAccount = useActiveAccount();\n  const wallet = useActiveWallet();\n\n  // Get chain metadata for native currency symbol\n  const chainMetadata = useChainMetadata(transaction.chain);\n\n  // Use the extracted hook for transaction details\n  const transactionDataQuery = useTransactionDetails({\n    client,\n    transaction: transaction,\n    wallet,\n  });\n\n  // We can't use useWalletBalance here because erc20Value is a possibly async value\n  const { data: userBalance } = useQuery({\n    enabled: !!activeAccount?.address,\n    queryFn: async (): Promise<string> => {\n      if (!activeAccount?.address) {\n        return \"0\";\n      }\n      const erc20Value = await resolvePromisedValue(transaction.erc20Value);\n      const walletBalance = await getWalletBalance({\n        address: activeAccount?.address,\n        chain: transaction.chain,\n        tokenAddress:\n          erc20Value?.tokenAddress.toLowerCase() !== NATIVE_TOKEN_ADDRESS\n            ? erc20Value?.tokenAddress\n            : undefined,\n        client,\n      });\n\n      return walletBalance.displayValue;\n    },\n    queryKey: [\"user-balance\", activeAccount?.address],\n  });\n\n  const contractName =\n    transactionDataQuery.data?.contractMetadata?.name || \"Unknown Contract\";\n  const functionName =\n    transactionDataQuery.data?.functionInfo?.functionName || \"Contract Call\";\n  const isLoading = transactionDataQuery.isLoading || chainMetadata.isLoading;\n\n  const buttonLabel = _buttonLabel || `Execute ${functionName}`;\n\n  const tokenFiatPricePerToken =\n    transactionDataQuery.data?.tokenInfo?.prices[currency] || undefined;\n\n  const totalFiatCost =\n    tokenFiatPricePerToken && transactionDataQuery.data\n      ? tokenFiatPricePerToken * Number(transactionDataQuery.data.totalCost)\n      : undefined;\n\n  const costToDisplay =\n    totalFiatCost !== undefined\n      ? formatCurrencyAmount(currency, totalFiatCost)\n      : transactionDataQuery.data?.txCostDisplay;\n\n  if (isLoading) {\n    return (\n      <WithHeader\n        client={client}\n        title={metadata.title || \"Transaction\"}\n        description={metadata.description}\n        image={metadata.image}\n      >\n        {/* Loading Header */}\n        <SkeletonHeader theme={theme} />\n\n        <Spacer y=\"md\" />\n\n        <Line />\n\n        <Spacer y=\"md\" />\n\n        {/* Loading Rows */}\n        <SkeletonRow theme={theme} width=\"60%\" />\n        <Spacer y=\"xs\" />\n        <SkeletonRow theme={theme} width=\"40%\" />\n        <Spacer y=\"xs\" />\n        <SkeletonRow theme={theme} width=\"50%\" />\n        <Spacer y=\"xs\" />\n        <SkeletonRow theme={theme} width=\"45%\" />\n        <Spacer y=\"xs\" />\n        <SkeletonRow theme={theme} width=\"55%\" />\n\n        <Spacer y=\"md\" />\n\n        <Line />\n\n        <Spacer y=\"lg\" />\n\n        {/* Loading Button */}\n        <div\n          style={{\n            backgroundColor: theme.colors.skeletonBg,\n            borderRadius: spacing.md,\n            height: \"48px\",\n            width: \"100%\",\n          }}\n        />\n\n        {showThirdwebBranding ? (\n          <div>\n            <Spacer y=\"md\" />\n            <PoweredByThirdweb />\n            <Spacer y=\"md\" />\n          </div>\n        ) : null}\n      </WithHeader>\n    );\n  }\n\n  return (\n    <WithHeader\n      client={client}\n      title={metadata.title || \"Transaction\"}\n      description={metadata.description}\n      image={metadata.image}\n    >\n      {/* Cost and Function Name section */}\n      <Container\n        center=\"y\"\n        flex=\"row\"\n        gap=\"3xs\"\n        style={{\n          justifyContent: \"space-between\",\n        }}\n      >\n        {/* USD Value */}\n        <Text color=\"primaryText\" size=\"xl\" weight={600}>\n          {costToDisplay}\n        </Text>\n\n        {/* Function Name */}\n        <Text\n          color=\"secondaryText\"\n          size=\"md\"\n          style={{\n            backgroundColor: theme.colors.tertiaryBg,\n            borderRadius: spacing.sm,\n            fontFamily: \"monospace\",\n            padding: `${spacing.xs} ${spacing.sm}`,\n            textAlign: \"right\",\n          }}\n        >\n          {functionName}\n        </Text>\n      </Container>\n\n      <Spacer y=\"md\" />\n\n      <Line />\n\n      <Spacer y=\"md\" />\n\n      {/* Contract Info */}\n      {contractName !== \"UnknownContract\" &&\n        contractName !== undefined &&\n        contractName !== \"Unknown Contract\" && (\n          <>\n            <Container\n              flex=\"row\"\n              style={{\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n              }}\n            >\n              <Text color=\"secondaryText\" size=\"sm\">\n                Contract\n              </Text>\n              <Text color=\"primaryText\" size=\"sm\">\n                {contractName}\n              </Text>\n            </Container>\n\n            <Spacer y=\"xs\" />\n          </>\n        )}\n\n      {/* Address */}\n      <Container\n        flex=\"row\"\n        style={{\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <Text color=\"secondaryText\" size=\"sm\">\n          Address\n        </Text>\n        <a\n          href={`https://thirdweb.com/${transaction.chain.id}/${transaction.to}`}\n          rel=\"noopener noreferrer\"\n          style={{\n            color: theme.colors.accentText,\n            fontFamily: \"monospace\",\n            fontSize: fontSize.sm,\n            textDecoration: \"none\",\n          }}\n          target=\"_blank\"\n        >\n          {shortenAddress(transaction.to as string)}\n        </a>\n      </Container>\n\n      <Spacer y=\"xs\" />\n\n      {/* Network */}\n      <Container\n        flex=\"row\"\n        style={{\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <Text color=\"secondaryText\" size=\"sm\">\n          Network\n        </Text>\n        <Container center=\"y\" flex=\"row\" gap=\"3xs\">\n          <ChainIcon chain={transaction.chain} client={client} size=\"xs\" />\n          <ChainName\n            chain={transaction.chain}\n            client={client}\n            color=\"primaryText\"\n            short\n            size=\"sm\"\n            style={{\n              fontFamily: \"monospace\",\n            }}\n          />\n        </Container>\n      </Container>\n\n      <Spacer y=\"xs\" />\n\n      {/* Cost */}\n      {transactionDataQuery.data?.txCostDisplay && (\n        <>\n          <Container\n            flex=\"row\"\n            style={{\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <Text color=\"secondaryText\" size=\"sm\">\n              Cost\n            </Text>\n            <Text\n              color=\"primaryText\"\n              size=\"sm\"\n              style={{\n                fontFamily: \"monospace\",\n              }}\n            >\n              {transactionDataQuery.data?.txCostDisplay}\n            </Text>\n          </Container>\n\n          <Spacer y=\"xs\" />\n        </>\n      )}\n\n      {/* Network Fees */}\n      {transactionDataQuery.data?.gasCostDisplay && (\n        <>\n          <Container\n            flex=\"row\"\n            style={{\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <Text color=\"secondaryText\" size=\"sm\">\n              Network fees\n            </Text>\n            <Text\n              color=\"primaryText\"\n              size=\"sm\"\n              style={{\n                fontFamily: \"monospace\",\n              }}\n            >\n              {transactionDataQuery.data?.gasCostDisplay}\n            </Text>\n          </Container>\n\n          <Spacer y=\"md\" />\n        </>\n      )}\n\n      <Line />\n\n      <Spacer y=\"lg\" />\n\n      {/* Action Button */}\n      {activeAccount ? (\n        <Button\n          fullWidth\n          onClick={() => {\n            if (transactionDataQuery.data?.tokenInfo) {\n              if (\n                userBalance &&\n                Number(userBalance) <\n                  Number(transactionDataQuery.data.totalCost)\n              ) {\n                // if user has funds, but not enough, we need to fund the wallet with the difference\n                onContinue(\n                  (\n                    Number(transactionDataQuery.data.totalCost) -\n                    Number(userBalance)\n                  ).toString(),\n                  transactionDataQuery.data.tokenInfo,\n                  getAddress(activeAccount.address),\n                );\n                return;\n              }\n\n              // If the user has enough to pay, skip the payment step altogether\n              if (\n                userBalance &&\n                Number(userBalance) >=\n                  Number(transactionDataQuery.data.totalCost)\n              ) {\n                onExecuteTransaction();\n                return;\n              }\n\n              // otherwise, use the full transaction cost\n              onContinue(\n                transactionDataQuery.data.totalCost,\n                transactionDataQuery.data.tokenInfo,\n                getAddress(activeAccount.address),\n              );\n            } else {\n              // if token not supported, can't go into buy flow, so skip to execute transaction\n              onExecuteTransaction();\n            }\n          }}\n          style={{\n            fontSize: fontSize.md,\n            padding: `${spacing.sm} ${spacing.md}`,\n          }}\n          variant=\"primary\"\n        >\n          {buttonLabel}\n        </Button>\n      ) : (\n        <ConnectButton\n          client={client}\n          connectButton={{\n            label: buttonLabel,\n          }}\n          theme={theme}\n          {...connectOptions}\n        />\n      )}\n\n      {showThirdwebBranding ? (\n        <div>\n          <Spacer y=\"md\" />\n          <PoweredByThirdweb />\n        </div>\n      ) : null}\n      <Spacer y=\"md\" />\n    </WithHeader>\n  );\n}\n\nconst SkeletonHeader = (props: { theme: Theme }) => (\n  <Container\n    center=\"y\"\n    flex=\"row\"\n    gap=\"3xs\"\n    style={{\n      justifyContent: \"space-between\",\n    }}\n  >\n    {/* USD Value Skeleton */}\n    <div\n      style={{\n        backgroundColor: props.theme.colors.skeletonBg,\n        borderRadius: spacing.xs,\n        height: \"32px\",\n        width: \"80px\",\n      }}\n    />\n\n    {/* Function Name Skeleton */}\n    <div\n      style={{\n        backgroundColor: props.theme.colors.skeletonBg,\n        borderRadius: spacing.sm,\n        height: \"24px\",\n        width: \"120px\",\n      }}\n    />\n  </Container>\n);\n\n// Skeleton component for loading state\nconst SkeletonRow = ({\n  width = \"100%\",\n  theme,\n}: {\n  width?: string;\n  theme: Theme;\n}) => (\n  <Container\n    flex=\"row\"\n    style={{\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n    }}\n  >\n    <div\n      style={{\n        backgroundColor: theme.colors.skeletonBg,\n        borderRadius: spacing.xs,\n        height: \"16px\",\n        width: \"30%\",\n      }}\n    />\n    <div\n      style={{\n        backgroundColor: theme.colors.skeletonBg,\n        borderRadius: spacing.xs,\n        height: \"16px\",\n        width,\n      }}\n    />\n  </Container>\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}