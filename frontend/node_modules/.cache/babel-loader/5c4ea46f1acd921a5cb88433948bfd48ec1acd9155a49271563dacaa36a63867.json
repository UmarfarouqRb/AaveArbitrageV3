{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"requestTimeoutMs\", \"useAuthToken\"];\nimport { version } from \"../version.js\";\nimport { LruMap } from \"./caching/lru.js\";\nimport { detectOS, detectPlatform } from \"./detect-platform.js\";\nimport { getServiceKey } from \"./domains.js\";\nimport { isJWT } from \"./jwt/is-jwt.js\";\nimport { IS_DEV } from \"./process.js\";\nconst DEFAULT_REQUEST_TIMEOUT = 60000;\n/**\n * @internal\n */\nexport function getClientFetch(client, ecosystem) {\n  /**\n   * @internal\n   */\n  async function fetchWithHeaders(url, init) {\n    var _controller2;\n    const _ref = init || {},\n      {\n        requestTimeoutMs = DEFAULT_REQUEST_TIMEOUT,\n        useAuthToken\n      } = _ref,\n      restInit = _objectWithoutProperties(_ref, _excluded);\n    let headers = restInit.headers ? new Headers(restInit.headers) : typeof url === \"object\" ? url.headers : undefined;\n    const urlString = typeof url === \"string\" ? url : url.url;\n    // check if we are making a request to a thirdweb service (we don't want to send any headers to non-thirdweb services)\n    if (isThirdwebUrl(urlString)) {\n      if (!headers) {\n        headers = new Headers();\n      }\n      // auth token if secret key === jwt\n      const authToken = useAuthToken && client.secretKey && isJWT(client.secretKey) ? client.secretKey : undefined;\n      // secret key if secret key !== jwt\n      const secretKey = client.secretKey && !isJWT(client.secretKey) ? client.secretKey : undefined;\n      const clientId = client.clientId;\n      if (authToken && isBundlerUrl(urlString)) {\n        headers.set(\"authorization\", \"Bearer \".concat(authToken));\n        if (client.teamId) {\n          headers.set(\"x-team-id\", client.teamId);\n        }\n        if (clientId) {\n          headers.set(\"x-client-id\", clientId);\n        }\n      }\n      // if we have an auth token set, use that (thirdweb dashboard sets this for the user)\n      // pay urls should never send the auth token, because we always want the \"developer\" to be the one making the request, not the \"end user\"\n      else if (authToken && !isPayUrl(urlString) && !isInAppWalletUrl(urlString)) {\n        headers.set(\"authorization\", \"Bearer \".concat(authToken));\n        // if we have a specific teamId set, add it to the request headers\n        if (client.teamId) {\n          headers.set(\"x-team-id\", client.teamId);\n        }\n      } else {\n        // only set secret key or client id if we are NOT using the auth token!\n        if (secretKey) {\n          headers.set(\"x-secret-key\", secretKey);\n        }\n        if (clientId) {\n          headers.set(\"x-client-id\", clientId);\n        }\n      }\n      if (ecosystem) {\n        headers.set(\"x-ecosystem-id\", ecosystem.id);\n        if (ecosystem.partnerId) {\n          headers.set(\"x-ecosystem-partner-id\", ecosystem.partnerId);\n        }\n      }\n      // this already internally caches\n      for (const [key, value] of getPlatformHeaders()) {\n        headers.set(key, value);\n      }\n      const serviceKey = getServiceKey();\n      if (serviceKey) {\n        headers.set(\"x-service-api-key\", serviceKey);\n      }\n    }\n    let controller;\n    let abortTimeout;\n    if (requestTimeoutMs) {\n      controller = new AbortController();\n      abortTimeout = setTimeout(() => {\n        var _controller;\n        (_controller = controller) === null || _controller === void 0 || _controller.abort(\"timeout\");\n      }, requestTimeoutMs);\n    }\n    return fetch(url, _objectSpread(_objectSpread({}, restInit), {}, {\n      headers,\n      signal: (_controller2 = controller) === null || _controller2 === void 0 ? void 0 : _controller2.signal\n    })).finally(() => {\n      if (abortTimeout) {\n        clearTimeout(abortTimeout);\n      }\n    });\n  }\n  return fetchWithHeaders;\n}\n// NOTE: these all start with \".\" because we want to make sure we don't match (for example) \"otherthirdweb.com\"\nconst THIRDWEB_DOMAINS = [\".thirdweb.com\", \".ipfscdn.io\",\n// dev domains\n\".thirdweb.dev\", \".thirdweb-dev.com\", \".thirdwebstorage-dev.com\"];\nexport const IS_THIRDWEB_URL_CACHE = new LruMap(4096);\n/**\n * @internal\n */\nexport function isThirdwebUrl(url) {\n  if (IS_THIRDWEB_URL_CACHE.has(url)) {\n    // biome-ignore lint/style/noNonNullAssertion: the `has` above ensures that this will always be set\n    return IS_THIRDWEB_URL_CACHE.get(url);\n  }\n  try {\n    const {\n      hostname\n    } = new URL(url);\n    try {\n      // special case for localhost in development only\n      if (IS_DEV) {\n        if (hostname === \"localhost\") {\n          IS_THIRDWEB_URL_CACHE.set(url, true);\n          return true;\n        }\n      }\n    } catch (_unused) {}\n    const is = THIRDWEB_DOMAINS.some(domain => hostname.endsWith(domain));\n    IS_THIRDWEB_URL_CACHE.set(url, is);\n    return is;\n  } catch (_unused2) {\n    IS_THIRDWEB_URL_CACHE.set(url, false);\n    return false;\n  }\n}\nfunction isPayUrl(url) {\n  try {\n    const {\n      hostname\n    } = new URL(url);\n    // pay service hostname always starts with \"pay.\"\n    return hostname.startsWith(\"pay.\");\n  } catch (_unused3) {\n    return false;\n  }\n}\nfunction isInAppWalletUrl(url) {\n  try {\n    const {\n      hostname\n    } = new URL(url);\n    // in app wallet service hostname always starts with \"in-app-wallet.\" or \"embedded-wallet.\"\n    return hostname.startsWith(\"in-app-wallet.\") || hostname.startsWith(\"embedded-wallet.\");\n  } catch (_unused4) {\n    return false;\n  }\n}\nfunction isBundlerUrl(url) {\n  try {\n    const {\n      hostname\n    } = new URL(url);\n    return hostname.endsWith(\".bundler.thirdweb.com\") || hostname.endsWith(\".bundler.thirdweb-dev.com\");\n  } catch (_unused5) {\n    return false;\n  }\n}\nconst SDK_NAME = \"unified-sdk\";\nlet previousPlatform;\n/**\n * @internal\n */\nexport function getPlatformHeaders() {\n  if (previousPlatform) {\n    return previousPlatform;\n  }\n  let os = null;\n  if (typeof navigator !== \"undefined\") {\n    os = detectOS(navigator.userAgent);\n  }\n  let bundleId;\n  if (typeof globalThis !== \"undefined\" && \"Application\" in globalThis) {\n    // shims use wallet connect RN module which injects Application info in globalThis\n    // biome-ignore lint/suspicious/noExplicitAny: get around globalThis typing\n    bundleId = globalThis.Application.applicationId;\n  }\n  previousPlatform = Object.entries(_objectSpread({\n    \"x-sdk-name\": SDK_NAME,\n    \"x-sdk-os\": os ? parseOs(os) : \"unknown\",\n    \"x-sdk-platform\": detectPlatform(),\n    \"x-sdk-version\": version\n  }, bundleId ? {\n    \"x-bundle-id\": bundleId\n  } : {}));\n  return previousPlatform;\n}\n/**\n * @internal\n */\nfunction parseOs(os) {\n  const osLowerCased = os.toLowerCase();\n  if (osLowerCased.startsWith(\"win\")) {\n    return \"win\";\n  }\n  // we do NOT use the lowercase here\n  switch (os) {\n    case \"Mac OS\":\n      return \"mac\";\n    case \"iOS\":\n      return \"ios\";\n    case \"Android OS\":\n      return \"android\";\n    default:\n      // if we somehow fall through here, just replace all spaces with underscores and send it\n      return osLowerCased.replace(/\\s/gi, \"_\");\n  }\n}","map":{"version":3,"names":["version","LruMap","detectOS","detectPlatform","getServiceKey","isJWT","IS_DEV","DEFAULT_REQUEST_TIMEOUT","getClientFetch","client","ecosystem","fetchWithHeaders","url","init","_controller2","_ref","requestTimeoutMs","useAuthToken","restInit","_objectWithoutProperties","_excluded","headers","Headers","undefined","urlString","isThirdwebUrl","authToken","secretKey","clientId","isBundlerUrl","set","concat","teamId","isPayUrl","isInAppWalletUrl","id","partnerId","key","value","getPlatformHeaders","serviceKey","controller","abortTimeout","AbortController","setTimeout","_controller","abort","fetch","_objectSpread","signal","finally","clearTimeout","THIRDWEB_DOMAINS","IS_THIRDWEB_URL_CACHE","has","get","hostname","URL","_unused","is","some","domain","endsWith","_unused2","startsWith","_unused3","_unused4","_unused5","SDK_NAME","previousPlatform","os","navigator","userAgent","bundleId","globalThis","Application","applicationId","Object","entries","parseOs","osLowerCased","toLowerCase","replace"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/utils/fetch.ts"],"sourcesContent":["import type { ThirdwebClient } from \"../client/client.js\";\nimport { version } from \"../version.js\";\nimport type { Ecosystem } from \"../wallets/in-app/core/wallet/types.js\";\nimport { LruMap } from \"./caching/lru.js\";\nimport {\n  detectOS,\n  detectPlatform,\n  type OperatingSystem,\n} from \"./detect-platform.js\";\nimport { getServiceKey } from \"./domains.js\";\nimport { isJWT } from \"./jwt/is-jwt.js\";\nimport { IS_DEV } from \"./process.js\";\n\nconst DEFAULT_REQUEST_TIMEOUT = 60000;\n\n/**\n * @internal\n */\nexport function getClientFetch(client: ThirdwebClient, ecosystem?: Ecosystem) {\n  /**\n   * @internal\n   */\n  async function fetchWithHeaders(\n    url: string | Request,\n    init?: Omit<RequestInit, \"signal\"> & {\n      requestTimeoutMs?: number;\n      useAuthToken?: boolean;\n    },\n  ): Promise<Response> {\n    const {\n      requestTimeoutMs = DEFAULT_REQUEST_TIMEOUT,\n      useAuthToken,\n      ...restInit\n    } = init || {};\n\n    let headers = restInit.headers\n      ? new Headers(restInit.headers)\n      : typeof url === \"object\"\n        ? url.headers\n        : undefined;\n    const urlString = typeof url === \"string\" ? url : url.url;\n\n    // check if we are making a request to a thirdweb service (we don't want to send any headers to non-thirdweb services)\n    if (isThirdwebUrl(urlString)) {\n      if (!headers) {\n        headers = new Headers();\n      }\n      // auth token if secret key === jwt\n      const authToken =\n        useAuthToken && client.secretKey && isJWT(client.secretKey)\n          ? client.secretKey\n          : undefined;\n      // secret key if secret key !== jwt\n      const secretKey =\n        client.secretKey && !isJWT(client.secretKey)\n          ? client.secretKey\n          : undefined;\n      const clientId = client.clientId;\n\n      if (authToken && isBundlerUrl(urlString)) {\n        headers.set(\"authorization\", `Bearer ${authToken}`);\n        if (client.teamId) {\n          headers.set(\"x-team-id\", client.teamId);\n        }\n\n        if (clientId) {\n          headers.set(\"x-client-id\", clientId);\n        }\n      }\n      // if we have an auth token set, use that (thirdweb dashboard sets this for the user)\n      // pay urls should never send the auth token, because we always want the \"developer\" to be the one making the request, not the \"end user\"\n      else if (\n        authToken &&\n        !isPayUrl(urlString) &&\n        !isInAppWalletUrl(urlString)\n      ) {\n        headers.set(\"authorization\", `Bearer ${authToken}`);\n        // if we have a specific teamId set, add it to the request headers\n        if (client.teamId) {\n          headers.set(\"x-team-id\", client.teamId);\n        }\n      } else {\n        // only set secret key or client id if we are NOT using the auth token!\n        if (secretKey) {\n          headers.set(\"x-secret-key\", secretKey);\n        }\n\n        if (clientId) {\n          headers.set(\"x-client-id\", clientId);\n        }\n      }\n\n      if (ecosystem) {\n        headers.set(\"x-ecosystem-id\", ecosystem.id);\n        if (ecosystem.partnerId) {\n          headers.set(\"x-ecosystem-partner-id\", ecosystem.partnerId);\n        }\n      }\n      // this already internally caches\n      for (const [key, value] of getPlatformHeaders()) {\n        (headers as Headers).set(key, value);\n      }\n\n      const serviceKey = getServiceKey();\n      if (serviceKey) {\n        headers.set(\"x-service-api-key\", serviceKey);\n      }\n    }\n\n    let controller: AbortController | undefined;\n    let abortTimeout: ReturnType<typeof setTimeout> | undefined;\n    if (requestTimeoutMs) {\n      controller = new AbortController();\n      abortTimeout = setTimeout(() => {\n        controller?.abort(\"timeout\");\n      }, requestTimeoutMs);\n    }\n\n    return fetch(url, {\n      ...restInit,\n      headers,\n      signal: controller?.signal,\n    }).finally(() => {\n      if (abortTimeout) {\n        clearTimeout(abortTimeout);\n      }\n    });\n  }\n  return fetchWithHeaders;\n}\n\n// NOTE: these all start with \".\" because we want to make sure we don't match (for example) \"otherthirdweb.com\"\nconst THIRDWEB_DOMAINS = [\n  \".thirdweb.com\",\n  \".ipfscdn.io\",\n  // dev domains\n  \".thirdweb.dev\",\n  \".thirdweb-dev.com\",\n  \".thirdwebstorage-dev.com\",\n] as const;\n\nexport const IS_THIRDWEB_URL_CACHE = new LruMap<boolean>(4096);\n\n/**\n * @internal\n */\nexport function isThirdwebUrl(url: string): boolean {\n  if (IS_THIRDWEB_URL_CACHE.has(url)) {\n    // biome-ignore lint/style/noNonNullAssertion: the `has` above ensures that this will always be set\n    return IS_THIRDWEB_URL_CACHE.get(url)!;\n  }\n  try {\n    const { hostname } = new URL(url);\n\n    try {\n      // special case for localhost in development only\n      if (IS_DEV) {\n        if (hostname === \"localhost\") {\n          IS_THIRDWEB_URL_CACHE.set(url, true);\n          return true;\n        }\n      }\n    } catch {}\n\n    const is = THIRDWEB_DOMAINS.some((domain) => hostname.endsWith(domain));\n    IS_THIRDWEB_URL_CACHE.set(url, is);\n    return is;\n  } catch {\n    IS_THIRDWEB_URL_CACHE.set(url, false);\n    return false;\n  }\n}\n\nfunction isPayUrl(url: string): boolean {\n  try {\n    const { hostname } = new URL(url);\n    // pay service hostname always starts with \"pay.\"\n    return hostname.startsWith(\"pay.\");\n  } catch {\n    return false;\n  }\n}\n\nfunction isInAppWalletUrl(url: string): boolean {\n  try {\n    const { hostname } = new URL(url);\n    // in app wallet service hostname always starts with \"in-app-wallet.\" or \"embedded-wallet.\"\n    return (\n      hostname.startsWith(\"in-app-wallet.\") ||\n      hostname.startsWith(\"embedded-wallet.\")\n    );\n  } catch {\n    return false;\n  }\n}\n\nfunction isBundlerUrl(url: string): boolean {\n  try {\n    const { hostname } = new URL(url);\n    return (\n      hostname.endsWith(\".bundler.thirdweb.com\") ||\n      hostname.endsWith(\".bundler.thirdweb-dev.com\")\n    );\n  } catch {\n    return false;\n  }\n}\n\nconst SDK_NAME = \"unified-sdk\";\n\nlet previousPlatform: [string, string][] | undefined;\n/**\n * @internal\n */\nexport function getPlatformHeaders() {\n  if (previousPlatform) {\n    return previousPlatform;\n  }\n\n  let os: OperatingSystem | null = null;\n  if (typeof navigator !== \"undefined\") {\n    os = detectOS(navigator.userAgent);\n  }\n\n  let bundleId: string | undefined;\n  if (typeof globalThis !== \"undefined\" && \"Application\" in globalThis) {\n    // shims use wallet connect RN module which injects Application info in globalThis\n    // biome-ignore lint/suspicious/noExplicitAny: get around globalThis typing\n    bundleId = (globalThis as any).Application.applicationId;\n  }\n\n  previousPlatform = Object.entries({\n    \"x-sdk-name\": SDK_NAME,\n    \"x-sdk-os\": os ? parseOs(os) : \"unknown\",\n    \"x-sdk-platform\": detectPlatform(),\n    \"x-sdk-version\": version,\n    ...(bundleId ? { \"x-bundle-id\": bundleId } : {}),\n  });\n\n  return previousPlatform;\n}\n\n/**\n * @internal\n */\nfunction parseOs(os: OperatingSystem | NodeJS.Platform) {\n  const osLowerCased = os.toLowerCase();\n  if (osLowerCased.startsWith(\"win\")) {\n    return \"win\";\n  }\n  // we do NOT use the lowercase here\n  switch (os) {\n    case \"Mac OS\":\n      return \"mac\";\n    case \"iOS\":\n      return \"ios\";\n    case \"Android OS\":\n      return \"android\";\n    default:\n      // if we somehow fall through here, just replace all spaces with underscores and send it\n      return osLowerCased.replace(/\\s/gi, \"_\");\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}