{"ast":null,"code":"/**\n * Run a function whenever dependencies change\n * @param effectFn - Side effect function to run\n * @param dependencies - The stores it depends on\n * @param runOnMount - Whether to run the effect function immediately or not\n * @example\n * ```ts\n * const foo = computed(() => bar.getValue() + baz.getValue(), [bar, baz]);\n * ```\n * @returns A function to stop listening to changes in the dependencies\n */\nexport function effect(\n// pass the values of the dependencies to the computation function\neffectFn,\n// biome-ignore lint/suspicious/noExplicitAny: library function that accepts any store type\ndependencies) {\n  let runOnMount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  if (runOnMount) {\n    effectFn();\n  }\n  // when any of the dependencies change, recompute the value and set it\n  const unsubscribeList = dependencies.map(store => {\n    return store.subscribe(() => {\n      effectFn();\n    });\n  });\n  return () => {\n    for (const fn of unsubscribeList) {\n      fn();\n    }\n  };\n}","map":{"version":3,"names":["effect","effectFn","dependencies","runOnMount","arguments","length","undefined","unsubscribeList","map","store","subscribe","fn"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/reactive/effect.ts"],"sourcesContent":["import type { ReadonlyStore } from \"./computedStore.js\";\nimport type { Store } from \"./store.js\";\n\n/**\n * Run a function whenever dependencies change\n * @param effectFn - Side effect function to run\n * @param dependencies - The stores it depends on\n * @param runOnMount - Whether to run the effect function immediately or not\n * @example\n * ```ts\n * const foo = computed(() => bar.getValue() + baz.getValue(), [bar, baz]);\n * ```\n * @returns A function to stop listening to changes in the dependencies\n */\nexport function effect<T>(\n  // pass the values of the dependencies to the computation function\n  effectFn: () => T,\n  // biome-ignore lint/suspicious/noExplicitAny: library function that accepts any store type\n  dependencies: (Store<any> | ReadonlyStore<any>)[],\n  runOnMount = true,\n) {\n  if (runOnMount) {\n    effectFn();\n  }\n\n  // when any of the dependencies change, recompute the value and set it\n  const unsubscribeList = dependencies.map((store) => {\n    return store.subscribe(() => {\n      effectFn();\n    });\n  });\n\n  return () => {\n    for (const fn of unsubscribeList) {\n      fn();\n    }\n  };\n}\n"],"mappings":"AAGA;;;;;;;;;;;AAWA,OAAM,SAAUA,MAAMA;AACpB;AACAC,QAAiB;AACjB;AACAC,YAAiD,EAChC;EAAA,IAAjBC,UAAU,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EAEjB,IAAID,UAAU,EAAE;IACdF,QAAQ,EAAE;EACZ;EAEA;EACA,MAAMM,eAAe,GAAGL,YAAY,CAACM,GAAG,CAAEC,KAAK,IAAI;IACjD,OAAOA,KAAK,CAACC,SAAS,CAAC,MAAK;MAC1BT,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,OAAO,MAAK;IACV,KAAK,MAAMU,EAAE,IAAIJ,eAAe,EAAE;MAChCI,EAAE,EAAE;IACN;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}