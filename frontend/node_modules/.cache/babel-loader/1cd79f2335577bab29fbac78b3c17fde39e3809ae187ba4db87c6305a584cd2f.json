{"ast":null,"code":"import { isBase64JSON, parseBase64String } from \"../base64/base64.js\";\n/**\n * Fetches the metadata for a token.\n *\n * @param options - The options for fetching the token metadata.\n * @returns The token metadata.\n * @internal\n */\nexport async function fetchContractMetadata(options) {\n  const {\n    client,\n    uri\n  } = options;\n  // handle case where the URI is a base64 encoded JSON\n  if (isBase64JSON(uri)) {\n    try {\n      return JSON.parse(parseBase64String(uri));\n    } catch (e) {\n      console.error(\"Failed to decode base64 encoded contract metadata\", {\n        uri\n      }, e);\n      return undefined;\n    }\n  }\n  // in all other cases we will need the `download` function from storage\n  const {\n    download\n  } = await import(\"../../storage/download.js\");\n  return await (await download({\n    client,\n    uri\n  })).json();\n}","map":{"version":3,"names":["isBase64JSON","parseBase64String","fetchContractMetadata","options","client","uri","JSON","parse","e","console","error","undefined","download","json"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/utils/contract/fetchContractMetadata.ts"],"sourcesContent":["import type { ThirdwebClient } from \"../../client/client.js\";\nimport { isBase64JSON, parseBase64String } from \"../base64/base64.js\";\n\n/**\n * @internal\n */\nexport type FetchContractMetadata = {\n  client: ThirdwebClient;\n  uri: string;\n};\n\n/**\n * Fetches the metadata for a token.\n *\n * @param options - The options for fetching the token metadata.\n * @returns The token metadata.\n * @internal\n */\nexport async function fetchContractMetadata(\n  options: FetchContractMetadata,\n): Promise<{ [key: string]: unknown } | undefined> {\n  const { client, uri } = options;\n\n  // handle case where the URI is a base64 encoded JSON\n  if (isBase64JSON(uri)) {\n    try {\n      return JSON.parse(parseBase64String(uri));\n    } catch (e) {\n      console.error(\n        \"Failed to decode base64 encoded contract metadata\",\n        { uri },\n        e,\n      );\n      return undefined;\n    }\n  }\n\n  // in all other cases we will need the `download` function from storage\n\n  const { download } = await import(\"../../storage/download.js\");\n  return await (await download({ client, uri })).json();\n}\n"],"mappings":"AACA,SAASA,YAAY,EAAEC,iBAAiB,QAAQ,qBAAqB;AAUrE;;;;;;;AAOA,OAAO,eAAeC,qBAAqBA,CACzCC,OAA8B;EAE9B,MAAM;IAAEC,MAAM;IAAEC;EAAG,CAAE,GAAGF,OAAO;EAE/B;EACA,IAAIH,YAAY,CAACK,GAAG,CAAC,EAAE;IACrB,IAAI;MACF,OAAOC,IAAI,CAACC,KAAK,CAACN,iBAAiB,CAACI,GAAG,CAAC,CAAC;IAC3C,CAAC,CAAC,OAAOG,CAAC,EAAE;MACVC,OAAO,CAACC,KAAK,CACX,mDAAmD,EACnD;QAAEL;MAAG,CAAE,EACPG,CAAC,CACF;MACD,OAAOG,SAAS;IAClB;EACF;EAEA;EAEA,MAAM;IAAEC;EAAQ,CAAE,GAAG,MAAM,MAAM,CAAC,2BAA2B,CAAC;EAC9D,OAAO,MAAM,CAAC,MAAMA,QAAQ,CAAC;IAAER,MAAM;IAAEC;EAAG,CAAE,CAAC,EAAEQ,IAAI,EAAE;AACvD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}