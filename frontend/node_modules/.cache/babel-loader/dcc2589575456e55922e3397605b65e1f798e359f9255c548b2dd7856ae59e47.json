{"ast":null,"code":"import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { linkProfile } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport { hasStoredPasskey } from \"../../../../wallets/in-app/web/lib/auth/passkeys.js\";\nimport { iconSize } from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { FingerPrintIcon } from \"../../ui/ConnectWallet/icons/FingerPrintIcon.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { ErrorState } from \"./ErrorState.js\";\nimport { LoadingScreen } from \"./LoadingScreen.js\";\nimport { LoadingState } from \"./LoadingState.js\";\n// is passkey stored?\n// - login\n// else\n// - show login or signup options\nexport function PassKeyLogin(props) {\n  const {\n    wallet,\n    done,\n    client,\n    chain,\n    size,\n    locale\n  } = props;\n  const [screen, setScreen] = useState(\"loading\");\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n    triggered.current = true;\n    hasStoredPasskey(client, isEcosystemWallet(wallet.id) ? wallet.id : undefined).then(isStored => {\n      if (isStored) {\n        setScreen(\"login\");\n      } else {\n        setScreen(\"select\");\n      }\n    }).catch(() => {\n      setScreen(\"select\");\n    });\n  }, [client, wallet.id]);\n  return _jsxs(Container, {\n    animate: \"fadein\",\n    flex: \"column\",\n    fullHeight: true,\n    children: [_jsx(Container, {\n      p: \"lg\",\n      children: _jsx(ModalHeader, {\n        onBack: props.onBack,\n        title: props.isLinking ? locale.passkeys.linkPasskey : locale.passkeys.title\n      })\n    }), _jsx(Container, {\n      center: \"y\",\n      expand: true,\n      flex: \"column\",\n      px: size === \"wide\" ? \"xxl\" : \"lg\",\n      children: _jsxs(\"div\", {\n        children: [screen === \"loading\" && _jsxs(_Fragment, {\n          children: [_jsx(LoadingScreen, {}), _jsx(Spacer, {\n            y: \"xxl\"\n          })]\n        }), screen === \"select\" && _jsx(SelectLoginMethod, {\n          onSignin: () => {\n            setScreen(\"login\");\n          },\n          onSignup: () => {\n            setScreen(\"signup\");\n          }\n        }), screen === \"login\" && _jsx(LoginScreen, {\n          chain: chain,\n          client: client,\n          done: done,\n          isLinking: props.isLinking,\n          onCreate: () => {\n            setScreen(\"signup\");\n          },\n          wallet: wallet\n        }), screen === \"signup\" && _jsx(SignupScreen, {\n          chain: chain,\n          client: client,\n          done: done,\n          isLinking: props.isLinking,\n          wallet: wallet\n        })]\n      })\n    })]\n  });\n}\nfunction LoginScreen(props) {\n  const {\n    wallet,\n    done,\n    client,\n    chain\n  } = props;\n  const [status, setStatus] = useState(\"loading\");\n  const [error, setError] = useState();\n  async function login() {\n    setStatus(\"loading\");\n    try {\n      if (props.isLinking) {\n        await linkProfile({\n          client,\n          strategy: \"passkey\",\n          type: \"sign-in\"\n        }).catch(e => {\n          setError(e.message);\n          throw e;\n        });\n      } else {\n        await wallet.connect({\n          chain,\n          client: client,\n          strategy: \"passkey\",\n          type: \"sign-in\"\n        });\n        await setLastAuthProvider(\"passkey\", webLocalStorage);\n      }\n      done();\n    } catch (e) {\n      console.error(\"Failed to login with passkey\", e);\n      setStatus(\"error\");\n    }\n  }\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n    triggered.current = true;\n    login();\n  });\n  if (status === \"loading\") {\n    return _jsx(LoadingState, {\n      icon: _jsx(FingerPrintIcon, {\n        size: iconSize.xxl\n      }),\n      subtitle: \"A pop-up prompt will appear to sign-in and verify your passkey\",\n      title: \"Requesting Passkey\"\n    });\n  }\n  if (status === \"error\") {\n    return _jsxs(_Fragment, {\n      children: [_jsx(ErrorState, {\n        onTryAgain: login,\n        title: error || \"Failed to Login\"\n      }), _jsx(Spacer, {\n        y: \"sm\"\n      }), _jsx(Button, {\n        fullWidth: true,\n        onClick: props.onCreate,\n        variant: \"outline\",\n        children: \"Create a new Passkey\"\n      }), _jsx(Spacer, {\n        y: \"lg\"\n      })]\n    });\n  }\n  return null;\n}\nfunction SignupScreen(props) {\n  var _wallet$getConfig;\n  const {\n    wallet,\n    done,\n    client,\n    chain\n  } = props;\n  const [error, setError] = useState();\n  const [status, setStatus] = useState(\"loading\");\n  const ecosystem = isEcosystemWallet(wallet) ? {\n    id: wallet.id,\n    partnerId: (_wallet$getConfig = wallet.getConfig()) === null || _wallet$getConfig === void 0 ? void 0 : _wallet$getConfig.partnerId\n  } : undefined;\n  async function signup() {\n    setStatus(\"loading\");\n    try {\n      if (props.isLinking) {\n        await linkProfile({\n          client,\n          ecosystem,\n          strategy: \"passkey\",\n          type: \"sign-up\"\n        });\n      } else {\n        await wallet.connect({\n          chain,\n          client: client,\n          strategy: \"passkey\",\n          type: \"sign-up\"\n        });\n        await setLastAuthProvider(\"passkey\", webLocalStorage);\n      }\n      done();\n    } catch (e) {\n      console.error(e);\n      if (e instanceof Error) {\n        setError(\"Error creating passkey: \".concat(e.message));\n      }\n      setStatus(\"error\");\n    }\n  }\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n    triggered.current = true;\n    signup();\n  });\n  if (status === \"loading\") {\n    return _jsx(LoadingState, {\n      icon: _jsx(FingerPrintIcon, {\n        size: iconSize.xxl\n      }),\n      subtitle: \"A pop-up prompt will appear to sign-in and verify your passkey\",\n      title: \"Creating Passkey\"\n    });\n  }\n  if (status === \"error\") {\n    return _jsxs(_Fragment, {\n      children: [_jsx(ErrorState, {\n        onTryAgain: signup,\n        title: error || \"Failed to create passkey\"\n      }), _jsx(Spacer, {\n        y: \"lg\"\n      })]\n    });\n  }\n  return null;\n}\nfunction SelectLoginMethod(props) {\n  return _jsxs(Container, {\n    children: [_jsx(Spacer, {\n      y: \"xxl\"\n    }), _jsx(Container, {\n      center: \"x\",\n      color: \"accentText\",\n      flex: \"row\",\n      children: _jsx(FingerPrintIcon, {\n        size: iconSize[\"4xl\"]\n      })\n    }), _jsx(Spacer, {\n      y: \"xl\"\n    }), _jsx(Spacer, {\n      y: \"xxl\"\n    }), _jsx(Button, {\n      fullWidth: true,\n      onClick: props.onSignup,\n      variant: \"accent\",\n      children: \"Create a Passkey\"\n    }), _jsx(Spacer, {\n      y: \"sm\"\n    }), _jsx(Button, {\n      fullWidth: true,\n      onClick: props.onSignin,\n      variant: \"outline\",\n      children: \"I have a Passkey\"\n    }), _jsx(Spacer, {\n      y: \"lg\"\n    })]\n  });\n}","map":{"version":3,"names":["useEffect","useRef","useState","webLocalStorage","isEcosystemWallet","linkProfile","hasStoredPasskey","iconSize","setLastAuthProvider","FingerPrintIcon","Container","ModalHeader","Button","Spacer","ErrorState","LoadingScreen","LoadingState","PassKeyLogin","props","wallet","done","client","chain","size","locale","screen","setScreen","triggered","current","id","undefined","then","isStored","catch","_jsxs","animate","flex","fullHeight","children","_jsx","p","onBack","title","isLinking","passkeys","linkPasskey","center","expand","px","_Fragment","y","SelectLoginMethod","onSignin","onSignup","LoginScreen","onCreate","SignupScreen","status","setStatus","error","setError","login","strategy","type","e","message","connect","console","icon","xxl","subtitle","onTryAgain","fullWidth","onClick","variant","_wallet$getConfig","ecosystem","partnerId","getConfig","signup","Error","concat","color"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/wallets/shared/PassKeyLogin.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { linkProfile } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport { hasStoredPasskey } from \"../../../../wallets/in-app/web/lib/auth/passkeys.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport { iconSize } from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { FingerPrintIcon } from \"../../ui/ConnectWallet/icons/FingerPrintIcon.js\";\nimport type { ConnectLocale } from \"../../ui/ConnectWallet/locale/types.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { ErrorState } from \"./ErrorState.js\";\nimport { LoadingScreen } from \"./LoadingScreen.js\";\nimport { LoadingState } from \"./LoadingState.js\";\n\n// is passkey stored?\n// - login\n// else\n// - show login or signup options\n\nexport function PassKeyLogin(props: {\n  wallet: Wallet;\n  locale: ConnectLocale;\n  done: () => void;\n  onBack?: () => void;\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  size: \"compact\" | \"wide\";\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain, size, locale } = props;\n  const [screen, setScreen] = useState<\n    \"select\" | \"login\" | \"loading\" | \"signup\"\n  >(\"loading\");\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    hasStoredPasskey(\n      client,\n      isEcosystemWallet(wallet.id) ? wallet.id : undefined,\n    )\n      .then((isStored) => {\n        if (isStored) {\n          setScreen(\"login\");\n        } else {\n          setScreen(\"select\");\n        }\n      })\n      .catch(() => {\n        setScreen(\"select\");\n      });\n  }, [client, wallet.id]);\n\n  return (\n    <Container animate=\"fadein\" flex=\"column\" fullHeight>\n      <Container p=\"lg\">\n        <ModalHeader\n          onBack={props.onBack}\n          title={\n            props.isLinking\n              ? locale.passkeys.linkPasskey\n              : locale.passkeys.title\n          }\n        />\n      </Container>\n\n      <Container\n        center=\"y\"\n        expand\n        flex=\"column\"\n        px={size === \"wide\" ? \"xxl\" : \"lg\"}\n      >\n        <div>\n          {screen === \"loading\" && (\n            <>\n              <LoadingScreen />\n              <Spacer y=\"xxl\" />\n            </>\n          )}\n\n          {screen === \"select\" && (\n            <SelectLoginMethod\n              onSignin={() => {\n                setScreen(\"login\");\n              }}\n              onSignup={() => {\n                setScreen(\"signup\");\n              }}\n            />\n          )}\n\n          {screen === \"login\" && (\n            <LoginScreen\n              chain={chain}\n              client={client}\n              done={done}\n              isLinking={props.isLinking}\n              onCreate={() => {\n                setScreen(\"signup\");\n              }}\n              wallet={wallet}\n            />\n          )}\n\n          {screen === \"signup\" && (\n            <SignupScreen\n              chain={chain}\n              client={client}\n              done={done}\n              isLinking={props.isLinking}\n              wallet={wallet}\n            />\n          )}\n        </div>\n      </Container>\n    </Container>\n  );\n}\n\nfunction LoginScreen(props: {\n  wallet: Wallet;\n  done: () => void;\n  client: ThirdwebClient;\n  onCreate: () => void;\n  chain?: Chain;\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain } = props;\n  const [status, setStatus] = useState<\"loading\" | \"error\">(\"loading\");\n  const [error, setError] = useState<string | undefined>();\n\n  async function login() {\n    setStatus(\"loading\");\n    try {\n      if (props.isLinking) {\n        await linkProfile({\n          client,\n          strategy: \"passkey\",\n          type: \"sign-in\",\n        }).catch((e) => {\n          setError(e.message);\n          throw e;\n        });\n      } else {\n        await wallet.connect({\n          chain,\n          client: client,\n          strategy: \"passkey\",\n          type: \"sign-in\",\n        });\n        await setLastAuthProvider(\"passkey\", webLocalStorage);\n      }\n      done();\n    } catch (e) {\n      console.error(\"Failed to login with passkey\", e);\n      setStatus(\"error\");\n    }\n  }\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    login();\n  });\n\n  if (status === \"loading\") {\n    return (\n      <LoadingState\n        icon={<FingerPrintIcon size={iconSize.xxl} />}\n        subtitle=\"A pop-up prompt will appear to sign-in and verify your passkey\"\n        title=\"Requesting Passkey\"\n      />\n    );\n  }\n\n  if (status === \"error\") {\n    return (\n      <>\n        <ErrorState onTryAgain={login} title={error || \"Failed to Login\"} />\n        <Spacer y=\"sm\" />\n        <Button fullWidth onClick={props.onCreate} variant=\"outline\">\n          Create a new Passkey\n        </Button>\n        <Spacer y=\"lg\" />\n      </>\n    );\n  }\n\n  return null;\n}\n\nfunction SignupScreen(props: {\n  wallet: Wallet;\n  done: () => void;\n  client: ThirdwebClient;\n  chain?: Chain;\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain } = props;\n  const [error, setError] = useState<string | undefined>();\n  const [status, setStatus] = useState<\"loading\" | \"error\">(\"loading\");\n  const ecosystem = isEcosystemWallet(wallet)\n    ? {\n        id: wallet.id,\n        partnerId: wallet.getConfig()?.partnerId,\n      }\n    : undefined;\n\n  async function signup() {\n    setStatus(\"loading\");\n    try {\n      if (props.isLinking) {\n        await linkProfile({\n          client,\n          ecosystem,\n          strategy: \"passkey\",\n          type: \"sign-up\",\n        });\n      } else {\n        await wallet.connect({\n          chain,\n          client: client,\n          strategy: \"passkey\",\n          type: \"sign-up\",\n        });\n        await setLastAuthProvider(\"passkey\", webLocalStorage);\n      }\n      done();\n    } catch (e) {\n      console.error(e);\n      if (e instanceof Error) {\n        setError(`Error creating passkey: ${e.message}`);\n      }\n      setStatus(\"error\");\n    }\n  }\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    signup();\n  });\n\n  if (status === \"loading\") {\n    return (\n      <LoadingState\n        icon={<FingerPrintIcon size={iconSize.xxl} />}\n        subtitle=\"A pop-up prompt will appear to sign-in and verify your passkey\"\n        title=\"Creating Passkey\"\n      />\n    );\n  }\n\n  if (status === \"error\") {\n    return (\n      <>\n        <ErrorState\n          onTryAgain={signup}\n          title={error || \"Failed to create passkey\"}\n        />\n        <Spacer y=\"lg\" />\n      </>\n    );\n  }\n\n  return null;\n}\n\nfunction SelectLoginMethod(props: {\n  onSignin: () => void;\n  onSignup: () => void;\n}) {\n  return (\n    <Container>\n      <Spacer y=\"xxl\" />\n      <Container center=\"x\" color=\"accentText\" flex=\"row\">\n        <FingerPrintIcon size={iconSize[\"4xl\"]} />\n      </Container>\n      <Spacer y=\"xl\" />\n      <Spacer y=\"xxl\" />\n\n      <Button fullWidth onClick={props.onSignup} variant=\"accent\">\n        Create a Passkey\n      </Button>\n\n      <Spacer y=\"sm\" />\n      <Button fullWidth onClick={props.onSignin} variant=\"outline\">\n        I have a Passkey\n      </Button>\n\n      <Spacer y=\"lg\" />\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}