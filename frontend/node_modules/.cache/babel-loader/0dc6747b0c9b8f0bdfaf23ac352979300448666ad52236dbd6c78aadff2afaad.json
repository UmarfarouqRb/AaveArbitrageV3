{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { getNFT as getNFT721 } from \"../../../../../extensions/erc721/read/getNFT.js\";\nimport { getNFT as getNFT1155 } from \"../../../../../extensions/erc1155/read/getNFT.js\";\nimport { withCache } from \"../../../../../utils/promise/withCache.js\";\n/**\n * @internal\n */\nexport async function getNFTInfo(options) {\n  return withCache(async () => {\n    const nft = await Promise.allSettled([getNFT721(_objectSpread(_objectSpread({}, options), {}, {\n      useIndexer: false // TODO (insight): switch this call to only call insight once\n    })), getNFT1155(_objectSpread(_objectSpread({}, options), {}, {\n      useIndexer: false // TODO (insight): switch this call to only call insight once\n    }))]).then(_ref => {\n      let [possibleNFT721, possibleNFT1155] = _ref;\n      // getNFT extension always return an NFT object\n      // so we need to check if the tokenURI exists\n      if (possibleNFT721.status === \"fulfilled\" && possibleNFT721.value.tokenURI) {\n        return possibleNFT721.value;\n      }\n      if (possibleNFT1155.status === \"fulfilled\" && possibleNFT1155.value.tokenURI) {\n        return possibleNFT1155.value;\n      }\n      throw new Error(\"Failed to load NFT metadata\");\n    });\n    return nft;\n  }, {\n    cacheKey: \"nft_info:\".concat(options.contract.chain.id, \":\").concat(options.contract.address, \":\").concat(options.tokenId.toString()),\n    cacheTime: 15 * 60 * 1000\n  });\n}","map":{"version":3,"names":["getNFT","getNFT721","getNFT1155","withCache","getNFTInfo","options","nft","Promise","allSettled","_objectSpread","useIndexer","then","_ref","possibleNFT721","possibleNFT1155","status","value","tokenURI","Error","cacheKey","concat","contract","chain","id","address","tokenId","toString","cacheTime"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/prebuilt/NFT/utils.ts"],"sourcesContent":["import { getNFT as getNFT721 } from \"../../../../../extensions/erc721/read/getNFT.js\";\nimport { getNFT as getNFT1155 } from \"../../../../../extensions/erc1155/read/getNFT.js\";\nimport type { NFT } from \"../../../../../utils/nft/parseNft.js\";\nimport { withCache } from \"../../../../../utils/promise/withCache.js\";\nimport type { NFTProviderProps } from \"./provider.js\";\n\n/**\n * @internal\n */\nexport async function getNFTInfo(options: NFTProviderProps): Promise<NFT> {\n  return withCache(\n    async () => {\n      const nft = await Promise.allSettled([\n        getNFT721({\n          ...options,\n          useIndexer: false, // TODO (insight): switch this call to only call insight once\n        }),\n        getNFT1155({\n          ...options,\n          useIndexer: false, // TODO (insight): switch this call to only call insight once\n        }),\n      ]).then(([possibleNFT721, possibleNFT1155]) => {\n        // getNFT extension always return an NFT object\n        // so we need to check if the tokenURI exists\n        if (\n          possibleNFT721.status === \"fulfilled\" &&\n          possibleNFT721.value.tokenURI\n        ) {\n          return possibleNFT721.value;\n        }\n        if (\n          possibleNFT1155.status === \"fulfilled\" &&\n          possibleNFT1155.value.tokenURI\n        ) {\n          return possibleNFT1155.value;\n        }\n        throw new Error(\"Failed to load NFT metadata\");\n      });\n      return nft;\n    },\n    {\n      cacheKey: `nft_info:${options.contract.chain.id}:${options.contract.address}:${options.tokenId.toString()}`,\n      cacheTime: 15 * 60 * 1000,\n    },\n  );\n}\n"],"mappings":";AAAA,SAASA,MAAM,IAAIC,SAAS,QAAQ,iDAAiD;AACrF,SAASD,MAAM,IAAIE,UAAU,QAAQ,kDAAkD;AAEvF,SAASC,SAAS,QAAQ,2CAA2C;AAGrE;;;AAGA,OAAO,eAAeC,UAAUA,CAACC,OAAyB;EACxD,OAAOF,SAAS,CACd,YAAW;IACT,MAAMG,GAAG,GAAG,MAAMC,OAAO,CAACC,UAAU,CAAC,CACnCP,SAAS,CAAAQ,aAAA,CAAAA,aAAA,KACJJ,OAAO;MACVK,UAAU,EAAE,KAAK,CAAE;IAAA,EACpB,CAAC,EACFR,UAAU,CAAAO,aAAA,CAAAA,aAAA,KACLJ,OAAO;MACVK,UAAU,EAAE,KAAK,CAAE;IAAA,EACpB,CAAC,CACH,CAAC,CAACC,IAAI,CAACC,IAAA,IAAsC;MAAA,IAArC,CAACC,cAAc,EAAEC,eAAe,CAAC,GAAAF,IAAA;MACxC;MACA;MACA,IACEC,cAAc,CAACE,MAAM,KAAK,WAAW,IACrCF,cAAc,CAACG,KAAK,CAACC,QAAQ,EAC7B;QACA,OAAOJ,cAAc,CAACG,KAAK;MAC7B;MACA,IACEF,eAAe,CAACC,MAAM,KAAK,WAAW,IACtCD,eAAe,CAACE,KAAK,CAACC,QAAQ,EAC9B;QACA,OAAOH,eAAe,CAACE,KAAK;MAC9B;MACA,MAAM,IAAIE,KAAK,CAAC,6BAA6B,CAAC;IAChD,CAAC,CAAC;IACF,OAAOZ,GAAG;EACZ,CAAC,EACD;IACEa,QAAQ,cAAAC,MAAA,CAAcf,OAAO,CAACgB,QAAQ,CAACC,KAAK,CAACC,EAAE,OAAAH,MAAA,CAAIf,OAAO,CAACgB,QAAQ,CAACG,OAAO,OAAAJ,MAAA,CAAIf,OAAO,CAACoB,OAAO,CAACC,QAAQ,EAAE,CAAE;IAC3GC,SAAS,EAAE,EAAE,GAAG,EAAE,GAAG;GACtB,CACF;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}