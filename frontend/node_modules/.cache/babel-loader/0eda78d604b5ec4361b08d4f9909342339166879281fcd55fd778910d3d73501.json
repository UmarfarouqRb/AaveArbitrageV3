{"ast":null,"code":"\"use client\";\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useActiveAccount } from \"../../../../core/hooks/wallets/useActiveAccount.js\";\nimport { useIsWalletModalOpen, useSetIsWalletModalOpen, useSetSelectionData } from \"../../../providers/wallet-ui-states-provider.js\";\nimport { Modal } from \"../../components/Modal.js\";\nimport { onModalUnmount, reservedScreens } from \"../constants.js\";\nimport { ConnectModalContent } from \"./ConnectModalContent.js\";\nimport { useSetupScreen } from \"./screen.js\";\n/**\n * @internal\n */\nconst ConnectModal = props => {\n  const screenSetup = useSetupScreen({\n    size: props.size,\n    wallets: props.wallets,\n    welcomeScreen: props.welcomeScreen\n  });\n  const setSelectionData = useSetSelectionData();\n  const {\n    screen,\n    setScreen,\n    initialScreen\n  } = screenSetup;\n  const isWalletModalOpen = useIsWalletModalOpen();\n  const setIsWalletModalOpen = useSetIsWalletModalOpen();\n  const [hideModal, setHideModal] = useState(false);\n  const closeModal = useCallback(() => {\n    var _props$onClose;\n    (_props$onClose = props.onClose) === null || _props$onClose === void 0 || _props$onClose.call(props);\n    setIsWalletModalOpen(false);\n    onModalUnmount(() => {\n      setScreen(initialScreen);\n      setSelectionData({});\n    });\n  }, [initialScreen, setIsWalletModalOpen, setScreen, setSelectionData, props.onClose]);\n  const activeAccount = useActiveAccount();\n  useEffect(() => {\n    if (!isWalletModalOpen) {\n      onModalUnmount(() => {\n        setHideModal(false);\n      });\n    }\n  }, [isWalletModalOpen]);\n  const setModalVisibility = useCallback(value => setHideModal(!value), []);\n  // if wallet is suddenly disconnected when showing the sign in screen, close the modal and reset the screen\n  useEffect(() => {\n    if (isWalletModalOpen && screen === reservedScreens.signIn && !activeAccount) {\n      setScreen(initialScreen);\n      setIsWalletModalOpen(false);\n    }\n  }, [initialScreen, isWalletModalOpen, screen, setIsWalletModalOpen, setScreen, activeAccount]);\n  return _jsx(Modal, {\n    className: \"tw-modal__connect-wallet\",\n    title: \"Connect Wallet\",\n    hide: hideModal,\n    open: isWalletModalOpen,\n    setOpen: value => {\n      if (hideModal) {\n        return;\n      }\n      if (!value) {\n        closeModal();\n      }\n    },\n    size: props.size,\n    children: _jsx(ConnectModalContent, {\n      accountAbstraction: props.accountAbstraction,\n      auth: props.auth,\n      chain: props.chain,\n      chains: props.chains,\n      client: props.client,\n      connectLocale: props.connectLocale,\n      hideHeader: false,\n      isOpen: isWalletModalOpen,\n      meta: props.meta,\n      modalHeader: undefined,\n      onClose: closeModal,\n      onConnect: props.onConnect,\n      recommendedWallets: props.recommendedWallets,\n      screenSetup: screenSetup,\n      setModalVisibility: setModalVisibility,\n      shouldSetActive: props.shouldSetActive,\n      showAllWallets: props.showAllWallets,\n      size: props.size,\n      walletConnect: props.walletConnect,\n      walletIdsToHide: props.hiddenWallets,\n      wallets: props.wallets,\n      welcomeScreen: props.welcomeScreen\n    })\n  });\n};\nexport default ConnectModal;","map":{"version":3,"names":["useCallback","useEffect","useState","useActiveAccount","useIsWalletModalOpen","useSetIsWalletModalOpen","useSetSelectionData","Modal","onModalUnmount","reservedScreens","ConnectModalContent","useSetupScreen","ConnectModal","props","screenSetup","size","wallets","welcomeScreen","setSelectionData","screen","setScreen","initialScreen","isWalletModalOpen","setIsWalletModalOpen","hideModal","setHideModal","closeModal","_props$onClose","onClose","call","activeAccount","setModalVisibility","value","signIn","_jsx","className","title","hide","open","setOpen","children","accountAbstraction","auth","chain","chains","client","connectLocale","hideHeader","isOpen","meta","modalHeader","undefined","onConnect","recommendedWallets","shouldSetActive","showAllWallets","walletConnect","walletIdsToHide","hiddenWallets"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/ConnectWallet/Modal/ConnectModal.tsx"],"sourcesContent":["\"use client\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport type { Chain } from \"../../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../../client/client.js\";\nimport type { Wallet } from \"../../../../../wallets/interfaces/wallet.js\";\nimport type { SmartWalletOptions } from \"../../../../../wallets/smart/types.js\";\nimport type { WalletId } from \"../../../../../wallets/wallet-types.js\";\nimport type { SiweAuthOptions } from \"../../../../core/hooks/auth/useSiweAuth.js\";\nimport { useActiveAccount } from \"../../../../core/hooks/wallets/useActiveAccount.js\";\nimport {\n  useIsWalletModalOpen,\n  useSetIsWalletModalOpen,\n  useSetSelectionData,\n} from \"../../../providers/wallet-ui-states-provider.js\";\nimport { Modal } from \"../../components/Modal.js\";\nimport type { LocaleId } from \"../../types.js\";\nimport { onModalUnmount, reservedScreens } from \"../constants.js\";\nimport type { ConnectLocale } from \"../locale/types.js\";\nimport type { WelcomeScreen } from \"../screens/types.js\";\nimport { ConnectModalContent } from \"./ConnectModalContent.js\";\nimport { useSetupScreen } from \"./screen.js\";\n\ntype ConnectModalOptions = {\n  onClose?: () => void;\n  shouldSetActive: boolean;\n  wallets: Wallet[];\n  accountAbstraction: SmartWalletOptions | undefined;\n  auth: SiweAuthOptions | undefined;\n  onConnect: ((wallet: Wallet) => void) | undefined;\n  size: \"compact\" | \"wide\";\n  welcomeScreen: WelcomeScreen | undefined;\n  meta: {\n    title?: string;\n    titleIconUrl?: string;\n    showThirdwebBranding?: boolean;\n    termsOfServiceUrl?: string;\n    privacyPolicyUrl?: string;\n    requireApproval?: boolean;\n  };\n  connectLocale: ConnectLocale;\n  client: ThirdwebClient;\n  recommendedWallets: Wallet[] | undefined;\n  localeId: LocaleId;\n  chain: Chain | undefined;\n  showAllWallets: boolean | undefined;\n  hiddenWallets: WalletId[] | undefined;\n  chains: Chain[] | undefined;\n  walletConnect:\n    | {\n        projectId?: string;\n      }\n    | undefined;\n};\n\n/**\n * @internal\n */\nconst ConnectModal = (props: ConnectModalOptions) => {\n  const screenSetup = useSetupScreen({\n    size: props.size,\n    wallets: props.wallets,\n    welcomeScreen: props.welcomeScreen,\n  });\n  const setSelectionData = useSetSelectionData();\n  const { screen, setScreen, initialScreen } = screenSetup;\n  const isWalletModalOpen = useIsWalletModalOpen();\n  const setIsWalletModalOpen = useSetIsWalletModalOpen();\n  const [hideModal, setHideModal] = useState(false);\n\n  const closeModal = useCallback(() => {\n    props.onClose?.();\n    setIsWalletModalOpen(false);\n    onModalUnmount(() => {\n      setScreen(initialScreen);\n      setSelectionData({});\n    });\n  }, [\n    initialScreen,\n    setIsWalletModalOpen,\n    setScreen,\n    setSelectionData,\n    props.onClose,\n  ]);\n\n  const activeAccount = useActiveAccount();\n\n  useEffect(() => {\n    if (!isWalletModalOpen) {\n      onModalUnmount(() => {\n        setHideModal(false);\n      });\n    }\n  }, [isWalletModalOpen]);\n\n  const setModalVisibility = useCallback(\n    (value: boolean) => setHideModal(!value),\n    [],\n  );\n\n  // if wallet is suddenly disconnected when showing the sign in screen, close the modal and reset the screen\n  useEffect(() => {\n    if (\n      isWalletModalOpen &&\n      screen === reservedScreens.signIn &&\n      !activeAccount\n    ) {\n      setScreen(initialScreen);\n      setIsWalletModalOpen(false);\n    }\n  }, [\n    initialScreen,\n    isWalletModalOpen,\n    screen,\n    setIsWalletModalOpen,\n    setScreen,\n    activeAccount,\n  ]);\n\n  return (\n    <Modal\n      className=\"tw-modal__connect-wallet\"\n      title=\"Connect Wallet\"\n      hide={hideModal}\n      open={isWalletModalOpen}\n      setOpen={(value) => {\n        if (hideModal) {\n          return;\n        }\n\n        if (!value) {\n          closeModal();\n        }\n      }}\n      size={props.size}\n    >\n      <ConnectModalContent\n        accountAbstraction={props.accountAbstraction}\n        auth={props.auth}\n        chain={props.chain}\n        chains={props.chains}\n        client={props.client}\n        connectLocale={props.connectLocale}\n        hideHeader={false}\n        isOpen={isWalletModalOpen}\n        meta={props.meta}\n        modalHeader={undefined}\n        onClose={closeModal}\n        onConnect={props.onConnect}\n        recommendedWallets={props.recommendedWallets}\n        screenSetup={screenSetup}\n        setModalVisibility={setModalVisibility}\n        shouldSetActive={props.shouldSetActive}\n        showAllWallets={props.showAllWallets}\n        size={props.size}\n        walletConnect={props.walletConnect}\n        walletIdsToHide={props.hiddenWallets}\n        wallets={props.wallets}\n        welcomeScreen={props.welcomeScreen}\n      />\n    </Modal>\n  );\n};\n\nexport default ConnectModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}