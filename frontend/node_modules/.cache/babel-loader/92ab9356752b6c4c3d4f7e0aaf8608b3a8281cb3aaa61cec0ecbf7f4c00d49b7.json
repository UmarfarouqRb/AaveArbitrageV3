{"ast":null,"code":"\"use client\";\n\nimport _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useState } from \"react\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { getWalletInfo } from \"../../../../wallets/__generated__/getWalletInfo.js\";\nimport { getInstalledWalletProviders } from \"../../../../wallets/injected/mipdStore.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { radius } from \"../../../core/design-system/index.js\";\nimport { useActiveWallet } from \"../../../core/hooks/wallets/useActiveWallet.js\";\nimport { getLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { useWalletImage } from \"../../../core/utils/wallet.js\";\nimport { genericWalletIcon, getSocialIcon } from \"../../../core/utils/walletIcon.js\";\nimport { EmailIcon } from \"../ConnectWallet/icons/EmailIcon.js\";\nimport { FingerPrintIcon } from \"../ConnectWallet/icons/FingerPrintIcon.js\";\nimport { GuestIcon } from \"../ConnectWallet/icons/GuestIcon.js\";\nimport { OutlineWalletIcon } from \"../ConnectWallet/icons/OutlineWalletIcon.js\";\nimport { PhoneIcon } from \"../ConnectWallet/icons/PhoneIcon.js\";\nimport { Img } from \"./Img.js\";\n/**\n * @internal\n */\nexport function WalletImage(props) {\n  const theme = useCustomTheme();\n  const [image, setImage] = useState(undefined);\n  const activeWallet = useActiveWallet();\n  useEffect(() => {\n    async function fetchImage() {\n      // show EOA icon for external wallets\n      // show auth provider icon for in-app wallets\n      // show the admin EOA icon for smart\n      const storage = webLocalStorage;\n      const activeEOAId = props.id;\n      let image;\n      if (activeEOAId === \"inApp\" && activeWallet && (activeWallet.id === \"inApp\" || activeWallet.id === \"smart\")) {\n        // when showing an active wallet icon - check last auth provider and override the IAW icon\n        const lastAuthProvider = await getLastAuthProvider(storage);\n        image = lastAuthProvider ? {\n          authProvider: lastAuthProvider,\n          uri: getSocialIcon(lastAuthProvider)\n        } : {\n          authProvider: \"wallet\",\n          uri: \"\"\n        };\n      } else {\n        var _getInstalledWalletPr;\n        const mipdImage = (_getInstalledWalletPr = getInstalledWalletProviders().find(x => x.info.rdns === activeEOAId)) === null || _getInstalledWalletPr === void 0 ? void 0 : _getInstalledWalletPr.info.icon;\n        if (mipdImage) {\n          image = {\n            uri: mipdImage\n          };\n        } else {\n          image = {\n            uri: await getWalletInfo(activeEOAId, true)\n          };\n        }\n      }\n      setImage(image);\n    }\n    fetchImage();\n  }, [props.id, activeWallet]);\n  if ((image === null || image === void 0 ? void 0 : image.authProvider) === \"email\") {\n    return _jsx(EmailIcon, {\n      color: theme.colors.accentText,\n      size: props.size\n    });\n  }\n  if ((image === null || image === void 0 ? void 0 : image.authProvider) === \"phone\") {\n    return _jsx(PhoneIcon, {\n      color: theme.colors.accentText,\n      size: props.size\n    });\n  }\n  if ((image === null || image === void 0 ? void 0 : image.authProvider) === \"passkey\") {\n    return _jsx(FingerPrintIcon, {\n      color: theme.colors.accentText,\n      size: props.size\n    });\n  }\n  if ((image === null || image === void 0 ? void 0 : image.authProvider) === \"wallet\") {\n    return _jsx(OutlineWalletIcon, {\n      color: theme.colors.accentText,\n      size: props.size\n    });\n  }\n  if ((image === null || image === void 0 ? void 0 : image.authProvider) === \"guest\") {\n    return _jsx(GuestIcon, {\n      color: theme.colors.accentText,\n      size: props.size\n    });\n  }\n  if (image !== null && image !== void 0 && image.uri) {\n    return _jsx(Img, {\n      client: props.client,\n      height: props.size,\n      loading: \"eager\",\n      src: image.uri,\n      style: _objectSpread({\n        borderRadius: radius.md\n      }, props.style),\n      width: props.size\n    });\n  }\n  return _jsx(WalletImageQuery, {\n    client: props.client,\n    id: props.id,\n    size: props.size\n  });\n}\nfunction WalletImageQuery(props) {\n  const walletImage = useWalletImage(props.id);\n  if (walletImage.isFetched && !walletImage.data) {\n    return _jsx(Img, {\n      client: props.client,\n      height: props.size,\n      src: genericWalletIcon,\n      width: props.size\n    });\n  }\n  return _jsx(OutlineWalletIcon, {\n    size: props.size\n  });\n}","map":{"version":3,"names":["_objectSpread","useEffect","useState","webLocalStorage","getWalletInfo","getInstalledWalletProviders","useCustomTheme","radius","useActiveWallet","getLastAuthProvider","useWalletImage","genericWalletIcon","getSocialIcon","EmailIcon","FingerPrintIcon","GuestIcon","OutlineWalletIcon","PhoneIcon","Img","WalletImage","props","theme","image","setImage","undefined","activeWallet","fetchImage","storage","activeEOAId","id","lastAuthProvider","authProvider","uri","_getInstalledWalletPr","mipdImage","find","x","info","rdns","icon","_jsx","color","colors","accentText","size","client","height","loading","src","style","borderRadius","md","width","WalletImageQuery","walletImage","isFetched","data"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/web/ui/components/WalletImage.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { getWalletInfo } from \"../../../../wallets/__generated__/getWalletInfo.js\";\nimport { getInstalledWalletProviders } from \"../../../../wallets/injected/mipdStore.js\";\nimport type { AuthOption } from \"../../../../wallets/types.js\";\nimport type { WalletId } from \"../../../../wallets/wallet-types.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { radius } from \"../../../core/design-system/index.js\";\nimport { useActiveWallet } from \"../../../core/hooks/wallets/useActiveWallet.js\";\nimport { getLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { useWalletImage } from \"../../../core/utils/wallet.js\";\nimport {\n  genericWalletIcon,\n  getSocialIcon,\n} from \"../../../core/utils/walletIcon.js\";\nimport { EmailIcon } from \"../ConnectWallet/icons/EmailIcon.js\";\nimport { FingerPrintIcon } from \"../ConnectWallet/icons/FingerPrintIcon.js\";\nimport { GuestIcon } from \"../ConnectWallet/icons/GuestIcon.js\";\nimport { OutlineWalletIcon } from \"../ConnectWallet/icons/OutlineWalletIcon.js\";\nimport { PhoneIcon } from \"../ConnectWallet/icons/PhoneIcon.js\";\nimport { Img } from \"./Img.js\";\n\ntype WalletImageState = { uri: string; authProvider?: AuthOption };\n\n/**\n * @internal\n */\nexport function WalletImage(props: {\n  id: WalletId;\n  size: string;\n  client: ThirdwebClient;\n  style?: React.CSSProperties;\n}) {\n  const theme = useCustomTheme();\n  const [image, setImage] = useState<WalletImageState | undefined>(undefined);\n  const activeWallet = useActiveWallet();\n  useEffect(() => {\n    async function fetchImage() {\n      // show EOA icon for external wallets\n      // show auth provider icon for in-app wallets\n      // show the admin EOA icon for smart\n      const storage = webLocalStorage;\n      const activeEOAId = props.id;\n      let image: WalletImageState | undefined;\n\n      if (\n        activeEOAId === \"inApp\" &&\n        activeWallet &&\n        (activeWallet.id === \"inApp\" || activeWallet.id === \"smart\")\n      ) {\n        // when showing an active wallet icon - check last auth provider and override the IAW icon\n        const lastAuthProvider = await getLastAuthProvider(storage);\n        image = lastAuthProvider\n          ? {\n              authProvider: lastAuthProvider as AuthOption,\n              uri: getSocialIcon(lastAuthProvider),\n            }\n          : { authProvider: \"wallet\", uri: \"\" };\n      } else {\n        const mipdImage = getInstalledWalletProviders().find(\n          (x) => x.info.rdns === activeEOAId,\n        )?.info.icon;\n\n        if (mipdImage) {\n          image = { uri: mipdImage };\n        } else {\n          image = {\n            uri: await getWalletInfo(activeEOAId, true),\n          };\n        }\n      }\n\n      setImage(image);\n    }\n    fetchImage();\n  }, [props.id, activeWallet]);\n\n  if (image?.authProvider === \"email\") {\n    return <EmailIcon color={theme.colors.accentText} size={props.size} />;\n  }\n\n  if (image?.authProvider === \"phone\") {\n    return <PhoneIcon color={theme.colors.accentText} size={props.size} />;\n  }\n\n  if (image?.authProvider === \"passkey\") {\n    return (\n      <FingerPrintIcon color={theme.colors.accentText} size={props.size} />\n    );\n  }\n\n  if (image?.authProvider === \"wallet\") {\n    return (\n      <OutlineWalletIcon color={theme.colors.accentText} size={props.size} />\n    );\n  }\n\n  if (image?.authProvider === \"guest\") {\n    return <GuestIcon color={theme.colors.accentText} size={props.size} />;\n  }\n\n  if (image?.uri) {\n    return (\n      <Img\n        client={props.client}\n        height={props.size}\n        loading=\"eager\"\n        src={image.uri}\n        style={{\n          borderRadius: radius.md,\n          ...props.style,\n        }}\n        width={props.size}\n      />\n    );\n  }\n\n  return (\n    <WalletImageQuery client={props.client} id={props.id} size={props.size} />\n  );\n}\n\nfunction WalletImageQuery(props: {\n  id: WalletId;\n  size: string;\n  client: ThirdwebClient;\n}) {\n  const walletImage = useWalletImage(props.id);\n\n  if (walletImage.isFetched && !walletImage.data) {\n    return (\n      <Img\n        client={props.client}\n        height={props.size}\n        src={genericWalletIcon}\n        width={props.size}\n      />\n    );\n  }\n\n  return <OutlineWalletIcon size={props.size} />;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}