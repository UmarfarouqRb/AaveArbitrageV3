{"ast":null,"code":"import { readContract } from '../../actions/public/readContract.js';\nimport { isAddressEqual } from '../../utils/index.js';\nimport { l2SharedBridgeAbi } from '../constants/abis.js';\nimport { legacyEthAddress } from '../constants/address.js';\nimport { getDefaultBridgeAddresses } from './getDefaultBridgeAddresses.js';\n/**\n * Returns the L1 token address equivalent for a L2 token address as they are not equal.\n * ETH address is set to zero address.\n *\n * @remarks Only works for tokens bridged on default ZKsync Era bridges.\n *\n * @param client - Client to use\n * @param parameters - {@link GetL1TokenAddressParameters}\n * @returns The L1 token address equivalent for a L2 token address.\n *\n *\n * @example\n * import { createPublicClient, http } from 'viem'\n * import { zksync } from 'viem/chains'\n *\n * const client = createPublicClient({\n *   chain: zksync,\n *   transport: http(),\n * })\n *\n * const address = await getL1TokenAddress(client, {token: '0x...'});\n */\nexport async function getL1TokenAddress(client, parameters) {\n  const {\n    token\n  } = parameters;\n  if (isAddressEqual(token, legacyEthAddress)) return legacyEthAddress;\n  const bridgeAddress = (await getDefaultBridgeAddresses(client)).sharedL2;\n  return await readContract(client, {\n    address: bridgeAddress,\n    abi: l2SharedBridgeAbi,\n    functionName: 'l1TokenAddress',\n    args: [token]\n  });\n}","map":{"version":3,"names":["readContract","isAddressEqual","l2SharedBridgeAbi","legacyEthAddress","getDefaultBridgeAddresses","getL1TokenAddress","client","parameters","token","bridgeAddress","sharedL2","address","abi","functionName","args"],"sources":["/home/user/Arbitrage/frontend/node_modules/viem/zksync/actions/getL1TokenAddress.ts"],"sourcesContent":["import type { Address } from '../../accounts/index.js'\nimport { readContract } from '../../actions/public/readContract.js'\nimport type { Client } from '../../clients/createClient.js'\nimport type { Transport } from '../../clients/transports/createTransport.js'\nimport type { Account } from '../../types/account.js'\nimport type { Chain } from '../../types/chain.js'\nimport { isAddressEqual } from '../../utils/index.js'\nimport { l2SharedBridgeAbi } from '../constants/abis.js'\nimport { legacyEthAddress } from '../constants/address.js'\nimport { getDefaultBridgeAddresses } from './getDefaultBridgeAddresses.js'\n\nexport type GetL1TokenAddressParameters = {\n  /** The address of the token on L2. */\n  token: Address\n}\n\nexport type GetL1TokenAddressReturnType = Address\n\n/**\n * Returns the L1 token address equivalent for a L2 token address as they are not equal.\n * ETH address is set to zero address.\n *\n * @remarks Only works for tokens bridged on default ZKsync Era bridges.\n *\n * @param client - Client to use\n * @param parameters - {@link GetL1TokenAddressParameters}\n * @returns The L1 token address equivalent for a L2 token address.\n *\n *\n * @example\n * import { createPublicClient, http } from 'viem'\n * import { zksync } from 'viem/chains'\n *\n * const client = createPublicClient({\n *   chain: zksync,\n *   transport: http(),\n * })\n *\n * const address = await getL1TokenAddress(client, {token: '0x...'});\n */\nexport async function getL1TokenAddress<\n  chain extends Chain | undefined,\n  account extends Account | undefined,\n>(\n  client: Client<Transport, chain, account>,\n  parameters: GetL1TokenAddressParameters,\n): Promise<Address> {\n  const { token } = parameters\n  if (isAddressEqual(token, legacyEthAddress)) return legacyEthAddress\n\n  const bridgeAddress = (await getDefaultBridgeAddresses(client)).sharedL2\n\n  return await readContract(client, {\n    address: bridgeAddress,\n    abi: l2SharedBridgeAbi,\n    functionName: 'l1TokenAddress',\n    args: [token],\n  })\n}\n"],"mappings":"AACA,SAASA,YAAY,QAAQ,sCAAsC;AAKnE,SAASC,cAAc,QAAQ,sBAAsB;AACrD,SAASC,iBAAiB,QAAQ,sBAAsB;AACxD,SAASC,gBAAgB,QAAQ,yBAAyB;AAC1D,SAASC,yBAAyB,QAAQ,gCAAgC;AAS1E;;;;;;;;;;;;;;;;;;;;;;AAsBA,OAAO,eAAeC,iBAAiBA,CAIrCC,MAAyC,EACzCC,UAAuC;EAEvC,MAAM;IAAEC;EAAK,CAAE,GAAGD,UAAU;EAC5B,IAAIN,cAAc,CAACO,KAAK,EAAEL,gBAAgB,CAAC,EAAE,OAAOA,gBAAgB;EAEpE,MAAMM,aAAa,GAAG,CAAC,MAAML,yBAAyB,CAACE,MAAM,CAAC,EAAEI,QAAQ;EAExE,OAAO,MAAMV,YAAY,CAACM,MAAM,EAAE;IAChCK,OAAO,EAAEF,aAAa;IACtBG,GAAG,EAAEV,iBAAiB;IACtBW,YAAY,EAAE,gBAAgB;IAC9BC,IAAI,EAAE,CAACN,KAAK;GACb,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}