{"ast":null,"code":"import _objectSpread from \"/home/user/Arbitrage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { getTransactionDecorator } from \"../../utils/config.js\";\nimport { addTransactionToStore } from \"../transaction-store.js\";\nimport { toSerializableTransaction } from \"./to-serializable-transaction.js\";\n/**\n * Sends a transaction using the provided account.\n *\n * You can send a transaction with a [prepared contract call](https://portal.thirdweb.com/references/typescript/v5/prepareContractCall), a [prepared transaction](https://portal.thirdweb.com/references/typescript/v5/prepareTransaction), or using a write [Extension](https://portal.thirdweb.com/typescript/v5/extensions/use).\n * @param options - The options for sending the transaction.\n * @returns A promise that resolves to the transaction result.\n * @throws An error if the transaction reverts.\n * @transaction\n * @example\n *\n * ### Using a prepared contract call\n *\n * ```ts\n * import { sendTransaction, getContract, prepareContractCall } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const contract = getContract({\n *   address: \"0x...\",\n *   chain: sepolia,\n *   client,\n * });\n *\n * const transaction = prepareContractCall({\n *   contract,\n *   method: \"function transfer(address to, uint256 value)\",\n *   params: [to, value],\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Using a write extension\n *\n * ```ts\n * import { sendTransaction, getContract } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n * import { mintTo } from \"thirdweb/extensions/erc721\";\n *\n * const contract = getContract({\n *   address: \"0x...\",\n *   chain: sepolia,\n *   client,\n * });\n *\n * const transaction = mintTo({\n *   contract,\n *   to: \"0x...\",\n *   nft: {\n *     name: \"NFT Name\",\n *     description: \"NFT Description\",\n *     image: \"https://example.com/image.png\",\n *   },\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Using a prepared transaction\n *\n * ```ts\n * import { sendTransaction, getContract, prepareTransaction } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const contract = getContract({\n *   address: \"0x...\",\n *   chain: sepolia,\n *   client,\n * });\n *\n * const transaction = prepareTransaction({\n *   contract,\n *   to: \"0x...\",\n *   value: toWei(\"0.1\"),\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Send an EIP-7702 Transaction\n *\n * **Note: This feature is in beta and is subject to breaking changes**\n *\n * ```ts\n * import { sendTransaction, prepareTransaction, signAuthorization } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const authorization = await signAuthorization({\n *   request: {\n *     address: \"0x...\",\n *     chainId: 1,\n *     nonce: 0n,\n *   },\n *   account: myAccount,\n * });\n *\n * const transaction = prepareTransaction({\n *   chain: sepolia,\n *   client: client,\n *   to: \"0x...\",\n *   value: 0n,\n *   authorizationList: [authorization],\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Gasless usage with [thirdweb Engine](https://portal.thirdweb.com/engine)\n * ```ts\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n *  gasless: {\n *    provider: \"engine\",\n *    relayerUrl: \"https://thirdweb.engine-***.thirdweb.com/relayer/***\",\n *    relayerForwarderAddress: \"0x...\",\n *  }\n * });\n * ```\n *\n * ### Gasless usage with OpenZeppelin\n * ```ts\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n *  gasless: {\n *    provider: \"openzeppelin\",\n *    relayerUrl: \"https://...\",\n *    relayerForwarderAddress: \"0x...\",\n *  }\n * });\n * ```\n */\nexport async function sendTransaction(options) {\n  let {\n    account,\n    transaction,\n    gasless\n  } = options;\n  const decorator = getTransactionDecorator();\n  if (decorator) {\n    const {\n      account: decoratedAccount,\n      transaction: decoratedTransaction\n    } = await decorator({\n      account,\n      transaction\n    });\n    account = decoratedAccount;\n    transaction = decoratedTransaction;\n  }\n  if (account.onTransactionRequested) {\n    await account.onTransactionRequested(transaction);\n  }\n  // if zksync transaction params are set, send with eip712\n  if (transaction.eip712) {\n    const {\n      sendEip712Transaction\n    } = await import(\"./zksync/send-eip712-transaction.js\");\n    return sendEip712Transaction({\n      account,\n      transaction\n    });\n  }\n  const serializableTransaction = await toSerializableTransaction({\n    from: account,\n    transaction: transaction\n  });\n  // branch for gasless transactions\n  if (gasless) {\n    // lazy load the gasless tx function because it's only needed for gasless transactions\n    const {\n      sendGaslessTransaction\n    } = await import(\"./gasless/send-gasless-transaction.js\");\n    return sendGaslessTransaction({\n      account,\n      gasless,\n      serializableTransaction,\n      transaction\n    });\n  }\n  const result = await account.sendTransaction(serializableTransaction);\n  // Store the transaction\n  addTransactionToStore({\n    address: account.address,\n    chainId: transaction.chain.id,\n    transactionHash: result.transactionHash\n  });\n  return _objectSpread(_objectSpread({}, result), {}, {\n    chain: transaction.chain,\n    client: transaction.client\n  });\n}","map":{"version":3,"names":["getTransactionDecorator","addTransactionToStore","toSerializableTransaction","sendTransaction","options","account","transaction","gasless","decorator","decoratedAccount","decoratedTransaction","onTransactionRequested","eip712","sendEip712Transaction","serializableTransaction","from","sendGaslessTransaction","result","address","chainId","chain","id","transactionHash","_objectSpread","client"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/transaction/actions/send-transaction.ts"],"sourcesContent":["import { getTransactionDecorator } from \"../../utils/config.js\";\nimport type { Account } from \"../../wallets/interfaces/wallet.js\";\nimport type { PreparedTransaction } from \"../prepare-transaction.js\";\nimport { addTransactionToStore } from \"../transaction-store.js\";\nimport type { GaslessOptions } from \"./gasless/types.js\";\nimport { toSerializableTransaction } from \"./to-serializable-transaction.js\";\nimport type { WaitForReceiptOptions } from \"./wait-for-tx-receipt.js\";\n\n/** Send transaction options */\nexport interface SendTransactionOptions {\n  /**\n   * The account to send the transaction with\n   */\n  account: Account;\n  /**\n   * The prepared transaction to send\n   */\n  // biome-ignore lint/suspicious/noExplicitAny: library function that accepts any prepared transaction type\n  transaction: PreparedTransaction<any>;\n  /**\n   * Gasless options for the transaction, if applicable\n   */\n  gasless?: GaslessOptions;\n}\n\n/**\n * Sends a transaction using the provided account.\n *\n * You can send a transaction with a [prepared contract call](https://portal.thirdweb.com/references/typescript/v5/prepareContractCall), a [prepared transaction](https://portal.thirdweb.com/references/typescript/v5/prepareTransaction), or using a write [Extension](https://portal.thirdweb.com/typescript/v5/extensions/use).\n * @param options - The options for sending the transaction.\n * @returns A promise that resolves to the transaction result.\n * @throws An error if the transaction reverts.\n * @transaction\n * @example\n *\n * ### Using a prepared contract call\n *\n * ```ts\n * import { sendTransaction, getContract, prepareContractCall } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const contract = getContract({\n *   address: \"0x...\",\n *   chain: sepolia,\n *   client,\n * });\n *\n * const transaction = prepareContractCall({\n *   contract,\n *   method: \"function transfer(address to, uint256 value)\",\n *   params: [to, value],\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Using a write extension\n *\n * ```ts\n * import { sendTransaction, getContract } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n * import { mintTo } from \"thirdweb/extensions/erc721\";\n *\n * const contract = getContract({\n *   address: \"0x...\",\n *   chain: sepolia,\n *   client,\n * });\n *\n * const transaction = mintTo({\n *   contract,\n *   to: \"0x...\",\n *   nft: {\n *     name: \"NFT Name\",\n *     description: \"NFT Description\",\n *     image: \"https://example.com/image.png\",\n *   },\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Using a prepared transaction\n *\n * ```ts\n * import { sendTransaction, getContract, prepareTransaction } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const contract = getContract({\n *   address: \"0x...\",\n *   chain: sepolia,\n *   client,\n * });\n *\n * const transaction = prepareTransaction({\n *   contract,\n *   to: \"0x...\",\n *   value: toWei(\"0.1\"),\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Send an EIP-7702 Transaction\n *\n * **Note: This feature is in beta and is subject to breaking changes**\n *\n * ```ts\n * import { sendTransaction, prepareTransaction, signAuthorization } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const authorization = await signAuthorization({\n *   request: {\n *     address: \"0x...\",\n *     chainId: 1,\n *     nonce: 0n,\n *   },\n *   account: myAccount,\n * });\n *\n * const transaction = prepareTransaction({\n *   chain: sepolia,\n *   client: client,\n *   to: \"0x...\",\n *   value: 0n,\n *   authorizationList: [authorization],\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Gasless usage with [thirdweb Engine](https://portal.thirdweb.com/engine)\n * ```ts\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n *  gasless: {\n *    provider: \"engine\",\n *    relayerUrl: \"https://thirdweb.engine-***.thirdweb.com/relayer/***\",\n *    relayerForwarderAddress: \"0x...\",\n *  }\n * });\n * ```\n *\n * ### Gasless usage with OpenZeppelin\n * ```ts\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n *  gasless: {\n *    provider: \"openzeppelin\",\n *    relayerUrl: \"https://...\",\n *    relayerForwarderAddress: \"0x...\",\n *  }\n * });\n * ```\n */\nexport async function sendTransaction(\n  options: SendTransactionOptions,\n): Promise<WaitForReceiptOptions> {\n  let { account, transaction, gasless } = options;\n\n  const decorator = getTransactionDecorator();\n  if (decorator) {\n    const { account: decoratedAccount, transaction: decoratedTransaction } =\n      await decorator({ account, transaction });\n    account = decoratedAccount;\n    transaction = decoratedTransaction;\n  }\n\n  if (account.onTransactionRequested) {\n    await account.onTransactionRequested(transaction);\n  }\n\n  // if zksync transaction params are set, send with eip712\n  if (transaction.eip712) {\n    const { sendEip712Transaction } = await import(\n      \"./zksync/send-eip712-transaction.js\"\n    );\n    return sendEip712Transaction({\n      account,\n      transaction,\n    });\n  }\n\n  const serializableTransaction = await toSerializableTransaction({\n    from: account,\n    transaction: transaction,\n  });\n  // branch for gasless transactions\n  if (gasless) {\n    // lazy load the gasless tx function because it's only needed for gasless transactions\n    const { sendGaslessTransaction } = await import(\n      \"./gasless/send-gasless-transaction.js\"\n    );\n    return sendGaslessTransaction({\n      account,\n      gasless,\n      serializableTransaction,\n      transaction,\n    });\n  }\n\n  const result = await account.sendTransaction(serializableTransaction);\n  // Store the transaction\n  addTransactionToStore({\n    address: account.address,\n    chainId: transaction.chain.id,\n    transactionHash: result.transactionHash,\n  });\n  return { ...result, chain: transaction.chain, client: transaction.client };\n}\n"],"mappings":";AAAA,SAASA,uBAAuB,QAAQ,uBAAuB;AAG/D,SAASC,qBAAqB,QAAQ,yBAAyB;AAE/D,SAASC,yBAAyB,QAAQ,kCAAkC;AAoB5E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgJA,OAAO,eAAeC,eAAeA,CACnCC,OAA+B;EAE/B,IAAI;IAAEC,OAAO;IAAEC,WAAW;IAAEC;EAAO,CAAE,GAAGH,OAAO;EAE/C,MAAMI,SAAS,GAAGR,uBAAuB,EAAE;EAC3C,IAAIQ,SAAS,EAAE;IACb,MAAM;MAAEH,OAAO,EAAEI,gBAAgB;MAAEH,WAAW,EAAEI;IAAoB,CAAE,GACpE,MAAMF,SAAS,CAAC;MAAEH,OAAO;MAAEC;IAAW,CAAE,CAAC;IAC3CD,OAAO,GAAGI,gBAAgB;IAC1BH,WAAW,GAAGI,oBAAoB;EACpC;EAEA,IAAIL,OAAO,CAACM,sBAAsB,EAAE;IAClC,MAAMN,OAAO,CAACM,sBAAsB,CAACL,WAAW,CAAC;EACnD;EAEA;EACA,IAAIA,WAAW,CAACM,MAAM,EAAE;IACtB,MAAM;MAAEC;IAAqB,CAAE,GAAG,MAAM,MAAM,CAC5C,qCAAqC,CACtC;IACD,OAAOA,qBAAqB,CAAC;MAC3BR,OAAO;MACPC;KACD,CAAC;EACJ;EAEA,MAAMQ,uBAAuB,GAAG,MAAMZ,yBAAyB,CAAC;IAC9Da,IAAI,EAAEV,OAAO;IACbC,WAAW,EAAEA;GACd,CAAC;EACF;EACA,IAAIC,OAAO,EAAE;IACX;IACA,MAAM;MAAES;IAAsB,CAAE,GAAG,MAAM,MAAM,CAC7C,uCAAuC,CACxC;IACD,OAAOA,sBAAsB,CAAC;MAC5BX,OAAO;MACPE,OAAO;MACPO,uBAAuB;MACvBR;KACD,CAAC;EACJ;EAEA,MAAMW,MAAM,GAAG,MAAMZ,OAAO,CAACF,eAAe,CAACW,uBAAuB,CAAC;EACrE;EACAb,qBAAqB,CAAC;IACpBiB,OAAO,EAAEb,OAAO,CAACa,OAAO;IACxBC,OAAO,EAAEb,WAAW,CAACc,KAAK,CAACC,EAAE;IAC7BC,eAAe,EAAEL,MAAM,CAACK;GACzB,CAAC;EACF,OAAAC,aAAA,CAAAA,aAAA,KAAYN,MAAM;IAAEG,KAAK,EAAEd,WAAW,CAACc,KAAK;IAAEI,MAAM,EAAElB,WAAW,CAACkB;EAAM;AAC1E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}