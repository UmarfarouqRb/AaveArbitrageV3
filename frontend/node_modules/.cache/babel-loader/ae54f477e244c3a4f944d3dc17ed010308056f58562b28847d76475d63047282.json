{"ast":null,"code":"import { ApiError } from \"../../../bridge/types/Errors.js\";\nimport { isRetryable, mapBridgeError } from \"../errors/mapBridgeError.js\";\n/**\n * Hook that processes bridge errors using mapBridgeError and isRetryable\n *\n * @param params - Parameters containing the error to process\n * @returns Processed error information with retry logic and user-friendly messages\n *\n * @example\n * ```tsx\n * const { data, error } = useBridgeRoutes({ client, originChainId: 1 });\n * const {\n *   mappedError,\n *   isRetryable,\n *   userMessage,\n *   isClientError\n * } = useBridgeError({ error });\n *\n * if (error) {\n *   return (\n *     <div>\n *       <p>{userMessage}</p>\n *       {isRetryable && <button onClick={retry}>Try Again</button>}\n *     </div>\n *   );\n * }\n * ```\n */\nexport function useBridgeError(params) {\n  const {\n    error\n  } = params;\n  // No error case\n  if (!error) {\n    return {\n      errorCode: null,\n      isClientError: false,\n      isRetryable: false,\n      isServerError: false,\n      mappedError: null,\n      statusCode: null,\n      userMessage: \"\"\n    };\n  }\n  // Convert to ApiError if it's not already\n  let apiError;\n  if (error instanceof ApiError) {\n    apiError = mapBridgeError(error);\n  } else {\n    // Create ApiError from generic Error\n    apiError = new ApiError({\n      code: \"UNKNOWN_ERROR\",\n      message: error.message || \"An unknown error occurred\",\n      statusCode: 500 // Default for generic errors\n    });\n  }\n  const statusCode = apiError.statusCode || null;\n  const isClientError = statusCode !== null && statusCode >= 400 && statusCode < 500;\n  const isServerError = statusCode !== null && statusCode >= 500;\n  // Generate user-friendly message based on error code\n  const userMessage = getUserFriendlyMessage(apiError);\n  return {\n    errorCode: apiError.code,\n    isClientError,\n    isRetryable: isRetryable(apiError.code),\n    isServerError,\n    mappedError: apiError,\n    statusCode,\n    userMessage\n  };\n}\n/**\n * Converts technical error codes to user-friendly messages\n */\nfunction getUserFriendlyMessage(error) {\n  switch (error.code) {\n    case \"INVALID_INPUT\":\n      return \"Invalid input provided. Please check your parameters and try again.\";\n    case \"ROUTE_NOT_FOUND\":\n      return \"No route found for this transaction. Please try a different token pair or amount.\";\n    case \"AMOUNT_TOO_LOW\":\n      return \"The amount is too low for this transaction. Please increase the amount.\";\n    case \"AMOUNT_TOO_HIGH\":\n      return \"The amount is too high for this transaction. Please decrease the amount.\";\n    case \"INTERNAL_SERVER_ERROR\":\n      return \"A temporary error occurred. Please try again in a moment.\";\n    default:\n      // Fallback to the original error message if available\n      return error.message || \"An unexpected error occurred. Please try again.\";\n  }\n}","map":{"version":3,"names":["ApiError","isRetryable","mapBridgeError","useBridgeError","params","error","errorCode","isClientError","isServerError","mappedError","statusCode","userMessage","apiError","code","message","getUserFriendlyMessage"],"sources":["/home/user/Arbitrage/frontend/node_modules/thirdweb/src/react/core/hooks/useBridgeError.ts"],"sourcesContent":["import { ApiError } from \"../../../bridge/types/Errors.js\";\nimport { isRetryable, mapBridgeError } from \"../errors/mapBridgeError.js\";\n\n/**\n * Parameters for the useBridgeError hook\n */\ninterface UseBridgeErrorParams {\n  /**\n   * The error to process. Can be an ApiError or generic Error.\n   */\n  error: Error | ApiError | null | undefined;\n}\n\n/**\n * Result returned by the useBridgeError hook\n */\ninterface UseBridgeErrorResult {\n  /**\n   * The mapped/normalized error, null if no error provided\n   */\n  mappedError: ApiError | null;\n\n  /**\n   * Whether this error can be retried\n   */\n  isRetryable: boolean;\n\n  /**\n   * User-friendly error message\n   */\n  userMessage: string;\n\n  /**\n   * Technical error code for debugging\n   */\n  errorCode: string | null;\n\n  /**\n   * HTTP status code if available\n   */\n  statusCode: number | null;\n\n  /**\n   * Whether this is a client-side error (4xx)\n   */\n  isClientError: boolean;\n\n  /**\n   * Whether this is a server-side error (5xx)\n   */\n  isServerError: boolean;\n}\n\n/**\n * Hook that processes bridge errors using mapBridgeError and isRetryable\n *\n * @param params - Parameters containing the error to process\n * @returns Processed error information with retry logic and user-friendly messages\n *\n * @example\n * ```tsx\n * const { data, error } = useBridgeRoutes({ client, originChainId: 1 });\n * const {\n *   mappedError,\n *   isRetryable,\n *   userMessage,\n *   isClientError\n * } = useBridgeError({ error });\n *\n * if (error) {\n *   return (\n *     <div>\n *       <p>{userMessage}</p>\n *       {isRetryable && <button onClick={retry}>Try Again</button>}\n *     </div>\n *   );\n * }\n * ```\n */\nexport function useBridgeError(\n  params: UseBridgeErrorParams,\n): UseBridgeErrorResult {\n  const { error } = params;\n\n  // No error case\n  if (!error) {\n    return {\n      errorCode: null,\n      isClientError: false,\n      isRetryable: false,\n      isServerError: false,\n      mappedError: null,\n      statusCode: null,\n      userMessage: \"\",\n    };\n  }\n\n  // Convert to ApiError if it's not already\n  let apiError: ApiError;\n  if (error instanceof ApiError) {\n    apiError = mapBridgeError(error);\n  } else {\n    // Create ApiError from generic Error\n    apiError = new ApiError({\n      code: \"UNKNOWN_ERROR\",\n      message: error.message || \"An unknown error occurred\",\n      statusCode: 500, // Default for generic errors\n    });\n  }\n\n  const statusCode = apiError.statusCode || null;\n  const isClientError =\n    statusCode !== null && statusCode >= 400 && statusCode < 500;\n  const isServerError = statusCode !== null && statusCode >= 500;\n\n  // Generate user-friendly message based on error code\n  const userMessage = getUserFriendlyMessage(apiError);\n\n  return {\n    errorCode: apiError.code,\n    isClientError,\n    isRetryable: isRetryable(apiError.code),\n    isServerError,\n    mappedError: apiError,\n    statusCode,\n    userMessage,\n  };\n}\n\n/**\n * Converts technical error codes to user-friendly messages\n */\nfunction getUserFriendlyMessage(error: ApiError): string {\n  switch (error.code) {\n    case \"INVALID_INPUT\":\n      return \"Invalid input provided. Please check your parameters and try again.\";\n    case \"ROUTE_NOT_FOUND\":\n      return \"No route found for this transaction. Please try a different token pair or amount.\";\n    case \"AMOUNT_TOO_LOW\":\n      return \"The amount is too low for this transaction. Please increase the amount.\";\n    case \"AMOUNT_TOO_HIGH\":\n      return \"The amount is too high for this transaction. Please decrease the amount.\";\n    case \"INTERNAL_SERVER_ERROR\":\n      return \"A temporary error occurred. Please try again in a moment.\";\n    default:\n      // Fallback to the original error message if available\n      return error.message || \"An unexpected error occurred. Please try again.\";\n  }\n}\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,iCAAiC;AAC1D,SAASC,WAAW,EAAEC,cAAc,QAAQ,6BAA6B;AAoDzE;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAM,SAAUC,cAAcA,CAC5BC,MAA4B;EAE5B,MAAM;IAAEC;EAAK,CAAE,GAAGD,MAAM;EAExB;EACA,IAAI,CAACC,KAAK,EAAE;IACV,OAAO;MACLC,SAAS,EAAE,IAAI;MACfC,aAAa,EAAE,KAAK;MACpBN,WAAW,EAAE,KAAK;MAClBO,aAAa,EAAE,KAAK;MACpBC,WAAW,EAAE,IAAI;MACjBC,UAAU,EAAE,IAAI;MAChBC,WAAW,EAAE;KACd;EACH;EAEA;EACA,IAAIC,QAAkB;EACtB,IAAIP,KAAK,YAAYL,QAAQ,EAAE;IAC7BY,QAAQ,GAAGV,cAAc,CAACG,KAAK,CAAC;EAClC,CAAC,MAAM;IACL;IACAO,QAAQ,GAAG,IAAIZ,QAAQ,CAAC;MACtBa,IAAI,EAAE,eAAe;MACrBC,OAAO,EAAET,KAAK,CAACS,OAAO,IAAI,2BAA2B;MACrDJ,UAAU,EAAE,GAAG,CAAE;KAClB,CAAC;EACJ;EAEA,MAAMA,UAAU,GAAGE,QAAQ,CAACF,UAAU,IAAI,IAAI;EAC9C,MAAMH,aAAa,GACjBG,UAAU,KAAK,IAAI,IAAIA,UAAU,IAAI,GAAG,IAAIA,UAAU,GAAG,GAAG;EAC9D,MAAMF,aAAa,GAAGE,UAAU,KAAK,IAAI,IAAIA,UAAU,IAAI,GAAG;EAE9D;EACA,MAAMC,WAAW,GAAGI,sBAAsB,CAACH,QAAQ,CAAC;EAEpD,OAAO;IACLN,SAAS,EAAEM,QAAQ,CAACC,IAAI;IACxBN,aAAa;IACbN,WAAW,EAAEA,WAAW,CAACW,QAAQ,CAACC,IAAI,CAAC;IACvCL,aAAa;IACbC,WAAW,EAAEG,QAAQ;IACrBF,UAAU;IACVC;GACD;AACH;AAEA;;;AAGA,SAASI,sBAAsBA,CAACV,KAAe;EAC7C,QAAQA,KAAK,CAACQ,IAAI;IAChB,KAAK,eAAe;MAClB,OAAO,qEAAqE;IAC9E,KAAK,iBAAiB;MACpB,OAAO,mFAAmF;IAC5F,KAAK,gBAAgB;MACnB,OAAO,yEAAyE;IAClF,KAAK,iBAAiB;MACpB,OAAO,0EAA0E;IACnF,KAAK,uBAAuB;MAC1B,OAAO,2DAA2D;IACpE;MACE;MACA,OAAOR,KAAK,CAACS,OAAO,IAAI,iDAAiD;EAC7E;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}