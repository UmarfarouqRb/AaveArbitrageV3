{"ast":null,"code":"import { zeroHash } from '../../../constants/bytes.js';\nimport { AbiConstructorNotFoundError, AbiConstructorParamsNotFoundError } from '../../../errors/abi.js';\nimport { encodeAbiParameters } from '../../../utils/abi/encodeAbiParameters.js';\nimport { encodeFunctionData } from '../../../utils/abi/encodeFunctionData.js';\nimport { toHex } from '../../../utils/encoding/toHex.js';\nimport { contractDeployerAbi } from '../../constants/abis.js';\nimport { accountAbstractionVersion1 } from '../../constants/contract.js';\nimport { hashBytecode } from '../hashBytecode.js';\nconst docsPath = '/docs/contract/encodeDeployData';\nexport function encodeDeployData(parameters) {\n  const {\n    abi,\n    args,\n    bytecode,\n    deploymentType,\n    salt\n  } = parameters;\n  if (!args || args.length === 0) {\n    const {\n      functionName,\n      argsContractDeployer\n    } = getDeploymentDetails(deploymentType, salt !== null && salt !== void 0 ? salt : zeroHash, toHex(hashBytecode(bytecode)), '0x');\n    return encodeFunctionData({\n      abi: contractDeployerAbi,\n      functionName,\n      args: argsContractDeployer\n    });\n  }\n  const description = abi.find(x => 'type' in x && x.type === 'constructor');\n  if (!description) throw new AbiConstructorNotFoundError({\n    docsPath\n  });\n  if (!('inputs' in description)) throw new AbiConstructorParamsNotFoundError({\n    docsPath\n  });\n  if (!description.inputs || description.inputs.length === 0) throw new AbiConstructorParamsNotFoundError({\n    docsPath\n  });\n  const data = encodeAbiParameters(description.inputs, args);\n  const {\n    functionName,\n    argsContractDeployer\n  } = getDeploymentDetails(deploymentType, salt !== null && salt !== void 0 ? salt : zeroHash, toHex(hashBytecode(bytecode)), data);\n  return encodeFunctionData({\n    abi: contractDeployerAbi,\n    functionName,\n    args: argsContractDeployer\n  });\n}\nfunction getDeploymentDetails(deploymentType, salt, bytecodeHash, data) {\n  const contractDeploymentArgs = [salt, bytecodeHash, data];\n  const deploymentOptions = {\n    create: {\n      functionName: 'create',\n      argsContractDeployer: contractDeploymentArgs\n    },\n    create2: {\n      functionName: 'create2',\n      argsContractDeployer: contractDeploymentArgs\n    },\n    createAccount: {\n      functionName: 'createAccount',\n      argsContractDeployer: [...contractDeploymentArgs, accountAbstractionVersion1]\n    },\n    create2Account: {\n      functionName: 'create2Account',\n      argsContractDeployer: [...contractDeploymentArgs, accountAbstractionVersion1]\n    }\n  };\n  const deploymentKey = deploymentType || 'create';\n  return deploymentOptions[deploymentKey];\n}","map":{"version":3,"names":["zeroHash","AbiConstructorNotFoundError","AbiConstructorParamsNotFoundError","encodeAbiParameters","encodeFunctionData","toHex","contractDeployerAbi","accountAbstractionVersion1","hashBytecode","docsPath","encodeDeployData","parameters","abi","args","bytecode","deploymentType","salt","length","functionName","argsContractDeployer","getDeploymentDetails","description","find","x","type","inputs","data","bytecodeHash","contractDeploymentArgs","deploymentOptions","create","create2","createAccount","create2Account","deploymentKey"],"sources":["/home/user/Arbitrage/frontend/node_modules/viem/zksync/utils/abi/encodeDeployData.ts"],"sourcesContent":["import type { Abi } from 'abitype'\n\nimport { zeroHash } from '../../../constants/bytes.js'\nimport {\n  AbiConstructorNotFoundError,\n  AbiConstructorParamsNotFoundError,\n} from '../../../errors/abi.js'\nimport type { ErrorType } from '../../../errors/utils.js'\nimport type { ContractConstructorArgs } from '../../../types/contract.js'\nimport type { Hash, Hex } from '../../../types/misc.js'\nimport { encodeAbiParameters } from '../../../utils/abi/encodeAbiParameters.js'\nimport type {\n  EncodeDeployDataParameters as EncodeDeployDataParameters_,\n  EncodeDeployDataReturnType,\n} from '../../../utils/abi/encodeDeployData.js'\nimport {\n  type EncodeFunctionDataErrorType,\n  encodeFunctionData,\n} from '../../../utils/abi/encodeFunctionData.js'\nimport { toHex } from '../../../utils/encoding/toHex.js'\nimport { contractDeployerAbi } from '../../constants/abis.js'\nimport { accountAbstractionVersion1 } from '../../constants/contract.js'\nimport type { ContractDeploymentType } from '../../types/contract.js'\nimport { type HashBytecodeErrorType, hashBytecode } from '../hashBytecode.js'\n\nconst docsPath = '/docs/contract/encodeDeployData'\n\n/** @internal */\nexport type EncodeDeployDataParameters<\n  abi extends Abi | readonly unknown[] = Abi,\n  hasConstructor = abi extends Abi\n    ? Abi extends abi\n      ? true\n      : [Extract<abi[number], { type: 'constructor' }>] extends [never]\n        ? false\n        : true\n    : true,\n  allArgs = ContractConstructorArgs<abi>,\n> = EncodeDeployDataParameters_<abi, hasConstructor, allArgs> & {\n  deploymentType?: ContractDeploymentType | undefined\n  salt?: Hash | undefined\n}\n\nexport type EncodeDeployDataErrorType =\n  | EncodeFunctionDataErrorType\n  | HashBytecodeErrorType\n  | ErrorType\n\nexport function encodeDeployData<const abi extends Abi | readonly unknown[]>(\n  parameters: EncodeDeployDataParameters<abi>,\n): EncodeDeployDataReturnType {\n  const { abi, args, bytecode, deploymentType, salt } =\n    parameters as EncodeDeployDataParameters\n\n  if (!args || args.length === 0) {\n    const { functionName, argsContractDeployer } = getDeploymentDetails(\n      deploymentType,\n      salt ?? zeroHash,\n      toHex(hashBytecode(bytecode)),\n      '0x',\n    )\n    return encodeFunctionData({\n      abi: contractDeployerAbi,\n      functionName,\n      args: argsContractDeployer,\n    })\n  }\n\n  const description = abi.find((x) => 'type' in x && x.type === 'constructor')\n  if (!description) throw new AbiConstructorNotFoundError({ docsPath })\n  if (!('inputs' in description))\n    throw new AbiConstructorParamsNotFoundError({ docsPath })\n  if (!description.inputs || description.inputs.length === 0)\n    throw new AbiConstructorParamsNotFoundError({ docsPath })\n\n  const data = encodeAbiParameters(description.inputs, args)\n  const { functionName, argsContractDeployer } = getDeploymentDetails(\n    deploymentType,\n    salt ?? zeroHash,\n    toHex(hashBytecode(bytecode)),\n    data,\n  )\n\n  return encodeFunctionData({\n    abi: contractDeployerAbi,\n    functionName,\n    args: argsContractDeployer,\n  })\n}\n\nfunction getDeploymentDetails(\n  deploymentType: ContractDeploymentType,\n  salt: Hash,\n  bytecodeHash: Hex,\n  data: Hex,\n): {\n  functionName: string\n  argsContractDeployer: readonly unknown[]\n} {\n  const contractDeploymentArgs = [salt, bytecodeHash, data]\n\n  const deploymentOptions = {\n    create: {\n      functionName: 'create',\n      argsContractDeployer: contractDeploymentArgs,\n    },\n    create2: {\n      functionName: 'create2',\n      argsContractDeployer: contractDeploymentArgs,\n    },\n    createAccount: {\n      functionName: 'createAccount',\n      argsContractDeployer: [\n        ...contractDeploymentArgs,\n        accountAbstractionVersion1,\n      ],\n    },\n    create2Account: {\n      functionName: 'create2Account',\n      argsContractDeployer: [\n        ...contractDeploymentArgs,\n        accountAbstractionVersion1,\n      ],\n    },\n  }\n\n  const deploymentKey = deploymentType || 'create'\n  return deploymentOptions[deploymentKey]\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}