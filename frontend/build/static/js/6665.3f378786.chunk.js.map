{"version":3,"file":"static/js/6665.3f378786.chunk.js","mappings":"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","sources":["../node_modules/viem/errors/request.ts","../node_modules/viem/errors/rpc.ts","../node_modules/thirdweb/src/utils/storage/walletStorage.ts","../node_modules/thirdweb/src/wallets/wallet-connect/constants.ts","../node_modules/thirdweb/src/wallets/wallet-connect/controller.ts"],"sourcesContent":["import { stringify } from '../utils/stringify.js'\n\nimport { BaseError } from './base.js'\nimport { getUrl } from './utils.js'\n\nexport type HttpRequestErrorType = HttpRequestError & {\n  name: 'HttpRequestError'\n}\nexport class HttpRequestError extends BaseError {\n  body?: { [x: string]: unknown } | { [y: string]: unknown }[] | undefined\n  headers?: Headers | undefined\n  status?: number | undefined\n  url: string\n\n  constructor({\n    body,\n    cause,\n    details,\n    headers,\n    status,\n    url,\n  }: {\n    body?: { [x: string]: unknown } | { [y: string]: unknown }[] | undefined\n    cause?: Error | undefined\n    details?: string | undefined\n    headers?: Headers | undefined\n    status?: number | undefined\n    url: string\n  }) {\n    super('HTTP request failed.', {\n      cause,\n      details,\n      metaMessages: [\n        status && `Status: ${status}`,\n        `URL: ${getUrl(url)}`,\n        body && `Request body: ${stringify(body)}`,\n      ].filter(Boolean) as string[],\n      name: 'HttpRequestError',\n    })\n    this.body = body\n    this.headers = headers\n    this.status = status\n    this.url = url\n  }\n}\n\nexport type WebSocketRequestErrorType = WebSocketRequestError & {\n  name: 'WebSocketRequestError'\n}\nexport class WebSocketRequestError extends BaseError {\n  constructor({\n    body,\n    cause,\n    details,\n    url,\n  }: {\n    body?: { [key: string]: unknown } | undefined\n    cause?: Error | undefined\n    details?: string | undefined\n    url: string\n  }) {\n    super('WebSocket request failed.', {\n      cause,\n      details,\n      metaMessages: [\n        `URL: ${getUrl(url)}`,\n        body && `Request body: ${stringify(body)}`,\n      ].filter(Boolean) as string[],\n      name: 'WebSocketRequestError',\n    })\n  }\n}\n\nexport type RpcRequestErrorType = RpcRequestError & {\n  name: 'RpcRequestError'\n}\nexport class RpcRequestError extends BaseError {\n  code: number\n  data?: unknown\n\n  constructor({\n    body,\n    error,\n    url,\n  }: {\n    body: { [x: string]: unknown } | { [y: string]: unknown }[]\n    error: { code: number; data?: unknown; message: string }\n    url: string\n  }) {\n    super('RPC Request failed.', {\n      cause: error as any,\n      details: error.message,\n      metaMessages: [`URL: ${getUrl(url)}`, `Request body: ${stringify(body)}`],\n      name: 'RpcRequestError',\n    })\n    this.code = error.code\n    this.data = error.data\n  }\n}\n\nexport type SocketClosedErrorType = SocketClosedError & {\n  name: 'SocketClosedError'\n}\nexport class SocketClosedError extends BaseError {\n  constructor({\n    url,\n  }: {\n    url?: string | undefined\n  } = {}) {\n    super('The socket has been closed.', {\n      metaMessages: [url && `URL: ${getUrl(url)}`].filter(Boolean) as string[],\n      name: 'SocketClosedError',\n    })\n  }\n}\n\nexport type TimeoutErrorType = TimeoutError & {\n  name: 'TimeoutError'\n}\nexport class TimeoutError extends BaseError {\n  constructor({\n    body,\n    url,\n  }: {\n    body: { [x: string]: unknown } | { [y: string]: unknown }[]\n    url: string\n  }) {\n    super('The request took too long to respond.', {\n      details: 'The request timed out.',\n      metaMessages: [`URL: ${getUrl(url)}`, `Request body: ${stringify(body)}`],\n      name: 'TimeoutError',\n    })\n  }\n}\n","import type { Prettify } from '../types/utils.js'\nimport { BaseError } from './base.js'\nimport { RpcRequestError } from './request.js'\n\nconst unknownErrorCode = -1\n\nexport type RpcErrorCode =\n  | -1\n  | -32700 // Parse error\n  | -32600 // Invalid request\n  | -32601 // Method not found\n  | -32602 // Invalid params\n  | -32603 // Internal error\n  | -32000 // Invalid input\n  | -32001 // Resource not found\n  | -32002 // Resource unavailable\n  | -32003 // Transaction rejected\n  | -32004 // Method not supported\n  | -32005 // Limit exceeded\n  | -32006 // JSON-RPC version not supported\n  | -32042 // Method not found\n\ntype RpcErrorOptions<code extends number = RpcErrorCode> = {\n  code?: code | (number & {}) | undefined\n  docsPath?: string | undefined\n  metaMessages?: string[] | undefined\n  name?: string | undefined\n  shortMessage: string\n}\n\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors per EIP-1474.\n *\n * - EIP https://eips.ethereum.org/EIPS/eip-1474\n */\nexport type RpcErrorType = RpcError & { name: 'RpcError' }\nexport class RpcError<code_ extends number = RpcErrorCode> extends BaseError {\n  code: code_ | (number & {})\n\n  constructor(\n    cause: Error,\n    {\n      code,\n      docsPath,\n      metaMessages,\n      name,\n      shortMessage,\n    }: RpcErrorOptions<code_>,\n  ) {\n    super(shortMessage, {\n      cause,\n      docsPath,\n      metaMessages:\n        metaMessages || (cause as { metaMessages?: string[] })?.metaMessages,\n      name: name || 'RpcError',\n    })\n    this.name = name || cause.name\n    this.code = (\n      cause instanceof RpcRequestError ? cause.code : (code ?? unknownErrorCode)\n    ) as code_\n  }\n}\n\nexport type ProviderRpcErrorCode =\n  | 4001 // User Rejected Request\n  | 4100 // Unauthorized\n  | 4200 // Unsupported Method\n  | 4900 // Disconnected\n  | 4901 // Chain Disconnected\n  | 4902 // Chain Not Recognized\n  | 5700 // Unsupported non-optional capability\n  | 5710 // Unsupported chain id\n  | 5720 // Duplicate ID\n  | 5730 // Unknown bundle id\n  | 5740 // Bundle too large\n  | 5750 // Atomic-ready wallet rejected upgrade\n  | 5760 // Atomicity not supported\n\n/**\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n *\n * - EIP https://eips.ethereum.org/EIPS/eip-1193\n */\nexport type ProviderRpcErrorType = ProviderRpcError & {\n  name: 'ProviderRpcError'\n}\nexport class ProviderRpcError<\n  T = undefined,\n> extends RpcError<ProviderRpcErrorCode> {\n  data?: T | undefined\n\n  constructor(\n    cause: Error,\n    options: Prettify<\n      RpcErrorOptions<ProviderRpcErrorCode> & {\n        data?: T | undefined\n      }\n    >,\n  ) {\n    super(cause, options)\n\n    this.data = options.data\n  }\n}\n\n/**\n * Subclass for a \"Parse error\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type ParseRpcErrorType = ParseRpcError & {\n  code: -32700\n  name: 'ParseRpcError'\n}\nexport class ParseRpcError extends RpcError {\n  static code = -32700 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: ParseRpcError.code,\n      name: 'ParseRpcError',\n      shortMessage:\n        'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"Invalid request\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type InvalidRequestRpcErrorType = InvalidRequestRpcError & {\n  code: -32600\n  name: 'InvalidRequestRpcError'\n}\nexport class InvalidRequestRpcError extends RpcError {\n  static code = -32600 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: InvalidRequestRpcError.code,\n      name: 'InvalidRequestRpcError',\n      shortMessage: 'JSON is not a valid request object.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"Method not found\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type MethodNotFoundRpcErrorType = MethodNotFoundRpcError & {\n  code: -32601\n  name: 'MethodNotFoundRpcError'\n}\nexport class MethodNotFoundRpcError extends RpcError {\n  static code = -32601 as const\n\n  constructor(cause: Error, { method }: { method?: string } = {}) {\n    super(cause, {\n      code: MethodNotFoundRpcError.code,\n      name: 'MethodNotFoundRpcError',\n      shortMessage: `The method${method ? ` \"${method}\"` : ''} does not exist / is not available.`,\n    })\n  }\n}\n\n/**\n * Subclass for an \"Invalid params\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type InvalidParamsRpcErrorType = InvalidParamsRpcError & {\n  code: -32602\n  name: 'InvalidParamsRpcError'\n}\nexport class InvalidParamsRpcError extends RpcError {\n  static code = -32602 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: InvalidParamsRpcError.code,\n      name: 'InvalidParamsRpcError',\n      shortMessage: [\n        'Invalid parameters were provided to the RPC method.',\n        'Double check you have provided the correct parameters.',\n      ].join('\\n'),\n    })\n  }\n}\n\n/**\n * Subclass for an \"Internal error\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type InternalRpcErrorType = InternalRpcError & {\n  code: -32603\n  name: 'InternalRpcError'\n}\nexport class InternalRpcError extends RpcError {\n  static code = -32603 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: InternalRpcError.code,\n      name: 'InternalRpcError',\n      shortMessage: 'An internal error was received.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Invalid input\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type InvalidInputRpcErrorType = InvalidInputRpcError & {\n  code: -32000\n  name: 'InvalidInputRpcError'\n}\nexport class InvalidInputRpcError extends RpcError {\n  static code = -32000 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: InvalidInputRpcError.code,\n      name: 'InvalidInputRpcError',\n      shortMessage: [\n        'Missing or invalid parameters.',\n        'Double check you have provided the correct parameters.',\n      ].join('\\n'),\n    })\n  }\n}\n\n/**\n * Subclass for a \"Resource not found\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type ResourceNotFoundRpcErrorType = ResourceNotFoundRpcError & {\n  code: -32001\n  name: 'ResourceNotFoundRpcError'\n}\nexport class ResourceNotFoundRpcError extends RpcError {\n  override name = 'ResourceNotFoundRpcError'\n  static code = -32001 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: ResourceNotFoundRpcError.code,\n      name: 'ResourceNotFoundRpcError',\n      shortMessage: 'Requested resource not found.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"Resource unavailable\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type ResourceUnavailableRpcErrorType = ResourceUnavailableRpcError & {\n  code: -32002\n  name: 'ResourceUnavailableRpcError'\n}\nexport class ResourceUnavailableRpcError extends RpcError {\n  static code = -32002 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: ResourceUnavailableRpcError.code,\n      name: 'ResourceUnavailableRpcError',\n      shortMessage: 'Requested resource not available.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"Transaction rejected\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type TransactionRejectedRpcErrorType = TransactionRejectedRpcError & {\n  code: -32003\n  name: 'TransactionRejectedRpcError'\n}\nexport class TransactionRejectedRpcError extends RpcError {\n  static code = -32003 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: TransactionRejectedRpcError.code,\n      name: 'TransactionRejectedRpcError',\n      shortMessage: 'Transaction creation failed.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"Method not supported\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type MethodNotSupportedRpcErrorType = MethodNotSupportedRpcError & {\n  code: -32004\n  name: 'MethodNotSupportedRpcError'\n}\nexport class MethodNotSupportedRpcError extends RpcError {\n  static code = -32004 as const\n\n  constructor(cause: Error, { method }: { method?: string } = {}) {\n    super(cause, {\n      code: MethodNotSupportedRpcError.code,\n      name: 'MethodNotSupportedRpcError',\n      shortMessage: `Method${method ? ` \"${method}\"` : ''} is not supported.`,\n    })\n  }\n}\n\n/**\n * Subclass for a \"Limit exceeded\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type LimitExceededRpcErrorType = LimitExceededRpcError & {\n  code: -32005\n  name: 'LimitExceededRpcError'\n}\nexport class LimitExceededRpcError extends RpcError {\n  static code = -32005 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: LimitExceededRpcError.code,\n      name: 'LimitExceededRpcError',\n      shortMessage: 'Request exceeds defined limit.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"JSON-RPC version not supported\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type JsonRpcVersionUnsupportedErrorType =\n  JsonRpcVersionUnsupportedError & {\n    code: -32006\n    name: 'JsonRpcVersionUnsupportedError'\n  }\nexport class JsonRpcVersionUnsupportedError extends RpcError {\n  static code = -32006 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: JsonRpcVersionUnsupportedError.code,\n      name: 'JsonRpcVersionUnsupportedError',\n      shortMessage: 'Version of JSON-RPC protocol is not supported.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"User Rejected Request\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type UserRejectedRequestErrorType = UserRejectedRequestError & {\n  code: 4001\n  name: 'UserRejectedRequestError'\n}\nexport class UserRejectedRequestError extends ProviderRpcError {\n  static code = 4001 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: UserRejectedRequestError.code,\n      name: 'UserRejectedRequestError',\n      shortMessage: 'User rejected the request.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Unauthorized\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type UnauthorizedProviderErrorType = UnauthorizedProviderError & {\n  code: 4100\n  name: 'UnauthorizedProviderError'\n}\nexport class UnauthorizedProviderError extends ProviderRpcError {\n  static code = 4100 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: UnauthorizedProviderError.code,\n      name: 'UnauthorizedProviderError',\n      shortMessage:\n        'The requested method and/or account has not been authorized by the user.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Unsupported Method\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type UnsupportedProviderMethodErrorType =\n  UnsupportedProviderMethodError & {\n    code: 4200\n    name: 'UnsupportedProviderMethodError'\n  }\nexport class UnsupportedProviderMethodError extends ProviderRpcError {\n  static code = 4200 as const\n\n  constructor(cause: Error, { method }: { method?: string } = {}) {\n    super(cause, {\n      code: UnsupportedProviderMethodError.code,\n      name: 'UnsupportedProviderMethodError',\n      shortMessage: `The Provider does not support the requested method${method ? ` \" ${method}\"` : ''}.`,\n    })\n  }\n}\n\n/**\n * Subclass for an \"Disconnected\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type ProviderDisconnectedErrorType = ProviderDisconnectedError & {\n  code: 4900\n  name: 'ProviderDisconnectedError'\n}\nexport class ProviderDisconnectedError extends ProviderRpcError {\n  static code = 4900 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: ProviderDisconnectedError.code,\n      name: 'ProviderDisconnectedError',\n      shortMessage: 'The Provider is disconnected from all chains.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Chain Disconnected\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type ChainDisconnectedErrorType = ChainDisconnectedError & {\n  code: 4901\n  name: 'ChainDisconnectedError'\n}\nexport class ChainDisconnectedError extends ProviderRpcError {\n  static code = 4901 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: ChainDisconnectedError.code,\n      name: 'ChainDisconnectedError',\n      shortMessage: 'The Provider is not connected to the requested chain.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Switch Chain\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type SwitchChainErrorType = SwitchChainError & {\n  code: 4902\n  name: 'SwitchChainError'\n}\nexport class SwitchChainError extends ProviderRpcError {\n  static code = 4902 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: SwitchChainError.code,\n      name: 'SwitchChainError',\n      shortMessage: 'An error occurred when attempting to switch chain.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Unsupported non-optional capability\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type UnsupportedNonOptionalCapabilityErrorType =\n  UnsupportedNonOptionalCapabilityError & {\n    code: 5700\n    name: 'UnsupportedNonOptionalCapabilityError'\n  }\nexport class UnsupportedNonOptionalCapabilityError extends ProviderRpcError {\n  static code = 5700 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: UnsupportedNonOptionalCapabilityError.code,\n      name: 'UnsupportedNonOptionalCapabilityError',\n      shortMessage:\n        'This Wallet does not support a capability that was not marked as optional.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Unsupported chain id\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type UnsupportedChainIdErrorType = UnsupportedChainIdError & {\n  code: 5710\n  name: 'UnsupportedChainIdError'\n}\nexport class UnsupportedChainIdError extends ProviderRpcError {\n  static code = 5710 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: UnsupportedChainIdError.code,\n      name: 'UnsupportedChainIdError',\n      shortMessage: 'This Wallet does not support the requested chain ID.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Duplicate ID\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type DuplicateIdErrorType = DuplicateIdError & {\n  code: 5720\n  name: 'DuplicateIdError'\n}\nexport class DuplicateIdError extends ProviderRpcError {\n  static code = 5720 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: DuplicateIdError.code,\n      name: 'DuplicateIdError',\n      shortMessage: 'There is already a bundle submitted with this ID.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Unknown bundle ID\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type UnknownBundleIdErrorType = UnknownBundleIdError & {\n  code: 5730\n  name: 'UnknownBundleIdError'\n}\nexport class UnknownBundleIdError extends ProviderRpcError {\n  static code = 5730 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: UnknownBundleIdError.code,\n      name: 'UnknownBundleIdError',\n      shortMessage: 'This bundle id is unknown / has not been submitted',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Bundle too large\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type BundleTooLargeErrorType = BundleTooLargeError & {\n  code: 5740\n  name: 'BundleTooLargeError'\n}\nexport class BundleTooLargeError extends ProviderRpcError {\n  static code = 5740 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: BundleTooLargeError.code,\n      name: 'BundleTooLargeError',\n      shortMessage: 'The call bundle is too large for the Wallet to process.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Atomic-ready wallet rejected upgrade\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type AtomicReadyWalletRejectedUpgradeErrorType =\n  AtomicReadyWalletRejectedUpgradeError & {\n    code: 5750\n    name: 'AtomicReadyWalletRejectedUpgradeError'\n  }\nexport class AtomicReadyWalletRejectedUpgradeError extends ProviderRpcError {\n  static code = 5750 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: AtomicReadyWalletRejectedUpgradeError.code,\n      name: 'AtomicReadyWalletRejectedUpgradeError',\n      shortMessage:\n        'The Wallet can support atomicity after an upgrade, but the user rejected the upgrade.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Atomicity not supported\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type AtomicityNotSupportedErrorType = AtomicityNotSupportedError & {\n  code: 5760\n  name: 'AtomicityNotSupportedError'\n}\nexport class AtomicityNotSupportedError extends ProviderRpcError {\n  static code = 5760 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: AtomicityNotSupportedError.code,\n      name: 'AtomicityNotSupportedError',\n      shortMessage:\n        'The wallet does not support atomic execution but the request requires it.',\n    })\n  }\n}\n\n/**\n * Subclass for an unknown RPC error.\n */\nexport type UnknownRpcErrorType = UnknownRpcError & {\n  name: 'UnknownRpcError'\n}\nexport class UnknownRpcError extends RpcError {\n  constructor(cause: Error) {\n    super(cause, {\n      name: 'UnknownRpcError',\n      shortMessage: 'An unknown RPC error occurred.',\n    })\n  }\n}\n","import { stringify } from \"../json.js\";\nimport type { AsyncStorage } from \"./AsyncStorage.js\";\n\nconst CONNECT_PARAMS_MAP_KEY = \"tw:connected-wallet-params\";\n\n/**\n * Save the connection params to storage for given wallet id\n * It saves an object with wallet id as key and params as value to storage on CONNECT_PARAMS_MAP_KEY\n * CONNECT_PARAMS_MAP_KEY: { walletId1: walletId1Params, walletId2: walletId2Params, ... }\n *\n * @param walletId\n * @param params\n * @internal\n */\nexport async function saveConnectParamsToStorage<T extends object>(\n  storage: AsyncStorage,\n  walletId: string,\n  params: T,\n) {\n  // params must be stringifiable\n  if (!isStringifiable(params)) {\n    throw new Error(\"given params are not stringifiable\");\n  }\n\n  const currentValueStr = await storage.getItem(CONNECT_PARAMS_MAP_KEY);\n\n  let value: Record<string, T>;\n\n  if (currentValueStr) {\n    try {\n      value = JSON.parse(currentValueStr);\n    } catch {\n      value = {};\n    }\n\n    value[walletId] = params;\n  } else {\n    value = {\n      [walletId]: params,\n    };\n  }\n\n  storage.setItem(CONNECT_PARAMS_MAP_KEY, stringify(value));\n}\n\n/**\n * Save the connection params to storage for given wallet id\n * It saves an object with wallet id as key and params as value to storage on CONNECT_PARAMS_MAP_KEY\n * CONNECT_PARAMS_MAP_KEY: { walletId1: walletId1Params, walletId2: walletId2Params, ... }\n *\n * @param walletId\n * @param params\n * @internal\n */\nexport async function deleteConnectParamsFromStorage(\n  storage: AsyncStorage,\n  walletId: string,\n) {\n  const currentValueStr = await storage.getItem(CONNECT_PARAMS_MAP_KEY);\n\n  let value: Record<string, object>;\n\n  if (currentValueStr) {\n    try {\n      value = JSON.parse(currentValueStr);\n    } catch {\n      value = {};\n    }\n\n    delete value[walletId];\n    storage.setItem(CONNECT_PARAMS_MAP_KEY, stringify(value));\n  }\n}\n\n/**\n * Get the saved connection params from storage for given wallet id\n * @internal\n */\nexport async function getSavedConnectParamsFromStorage<T extends object>(\n  storage: AsyncStorage,\n  walletId: string,\n): Promise<T | null> {\n  const valueStr = await storage.getItem(CONNECT_PARAMS_MAP_KEY);\n\n  if (!valueStr) {\n    return null;\n  }\n\n  try {\n    const value = JSON.parse(valueStr);\n\n    if (value?.[walletId]) {\n      return value[walletId];\n    }\n\n    return null;\n  } catch {\n    return null;\n  }\n}\n\nfunction isStringifiable(value: unknown): boolean {\n  try {\n    stringify(value);\n    return true;\n  } catch {\n    return false;\n  }\n}\n","export const DEFAULT_PROJECT_ID = \"08c4b07e3ad25f1a27c14a4e8cecb6f0\";\n\nexport const NAMESPACE = \"eip155\";\n","import type {\n  RequestArguments,\n  UniversalProvider,\n} from \"@walletconnect/universal-provider\";\nimport type { Address } from \"abitype\";\nimport {\n  getTypesForEIP712Domain,\n  type ProviderRpcError,\n  type SignTypedDataParameters,\n  SwitchChainError,\n  serializeTypedData,\n  UserRejectedRequestError,\n  validateTypedData,\n} from \"viem\";\nimport { trackTransaction } from \"../../analytics/track/transaction.js\";\nimport type { Chain } from \"../../chains/types.js\";\nimport { getCachedChain, getRpcUrlForChain } from \"../../chains/utils.js\";\nimport type { ThirdwebClient } from \"../../client/client.js\";\nimport { getAddress } from \"../../utils/address.js\";\nimport {\n  type Hex,\n  numberToHex,\n  stringToHex,\n  uint8ArrayToHex,\n} from \"../../utils/encoding/hex.js\";\nimport { stringify } from \"../../utils/json.js\";\nimport { parseTypedData } from \"../../utils/signatures/helpers/parse-typed-data.js\";\nimport type { AsyncStorage } from \"../../utils/storage/AsyncStorage.js\";\nimport {\n  getSavedConnectParamsFromStorage,\n  saveConnectParamsToStorage,\n} from \"../../utils/storage/walletStorage.js\";\nimport { formatWalletConnectUrl } from \"../../utils/url.js\";\nimport { getWalletInfo } from \"../__generated__/getWalletInfo.js\";\nimport type { WCSupportedWalletIds } from \"../__generated__/wallet-ids.js\";\nimport type {\n  Account,\n  SendTransactionOption,\n  Wallet,\n} from \"../interfaces/wallet.js\";\nimport type { DisconnectFn, SwitchChainFn } from \"../types.js\";\nimport { getDefaultAppMetadata } from \"../utils/defaultDappMetadata.js\";\nimport { normalizeChainId } from \"../utils/normalizeChainId.js\";\nimport type { WalletEmitter } from \"../wallet-emitter.js\";\nimport type { WalletInfo } from \"../wallet-info.js\";\nimport type { WalletId } from \"../wallet-types.js\";\nimport { DEFAULT_PROJECT_ID, NAMESPACE } from \"./constants.js\";\nimport type { WCAutoConnectOptions, WCConnectOptions } from \"./types.js\";\n\ntype WCProvider = InstanceType<typeof UniversalProvider>;\n\nlet cachedProvider: WCProvider | null = null;\n\ntype SavedConnectParams = {\n  optionalChains?: Chain[];\n  chain?: Chain;\n  pairingTopic?: string;\n};\n\nconst storageKeys = {\n  lastUsedChainId: \"tw.wc.lastUsedChainId\",\n  requestedChains: \"tw.wc.requestedChains\",\n};\n\n/**\n * Checks if the provided wallet is a Wallet Connect wallet.\n *\n * @param wallet - The wallet to check.\n * @returns True if the wallet is a Wallet Connect wallet, false otherwise.\n */\nexport function isWalletConnect(\n  wallet: Wallet<WalletId>,\n): wallet is Wallet<\"walletConnect\"> {\n  return wallet.id === \"walletConnect\";\n}\n\n/**\n * @internal\n */\nexport async function connectWC(\n  options: WCConnectOptions,\n  emitter: WalletEmitter<WCSupportedWalletIds>,\n  walletId: WCSupportedWalletIds | \"walletConnect\",\n  storage: AsyncStorage,\n  sessionHandler?: (uri: string) => void | Promise<void>,\n): Promise<ReturnType<typeof onConnect>> {\n  const provider = await initProvider(options, walletId, sessionHandler);\n  const wcOptions = options.walletConnect;\n\n  let { onDisplayUri } = wcOptions || {};\n  const walletInfo = await getWalletInfo(walletId);\n\n  // use default sessionHandler unless onDisplayUri is explicitly provided\n  if (!onDisplayUri && sessionHandler) {\n    const deeplinkHandler = (uri: string) => {\n      const appUrl = walletInfo.mobile.native || walletInfo.mobile.universal;\n      if (!appUrl) {\n        // generic wc uri\n        sessionHandler(uri);\n        return;\n      }\n      const fullUrl = formatWalletConnectUrl(appUrl, uri).redirect;\n      sessionHandler(fullUrl);\n    };\n    onDisplayUri = deeplinkHandler;\n  }\n\n  if (onDisplayUri) {\n    provider.events.addListener(\"display_uri\", onDisplayUri);\n  }\n\n  let optionalChains: Chain[] | undefined = wcOptions?.optionalChains;\n  let chainToRequest = options.chain;\n\n  // ignore the given options chains - and set the safe supported chains\n  if (walletId === \"global.safe\") {\n    optionalChains = chainsToRequestForSafe.map(getCachedChain);\n    if (chainToRequest && !optionalChains.includes(chainToRequest)) {\n      chainToRequest = undefined;\n    }\n  }\n\n  // For UniversalProvider, we still need chain configuration for session management\n  const { chains: chainsToRequest, rpcMap } = getChainsToRequest({\n    chain: chainToRequest,\n    client: options.client,\n    optionalChains: optionalChains,\n  });\n\n  // For UniversalProvider, we need to connect with namespaces\n  await provider.connect({\n    ...(wcOptions?.pairingTopic\n      ? { pairingTopic: wcOptions?.pairingTopic }\n      : {}),\n    optionalNamespaces: {\n      [NAMESPACE]: {\n        chains: chainsToRequest,\n        events: [\"chainChanged\", \"accountsChanged\"],\n        methods: [\n          \"eth_sendTransaction\",\n          \"eth_signTransaction\",\n          \"eth_sign\",\n          \"personal_sign\",\n          \"eth_signTypedData\",\n          \"eth_signTypedData_v4\",\n          \"wallet_switchEthereumChain\",\n          \"wallet_addEthereumChain\",\n        ],\n        rpcMap,\n      },\n    },\n  });\n\n  setRequestedChainsIds(\n    chainsToRequest.map((x) => Number(x.split(\":\")[1])),\n    storage,\n  );\n  const currentChainId = chainsToRequest[0]?.split(\":\")[1] || 1;\n  const providerChainId = normalizeChainId(currentChainId);\n  const account = firstAccountOn(provider.session, `eip155:1`); // grab the address from mainnet if available\n  const address = account;\n  if (!address) {\n    throw new Error(\"No accounts found on provider.\");\n  }\n\n  const chain =\n    options.chain && options.chain.id === providerChainId\n      ? options.chain\n      : getCachedChain(providerChainId);\n\n  if (options) {\n    const savedParams: SavedConnectParams = {\n      chain: options.chain,\n      optionalChains: options.walletConnect?.optionalChains,\n      pairingTopic: options.walletConnect?.pairingTopic,\n    };\n\n    if (storage) {\n      saveConnectParamsToStorage(storage, walletId, savedParams);\n    }\n  }\n\n  if (onDisplayUri) {\n    provider.events.removeListener(\"display_uri\", onDisplayUri);\n  }\n\n  return onConnect(\n    address,\n    chain,\n    provider,\n    emitter,\n    storage,\n    options.client,\n    walletInfo,\n    sessionHandler,\n  );\n}\n\nasync function ensureTargetChain(\n  provider: Awaited<ReturnType<typeof initProvider>>,\n  chain: Chain,\n  walletInfo: WalletInfo,\n) {\n  if (!provider.session) {\n    throw new Error(\"No session found on provider.\");\n  }\n  const TARGET_CAIP = `eip155:${chain.id}`;\n  const TARGET_HEX = numberToHex(chain.id);\n\n  // Fast path: already enabled\n  if (hasChainEnabled(provider.session, TARGET_CAIP)) {\n    provider.setDefaultChain(TARGET_CAIP);\n    return;\n  }\n\n  // 1) Try switch\n  try {\n    await requestAndOpenWallet({\n      provider,\n      payload: {\n        method: \"wallet_switchEthereumChain\",\n        params: [{ chainId: TARGET_HEX }],\n      },\n      chain: TARGET_CAIP, // route to target\n      walletInfo,\n    });\n    provider.setDefaultChain(TARGET_CAIP);\n    return;\n  } catch (err: any) {\n    const code = err?.code ?? err?.data?.originalError?.code;\n    // 4001 user rejected; stop\n    if (code === 4001) throw new Error(\"User rejected chain switch\");\n    // fall through on 4902 or unknown -> try add\n  }\n\n  // 2) Add the chain via any chain we already have\n  const routeChain = anyRoutableChain(provider.session);\n  if (!routeChain)\n    throw new Error(\"No routable chain to send wallet_addEthereumChain\");\n\n  try {\n    await requestAndOpenWallet({\n      provider,\n      payload: {\n        method: \"wallet_addEthereumChain\",\n        params: [\n          {\n            chainId: TARGET_HEX,\n            chainName: chain.name,\n            nativeCurrency: chain.nativeCurrency,\n            rpcUrls: [chain.rpc],\n            blockExplorerUrls: [chain.blockExplorers?.[0]?.url ?? \"\"],\n          },\n        ],\n      },\n      chain: routeChain, // route via known-good chain, not the target\n      walletInfo,\n    });\n  } catch (err: any) {\n    const code = err?.code ?? err?.data?.originalError?.code;\n    if (code === 4001) throw new Error(\"User rejected add chain\");\n    throw new Error(`Add chain failed: ${err?.message || String(err)}`);\n  }\n\n  // 3) Re-try switch after add\n  await requestAndOpenWallet({\n    provider,\n    payload: {\n      method: \"wallet_switchEthereumChain\",\n      params: [{ chainId: TARGET_HEX }],\n    },\n    chain: TARGET_CAIP,\n    walletInfo,\n  });\n  provider.setDefaultChain(TARGET_CAIP);\n\n  // 4) Verify enablement\n  if (!hasChainEnabled(provider.session, TARGET_CAIP)) {\n    throw new Error(\"Target chain still not enabled by wallet\");\n  }\n}\n\ntype WCSession = Awaited<ReturnType<typeof UniversalProvider.init>>[\"session\"];\n\nfunction getNS(session: WCSession) {\n  return session?.namespaces?.eip155;\n}\nfunction hasChainEnabled(session: WCSession, caip: string) {\n  const ns = getNS(session);\n  return !!ns?.accounts?.some((a) => a.startsWith(`${caip}:`));\n}\nfunction firstAccountOn(session: WCSession, caip: string): string | null {\n  const ns = getNS(session);\n  const hit =\n    ns?.accounts?.find((a) => a.startsWith(`${caip}:`)) || ns?.accounts[0];\n  return hit ? (hit.split(\":\")[2] ?? null) : null;\n}\nfunction anyRoutableChain(session: WCSession): string | null {\n  const ns = getNS(session);\n  return ns?.accounts?.[0]?.split(\":\")?.slice(0, 2)?.join(\":\") ?? null; // e.g. \"eip155:1\"\n}\n\n/**\n * Auto connect to already connected wallet connect session.\n * @internal\n */\nexport async function autoConnectWC(\n  options: WCAutoConnectOptions,\n  emitter: WalletEmitter<WCSupportedWalletIds>,\n  walletId: WCSupportedWalletIds | \"walletConnect\",\n  storage: AsyncStorage,\n  sessionHandler?: (uri: string) => void | Promise<void>,\n): Promise<ReturnType<typeof onConnect>> {\n  const savedConnectParams: SavedConnectParams | null = storage\n    ? await getSavedConnectParamsFromStorage(storage, walletId)\n    : null;\n\n  const walletInfo = await getWalletInfo(walletId);\n\n  const provider = await initProvider(\n    savedConnectParams\n      ? {\n          chain: savedConnectParams.chain,\n          client: options.client,\n          walletConnect: {\n            optionalChains: savedConnectParams.optionalChains,\n            pairingTopic: savedConnectParams.pairingTopic,\n          },\n        }\n      : {\n          client: options.client,\n          walletConnect: {},\n        },\n    walletId,\n    sessionHandler,\n  );\n\n  if (!provider.session) {\n    await provider.disconnect();\n    throw new Error(\"No wallet connect session found on provider.\");\n  }\n\n  // For UniversalProvider, get accounts from enable() method\n  const namespaceAccounts = provider.session?.namespaces?.[NAMESPACE]?.accounts;\n  const address = namespaceAccounts?.[0]?.split(\":\")[2];\n\n  if (!address) {\n    throw new Error(\"No accounts found on provider.\");\n  }\n\n  // For UniversalProvider, get chainId from the session namespaces or use default\n  const currentChainId = options.chain?.id || 1;\n  const providerChainId = normalizeChainId(currentChainId);\n\n  const chain =\n    options.chain && options.chain.id === providerChainId\n      ? options.chain\n      : getCachedChain(providerChainId);\n\n  return onConnect(\n    address,\n    chain,\n    provider,\n    emitter,\n    storage,\n    options.client,\n    walletInfo,\n    sessionHandler,\n  );\n}\n\n// Connection utils -----------------------------------------------------------------------------------------------\n\nasync function initProvider(\n  options: WCConnectOptions,\n  walletId: WCSupportedWalletIds | \"walletConnect\",\n  sessionRequestHandler?: (uri: string) => void | Promise<void>,\n) {\n  if (cachedProvider) {\n    return cachedProvider;\n  }\n\n  const walletInfo = await getWalletInfo(walletId);\n  const wcOptions = options.walletConnect;\n  const { UniversalProvider } = await import(\n    \"@walletconnect/universal-provider\"\n  );\n\n  let optionalChains: Chain[] | undefined = wcOptions?.optionalChains;\n  let chainToRequest = options.chain;\n\n  // ignore the given options chains - and set the safe supported chains\n  if (walletId === \"global.safe\") {\n    optionalChains = chainsToRequestForSafe.map(getCachedChain);\n    if (chainToRequest && !optionalChains.includes(chainToRequest)) {\n      chainToRequest = undefined;\n    }\n  }\n\n  const provider = await UniversalProvider.init({\n    metadata: {\n      description:\n        wcOptions?.appMetadata?.description ||\n        getDefaultAppMetadata().description,\n      icons: [\n        wcOptions?.appMetadata?.logoUrl || getDefaultAppMetadata().logoUrl,\n      ],\n      name: wcOptions?.appMetadata?.name || getDefaultAppMetadata().name,\n      url: wcOptions?.appMetadata?.url || getDefaultAppMetadata().url,\n      redirect: {\n        native: walletInfo.mobile.native || undefined,\n        universal: walletInfo.mobile.universal || undefined,\n      },\n    },\n    projectId: wcOptions?.projectId || DEFAULT_PROJECT_ID,\n  });\n\n  provider.events.setMaxListeners(Number.POSITIVE_INFINITY);\n\n  if (walletId !== \"walletConnect\") {\n    async function handleSessionRequest() {\n      const walletLinkToOpen =\n        provider.session?.peer?.metadata?.redirect?.native ||\n        walletInfo.mobile.native ||\n        walletInfo.mobile.universal;\n\n      if (sessionRequestHandler && walletLinkToOpen) {\n        // TODO: propagate error when this fails\n        await sessionRequestHandler(walletLinkToOpen);\n      }\n    }\n\n    // For UniversalProvider, use different event handling\n    provider.on(\"session_request_sent\", handleSessionRequest);\n    provider.events.addListener(\"disconnect\", () => {\n      provider.off(\"session_request_sent\", handleSessionRequest);\n      cachedProvider = null;\n    });\n  }\n\n  cachedProvider = provider;\n\n  return provider;\n}\n\nfunction createAccount({\n  provider,\n  address,\n  client,\n  chain,\n  sessionRequestHandler,\n  walletInfo,\n}: {\n  provider: WCProvider;\n  address: string;\n  client: ThirdwebClient;\n  chain: Chain;\n  sessionRequestHandler?: (uri: string) => void | Promise<void>;\n  walletInfo: WalletInfo;\n}) {\n  const account: Account = {\n    address: getAddress(address),\n    async sendTransaction(tx: SendTransactionOption) {\n      const transactionHash = (await requestAndOpenWallet({\n        provider,\n        payload: {\n          method: \"eth_sendTransaction\",\n          params: [\n            {\n              data: tx.data,\n              from: getAddress(address),\n              gas: tx.gas ? numberToHex(tx.gas) : undefined,\n              to: tx.to as Address,\n              value: tx.value ? numberToHex(tx.value) : undefined,\n            },\n          ],\n        },\n        chain: `eip155:${tx.chainId}`,\n        walletInfo,\n        sessionRequestHandler,\n      })) as Hex;\n\n      trackTransaction({\n        chainId: tx.chainId,\n        client: client,\n        contractAddress: tx.to ?? undefined,\n        gasPrice: tx.gasPrice,\n        transactionHash,\n        walletAddress: getAddress(address),\n        walletType: \"walletConnect\",\n      });\n\n      return {\n        transactionHash,\n      };\n    },\n    async signMessage({ message }) {\n      const messageToSign = (() => {\n        if (typeof message === \"string\") {\n          return stringToHex(message);\n        }\n        if (message.raw instanceof Uint8Array) {\n          return uint8ArrayToHex(message.raw);\n        }\n        return message.raw;\n      })();\n      return requestAndOpenWallet({\n        provider,\n        payload: {\n          method: \"personal_sign\",\n          params: [messageToSign, this.address],\n        },\n        chain: `eip155:${chain.id}`,\n        walletInfo,\n        sessionRequestHandler,\n      });\n    },\n    async signTypedData(_data) {\n      const data = parseTypedData(_data);\n      const { domain, message, primaryType } =\n        data as unknown as SignTypedDataParameters;\n\n      const types = {\n        EIP712Domain: getTypesForEIP712Domain({ domain }),\n        ...data.types,\n      };\n\n      // Need to do a runtime validation check on addresses, byte ranges, integer ranges, etc\n      // as we can't statically check this with TypeScript.\n      validateTypedData({ domain, message, primaryType, types });\n\n      const typedData = serializeTypedData({\n        domain: domain ?? {},\n        message,\n        primaryType,\n        types,\n      });\n\n      return await requestAndOpenWallet({\n        provider,\n        payload: {\n          method: \"eth_signTypedData_v4\",\n          params: [this.address, typedData],\n        },\n        chain: `eip155:${chain.id}`,\n        walletInfo,\n        sessionRequestHandler,\n      });\n    },\n  };\n\n  return account;\n}\n\nasync function requestAndOpenWallet(args: {\n  provider: WCProvider;\n  payload: RequestArguments;\n  chain?: string;\n  walletInfo: WalletInfo;\n  sessionRequestHandler?: (uri: string) => void | Promise<void>;\n}) {\n  const { provider, payload, chain, walletInfo, sessionRequestHandler } = args;\n  const resultPromise: Promise<`0x${string}`> = provider.request(\n    payload,\n    chain,\n  );\n\n  const walletLinkToOpen =\n    provider.session?.peer?.metadata?.redirect?.native ||\n    walletInfo.mobile.native ||\n    walletInfo.mobile.universal;\n\n  if (sessionRequestHandler && walletLinkToOpen) {\n    await sessionRequestHandler(walletLinkToOpen);\n  }\n\n  return resultPromise;\n}\n\nfunction onConnect(\n  address: string,\n  chain: Chain,\n  provider: WCProvider,\n  emitter: WalletEmitter<WCSupportedWalletIds>,\n  storage: AsyncStorage,\n  client: ThirdwebClient,\n  walletInfo: WalletInfo,\n  sessionRequestHandler?: (uri: string) => void | Promise<void>,\n): [Account, Chain, DisconnectFn, SwitchChainFn] {\n  const account = createAccount({\n    address,\n    chain,\n    client,\n    provider,\n    sessionRequestHandler,\n    walletInfo,\n  });\n\n  async function disconnect() {\n    provider.removeListener(\"accountsChanged\", onAccountsChanged);\n    provider.removeListener(\"chainChanged\", onChainChanged);\n    provider.removeListener(\"disconnect\", onDisconnect);\n    await provider.disconnect();\n    cachedProvider = null;\n  }\n\n  function onDisconnect() {\n    setRequestedChainsIds([], storage);\n    storage?.removeItem(storageKeys.lastUsedChainId);\n    disconnect();\n    emitter.emit(\"disconnect\", undefined);\n  }\n\n  function onAccountsChanged(accounts: string[]) {\n    if (accounts[0]) {\n      const newAccount = createAccount({\n        address: getAddress(accounts[0]),\n        chain,\n        client,\n        provider,\n        sessionRequestHandler,\n        walletInfo,\n      });\n      emitter.emit(\"accountChanged\", newAccount);\n      emitter.emit(\"accountsChanged\", accounts);\n    } else {\n      onDisconnect();\n    }\n  }\n\n  function onChainChanged(newChainId: string) {\n    const newChain = getCachedChain(normalizeChainId(newChainId));\n    emitter.emit(\"chainChanged\", newChain);\n    storage?.setItem(storageKeys.lastUsedChainId, String(newChainId));\n  }\n\n  provider.on(\"accountsChanged\", onAccountsChanged);\n  provider.on(\"chainChanged\", onChainChanged);\n  provider.on(\"disconnect\", onDisconnect);\n  provider.on(\"session_delete\", onDisconnect);\n\n  return [\n    account,\n    chain,\n    disconnect,\n    (newChain) => switchChainWC(provider, newChain, walletInfo),\n  ];\n}\n\nasync function switchChainWC(\n  provider: WCProvider,\n  chain: Chain,\n  walletInfo: WalletInfo,\n) {\n  try {\n    await ensureTargetChain(provider, chain, walletInfo);\n  } catch (error) {\n    const message =\n      typeof error === \"string\" ? error : (error as ProviderRpcError)?.message;\n    if (/user rejected request/i.test(message)) {\n      throw new UserRejectedRequestError(error as Error);\n    }\n\n    throw new SwitchChainError(error as Error);\n  }\n}\n\n/**\n * Set the requested chains to the storage.\n * @internal\n */\nfunction setRequestedChainsIds(\n  chains: number[] | undefined,\n  storage: AsyncStorage,\n) {\n  storage?.setItem(storageKeys.requestedChains, stringify(chains));\n}\n\nfunction getChainsToRequest(options: {\n  chain?: Chain;\n  optionalChains?: Chain[];\n  client: ThirdwebClient;\n}): {\n  rpcMap: Record<number, string>;\n  chains: string[];\n} {\n  const rpcMap: Record<number, string> = {};\n  const chainIds: number[] = [];\n\n  if (options.chain) {\n    rpcMap[options.chain.id] = getRpcUrlForChain({\n      chain: options.chain,\n      client: options.client,\n    });\n    chainIds.push(options.chain.id);\n  }\n\n  // limit optional chains to 10\n  const optionalChains = (options?.optionalChains || []).slice(0, 10);\n\n  for (const chain of optionalChains) {\n    rpcMap[chain.id] = getRpcUrlForChain({\n      chain: chain,\n      client: options.client,\n    });\n    chainIds.push(chain.id);\n  }\n\n  // always include mainnet\n  // many wallets only support a handful of chains, but mainnet is always supported\n  // we will add additional chains in switchChain if needed\n  if (!chainIds.includes(1)) {\n    rpcMap[1] = getCachedChain(1).rpc;\n    chainIds.push(1);\n  }\n\n  return {\n    chains: chainIds.map((x) => `eip155:${x}`),\n    rpcMap,\n  };\n}\n\nconst chainsToRequestForSafe = [\n  1, // Ethereum Mainnet\n  11155111, // Sepolia Testnet\n  42161, // Arbitrum One Mainnet\n  43114, // Avalanche Mainnet\n  8453, // Base Mainnet\n  1313161554, // Aurora Mainnet\n  84532, // Base Sepolia Testnet\n  56, // Binance Smart Chain Mainnet\n  42220, // Celo Mainnet\n  100, // Gnosis Mainnet\n  10, // Optimism Mainnet\n  137, // Polygon Mainnet\n  1101, // Polygon zkEVM Mainnet\n  324, // zkSync Era mainnet\n  534352, // Scroll mainnet\n];\n"],"names":["BaseError","RpcRequestError","constructor","_ref3","body","error","url","super","cause","details","message","metaMessages","concat","stringify","name","Object","defineProperty","this","code","data","RpcError","_ref","docsPath","shortMessage","ProviderRpcError","options","ParseRpcError","InvalidRequestRpcError","MethodNotFoundRpcError","method","arguments","length","undefined","InvalidParamsRpcError","join","InternalRpcError","InvalidInputRpcError","ResourceNotFoundRpcError","ResourceUnavailableRpcError","TransactionRejectedRpcError","MethodNotSupportedRpcError","LimitExceededRpcError","JsonRpcVersionUnsupportedError","UserRejectedRequestError","UnauthorizedProviderError","UnsupportedProviderMethodError","ProviderDisconnectedError","ChainDisconnectedError","SwitchChainError","UnsupportedNonOptionalCapabilityError","UnsupportedChainIdError","DuplicateIdError","UnknownBundleIdError","BundleTooLargeError","AtomicReadyWalletRejectedUpgradeError","AtomicityNotSupportedError","CONNECT_PARAMS_MAP_KEY","async","saveConnectParamsToStorage","storage","walletId","params","value","_unused4","isStringifiable","Error","currentValueStr","getItem","JSON","parse","_unused","setItem","DEFAULT_PROJECT_ID","NAMESPACE","cachedProvider","storageKeys","lastUsedChainId","requestedChains","connectWC","emitter","sessionHandler","_chainsToRequest$","provider","initProvider","wcOptions","walletConnect","onDisplayUri","walletInfo","getWalletInfo","uri","appUrl","mobile","native","universal","fullUrl","formatWalletConnectUrl","redirect","events","addListener","optionalChains","chainToRequest","chain","chainsToRequestForSafe","map","getCachedChain","includes","chains","chainsToRequest","rpcMap","chainIds","id","getRpcUrlForChain","client","push","slice","rpc","x","getChainsToRequest","connect","_objectSpread","pairingTopic","optionalNamespaces","methods","setRequestedChainsIds","Number","split","currentChainId","providerChainId","normalizeChainId","address","session","caip","_ns$accounts2","_hit$split$","ns","getNS","hit","accounts","find","a","startsWith","firstAccountOn","_options$walletConnec","_options$walletConnec2","savedParams","removeListener","onConnect","ensureTargetChain","TARGET_CAIP","TARGET_HEX","numberToHex","hasChainEnabled","setDefaultChain","requestAndOpenWallet","payload","chainId","err","_err$code","_err$data","originalError","routeChain","_ns$accounts$0$split$","_ns$accounts3","anyRoutableChain","_chain$blockExplorers","_chain$blockExplorers2","chainName","nativeCurrency","rpcUrls","blockExplorerUrls","blockExplorers","_err$code2","_err$data2","String","_session$namespaces","namespaces","eip155","_ns$accounts","some","autoConnectWC","_provider$session","_namespaceAccounts$","_options$chain","savedConnectParams","valueStr","_unused3","getSavedConnectParamsFromStorage","disconnect","namespaceAccounts","sessionRequestHandler","_wcOptions$appMetadat","_wcOptions$appMetadat2","_wcOptions$appMetadat3","_wcOptions$appMetadat4","UniversalProvider","init","metadata","description","appMetadata","getDefaultAppMetadata","icons","logoUrl","projectId","setMaxListeners","POSITIVE_INFINITY","handleSessionRequest","_provider$session2","walletLinkToOpen","peer","on","off","createAccount","getAddress","sendTransaction","tx","_tx$to","transactionHash","from","gas","to","trackTransaction","contractAddress","gasPrice","walletAddress","walletType","signMessage","_ref2","messageToSign","stringToHex","raw","Uint8Array","uint8ArrayToHex","signTypedData","_data","parseTypedData","domain","primaryType","types","EIP712Domain","getTypesForEIP712Domain","validateTypedData","typedData","serializeTypedData","args","_provider$session3","resultPromise","request","account","onAccountsChanged","onChainChanged","onDisconnect","removeItem","emit","newAccount","newChainId","newChain","test","switchChainWC"],"sourceRoot":""}