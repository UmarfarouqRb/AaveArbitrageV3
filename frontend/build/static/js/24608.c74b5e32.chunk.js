"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[24608,86511],{24608:(t,a,n)=>{n.d(a,{relayBiconomyTransaction:()=>u});var e=n(31376),o=n(28887),r=n(38736),s=n(83423),i=n(97779),c=n(68098),d=n(77717),l=n(86511);const f=0n;async function u(t){const[a,n]=await async function(t){var a;let{account:n,serializableTransaction:i,transaction:d,gasless:u}=t;const h=(0,r.P)({address:u.relayerForwarderAddress,chain:d.chain,client:d.client}),p=await(0,l.readContract)({contract:h,method:"function getNonce(address,uint256) view returns (uint256)",params:[n.address,f]}),v=Math.floor(Date.now()/1e3)+(null!==(a=u.deadlineSeconds)&&void 0!==a?a:3600),w={batchId:f,batchNonce:p,data:i.data,deadline:v,from:n.address,to:i.to,token:o.cF,tokenGasPrice:0n,txGas:i.gas};if(!w.to)throw new Error("Cannot send a transaction without a `to` address");if(!w.txGas)throw new Error("Cannot send a transaction without a `gas` value");if(!w.data)throw new Error("Cannot send a transaction without a `data` value");const y=(0,e.h)([{type:"address"},{type:"address"},{type:"address"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[(0,s.bv)(w.from),(0,s.bv)(w.to),(0,s.bv)(w.token),w.txGas,w.tokenGasPrice,w.batchId,w.batchNonce,(0,c.S)(w.data)]);return[w,await n.signMessage({message:y})]}(t),u=await fetch("https://api.biconomy.io/api/v2/meta-tx/native",{body:(0,d.A)({apiId:t.gasless.apiId,from:a.from,gasLimit:a.txGas,params:[a,n],to:a.to}),headers:{"Content-Type":"application/json;charset=utf-8","x-api-key":t.gasless.apiKey},method:"POST"});if(!u.ok)throw new Error("Failed to send transaction: ".concat(await u.text()));const h=await u.json(),p=h.txHash;if((0,i.q)(p))return{chain:t.transaction.chain,client:t.transaction.client,transactionHash:p};throw new Error("Failed to send transaction: ".concat((0,d.A)(h)))}},28887:(t,a,n)=>{n.d(a,{cF:()=>e});const e="0x0000000000000000000000000000000000000000"},86511:(t,a,n)=>{n.d(a,{readContract:()=>h});var e=n(55907),o=n(60005),r=n(53986),s=n(3340);const i=["blockNumber","blockTag"];var c=n(72364),d=n(71760),l=n(64819),f=n(83423),u=n(9363);async function h(t){const{contract:a,method:n,params:h}=t,[p,v]=await Promise.all([(async()=>{var t;if(Array.isArray(n))return n;if((0,u.d)(n))return(0,l.v)(n);if("function"===typeof n)return(0,l.v)(await n(a));if("string"===typeof n&&n.startsWith("function ")){const t=(0,e.$)(n);if("function"===t.type)return(0,l.v)(t);throw new Error('"method" passed is not of type "function"')}if(a.abi&&(null===(t=a.abi)||void 0===t?void 0:t.length)>0){var o;const t=null===(o=a.abi)||void 0===o?void 0:o.find(t=>"function"===t.type&&t.name===n);if(t)return(0,l.v)(t)}throw new Error('Could not resolve method "'.concat(n,'".'))})(),"function"===typeof h?h():h]);let w;w=0===p[1].length?p[0]:p[0]+(0,d.hd)(p[1],v).slice(2);const y=(0,c.getRpcClient)({chain:a.chain,client:a.client}),b=await async function(t,a){const{blockNumber:n,blockTag:e}=a,o=(0,r.A)(a,i),c=(n?(0,s.cK)(n):void 0)||e||"latest";return await t({method:"eth_call",params:a.stateOverrides?[o,c,(d=a.stateOverrides,Object.fromEntries(Object.entries(d).map(t=>{let[a,n]=t;return[a,{balance:n.balance?(0,s.cK)(n.balance):void 0,code:n.code,nonce:n.nonce?(0,s.cK)(n.nonce):void 0,state:n.state,stateDiff:n.stateDiff}]})))]:[o,c]});var d}(y,{data:w,from:t.from?(0,f.bv)(t.from):void 0,to:a.address}),m=(0,o.n)(p[2],b);return Array.isArray(m)&&1===m.length?m[0]:m}}}]);
//# sourceMappingURL=24608.c74b5e32.chunk.js.map