{"version":3,"file":"static/js/42244.40769123.chunk.js","mappings":"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","sources":["../node_modules/thirdweb/src/react/web/wallets/shared/PassKeyLogin.tsx","../node_modules/thirdweb/src/react/web/wallets/in-app/WalletAuth.tsx","../node_modules/thirdweb/src/react/core/hooks/wallets/useAddConnectedWallet.ts","../node_modules/thirdweb/src/react/web/wallets/shared/LoadingState.tsx","../node_modules/thirdweb/src/react/web/wallets/shared/SocialLogin.tsx","../node_modules/thirdweb/src/react/web/wallets/shared/GuestLogin.tsx","../node_modules/thirdweb/src/react/web/wallets/shared/ErrorState.tsx","../node_modules/thirdweb/src/react/web/ui/components/FadeIn.tsx","../node_modules/thirdweb/node_modules/input-otp/src/use-pwm-badge.tsx","../node_modules/thirdweb/node_modules/input-otp/src/input.tsx","../node_modules/thirdweb/node_modules/input-otp/src/use-previous.ts","../node_modules/thirdweb/node_modules/input-otp/src/sync-timeouts.ts","../node_modules/thirdweb/src/react/web/ui/components/OTPInput.tsx","../node_modules/thirdweb/src/react/web/wallets/shared/OTPLoginUI.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { linkProfile } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport { hasStoredPasskey } from \"../../../../wallets/in-app/web/lib/auth/passkeys.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport { iconSize } from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { FingerPrintIcon } from \"../../ui/ConnectWallet/icons/FingerPrintIcon.js\";\nimport type { ConnectLocale } from \"../../ui/ConnectWallet/locale/types.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { ErrorState } from \"./ErrorState.js\";\nimport { LoadingScreen } from \"./LoadingScreen.js\";\nimport { LoadingState } from \"./LoadingState.js\";\n\n// is passkey stored?\n// - login\n// else\n// - show login or signup options\n\nexport function PassKeyLogin(props: {\n  wallet: Wallet;\n  locale: ConnectLocale;\n  done: () => void;\n  onBack?: () => void;\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  size: \"compact\" | \"wide\";\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain, size, locale } = props;\n  const [screen, setScreen] = useState<\n    \"select\" | \"login\" | \"loading\" | \"signup\"\n  >(\"loading\");\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    hasStoredPasskey(\n      client,\n      isEcosystemWallet(wallet.id) ? wallet.id : undefined,\n    )\n      .then((isStored) => {\n        if (isStored) {\n          setScreen(\"login\");\n        } else {\n          setScreen(\"select\");\n        }\n      })\n      .catch(() => {\n        setScreen(\"select\");\n      });\n  }, [client, wallet.id]);\n\n  return (\n    <Container animate=\"fadein\" flex=\"column\" fullHeight>\n      <Container p=\"lg\">\n        <ModalHeader\n          onBack={props.onBack}\n          title={\n            props.isLinking\n              ? locale.passkeys.linkPasskey\n              : locale.passkeys.title\n          }\n        />\n      </Container>\n\n      <Container\n        center=\"y\"\n        expand\n        flex=\"column\"\n        px={size === \"wide\" ? \"xxl\" : \"lg\"}\n      >\n        <div>\n          {screen === \"loading\" && (\n            <>\n              <LoadingScreen />\n              <Spacer y=\"xxl\" />\n            </>\n          )}\n\n          {screen === \"select\" && (\n            <SelectLoginMethod\n              onSignin={() => {\n                setScreen(\"login\");\n              }}\n              onSignup={() => {\n                setScreen(\"signup\");\n              }}\n            />\n          )}\n\n          {screen === \"login\" && (\n            <LoginScreen\n              chain={chain}\n              client={client}\n              done={done}\n              isLinking={props.isLinking}\n              onCreate={() => {\n                setScreen(\"signup\");\n              }}\n              wallet={wallet}\n            />\n          )}\n\n          {screen === \"signup\" && (\n            <SignupScreen\n              chain={chain}\n              client={client}\n              done={done}\n              isLinking={props.isLinking}\n              wallet={wallet}\n            />\n          )}\n        </div>\n      </Container>\n    </Container>\n  );\n}\n\nfunction LoginScreen(props: {\n  wallet: Wallet;\n  done: () => void;\n  client: ThirdwebClient;\n  onCreate: () => void;\n  chain?: Chain;\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain } = props;\n  const [status, setStatus] = useState<\"loading\" | \"error\">(\"loading\");\n  const [error, setError] = useState<string | undefined>();\n\n  async function login() {\n    setStatus(\"loading\");\n    try {\n      if (props.isLinking) {\n        await linkProfile({\n          client,\n          strategy: \"passkey\",\n          type: \"sign-in\",\n        }).catch((e) => {\n          setError(e.message);\n          throw e;\n        });\n      } else {\n        await wallet.connect({\n          chain,\n          client: client,\n          strategy: \"passkey\",\n          type: \"sign-in\",\n        });\n        await setLastAuthProvider(\"passkey\", webLocalStorage);\n      }\n      done();\n    } catch (e) {\n      console.error(\"Failed to login with passkey\", e);\n      setStatus(\"error\");\n    }\n  }\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    login();\n  });\n\n  if (status === \"loading\") {\n    return (\n      <LoadingState\n        icon={<FingerPrintIcon size={iconSize.xxl} />}\n        subtitle=\"A pop-up prompt will appear to sign-in and verify your passkey\"\n        title=\"Requesting Passkey\"\n      />\n    );\n  }\n\n  if (status === \"error\") {\n    return (\n      <>\n        <ErrorState onTryAgain={login} title={error || \"Failed to Login\"} />\n        <Spacer y=\"sm\" />\n        <Button fullWidth onClick={props.onCreate} variant=\"outline\">\n          Create a new Passkey\n        </Button>\n        <Spacer y=\"lg\" />\n      </>\n    );\n  }\n\n  return null;\n}\n\nfunction SignupScreen(props: {\n  wallet: Wallet;\n  done: () => void;\n  client: ThirdwebClient;\n  chain?: Chain;\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain } = props;\n  const [error, setError] = useState<string | undefined>();\n  const [status, setStatus] = useState<\"loading\" | \"error\">(\"loading\");\n  const ecosystem = isEcosystemWallet(wallet)\n    ? {\n        id: wallet.id,\n        partnerId: wallet.getConfig()?.partnerId,\n      }\n    : undefined;\n\n  async function signup() {\n    setStatus(\"loading\");\n    try {\n      if (props.isLinking) {\n        await linkProfile({\n          client,\n          ecosystem,\n          strategy: \"passkey\",\n          type: \"sign-up\",\n        });\n      } else {\n        await wallet.connect({\n          chain,\n          client: client,\n          strategy: \"passkey\",\n          type: \"sign-up\",\n        });\n        await setLastAuthProvider(\"passkey\", webLocalStorage);\n      }\n      done();\n    } catch (e) {\n      console.error(e);\n      if (e instanceof Error) {\n        setError(`Error creating passkey: ${e.message}`);\n      }\n      setStatus(\"error\");\n    }\n  }\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    signup();\n  });\n\n  if (status === \"loading\") {\n    return (\n      <LoadingState\n        icon={<FingerPrintIcon size={iconSize.xxl} />}\n        subtitle=\"A pop-up prompt will appear to sign-in and verify your passkey\"\n        title=\"Creating Passkey\"\n      />\n    );\n  }\n\n  if (status === \"error\") {\n    return (\n      <>\n        <ErrorState\n          onTryAgain={signup}\n          title={error || \"Failed to create passkey\"}\n        />\n        <Spacer y=\"lg\" />\n      </>\n    );\n  }\n\n  return null;\n}\n\nfunction SelectLoginMethod(props: {\n  onSignin: () => void;\n  onSignup: () => void;\n}) {\n  return (\n    <Container>\n      <Spacer y=\"xxl\" />\n      <Container center=\"x\" color=\"accentText\" flex=\"row\">\n        <FingerPrintIcon size={iconSize[\"4xl\"]} />\n      </Container>\n      <Spacer y=\"xl\" />\n      <Spacer y=\"xxl\" />\n\n      <Button fullWidth onClick={props.onSignup} variant=\"accent\">\n        Create a Passkey\n      </Button>\n\n      <Spacer y=\"sm\" />\n      <Button fullWidth onClick={props.onSignin} variant=\"outline\">\n        I have a Passkey\n      </Button>\n\n      <Spacer y=\"lg\" />\n    </Container>\n  );\n}\n","import { Suspense, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport { defineChain } from \"../../../../chains/utils.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { getDefaultWallets } from \"../../../../wallets/defaultWallets.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { linkProfile } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport type { EcosystemWalletId } from \"../../../../wallets/wallet-types.js\";\nimport { iconSize } from \"../../../core/design-system/index.js\";\nimport { useAddConnectedWallet } from \"../../../core/hooks/wallets/useAddConnectedWallet.js\";\nimport type { ConnectLocale } from \"../../ui/ConnectWallet/locale/types.js\";\nimport AllWalletsUI from \"../../ui/ConnectWallet/Modal/AllWalletsUI.js\";\nimport { WalletSelector } from \"../../ui/ConnectWallet/WalletSelector.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { WalletImage } from \"../../ui/components/WalletImage.js\";\nimport { ErrorState } from \"../shared/ErrorState.js\";\nimport { LoadingScreen } from \"../shared/LoadingScreen.js\";\nimport { LoadingState } from \"../shared/LoadingState.js\";\nimport type { InAppWalletLocale } from \"../shared/locale/types.js\";\n\nexport function WalletAuth(props: {\n  wallet: Wallet<\"inApp\" | EcosystemWalletId>;\n  chain: Chain | undefined;\n  client: ThirdwebClient;\n  done: () => void;\n  size: \"compact\" | \"wide\";\n  locale: ConnectLocale;\n  inAppLocale: InAppWalletLocale;\n  onBack: () => void;\n  walletConnect: { projectId?: string } | undefined;\n  isLinking: boolean;\n  meta?: {\n    title?: string;\n    titleIconUrl?: string;\n    showThirdwebBranding?: boolean;\n    termsOfServiceUrl?: string;\n    privacyPolicyUrl?: string;\n  };\n}) {\n  const { wallet, done } = props;\n  const addConnectedWallet = useAddConnectedWallet();\n  const walletToConnect = useRef<Wallet>(undefined);\n  const [status, setStatus] = useState<\"loading\" | \"error\" | \"selecting\">(\n    \"selecting\",\n  );\n  const [error, setError] = useState<string | undefined>();\n  const [showAll, setShowAll] = useState<boolean>(false);\n  const ecosystem = isEcosystemWallet(wallet)\n    ? {\n        id: wallet.id,\n        partnerId: wallet.getConfig()?.partnerId,\n      }\n    : undefined;\n\n  const back = () => {\n    setStatus(\"selecting\");\n    walletToConnect.current = undefined;\n    props.onBack();\n  };\n\n  async function login(walletToLink: Wallet) {\n    setStatus(\"loading\");\n    setError(undefined);\n    walletToConnect.current = walletToLink;\n    try {\n      if (props.isLinking) {\n        await linkProfile({\n          chain: props.chain || wallet.getChain() || defineChain(1),\n          client: props.client,\n          ecosystem,\n          strategy: \"wallet\",\n          wallet: walletToLink,\n        });\n      } else {\n        await wallet.connect({\n          chain: props.chain || walletToLink.getChain() || defineChain(1),\n          client: props.client,\n          strategy: \"wallet\",\n          wallet: walletToLink,\n        });\n      }\n      addConnectedWallet(walletToLink);\n      done();\n    } catch (e) {\n      setError(e instanceof Error ? e.message : \"Unknown error\");\n      setStatus(\"error\");\n    }\n  }\n\n  if (!walletToConnect.current) {\n    if (showAll) {\n      return (\n        <Suspense fallback={<LoadingScreen />}>\n          <AllWalletsUI\n            client={props.client}\n            connectLocale={props.locale}\n            disableSelectionDataReset={true}\n            onBack={() => setShowAll(false)}\n            onSelect={async (newWallet) => {\n              login(newWallet);\n              setShowAll(false);\n            }}\n            recommendedWallets={undefined}\n            size={props.size}\n          />\n        </Suspense>\n      );\n    }\n    return (\n      <WalletSelector\n        chain={wallet.getChain()}\n        chains={[]}\n        client={props.client}\n        connectLocale={props.locale}\n        disableSelectionDataReset={true}\n        done={() => {}}\n        goBack={back}\n        hideHeader={false}\n        meta={props.meta || {}}\n        modalHeader={{\n          onBack: back,\n          title: props.isLinking\n            ? props.inAppLocale.linkWallet\n            : props.inAppLocale.signInWithWallet,\n        }}\n        onShowAll={() => {\n          setShowAll(true);\n        }}\n        recommendedWallets={undefined}\n        selectWallet={async (newWallet) => {\n          login(newWallet);\n        }}\n        setModalVisibility={() => {}}\n        showAllWallets={true}\n        size={props.size}\n        title={props.locale.connectAWallet}\n        walletConnect={props.walletConnect}\n        walletIdsToHide={[\"inApp\"]}\n        wallets={getDefaultWallets()}\n      />\n    );\n  }\n\n  return (\n    <Container animate=\"fadein\" flex=\"column\" fullHeight>\n      <Container p=\"lg\">\n        <ModalHeader\n          onBack={back}\n          title={\n            props.isLinking\n              ? props.inAppLocale.linkWallet\n              : props.inAppLocale.signInWithWallet\n          }\n        />\n      </Container>\n\n      <Container\n        center=\"y\"\n        expand\n        flex=\"column\"\n        px={props.size === \"wide\" ? \"xxl\" : \"lg\"}\n      >\n        <div>\n          {status === \"error\" ? (\n            <>\n              <ErrorState\n                onTryAgain={() => {\n                  if (!walletToConnect.current) {\n                    throw new Error(\"Failed to connect to unknown wallet\");\n                  }\n                  login(walletToConnect.current);\n                }}\n                title={error || \"Failed to Login\"}\n              />\n              <Spacer y=\"lg\" />\n            </>\n          ) : (\n            <LoadingState\n              icon={\n                <WalletImage\n                  client={props.client}\n                  id={walletToConnect.current.id ?? \"\"}\n                  size={iconSize.xl}\n                />\n              }\n              subtitle=\"A pop-up prompt will appear to sign-in and verify your wallet\"\n              title=\"Sign in with your wallet\"\n            />\n          )}\n        </div>\n      </Container>\n    </Container>\n  );\n}\n","\"use client\";\n\nimport { useConnectionManagerCtx } from \"../../providers/connection-manager.js\";\n\n/**\n * A hook to add a connected wallet without setting the active wallet.\n * @returns A function that lets you add a connected wallet.\n * @example\n * ```jsx\n * import { useAddConnectedWallet } from \"thirdweb/react\";\n *\n * const addConnectedWallet = useAddConnectedWallet();\n *\n * // later in your code\n * await addConnectedWallet(wallet);\n * ```\n * @walletConnection\n */\nexport function useAddConnectedWallet() {\n  const manager = useConnectionManagerCtx(\"useAddConnectedWallet\");\n  return manager.addConnectedWallet;\n}\n","import type { ReactNode } from \"react\";\nimport { Container } from \"../../ui/components/basic.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Text } from \"../../ui/components/text.js\";\n\nexport function LoadingState(props: {\n  title: string;\n  subtitle: string;\n  icon: ReactNode;\n}) {\n  return (\n    <Container animate=\"fadein\">\n      <Spacer y=\"xxl\" />\n      <Container\n        center=\"x\"\n        flex=\"row\"\n        style={{\n          position: \"relative\",\n        }}\n      >\n        <Spinner color=\"accentText\" size=\"4xl\" />\n        <Container\n          color=\"accentText\"\n          style={{\n            left: \"50%\",\n            position: \"absolute\",\n            top: \"50%\",\n            transform: \"translate(-50%, -50%)\",\n          }}\n        >\n          {props.icon}\n        </Container>\n      </Container>\n      <Spacer y=\"xl\" />\n      <Text center color=\"primaryText\" size=\"lg\">\n        {props.title}\n      </Text>\n      <Spacer y=\"md\" />\n      <Text center multiline>\n        {props.subtitle}\n      </Text>\n      <Spacer y=\"xxl\" />\n      <Spacer y=\"xxl\" />\n    </Container>\n  );\n}\n","\"use client\";\nimport { useEffect, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport type { InAppWalletSocialAuth } from \"../../../../wallets/in-app/core/wallet/types.js\";\nimport { linkProfile } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport { loginWithOauthRedirect } from \"../../../../wallets/in-app/web/lib/auth/oauth.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport type { ConnectLocale } from \"../../ui/ConnectWallet/locale/types.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Text } from \"../../ui/components/text.js\";\nimport type { ConnectWalletSelectUIState } from \"./ConnectWalletSocialOptions.js\";\nimport type { InAppWalletLocale } from \"./locale/types.js\";\nimport { openOauthSignInWindow } from \"./oauthSignIn.js\";\n\n/**\n * @internal\n */\nexport function SocialLogin(props: {\n  socialAuth: InAppWalletSocialAuth;\n  locale: InAppWalletLocale;\n  wallet: Wallet;\n  done: () => void;\n  goBack?: () => void;\n  state: ConnectWalletSelectUIState;\n  size: \"compact\" | \"wide\";\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  connectLocale: ConnectLocale;\n  isLinking?: boolean;\n}) {\n  const ewLocale = props.locale;\n  const locale = ewLocale.socialLoginScreen;\n  const themeObj = useCustomTheme();\n  const ecosystem = isEcosystemWallet(props.wallet)\n    ? {\n        id: props.wallet.id,\n        partnerId: props.wallet.getConfig()?.partnerId,\n      }\n    : undefined;\n\n  const [authError, setAuthError] = useState<string | undefined>(undefined);\n  const { done, wallet } = props;\n  const [status, setStatus] = useState<\"connecting\" | \"connected\" | \"error\">(\n    \"connecting\",\n  );\n\n  const handleSocialLogin = async () => {\n    const walletConfig = wallet.getConfig();\n    const authMode =\n      walletConfig && \"auth\" in walletConfig\n        ? (walletConfig?.auth?.mode ?? \"popup\")\n        : \"popup\";\n\n    if (\n      walletConfig &&\n      \"auth\" in walletConfig &&\n      authMode !== \"popup\" &&\n      !props.isLinking // Redirect not supported for account linking (we need to maintain the aplication state)\n    ) {\n      return loginWithOauthRedirect({\n        authOption: props.socialAuth,\n        client: props.client,\n        ecosystem,\n        mode: walletConfig?.auth?.mode,\n        redirectUrl: walletConfig?.auth?.redirectUrl,\n      });\n    }\n\n    try {\n      const socialWindow = openOauthSignInWindow({\n        authOption: props.socialAuth,\n        client: props.client,\n        ecosystem,\n        themeObj,\n      });\n\n      if (!socialWindow) {\n        throw new Error(`Failed to open ${props.socialAuth} login window`);\n      }\n\n      setStatus(\"connecting\");\n      if (props.isLinking) {\n        await linkProfile({\n          client: props.client,\n          closeOpenedWindow: (openedWindow) => {\n            openedWindow.close();\n          },\n          ecosystem,\n          openedWindow: socialWindow,\n          strategy: props.socialAuth,\n        }).catch((e) => {\n          setAuthError(e.message);\n          throw e;\n        });\n      } else {\n        await wallet.connect({\n          chain: props.chain,\n          client: props.client,\n          closeOpenedWindow: (openedWindow) => {\n            openedWindow.close();\n          },\n          openedWindow: socialWindow,\n          strategy: props.socialAuth,\n        });\n      }\n\n      await setLastAuthProvider(props.socialAuth, webLocalStorage);\n      setStatus(\"connected\");\n      done();\n    } catch (e) {\n      setStatus(\"error\");\n      // TODO this only happens on 'retry' button click, not on initial login\n      // should pass auth error message to this component\n      if (\n        e instanceof Error &&\n        e?.message?.includes(\"PAYMENT_METHOD_REQUIRED\")\n      ) {\n        setAuthError(ewLocale.maxAccountsExceeded);\n      }\n      console.error(`Error signing in with ${props.socialAuth}`, e);\n    }\n  };\n\n  // const { setModalVisibility } = props.connectUIProps.screenConfig;\n  const socialLogin = props.state?.socialLogin;\n\n  const socialLoginStarted = useRef(false);\n  useEffect(() => {\n    if (socialLoginStarted.current) {\n      return;\n    }\n\n    if (socialLogin) {\n      socialLoginStarted.current = true;\n      setStatus(\"connecting\");\n      socialLogin.connectionPromise\n        .then(() => {\n          done();\n          setStatus(\"connected\");\n        })\n        .catch((e) => {\n          setAuthError(e.message);\n          setStatus(\"error\");\n        });\n    }\n  }, [done, socialLogin]);\n\n  return (\n    <Container\n      animate=\"fadein\"\n      flex=\"column\"\n      fullHeight\n      className=\"tw-social-login-screen\"\n    >\n      <Container\n        expand\n        flex=\"column\"\n        p=\"lg\"\n        style={{\n          paddingBottom: 0,\n        }}\n      >\n        {props.goBack && (\n          <ModalHeader\n            onBack={props.goBack}\n            title={\n              props.isLinking\n                ? props.connectLocale.manageWallet.linkProfile\n                : locale.title\n            }\n          />\n        )}\n\n        {props.size === \"compact\" ? <Spacer y=\"xl\" /> : null}\n\n        <Container\n          center=\"both\"\n          expand\n          flex=\"column\"\n          style={{\n            minHeight: \"250px\",\n            textAlign: \"center\",\n          }}\n        >\n          {status !== \"error\" && (\n            <Container animate=\"fadein\">\n              <Text\n                center\n                color=\"primaryText\"\n                multiline\n                style={{\n                  maxWidth: \"250px\",\n                }}\n              >\n                {locale.instruction}\n              </Text>\n              <Spacer y=\"xl\" />\n              <Container center=\"x\" flex=\"row\">\n                <Spinner color=\"accentText\" size=\"lg\" />\n              </Container>\n\n              <Spacer y=\"xxl\" />\n            </Container>\n          )}\n\n          {status === \"error\" && (\n            <Container animate=\"fadein\">\n              {authError ? (\n                <Text center color=\"danger\">\n                  {authError}\n                </Text>\n              ) : (\n                <Text color=\"danger\">{locale.failed}</Text>\n              )}\n              <Spacer y=\"lg\" />\n              <Button onClick={handleSocialLogin} variant=\"primary\">\n                {locale.retry}\n              </Button>\n              <Spacer y=\"xxl\" />\n            </Container>\n          )}\n        </Container>\n      </Container>\n    </Container>\n  );\n}\n","\"use client\";\nimport { useEffect, useRef, useState } from \"react\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport type { ConnectLocale } from \"../../ui/ConnectWallet/locale/types.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Text } from \"../../ui/components/text.js\";\nimport type { ConnectWalletSelectUIState } from \"./ConnectWalletSocialOptions.js\";\nimport type { InAppWalletLocale } from \"./locale/types.js\";\n\n/**\n * @internal\n */\nexport function GuestLogin(props: {\n  locale: InAppWalletLocale;\n  wallet: Wallet;\n  done: () => void;\n  goBack?: () => void;\n  state: ConnectWalletSelectUIState;\n  size: \"compact\" | \"wide\";\n  client: ThirdwebClient;\n  connectLocale: ConnectLocale;\n}) {\n  const ewLocale = props.locale;\n  const locale = ewLocale.socialLoginScreen;\n\n  const [authError, setAuthError] = useState<string | undefined>(undefined);\n  const { done, wallet } = props;\n  const [status, setStatus] = useState<\"connecting\" | \"connected\" | \"error\">(\n    \"connecting\",\n  );\n\n  const handleGuestLogin = async () => {\n    const connectOptions = {\n      client: props.client,\n      ecosystem: isEcosystemWallet(wallet)\n        ? {\n            id: wallet.id,\n            partnerId: wallet.getConfig()?.partnerId,\n          }\n        : undefined,\n      strategy: \"guest\" as const,\n    };\n    try {\n      await wallet.connect(connectOptions);\n      await setLastAuthProvider(\"guest\", webLocalStorage);\n\n      setStatus(\"connected\");\n      done();\n    } catch (e) {\n      setStatus(\"error\");\n      // TODO this only happens on 'retry' button click, not on initial login\n      // should pass auth error message to this component\n      if (\n        e instanceof Error &&\n        e?.message?.includes(\"PAYMENT_METHOD_REQUIRED\")\n      ) {\n        setAuthError(ewLocale.maxAccountsExceeded);\n      }\n      console.error(\"Error generating guest account\", e);\n    }\n  };\n\n  const guestLogin = props.state?.guestLogin;\n\n  const socialLoginStarted = useRef(false);\n  useEffect(() => {\n    if (socialLoginStarted.current) {\n      return;\n    }\n\n    if (guestLogin) {\n      socialLoginStarted.current = true;\n      setStatus(\"connecting\");\n      guestLogin.connectionPromise\n        .then(() => {\n          done();\n          setStatus(\"connected\");\n        })\n        .catch((e) => {\n          setAuthError(e.message);\n          setStatus(\"error\");\n        });\n    }\n  }, [done, guestLogin]);\n\n  return (\n    <Container\n      animate=\"fadein\"\n      flex=\"column\"\n      fullHeight\n      className=\"tw-guest-login-screen\"\n    >\n      <Container\n        expand\n        flex=\"column\"\n        p=\"lg\"\n        style={{\n          paddingBottom: 0,\n        }}\n      >\n        {props.goBack && (\n          <ModalHeader onBack={props.goBack} title={locale.title} />\n        )}\n\n        {props.size === \"compact\" ? <Spacer y=\"xl\" /> : null}\n\n        <Container\n          center=\"both\"\n          expand\n          flex=\"column\"\n          style={{\n            minHeight: \"250px\",\n            textAlign: \"center\",\n          }}\n        >\n          {status !== \"error\" && (\n            <Container animate=\"fadein\">\n              <Text\n                center\n                color=\"primaryText\"\n                multiline\n                style={{\n                  maxWidth: \"250px\",\n                }}\n              >\n                Generating your guest account\n              </Text>\n              <Spacer y=\"xl\" />\n              <Container center=\"x\" flex=\"row\">\n                <Spinner color=\"accentText\" size=\"lg\" />\n              </Container>\n\n              <Spacer y=\"xxl\" />\n            </Container>\n          )}\n\n          {status === \"error\" && (\n            <Container animate=\"fadein\">\n              {authError ? (\n                <Text center color=\"danger\">\n                  {authError}\n                </Text>\n              ) : (\n                <Text color=\"danger\">{locale.failed}</Text>\n              )}\n              <Spacer y=\"lg\" />\n              <Button onClick={handleGuestLogin} variant=\"primary\">\n                {locale.retry}\n              </Button>\n              <Spacer y=\"xxl\" />\n            </Container>\n          )}\n        </Container>\n      </Container>\n    </Container>\n  );\n}\n","import { iconSize } from \"../../../../react/core/design-system/index.js\";\nimport { AccentFailIcon } from \"../../ui/ConnectWallet/icons/AccentFailIcon.js\";\nimport { Container } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Text } from \"../../ui/components/text.js\";\n\nexport function ErrorState(props: { onTryAgain: () => void; title: string }) {\n  return (\n    <Container animate=\"fadein\">\n      <Spacer y=\"xxl\" />\n      <Container center=\"x\" flex=\"row\">\n        <AccentFailIcon size={iconSize[\"3xl\"]} />\n      </Container>\n      <Spacer y=\"lg\" />\n      <Text center color=\"primaryText\" size=\"md\">\n        {props.title}\n      </Text>\n      <Spacer y=\"xl\" />\n      <Spacer y=\"xxl\" />\n      <Button fullWidth onClick={props.onTryAgain} variant=\"accent\">\n        Try Again\n      </Button>\n    </Container>\n  );\n}\n","import { fadeInAnimation } from \"../design-system/animations.js\";\nimport { StyledDiv } from \"../design-system/elements.js\";\n\nexport const FadeIn = /* @__PURE__ */ StyledDiv({\n  animation: `${fadeInAnimation} 0.15s ease-in`,\n});\n","import * as React from 'react'\nimport { OTPInputProps } from './types'\n\nconst PWM_BADGE_MARGIN_RIGHT = 18\nconst PWM_BADGE_SPACE_WIDTH_PX = 40\nconst PWM_BADGE_SPACE_WIDTH = `${PWM_BADGE_SPACE_WIDTH_PX}px` as const\n\nconst PASSWORD_MANAGERS_SELECTORS = [\n  '[data-lastpass-icon-root]', // LastPass\n  'com-1password-button', // 1Password\n  '[data-dashlanecreated]', // Dashlane\n  '[style$=\"2147483647 !important;\"]', // Bitwarden\n].join(',')\n\nexport function usePasswordManagerBadge({\n  containerRef,\n  inputRef,\n  pushPasswordManagerStrategy,\n  isFocused,\n}: {\n  containerRef: React.RefObject<HTMLDivElement>\n  inputRef: React.RefObject<HTMLInputElement>\n  pushPasswordManagerStrategy: OTPInputProps['pushPasswordManagerStrategy']\n  isFocused: boolean\n}) {\n  /** Password managers have a badge\n   *  and I'll use this state to push them\n   *  outside the input */\n  const [hasPWMBadge, setHasPWMBadge] = React.useState(false)\n  const [hasPWMBadgeSpace, setHasPWMBadgeSpace] = React.useState(false)\n  const [done, setDone] = React.useState(false)\n\n  const willPushPWMBadge = React.useMemo(() => {\n    if (pushPasswordManagerStrategy === 'none') {\n      return false\n    }\n\n    const increaseWidthCase =\n      (pushPasswordManagerStrategy === 'increase-width' ||\n        // TODO: remove 'experimental-no-flickering' support in 2.0.0\n        pushPasswordManagerStrategy === 'experimental-no-flickering') &&\n      hasPWMBadge &&\n      hasPWMBadgeSpace\n\n    return increaseWidthCase\n  }, [hasPWMBadge, hasPWMBadgeSpace, pushPasswordManagerStrategy])\n\n  const trackPWMBadge = React.useCallback(() => {\n    const container = containerRef.current\n    const input = inputRef.current\n    if (\n      !container ||\n      !input ||\n      done ||\n      pushPasswordManagerStrategy === 'none'\n    ) {\n      return\n    }\n\n    const elementToCompare = container\n\n    // Get the top right-center point of the container.\n    // That is usually where most password managers place their badge.\n    const rightCornerX =\n      elementToCompare.getBoundingClientRect().left +\n      elementToCompare.offsetWidth\n    const centereredY =\n      elementToCompare.getBoundingClientRect().top +\n      elementToCompare.offsetHeight / 2\n    const x = rightCornerX - PWM_BADGE_MARGIN_RIGHT\n    const y = centereredY\n\n    // Do an extra search to check for famous password managers\n    const pmws = document.querySelectorAll(PASSWORD_MANAGERS_SELECTORS)\n\n    // If no password manager is automatically detect,\n    // we'll try to dispatch document.elementFromPoint\n    // to identify badges\n    if (pmws.length === 0) {\n      const maybeBadgeEl = document.elementFromPoint(x, y)\n\n      // If the found element is the input itself,\n      // then we assume it's not a password manager badge.\n      // We are not sure. Most times that means there isn't a badge.\n      if (maybeBadgeEl === container) {\n        return\n      }\n    }\n\n    setHasPWMBadge(true)\n    setDone(true)\n  }, [containerRef, inputRef, done, pushPasswordManagerStrategy])\n\n  React.useEffect(() => {\n    const container = containerRef.current\n    if (!container || pushPasswordManagerStrategy === 'none') {\n      return\n    }\n\n    // Check if the PWM area is 100% visible\n    function checkHasSpace() {\n      const viewportWidth = window.innerWidth\n      const distanceToRightEdge =\n        viewportWidth - container.getBoundingClientRect().right\n      setHasPWMBadgeSpace(distanceToRightEdge >= PWM_BADGE_SPACE_WIDTH_PX)\n    }\n\n    checkHasSpace()\n    const interval = setInterval(checkHasSpace, 1000)\n\n    return () => {\n      clearInterval(interval)\n    }\n  }, [containerRef, pushPasswordManagerStrategy])\n\n  React.useEffect(() => {\n    const _isFocused = isFocused || document.activeElement === inputRef.current\n\n    if (pushPasswordManagerStrategy === 'none' || !_isFocused) {\n      return\n    }\n    const t1 = setTimeout(trackPWMBadge, 0)\n    const t2 = setTimeout(trackPWMBadge, 2000)\n    const t3 = setTimeout(trackPWMBadge, 5000)\n    const t4 = setTimeout(() => {\n      setDone(true)\n    }, 6000)\n    return () => {\n      clearTimeout(t1)\n      clearTimeout(t2)\n      clearTimeout(t3)\n      clearTimeout(t4)\n    }\n  }, [inputRef, isFocused, pushPasswordManagerStrategy, trackPWMBadge])\n\n  return { hasPWMBadge, willPushPWMBadge, PWM_BADGE_SPACE_WIDTH }\n}\n","'use client'\n\nimport * as React from 'react'\n\nimport { syncTimeouts } from './sync-timeouts'\nimport { OTPInputProps, RenderProps } from './types'\nimport { usePrevious } from './use-previous'\nimport { usePasswordManagerBadge } from './use-pwm-badge'\n\nexport const OTPInputContext = React.createContext<RenderProps>(\n  {} as RenderProps,\n)\n\nexport const OTPInput = React.forwardRef<HTMLInputElement, OTPInputProps>(\n  (\n    {\n      value: uncheckedValue,\n      onChange: uncheckedOnChange,\n      maxLength,\n      textAlign = 'left',\n      pattern,\n      placeholder,\n      inputMode = 'numeric',\n      onComplete,\n      pushPasswordManagerStrategy = 'increase-width',\n      pasteTransformer,\n      containerClassName,\n      noScriptCSSFallback = NOSCRIPT_CSS_FALLBACK,\n\n      render,\n      children,\n\n      ...props\n    },\n    ref,\n  ) => {\n    // Only used when `value` state is not provided\n    const [internalValue, setInternalValue] = React.useState(\n      typeof props.defaultValue === 'string' ? props.defaultValue : '',\n    )\n\n    // Definitions\n    const value = uncheckedValue ?? internalValue\n    const previousValue = usePrevious(value)\n    const onChange = React.useCallback(\n      (newValue: string) => {\n        uncheckedOnChange?.(newValue)\n        setInternalValue(newValue)\n      },\n      [uncheckedOnChange],\n    )\n    const regexp = React.useMemo(\n      () =>\n        pattern\n          ? typeof pattern === 'string'\n            ? new RegExp(pattern)\n            : pattern\n          : null,\n      [pattern],\n    )\n\n    /** useRef */\n    const inputRef = React.useRef<HTMLInputElement>(null)\n    const containerRef = React.useRef<HTMLDivElement>(null)\n    const initialLoadRef = React.useRef({\n      value,\n      onChange,\n      isIOS:\n        typeof window !== 'undefined' &&\n        window?.CSS?.supports?.('-webkit-touch-callout', 'none'),\n    })\n    const inputMetadataRef = React.useRef<{\n      prev: [number | null, number | null, 'none' | 'forward' | 'backward']\n    }>({\n      prev: [\n        inputRef.current?.selectionStart,\n        inputRef.current?.selectionEnd,\n        inputRef.current?.selectionDirection,\n      ],\n    })\n    React.useImperativeHandle(ref, () => inputRef.current, [])\n    React.useEffect(() => {\n      const input = inputRef.current\n      const container = containerRef.current\n\n      if (!input || !container) {\n        return\n      }\n\n      // Sync input value\n      if (initialLoadRef.current.value !== input.value) {\n        initialLoadRef.current.onChange(input.value)\n      }\n\n      // Previous selection\n      inputMetadataRef.current.prev = [\n        input.selectionStart,\n        input.selectionEnd,\n        input.selectionDirection,\n      ]\n      function onDocumentSelectionChange() {\n        if (document.activeElement !== input) {\n          setMirrorSelectionStart(null)\n          setMirrorSelectionEnd(null)\n          return\n        }\n\n        // Aliases\n        const _s = input.selectionStart\n        const _e = input.selectionEnd\n        const _dir = input.selectionDirection\n        const _ml = input.maxLength\n        const _val = input.value\n        const _prev = inputMetadataRef.current.prev\n\n        // Algorithm\n        let start = -1\n        let end = -1\n        let direction: 'forward' | 'backward' | 'none' = undefined\n        if (_val.length !== 0 && _s !== null && _e !== null) {\n          const isSingleCaret = _s === _e\n          const isInsertMode = _s === _val.length && _val.length < _ml\n\n          if (isSingleCaret && !isInsertMode) {\n            const c = _s\n            if (c === 0) {\n              start = 0\n              end = 1\n              direction = 'forward'\n            } else if (c === _ml) {\n              start = c - 1\n              end = c\n              direction = 'backward'\n            } else if (_ml > 1 && _val.length > 1) {\n              let offset = 0\n              if (_prev[0] !== null && _prev[1] !== null) {\n                direction = c < _prev[1] ? 'backward' : 'forward'\n                const wasPreviouslyInserting =\n                  _prev[0] === _prev[1] && _prev[0] < _ml\n                if (direction === 'backward' && !wasPreviouslyInserting) {\n                  offset = -1\n                }\n              }\n\n              start = offset + c\n              end = offset + c + 1\n            }\n          }\n\n          if (start !== -1 && end !== -1 && start !== end) {\n            inputRef.current.setSelectionRange(start, end, direction)\n          }\n        }\n\n        // Finally, update the state\n        const s = start !== -1 ? start : _s\n        const e = end !== -1 ? end : _e\n        const dir = direction ?? _dir\n        setMirrorSelectionStart(s)\n        setMirrorSelectionEnd(e)\n        // Store the previous selection value\n        inputMetadataRef.current.prev = [s, e, dir]\n      }\n      document.addEventListener('selectionchange', onDocumentSelectionChange, {\n        capture: true,\n      })\n\n      // Set initial mirror state\n      onDocumentSelectionChange()\n      document.activeElement === input && setIsFocused(true)\n\n      // Apply needed styles\n      if (!document.getElementById('input-otp-style')) {\n        const styleEl = document.createElement('style')\n        styleEl.id = 'input-otp-style'\n        document.head.appendChild(styleEl)\n\n        if (styleEl.sheet) {\n          const autofillStyles =\n            'background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;'\n\n          safeInsertRule(\n            styleEl.sheet,\n            '[data-input-otp]::selection { background: transparent !important; color: transparent !important; }',\n          )\n          safeInsertRule(\n            styleEl.sheet,\n            `[data-input-otp]:autofill { ${autofillStyles} }`,\n          )\n          safeInsertRule(\n            styleEl.sheet,\n            `[data-input-otp]:-webkit-autofill { ${autofillStyles} }`,\n          )\n          // iOS\n          safeInsertRule(\n            styleEl.sheet,\n            `@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }`,\n          )\n          // PWM badges\n          safeInsertRule(\n            styleEl.sheet,\n            `[data-input-otp] + * { pointer-events: all !important; }`,\n          )\n        }\n      }\n      // Track root height\n      const updateRootHeight = () => {\n        if (container) {\n          container.style.setProperty(\n            '--root-height',\n            `${input.clientHeight}px`,\n          )\n        }\n      }\n      updateRootHeight()\n      const resizeObserver = new ResizeObserver(updateRootHeight)\n      resizeObserver.observe(input)\n\n      return () => {\n        document.removeEventListener(\n          'selectionchange',\n          onDocumentSelectionChange,\n          { capture: true },\n        )\n        resizeObserver.disconnect()\n      }\n    }, [])\n\n    /** Mirrors for UI rendering purpose only */\n    const [isHoveringInput, setIsHoveringInput] = React.useState(false)\n    const [isFocused, setIsFocused] = React.useState(false)\n    const [mirrorSelectionStart, setMirrorSelectionStart] = React.useState<\n      number | null\n    >(null)\n    const [mirrorSelectionEnd, setMirrorSelectionEnd] = React.useState<\n      number | null\n    >(null)\n\n    /** Effects */\n    React.useEffect(() => {\n      syncTimeouts(() => {\n        // Forcefully remove :autofill state\n        inputRef.current?.dispatchEvent(new Event('input'))\n\n        // Update the selection state\n        const s = inputRef.current?.selectionStart\n        const e = inputRef.current?.selectionEnd\n        const dir = inputRef.current?.selectionDirection\n        if (s !== null && e !== null) {\n          setMirrorSelectionStart(s)\n          setMirrorSelectionEnd(e)\n          inputMetadataRef.current.prev = [s, e, dir]\n        }\n      })\n    }, [value, isFocused])\n\n    React.useEffect(() => {\n      if (previousValue === undefined) {\n        return\n      }\n\n      if (\n        value !== previousValue &&\n        previousValue.length < maxLength &&\n        value.length === maxLength\n      ) {\n        onComplete?.(value)\n      }\n    }, [maxLength, onComplete, previousValue, value])\n\n    const pwmb = usePasswordManagerBadge({\n      containerRef,\n      inputRef,\n      pushPasswordManagerStrategy,\n      isFocused,\n    })\n\n    /** Event handlers */\n    const _changeListener = React.useCallback(\n      (e: React.ChangeEvent<HTMLInputElement>) => {\n        const newValue = e.currentTarget.value.slice(0, maxLength)\n        if (newValue.length > 0 && regexp && !regexp.test(newValue)) {\n          e.preventDefault()\n          return\n        }\n        const maybeHasDeleted =\n          typeof previousValue === 'string' &&\n          newValue.length < previousValue.length\n        if (maybeHasDeleted) {\n          // Since cutting/deleting text doesn't trigger\n          // selectionchange event, we'll have to dispatch it manually.\n          // NOTE: The following line also triggers when cmd+A then pasting\n          // a value with smaller length, which is not ideal for performance.\n          document.dispatchEvent(new Event('selectionchange'))\n        }\n        onChange(newValue)\n      },\n      [maxLength, onChange, previousValue, regexp],\n    )\n    const _focusListener = React.useCallback(() => {\n      if (inputRef.current) {\n        const start = Math.min(inputRef.current.value.length, maxLength - 1)\n        const end = inputRef.current.value.length\n        inputRef.current?.setSelectionRange(start, end)\n        setMirrorSelectionStart(start)\n        setMirrorSelectionEnd(end)\n      }\n      setIsFocused(true)\n    }, [maxLength])\n    // Fix iOS pasting\n    const _pasteListener = React.useCallback(\n      (e: React.ClipboardEvent<HTMLInputElement>) => {\n        const input = inputRef.current\n        if (!pasteTransformer && (!initialLoadRef.current.isIOS || !e.clipboardData || !input)) {\n          return\n        }\n        \n        const _content = e.clipboardData.getData('text/plain')\n        const content = pasteTransformer\n          ? pasteTransformer(_content)\n          : _content\n        e.preventDefault()\n\n        const start = inputRef.current?.selectionStart\n        const end = inputRef.current?.selectionEnd\n\n        const isReplacing = start !== end\n\n        const newValueUncapped = isReplacing\n          ? value.slice(0, start) + content + value.slice(end) // Replacing\n          : value.slice(0, start) + content + value.slice(start) // Inserting\n        const newValue = newValueUncapped.slice(0, maxLength)\n\n        if (newValue.length > 0 && regexp && !regexp.test(newValue)) {\n          return\n        }\n\n        input.value = newValue\n        onChange(newValue)\n\n        const _start = Math.min(newValue.length, maxLength - 1)\n        const _end = newValue.length\n\n        input.setSelectionRange(_start, _end)\n        setMirrorSelectionStart(_start)\n        setMirrorSelectionEnd(_end)\n      },\n      [maxLength, onChange, regexp, value],\n    )\n\n    /** Styles */\n    const rootStyle = React.useMemo<React.CSSProperties>(\n      () => ({\n        position: 'relative',\n        cursor: props.disabled ? 'default' : 'text',\n        userSelect: 'none',\n        WebkitUserSelect: 'none',\n        pointerEvents: 'none',\n      }),\n      [props.disabled],\n    )\n\n    const inputStyle = React.useMemo<React.CSSProperties>(\n      () => ({\n        position: 'absolute',\n        inset: 0,\n        width: pwmb.willPushPWMBadge\n          ? `calc(100% + ${pwmb.PWM_BADGE_SPACE_WIDTH})`\n          : '100%',\n        clipPath: pwmb.willPushPWMBadge\n          ? `inset(0 ${pwmb.PWM_BADGE_SPACE_WIDTH} 0 0)`\n          : undefined,\n        height: '100%',\n        display: 'flex',\n        textAlign,\n        opacity: '1', // Mandatory for iOS hold-paste\n        color: 'transparent',\n        pointerEvents: 'all',\n        background: 'transparent',\n        caretColor: 'transparent',\n        border: '0 solid transparent',\n        outline: '0 solid transparent',\n        boxShadow: 'none',\n        lineHeight: '1',\n        letterSpacing: '-.5em',\n        fontSize: 'var(--root-height)',\n        fontFamily: 'monospace',\n        fontVariantNumeric: 'tabular-nums',\n        // letterSpacing: '-1em',\n        // transform: 'scale(1.5)',\n        // paddingRight: '100%',\n        // paddingBottom: '100%',\n        // debugging purposes\n        // inset: undefined,\n        // position: undefined,\n        // color: 'black',\n        // background: 'white',\n        // opacity: '1',\n        // caretColor: 'black',\n        // padding: '0',\n        // letterSpacing: 'unset',\n        // fontSize: 'unset',\n        // paddingInline: '.5rem',\n      }),\n      [pwmb.PWM_BADGE_SPACE_WIDTH, pwmb.willPushPWMBadge, textAlign],\n    )\n\n    /** Rendering */\n    const renderedInput = React.useMemo(\n      () => (\n        <input\n          autoComplete={props.autoComplete || 'one-time-code'}\n          {...props}\n          data-input-otp\n          data-input-otp-placeholder-shown={value.length === 0 || undefined}\n          data-input-otp-mss={mirrorSelectionStart}\n          data-input-otp-mse={mirrorSelectionEnd}\n          inputMode={inputMode}\n          pattern={regexp?.source}\n          aria-placeholder={placeholder}\n          style={inputStyle}\n          maxLength={maxLength}\n          value={value}\n          ref={inputRef}\n          onPaste={e => {\n            _pasteListener(e)\n            props.onPaste?.(e)\n          }}\n          onChange={_changeListener}\n          onMouseOver={e => {\n            setIsHoveringInput(true)\n            props.onMouseOver?.(e)\n          }}\n          onMouseLeave={e => {\n            setIsHoveringInput(false)\n            props.onMouseLeave?.(e)\n          }}\n          onFocus={e => {\n            _focusListener()\n            props.onFocus?.(e)\n          }}\n          onBlur={e => {\n            setIsFocused(false)\n            props.onBlur?.(e)\n          }}\n        />\n      ),\n      [\n        _changeListener,\n        _focusListener,\n        _pasteListener,\n        inputMode,\n        inputStyle,\n        maxLength,\n        mirrorSelectionEnd,\n        mirrorSelectionStart,\n        props,\n        regexp?.source,\n        value,\n      ],\n    )\n\n    const contextValue = React.useMemo<RenderProps>(() => {\n      return {\n        slots: Array.from({ length: maxLength }).map((_, slotIdx) => {\n          const isActive =\n            isFocused &&\n            mirrorSelectionStart !== null &&\n            mirrorSelectionEnd !== null &&\n            ((mirrorSelectionStart === mirrorSelectionEnd &&\n              slotIdx === mirrorSelectionStart) ||\n              (slotIdx >= mirrorSelectionStart && slotIdx < mirrorSelectionEnd))\n\n          const char = value[slotIdx] !== undefined ? value[slotIdx] : null\n          const placeholderChar = value[0] !== undefined ? null : placeholder?.[slotIdx] ?? null\n\n          return {\n            char,\n            placeholderChar,\n            isActive,\n            hasFakeCaret: isActive && char === null,\n          }\n        }),\n        isFocused,\n        isHovering: !props.disabled && isHoveringInput,\n      }\n    }, [\n      isFocused,\n      isHoveringInput,\n      maxLength,\n      mirrorSelectionEnd,\n      mirrorSelectionStart,\n      props.disabled,\n      value,\n    ])\n\n    const renderedChildren = React.useMemo(() => {\n      if (render) {\n        return render(contextValue)\n      }\n      return (\n        <OTPInputContext.Provider value={contextValue}>\n          {children}\n        </OTPInputContext.Provider>\n      )\n    }, [children, contextValue, render])\n\n    return (\n      <>\n        {noScriptCSSFallback !== null && (\n          <noscript>\n            <style>{noScriptCSSFallback}</style>\n          </noscript>\n        )}\n\n        <div\n          ref={containerRef}\n          data-input-otp-container\n          style={rootStyle}\n          className={containerClassName}\n        >\n          {renderedChildren}\n\n          <div\n            style={{\n              position: 'absolute',\n              inset: 0,\n              pointerEvents: 'none',\n            }}\n          >\n            {renderedInput}\n          </div>\n        </div>\n      </>\n    )\n  },\n)\nOTPInput.displayName = 'Input'\n\nfunction safeInsertRule(sheet: CSSStyleSheet, rule: string) {\n  try {\n    sheet.insertRule(rule)\n  } catch {\n    console.error('input-otp could not insert CSS rule:', rule)\n  }\n}\n\n// Decided to go with <noscript>\n// instead of `scripting` CSS media query\n// because it's a fallback for initial page load\n// and the <script> tag won't be loaded\n// unless the user has JS disabled.\nconst NOSCRIPT_CSS_FALLBACK = `\n[data-input-otp] {\n  --nojs-bg: white !important;\n  --nojs-fg: black !important;\n\n  background-color: var(--nojs-bg) !important;\n  color: var(--nojs-fg) !important;\n  caret-color: var(--nojs-fg) !important;\n  letter-spacing: .25em !important;\n  text-align: center !important;\n  border: 1px solid var(--nojs-fg) !important;\n  border-radius: 4px !important;\n  width: 100% !important;\n}\n@media (prefers-color-scheme: dark) {\n  [data-input-otp] {\n    --nojs-bg: black !important;\n    --nojs-fg: white !important;\n  }\n}`\n","import * as React from 'react'\n\nexport function usePrevious<T>(value: T) {\n  const ref = React.useRef<T>()\n  React.useEffect(() => {\n    ref.current = value\n  })\n  return ref.current\n}\n","export function syncTimeouts(cb: (...args: any[]) => unknown): number[] {\n  const t1 = setTimeout(cb, 0) // For faster machines\n  const t2 = setTimeout(cb, 1_0)\n  const t3 = setTimeout(cb, 5_0)\n  return [t1, t2, t3]\n}\n","\"use client\";\nimport { keyframes } from \"@emotion/react\";\nimport { OTPInput as InputOTP, type SlotProps } from \"input-otp\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport {\n  fontSize,\n  radius,\n  spacing,\n} from \"../../../core/design-system/index.js\";\nimport { StyledDiv } from \"../design-system/elements.js\";\nimport { Container } from \"./basic.js\";\n\n/**\n * @internal\n */\nexport function OTPInput(props: {\n  digits: number;\n  isInvalid?: boolean;\n  value: string;\n  setValue: (value: string) => void;\n  onEnter: () => void;\n}) {\n  return (\n    <OTPInputContainer className=\"tw-otp-input-container\">\n      <InputOTP\n        maxLength={6}\n        onChange={(newValue) => {\n          props.setValue(newValue);\n        }}\n        onComplete={() => {\n          props.onEnter();\n        }}\n        render={({ slots }) => (\n          <Container center=\"both\" flex=\"row\" gap=\"xs\">\n            {slots.map((slot, idx) => (\n              // biome-ignore lint/suspicious/noArrayIndexKey: index is the only valid key here\n              <Slot key={idx} {...slot} isInvalid={props.isInvalid} />\n            ))}\n          </Container>\n        )}\n        value={props.value}\n      />\n    </OTPInputContainer>\n  );\n}\n\nconst OTPInputContainer = /* @__PURE__ */ StyledDiv({\n  \"& input\": {\n    maxWidth: \"100%\",\n  },\n});\n\nfunction Slot(props: SlotProps & { isInvalid?: boolean }) {\n  return (\n    <OTPInputBox data-active={props.isActive} data-error={props.isInvalid}>\n      {props.char !== null && <div>{props.char}</div>}\n      {props.hasFakeCaret && <FakeCaret />}\n    </OTPInputBox>\n  );\n}\n\nconst caretBlink = keyframes`\n  0%, 100% {\n    opacity: 0;\n  },\n  50% {\n    opacity: 1;\n  }\n  `;\n\nconst FakeCaret = StyledDiv((_) => {\n  const theme = useCustomTheme();\n  return {\n    \"&::before\": {\n      backgroundColor: theme.colors.primaryText,\n      content: \"''\",\n      display: \"block\",\n      height: \"1em\",\n      width: \"1.5px\",\n    },\n    alignItems: \"center\",\n    animation: `${caretBlink} 1s infinite`,\n    display: \"flex\",\n    inset: 0,\n    justifyContent: \"center\",\n    pointerEvents: \"none\",\n    position: \"absolute\",\n  };\n});\n\nconst OTPInputBox = /* @__PURE__ */ StyledDiv((_) => {\n  const theme = useCustomTheme();\n  return {\n    \"&[data-active='true']\": {\n      borderColor: theme.colors.accentText,\n    },\n    \"&[data-error='true']\": {\n      borderColor: theme.colors.danger,\n    },\n    alignItems: \"center\",\n    border: `2px solid ${theme.colors.borderColor}`,\n    borderRadius: radius.lg,\n    boxSizing: \"border-box\",\n    color: theme.colors.primaryText,\n    display: \"flex\",\n    fontSize: fontSize.md,\n    height: \"40px\",\n    justifyContent: \"center\",\n    padding: spacing.xs,\n    position: \"relative\",\n    textAlign: \"center\",\n    transition: \"color 200ms ease\",\n    width: \"40px\",\n  };\n});\n","\"use client\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport {\n  linkProfile,\n  preAuthenticate,\n} from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { fontSize } from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { Container, Line, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { FadeIn } from \"../../ui/components/FadeIn.js\";\nimport { OTPInput } from \"../../ui/components/OTPInput.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Text } from \"../../ui/components/text.js\";\nimport { StyledButton } from \"../../ui/design-system/elements.js\";\nimport type { InAppWalletLocale } from \"./locale/types.js\";\n\ntype VerificationStatus =\n  | \"verifying\"\n  | \"invalid\"\n  | \"linking_error\"\n  | \"valid\"\n  | \"idle\"\n  | \"payment_required\";\ntype AccountStatus = \"sending\" | \"sent\" | \"error\";\ntype ScreenToShow = \"base\" | \"enter-password-or-recovery-code\";\n\n/**\n * @internal\n */\nexport function OTPLoginUI(props: {\n  userInfo: { email: string } | { phone: string };\n  wallet: Wallet;\n  locale: InAppWalletLocale;\n  done: () => void;\n  goBack?: () => void;\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  size: \"compact\" | \"wide\";\n  isLinking?: boolean;\n}) {\n  const { wallet, done, goBack, userInfo } = props;\n  const isWideModal = props.size === \"wide\";\n  const locale = props.locale;\n  const [otpInput, setOtpInput] = useState(\"\");\n  const [verifyStatus, setVerifyStatus] = useState<VerificationStatus>(\"idle\");\n  const [error, setError] = useState<string | undefined>();\n  const [accountStatus, setAccountStatus] = useState<AccountStatus>(\"sending\");\n  const [countdown, setCountdown] = useState(0);\n  const ecosystem = isEcosystemWallet(wallet)\n    ? {\n        id: wallet.id,\n        partnerId: wallet.getConfig()?.partnerId,\n      }\n    : undefined;\n\n  const [screen] = useState<ScreenToShow>(\"base\");\n\n  const sendEmailOrSms = useCallback(async () => {\n    setOtpInput(\"\");\n    setVerifyStatus(\"idle\");\n    setAccountStatus(\"sending\");\n\n    try {\n      if (\"email\" in userInfo) {\n        await preAuthenticate({\n          client: props.client,\n          ecosystem,\n          email: userInfo.email,\n          strategy: \"email\",\n        });\n        setAccountStatus(\"sent\");\n        setCountdown(60); // Start 60-second countdown\n      } else if (\"phone\" in userInfo) {\n        await preAuthenticate({\n          client: props.client,\n          ecosystem,\n          phoneNumber: userInfo.phone,\n          strategy: \"phone\",\n        });\n        setAccountStatus(\"sent\");\n        setCountdown(60); // Start 60-second countdown\n      } else {\n        throw new Error(\"Invalid userInfo\");\n      }\n    } catch (e) {\n      console.error(e);\n      setVerifyStatus(\"idle\");\n      setAccountStatus(\"error\");\n    }\n  }, [props.client, userInfo, ecosystem]);\n\n  async function connect(otp: string) {\n    if (\"email\" in userInfo) {\n      await wallet.connect({\n        chain: props.chain,\n        client: props.client,\n        email: userInfo.email,\n        strategy: \"email\",\n        verificationCode: otp,\n      });\n      await setLastAuthProvider(\"email\", webLocalStorage);\n    } else if (\"phone\" in userInfo) {\n      await wallet.connect({\n        chain: props.chain,\n        client: props.client,\n        phoneNumber: userInfo.phone,\n        strategy: \"phone\",\n        verificationCode: otp,\n      });\n      await setLastAuthProvider(\"phone\", webLocalStorage);\n    } else {\n      throw new Error(\"Invalid userInfo\");\n    }\n  }\n\n  async function link(otp: string) {\n    if (\"email\" in userInfo) {\n      await linkProfile({\n        client: props.client,\n        ecosystem,\n        email: userInfo.email,\n        strategy: \"email\",\n        verificationCode: otp,\n      });\n    } else if (\"phone\" in userInfo) {\n      await linkProfile({\n        client: props.client,\n        ecosystem,\n        phoneNumber: userInfo.phone,\n        strategy: \"phone\",\n        verificationCode: otp,\n      });\n    }\n  }\n\n  const verify = async (otp: string) => {\n    if (otp.length !== 6) {\n      return;\n    }\n    setVerifyStatus(\"verifying\");\n\n    try {\n      // verifies otp for UI feedback\n      if (props.isLinking) {\n        await link(otp);\n      } else {\n        await connect(otp);\n      }\n      done();\n\n      setVerifyStatus(\"valid\");\n    } catch (e) {\n      // TODO: More robust error handling\n      if (\n        e instanceof Error &&\n        e?.message?.includes(\"PAYMENT_METHOD_REQUIRED\")\n      ) {\n        setVerifyStatus(\"payment_required\");\n      } else if (\n        e instanceof Error &&\n        (e.message.toLowerCase().includes(\"link\") ||\n          e.message.toLowerCase().includes(\"profile\"))\n      ) {\n        setVerifyStatus(\"linking_error\");\n        setError(e.message);\n      } else {\n        setVerifyStatus(\"invalid\");\n      }\n      console.error(\"Authentication Error\", e);\n    }\n  };\n\n  // send email on mount\n  const emailSentOnMount = useRef(false);\n  useEffect(() => {\n    if (!emailSentOnMount.current) {\n      emailSentOnMount.current = true;\n      sendEmailOrSms();\n    }\n  }, [sendEmailOrSms]);\n\n  // Handle countdown timer\n  useEffect(() => {\n    if (countdown <= 0) return;\n\n    const timer = setInterval(() => {\n      setCountdown((current) => {\n        if (current <= 1) {\n          clearInterval(timer);\n          return 0;\n        }\n        return current - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [countdown]);\n\n  if (screen === \"base\") {\n    return (\n      <Container\n        animate=\"fadein\"\n        flex=\"column\"\n        fullHeight\n        className=\"tw-otp-login-screen\"\n      >\n        <Container p=\"lg\">\n          <ModalHeader onBack={goBack} title={locale.signIn} />\n        </Container>\n\n        <Container center=\"y\" expand flex=\"column\">\n          <form\n            onSubmit={(e) => {\n              e.preventDefault();\n            }}\n          >\n            <Container center=\"x\" flex=\"column\" px=\"lg\">\n              {!isWideModal && <Spacer y=\"xl\" />}\n              <Text className=\"tw-screen-title\">\n                {locale.emailLoginScreen.enterCodeSendTo}\n              </Text>\n              <Spacer y=\"sm\" />\n              <Text color=\"primaryText\">\n                {\"email\" in userInfo ? userInfo.email : userInfo.phone}\n              </Text>\n              <Spacer y=\"xl\" />\n            </Container>\n\n            <OTPInput\n              digits={6}\n              isInvalid={verifyStatus === \"invalid\"}\n              onEnter={() => {\n                verify(otpInput);\n              }}\n              setValue={(value) => {\n                setOtpInput(value);\n                setVerifyStatus(\"idle\"); // reset error\n              }}\n              value={otpInput}\n            />\n\n            {verifyStatus === \"invalid\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text\n                  center\n                  color=\"danger\"\n                  size=\"sm\"\n                  className=\"tw-invalid-code-text\"\n                >\n                  {locale.emailLoginScreen.invalidCode}\n                </Text>\n              </FadeIn>\n            )}\n\n            {verifyStatus === \"linking_error\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text\n                  center\n                  color=\"danger\"\n                  size=\"sm\"\n                  className=\"tw-screen-error\"\n                >\n                  {error || \"Failed to verify code\"}\n                </Text>\n              </FadeIn>\n            )}\n\n            {verifyStatus === \"payment_required\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text\n                  center\n                  color=\"danger\"\n                  size=\"sm\"\n                  className=\"tw-screen-error\"\n                >\n                  {locale.maxAccountsExceeded}\n                </Text>\n              </FadeIn>\n            )}\n\n            <Spacer y=\"xl\" />\n\n            <Container px={isWideModal ? \"xxl\" : \"lg\"}>\n              {verifyStatus === \"verifying\" ? (\n                <Container animate=\"fadein\" center=\"x\" flex=\"row\">\n                  <Spinner color=\"accentText\" size=\"lg\" />\n                </Container>\n              ) : (\n                <Container animate=\"fadein\" key=\"btn-container\">\n                  <Button\n                    onClick={() => verify(otpInput)}\n                    style={{\n                      width: \"100%\",\n                    }}\n                    type=\"submit\"\n                    variant=\"accent\"\n                    className=\"tw-verify-button\"\n                  >\n                    {locale.emailLoginScreen.verify}\n                  </Button>\n                </Container>\n              )}\n            </Container>\n\n            <Spacer y=\"xl\" />\n\n            {!isWideModal && <Line />}\n\n            <Container gap=\"xs\" p={isWideModal ? undefined : \"lg\"}>\n              {accountStatus === \"error\" && (\n                <Text\n                  center\n                  color=\"danger\"\n                  size=\"sm\"\n                  className=\"tw-screen-error\"\n                >\n                  {locale.emailLoginScreen.failedToSendCode}\n                </Text>\n              )}\n\n              {accountStatus === \"sending\" && (\n                <Container\n                  center=\"both\"\n                  flex=\"row\"\n                  gap=\"xs\"\n                  style={{\n                    textAlign: \"center\",\n                  }}\n                >\n                  <Text size=\"sm\">{locale.emailLoginScreen.sendingCode}</Text>\n                  <Spinner color=\"secondaryText\" size=\"xs\" />\n                </Container>\n              )}\n\n              {accountStatus !== \"sending\" && (\n                <LinkButton\n                  onClick={countdown === 0 ? sendEmailOrSms : undefined}\n                  style={{\n                    cursor: countdown > 0 ? \"default\" : \"pointer\",\n                    opacity: countdown > 0 ? 0.5 : 1,\n                  }}\n                  className=\"tw-resend-button\"\n                  type=\"button\"\n                >\n                  {countdown > 0\n                    ? `Resend code in ${countdown} seconds`\n                    : locale.emailLoginScreen.resendCode}\n                </LinkButton>\n              )}\n            </Container>\n          </form>\n        </Container>\n      </Container>\n    );\n  }\n\n  return null;\n}\n\nconst LinkButton = /* @__PURE__ */ StyledButton((_) => {\n  const theme = useCustomTheme();\n  return {\n    all: \"unset\",\n    \"&:hover\": {\n      color: theme.colors.primaryText,\n    },\n    color: theme.colors.accentText,\n    cursor: \"pointer\",\n    fontSize: fontSize.sm,\n    fontWeight: 500,\n    textAlign: \"center\",\n    width: \"100%\",\n  };\n});\n"],"names":["PassKeyLogin","props","wallet","done","client","chain","size","locale","screen","setScreen","useState","triggered","useRef","useEffect","current","hasStoredPasskey","isEcosystemWallet","id","undefined","then","isStored","catch","_jsxs","Container","animate","flex","fullHeight","children","_jsx","p","ModalHeader","onBack","title","isLinking","passkeys","linkPasskey","center","expand","px","_Fragment","LoadingScreen","Spacer","y","SelectLoginMethod","onSignin","onSignup","LoginScreen","onCreate","SignupScreen","status","setStatus","error","setError","async","login","linkProfile","strategy","type","e","message","connect","setLastAuthProvider","webLocalStorage","console","LoadingState","icon","FingerPrintIcon","iconSize","xxl","subtitle","ErrorState","onTryAgain","Button","fullWidth","onClick","variant","_wallet$getConfig","ecosystem","partnerId","getConfig","signup","Error","concat","color","WalletAuth","_walletToConnect$curr","addConnectedWallet","useConnectionManagerCtx","walletToConnect","showAll","setShowAll","back","walletToLink","getChain","defineChain","inAppLocale","linkWallet","signInWithWallet","WalletImage","xl","Suspense","fallback","AllWalletsUI","connectLocale","disableSelectionDataReset","onSelect","newWallet","recommendedWallets","WalletSelector","chains","goBack","hideHeader","meta","modalHeader","onShowAll","selectWallet","setModalVisibility","showAllWallets","connectAWallet","walletConnect","walletIdsToHide","wallets","getDefaultWallets","style","position","Spinner","left","top","transform","Text","multiline","SocialLogin","_props$wallet$getConf","_props$state","ewLocale","socialLoginScreen","themeObj","useCustomTheme","authError","setAuthError","socialLogin","state","socialLoginStarted","connectionPromise","className","paddingBottom","manageWallet","minHeight","textAlign","maxWidth","instruction","failed","_walletConfig$auth$mo","_walletConfig$auth","walletConfig","authMode","auth","mode","_walletConfig$auth2","_walletConfig$auth3","loginWithOauthRedirect","authOption","socialAuth","redirectUrl","socialWindow","openOauthSignInWindow","closeOpenedWindow","openedWindow","close","_e$message","includes","maxAccountsExceeded","retry","GuestLogin","guestLogin","connectOptions","AccentFailIcon","FadeIn","StyledDiv","animation","fadeInAnimation","Gt","xt","join","jt","n","Lt","A","B","X","lt","ut","dt","ft","z","value","r","onChange","s","maxLength","u","pattern","P","placeholder","D","inputMode","G","onComplete","H","pushPasswordManagerStrategy","F","pasteTransformer","W","containerClassName","Z","noScriptCSSFallback","T","Nt","render","f","h","a","Pt","q","nt","defaultValue","i","I","U","_t","x","t","m","RegExp","l","K","J","isIOS","window","CSS","supports","call","V","prev","selectionStart","selectionEnd","selectionDirection","o","d","document","activeElement","L","N","w","c","b","mt","v","C","_","g","E","length","Dt","Ht","et","Wt","setSelectionRange","pt","Rt","yt","addEventListener","capture","Q","getElementById","createElement","head","appendChild","sheet","$","R","updateRootHeight","setProperty","clientHeight","ResizeObserver","observe","removeEventListener","disconnect","ot","rt","j","M","k","setTimeout","ht","dispatchEvent","Event","O","_ref","containerRef","inputRef","isFocused","S","getBoundingClientRect","offsetWidth","offsetHeight","querySelectorAll","elementFromPoint","innerWidth","right","setInterval","clearInterval","clearTimeout","hasPWMBadge","willPushPWMBadge","PWM_BADGE_SPACE_WIDTH","Tt","st","currentTarget","slice","test","preventDefault","at","Math","min","ct","clipboardData","getData","It","cursor","disabled","userSelect","WebkitUserSelect","pointerEvents","it","inset","width","clipPath","height","display","opacity","background","caretColor","border","outline","boxShadow","lineHeight","letterSpacing","fontSize","fontFamily","fontVariantNumeric","Mt","bt","St","autoComplete","source","ref","onPaste","onMouseOver","onMouseLeave","onFocus","onBlur","tt","slots","Array","from","map","char","placeholderChar","isActive","hasFakeCaret","isHovering","Ct","Provider","insertRule","displayName","_templateObject","OTPInput","OTPInputContainer","InputOTP","newValue","setValue","onEnter","gap","slot","idx","Slot","_objectSpread","isInvalid","OTPInputBox","FakeCaret","caretBlink","keyframes","_taggedTemplateLiteral","backgroundColor","colors","primaryText","content","alignItems","justifyContent","theme","borderColor","accentText","danger","borderRadius","radius","lg","boxSizing","md","padding","spacing","xs","transition","OTPLoginUI","userInfo","isWideModal","otpInput","setOtpInput","verifyStatus","setVerifyStatus","accountStatus","setAccountStatus","countdown","setCountdown","sendEmailOrSms","useCallback","preAuthenticate","email","phoneNumber","phone","verify","otp","verificationCode","link","toLowerCase","emailSentOnMount","timer","signIn","onSubmit","emailLoginScreen","enterCodeSendTo","digits","invalidCode","Line","failedToSendCode","sendingCode","LinkButton","resendCode","StyledButton","all","sm","fontWeight"],"sourceRoot":""}