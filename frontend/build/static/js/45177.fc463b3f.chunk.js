"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[45177,86511],{45177:(e,a,t)=>{t.d(a,{relayOpenZeppelinTransaction:()=>d});var n=t(38736),r=t(97779),s=t(77717),o=t(86511);const i=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"}],c=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"},{name:"chainid",type:"uint256"}];async function d(e){const{message:a,messageType:t,signature:d}=await async function(e){let{account:a,serializableTransaction:t,transaction:r,gasless:s}=e;const d=(0,n.P)({address:s.relayerForwarderAddress,chain:r.chain,client:r.client}),l=await(0,o.readContract)({contract:d,method:"function getNonce(address) view returns (uint256)",params:[a.address]}),[u,m]=await(async(e,n)=>{if(!t.to)throw new Error("OpenZeppelin transactions must have a 'to' address");if(!t.gas)throw new Error("OpenZeppelin transactions must have a 'gas' value");if(!t.data)throw new Error("OpenZeppelin transactions must have a 'data' value");if(s.experimentalChainlessSupport){const e={chainid:BigInt(r.chain.id),data:t.data,from:a.address,gas:t.gas,nonce:l,to:t.to,value:0n};return[await a.signTypedData({domain:{name:"GSNv2 Forwarder",verifyingContract:d.address,version:"0.0.1"},message:e,primaryType:"ForwardRequest",types:{ForwardRequest:c}}),e]}const o={data:t.data,from:a.address,gas:t.gas,nonce:l,to:t.to,value:0n};return[await a.signTypedData({domain:{chainId:r.chain.id,name:null!==(e=s.domainName)&&void 0!==e?e:"GSNv2 Forwarder",verifyingContract:d.address,version:null!==(n=s.domainVersion)&&void 0!==n?n:"0.0.1"},message:o,primaryType:"ForwardRequest",types:{ForwardRequest:i}}),o]})();return{message:m,messageType:"forward",signature:u}}(e),l=await fetch(e.gasless.relayerUrl,{body:(0,s.A)({forwarderAddress:e.gasless.relayerForwarderAddress,request:a,signature:d,type:t}),method:"POST"});if(!l.ok)throw new Error("Failed to send transaction: ".concat(await l.text()));const u=await l.json();if(!u.result)throw new Error("Relay transaction failed: ".concat(u.message));const m=JSON.parse(u.result).txHash;if((0,r.q)(m))return{chain:e.transaction.chain,client:e.transaction.client,transactionHash:m};throw new Error("Failed to send transaction: ".concat((0,s.A)(u)))}},86511:(e,a,t)=>{t.d(a,{readContract:()=>p});var n=t(55907),r=t(60005),s=t(53986),o=t(3340);const i=["blockNumber","blockTag"];var c=t(72364),d=t(71760),l=t(64819),u=t(83423),m=t(9363);async function p(e){const{contract:a,method:t,params:p}=e,[f,y]=await Promise.all([(async()=>{var e;if(Array.isArray(t))return t;if((0,m.d)(t))return(0,l.v)(t);if("function"===typeof t)return(0,l.v)(await t(a));if("string"===typeof t&&t.startsWith("function ")){const e=(0,n.$)(t);if("function"===e.type)return(0,l.v)(e);throw new Error('"method" passed is not of type "function"')}if(a.abi&&(null===(e=a.abi)||void 0===e?void 0:e.length)>0){var r;const e=null===(r=a.abi)||void 0===r?void 0:r.find(e=>"function"===e.type&&e.name===t);if(e)return(0,l.v)(e)}throw new Error('Could not resolve method "'.concat(t,'".'))})(),"function"===typeof p?p():p]);let h;h=0===f[1].length?f[0]:f[0]+(0,d.hd)(f[1],y).slice(2);const w=(0,c.getRpcClient)({chain:a.chain,client:a.client}),v=await async function(e,a){const{blockNumber:t,blockTag:n}=a,r=(0,s.A)(a,i),c=(t?(0,o.cK)(t):void 0)||n||"latest";return await e({method:"eth_call",params:a.stateOverrides?[r,c,(d=a.stateOverrides,Object.fromEntries(Object.entries(d).map(e=>{let[a,t]=e;return[a,{balance:t.balance?(0,o.cK)(t.balance):void 0,code:t.code,nonce:t.nonce?(0,o.cK)(t.nonce):void 0,state:t.state,stateDiff:t.stateDiff}]})))]:[r,c]});var d}(w,{data:h,from:e.from?(0,u.bv)(e.from):void 0,to:a.address}),g=(0,r.n)(f[2],v);return Array.isArray(g)&&1===g.length?g[0]:g}}}]);
//# sourceMappingURL=45177.fc463b3f.chunk.js.map